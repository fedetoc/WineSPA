(self.webpackChunktp_final=self.webpackChunktp_final||[]).push([[179],{8255:et=>{function Ne(V){return Promise.resolve().then(()=>{var f=new Error("Cannot find module '"+V+"'");throw f.code="MODULE_NOT_FOUND",f})}Ne.keys=()=>[],Ne.resolve=Ne,Ne.id=8255,et.exports=Ne},7716:(et,Ne,V)=>{"use strict";V.d(Ne,{deG:()=>y0,tb:()=>Cp,AFp:()=>tw,ip1:()=>D_,CZH:()=>Ea,hGG:()=>XS,z2F:()=>Mp,sBO:()=>Lx,Sil:()=>lc,_Vd:()=>Wu,EJc:()=>rw,SBq:()=>lo,qLn:()=>T,vpe:()=>Po,gxx:()=>Pu,tBr:()=>bu,XFs:()=>it,OlP:()=>On,zs3:()=>qt,ZZ4:()=>n_,aQg:()=>wl,soG:()=>Ip,YKP:()=>ST,v3s:()=>yw,h0i:()=>Ku,PXZ:()=>uN,R0b:()=>Zi,FiY:()=>Co,Lbi:()=>qd,g9A:()=>nw,n_E:()=>tc,Qsj:()=>Ax,FYo:()=>op,JOm:()=>as,Tiy:()=>nE,q3G:()=>Sn,tp0:()=>oa,EAV:()=>pN,Rgc:()=>Ld,dDg:()=>Dp,DyG:()=>gu,q4F:()=>rE,GfV:()=>yT,s_b:()=>i_,ifc:()=>je,eFA:()=>fw,G48:()=>sN,Gpc:()=>Y,f3M:()=>I0,X6Q:()=>dw,_c5:()=>B_,VLi:()=>Ap,c2e:()=>A_,zSh:()=>Rf,wAp:()=>wt,vHH:()=>Ae,EiD:()=>Vg,mCW:()=>la,qzn:()=>Ds,JVY:()=>Jh,pB0:()=>ov,eBb:()=>jr,L6k:()=>Ui,LAX:()=>sv,cg1:()=>Kf,Tjo:()=>ZS,kL8:()=>Ob,yhl:()=>Og,dqk:()=>Jt,sIi:()=>md,CqO:()=>fb,QGY:()=>fI,F4k:()=>MM,RDi:()=>ja,AaK:()=>re,z3N:()=>Br,qOj:()=>Sm,TTD:()=>Cs,_Bn:()=>pT,xp6:()=>im,uIk:()=>jC,Tol:()=>AI,ekj:()=>Eb,Suo:()=>LE,Xpm:()=>Lt,lG2:()=>Na,Yz7:()=>Dt,cJS:()=>dn,oAB:()=>ms,Yjl:()=>jo,Y36:()=>Om,_UZ:()=>lI,GkF:()=>hI,BQk:()=>dI,ynx:()=>cI,qZA:()=>Pm,TgZ:()=>Gf,EpF:()=>AM,n5z:()=>Fy,Ikx:()=>$m,LFG:()=>kn,$8M:()=>du,NdJ:()=>Fm,CRH:()=>iS,kcU:()=>Bc,O4$:()=>h0,oxw:()=>gI,ALo:()=>cs,gM2:()=>RE,Hsn:()=>mb,F$t:()=>zf,Q6J:()=>db,VKq:()=>QT,iGM:()=>rS,MAs:()=>qC,CHM:()=>xh,LSH:()=>sl,kYT:()=>Gl,Akn:()=>ks,Udp:()=>bb,WFA:()=>pb,d8E:()=>Rb,YNc:()=>Hf,W1O:()=>y_,_uU:()=>Ib,Oqu:()=>Tb,hij:()=>Bm,AsE:()=>Sb,Gf:()=>FE});var f=V(9765),de=V(5319),$=V(7574),ie=V(6682),me=V(8819);function X(a){for(let l in a)if(a[l]===X)return l;throw Error("Could not find renamed property on target object.")}function he(a,l){for(const c in l)l.hasOwnProperty(c)&&!a.hasOwnProperty(c)&&(a[c]=l[c])}function re(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(re).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const c=l.indexOf("\n");return-1===c?l:l.substring(0,c)}function K(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const B=X({__forward_ref__:X});function Y(a){return a.__forward_ref__=Y,a.toString=function(){return re(this())},a}function L(a){return Q(a)?a():a}function Q(a){return"function"==typeof a&&a.hasOwnProperty(B)&&a.__forward_ref__===Y}class Ae extends Error{constructor(l,c){super(function(a,l){return`${a?`NG0${a}: `:""}${l}`}(l,c)),this.code=l}}function ne(a){return"string"==typeof a?a:null==a?"":String(a)}function be(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():ne(a)}function xt(a,l){const c=l?` in ${l}`:"";throw new Ae("201",`No provider for ${be(a)} found${c}`)}function _t(a,l){null==a&&function(a,l,c,d){throw new Error(`ASSERTION ERROR: ${a}`+(null==d?"":` [Expected=> ${c} ${d} ${l} <=Actual]`))}(l,a,null,"!=")}function Dt(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function dn(a){return{providers:a.providers||[],imports:a.imports||[]}}function jn(a){return Wn(a,Nr)||Wn(a,Pi)}function Wn(a,l){return a.hasOwnProperty(l)?a[l]:null}function Xr(a){return a&&(a.hasOwnProperty(ki)||a.hasOwnProperty(es))?a[ki]:null}const Nr=X({\u0275prov:X}),ki=X({\u0275inj:X}),Pi=X({ngInjectableDef:X}),es=X({ngInjectorDef:X});var it=(()=>((it=it||{})[it.Default=0]="Default",it[it.Host=1]="Host",it[it.Self=2]="Self",it[it.SkipSelf=4]="SkipSelf",it[it.Optional=8]="Optional",it))();let Rn;function Dn(a){const l=Rn;return Rn=a,l}function Rt(a,l,c){const d=jn(a);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&it.Optional?null:void 0!==l?l:void xt(re(a),"Injector")}function $t(a){return{toString:a}.toString()}var jt=(()=>((jt=jt||{})[jt.OnPush=0]="OnPush",jt[jt.Default=1]="Default",jt))(),je=(()=>((je=je||{})[je.Emulated=0]="Emulated",je[je.None=2]="None",je[je.ShadowDom=3]="ShadowDom",je))();const pt="undefined"!=typeof globalThis&&globalThis,Ra="undefined"!=typeof window&&window,Gs="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ei="undefined"!=typeof global&&global,Jt=pt||ei||Ra||Gs,Xt={},q=[],G=X({\u0275cmp:X}),le=X({\u0275dir:X}),ye=X({\u0275pipe:X}),ue=X({\u0275mod:X}),Ue=X({\u0275loc:X}),tt=X({\u0275fac:X}),Gt=X({__NG_ELEMENT_ID__:X});let Zt=0;function Lt(a){return $t(()=>{const c={},d={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===jt.OnPush,directiveDefs:null,pipeDefs:null,selectors:a.selectors||q,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||je.Emulated,id:"c",styles:a.styles||q,_:null,setInput:null,schemas:a.schemas||null,tView:null},g=a.directives,_=a.features,b=a.pipes;return d.id+=Zt++,d.inputs=_s(a.inputs,c),d.outputs=_s(a.outputs),_&&_.forEach(w=>w(d)),d.directiveDefs=g?()=>("function"==typeof g?g():g).map(fr):null,d.pipeDefs=b?()=>("function"==typeof b?b():b).map(Zn):null,d})}function fr(a){return In(a)||function(a){return a[le]||null}(a)}function Zn(a){return function(a){return a[ye]||null}(a)}const ts={};function ms(a){return $t(()=>{const l={type:a.type,bootstrap:a.bootstrap||q,declarations:a.declarations||q,imports:a.imports||q,exports:a.exports||q,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(ts[a.id]=a.type),l})}function Gl(a,l){return $t(()=>{const c=vi(a,!0);c.declarations=l.declarations||q,c.imports=l.imports||q,c.exports=l.exports||q})}function _s(a,l){if(null==a)return Xt;const c={};for(const d in a)if(a.hasOwnProperty(d)){let g=a[d],_=g;Array.isArray(g)&&(_=g[1],g=g[0]),c[g]=d,l&&(l[g]=_)}return c}const Na=Lt;function jo(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,onDestroy:a.type.prototype.ngOnDestroy||null}}function In(a){return a[G]||null}function vi(a,l){const c=a[ue]||null;if(!c&&!0===l)throw new Error(`Type ${re(a)} does not have '\u0275mod' property.`);return c}function wi(a){return Array.isArray(a)&&"object"==typeof a[1]}function ri(a){return Array.isArray(a)&&!0===a[1]}function qs(a){return 0!=(8&a.flags)}function vs(a){return 2==(2&a.flags)}function pr(a){return 1==(1&a.flags)}function Pr(a){return null!==a.template}function Fr(a){return 0!=(512&a[2])}function rs(a,l){return a.hasOwnProperty(tt)?a[tt]:null}class bo{constructor(l,c,d){this.previousValue=l,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function Cs(){return Zo}function Zo(a){return a.type.prototype.ngOnChanges&&(a.setInput=Oc),Fa}function Fa(){const a=Ir(this),l=null==a?void 0:a.current;if(l){const c=a.previous;if(c===Xt)a.previous=l;else for(let d in l)c[d]=l[d];a.current=null,this.ngOnChanges(l)}}function Oc(a,l,c,d){const g=Ir(a)||function(a,l){return a[Eo]=l}(a,{previous:Xt,current:null}),_=g.current||(g.current={}),b=g.previous,w=this.declaredInputs[c],S=b[w];_[w]=new bo(S&&S.currentValue,l,b===Xt),a[d]=l}Cs.ngInherit=!0;const Eo="__ngSimpleChanges__";function Ir(a){return a[Eo]||null}const Ua="http://www.w3.org/2000/svg";let Ba;function ja(a){Ba=a}function fn(a){return!!a.listen}const W={createRenderer:(a,l)=>void 0!==Ba?Ba:"undefined"!=typeof document?document:void 0};function Ce(a){for(;Array.isArray(a);)a=a[0];return a}function at(a,l){return Ce(l[a])}function lt(a,l){return Ce(l[a.index])}function er(a,l){return a.data[l]}function Sr(a,l){return a[l]}function tr(a,l){const c=l[a];return wi(c)?c:c[0]}function wo(a){return 4==(4&a[2])}function is(a){return 128==(128&a[2])}function Is(a,l){return null==l?null:a[l]}function Pc(a){a[18]=0}function Ga(a,l){a[5]+=l;let c=a,d=a[3];for(;null!==d&&(1===l&&1===c[5]||-1===l&&0===c[5]);)d[5]+=l,c=d,d=d[3]}const Mt={lFrame:Ay(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Mh(){return Mt.bindingsEnabled}function ke(){return Mt.lFrame.lView}function Ht(){return Mt.lFrame.tView}function xh(a){return Mt.lFrame.contextLView=a,a[8]}function mn(){let a=Rh();for(;null!==a&&64===a.type;)a=a.parent;return a}function Rh(){return Mt.lFrame.currentTNode}function ii(a,l){const c=Mt.lFrame;c.currentTNode=a,c.isParent=l}function Fc(){return Mt.lFrame.isParent}function Lc(){Mt.lFrame.isParent=!1}function za(){return Mt.isInCheckNoChangesMode}function Vc(a){Mt.isInCheckNoChangesMode=a}function $n(){const a=Mt.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function ss(){return Mt.lFrame.bindingIndex}function Ks(){return Mt.lFrame.bindingIndex++}function Ci(a){const l=Mt.lFrame,c=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,c}function og(a,l){const c=Mt.lFrame;c.bindingIndex=c.bindingRootIndex=a,kh(l)}function kh(a){Mt.lFrame.currentDirectiveIndex=a}function Ph(a){const l=Mt.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}function Fh(){return Mt.lFrame.currentQueryIndex}function Qo(a){Mt.lFrame.currentQueryIndex=a}function ag(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function Jo(a,l,c){if(c&it.SkipSelf){let g=l,_=a;for(;!(g=g.parent,null!==g||c&it.Host||(g=ag(_),null===g||(_=_[15],10&g.type))););if(null===g)return!1;l=g,a=_}const d=Mt.lFrame=lg();return d.currentTNode=l,d.lView=a,!0}function eu(a){const l=lg(),c=a[1];Mt.lFrame=l,l.currentTNode=c.firstChild,l.lView=a,l.tView=c,l.contextLView=a,l.bindingIndex=c.bindingStartIndex,l.inI18n=!1}function lg(){const a=Mt.lFrame,l=null===a?null:a.child;return null===l?Ay(a):l}function Ay(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function ug(){const a=Mt.lFrame;return Mt.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const My=ug;function tu(){const a=ug();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function Lr(){return Mt.lFrame.selectedIndex}function qa(a){Mt.lFrame.selectedIndex=a}function Gn(){const a=Mt.lFrame;return er(a.tView,a.selectedIndex)}function h0(){Mt.lFrame.currentNamespace=Ua}function Bc(){Mt.lFrame.currentNamespace=null}function jc(a,l){for(let c=l.directiveStart,d=l.directiveEnd;c<d;c++){const _=a.data[c].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:w,ngAfterViewInit:S,ngAfterViewChecked:M,ngOnDestroy:R}=_;b&&(a.contentHooks||(a.contentHooks=[])).push(-c,b),w&&((a.contentHooks||(a.contentHooks=[])).push(c,w),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(c,w)),S&&(a.viewHooks||(a.viewHooks=[])).push(-c,S),M&&((a.viewHooks||(a.viewHooks=[])).push(c,M),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(c,M)),null!=R&&(a.destroyHooks||(a.destroyHooks=[])).push(c,R)}}function Za(a,l,c){$c(a,l,3,c)}function Hc(a,l,c,d){(3&a[2])===c&&$c(a,l,c,d)}function nu(a,l){let c=a[2];(3&c)===l&&(c&=2047,c+=1,a[2]=c)}function $c(a,l,c,d){const _=null!=d?d:-1,b=l.length-1;let w=0;for(let S=void 0!==d?65535&a[18]:0;S<b;S++)if("number"==typeof l[S+1]){if(w=l[S],null!=d&&w>=d)break}else l[S]<0&&(a[18]+=65536),(w<_||-1==_)&&(xy(a,c,l,S),a[18]=(4294901760&a[18])+S+2),S++}function xy(a,l,c,d){const g=c[d]<0,_=c[d+1],w=a[g?-c[d]:c[d]];if(g){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{_.call(w)}finally{}}}else try{_.call(w)}finally{}}class ru{constructor(l,c,d){this.factory=l,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function Gc(a,l,c){const d=fn(a);let g=0;for(;g<c.length;){const _=c[g];if("number"==typeof _){if(0!==_)break;g++;const b=c[g++],w=c[g++],S=c[g++];d?a.setAttribute(l,w,S,b):l.setAttributeNS(b,w,S)}else{const b=_,w=c[++g];Ts(b)?d&&a.setProperty(l,b,w):d?a.setAttribute(l,b,w):l.setAttribute(b,w),g++}}return g}function ta(a){return 3===a||4===a||6===a}function Ts(a){return 64===a.charCodeAt(0)}function An(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let c=-1;for(let d=0;d<l.length;d++){const g=l[d];"number"==typeof g?c=g:0===c||dg(a,c,g,null,-1===c||2===c?l[++d]:null)}}return a}function dg(a,l,c,d,g){let _=0,b=a.length;if(-1===l)b=-1;else for(;_<a.length;){const w=a[_++];if("number"==typeof w){if(w===l){b=-1;break}if(w>l){b=_-1;break}}}for(;_<a.length;){const w=a[_];if("number"==typeof w)break;if(w===c){if(null===d)return void(null!==g&&(a[_+1]=g));if(d===a[_+1])return void(a[_+2]=g)}_++,null!==d&&_++,null!==g&&_++}-1!==b&&(a.splice(b,0,l),_=b+1),a.splice(_++,0,c),null!==d&&a.splice(_++,0,d),null!==g&&a.splice(_++,0,g)}function Ya(a){return-1!==a}function na(a){return 32767&a}function su(a,l){let c=function(a){return a>>16}(a),d=l;for(;c>0;)d=d[15],c--;return d}let fg=!0;function ou(a){const l=fg;return fg=a,l}let zc=0;function lu(a,l){const c=en(a,l);if(-1!==c)return c;const d=l[1];d.firstCreatePass&&(a.injectorIndex=l.length,qc(d.data,a),qc(l,null),qc(d.blueprint,null));const g=ra(a,l),_=a.injectorIndex;if(Ya(g)){const b=na(g),w=su(g,l),S=w[1].data;for(let M=0;M<8;M++)l[_+M]=w[b+M]|S[b+M]}return l[_+8]=g,_}function qc(a,l){a.push(0,0,0,0,0,0,0,0,l)}function en(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function ra(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let c=0,d=null,g=l;for(;null!==g;){const _=g[1],b=_.type;if(d=2===b?_.declTNode:1===b?g[6]:null,null===d)return-1;if(c++,g=g[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function Vr(a,l,c){!function(a,l,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(Gt)&&(d=c[Gt]),null==d&&(d=c[Gt]=zc++);const g=255&d;l.data[a+(g>>5)]|=1<<g}(a,l,c)}function gg(a,l,c){if(c&it.Optional)return a;xt(l,"NodeInjector")}function Ny(a,l,c,d){if(c&it.Optional&&void 0===d&&(d=null),0==(c&(it.Self|it.Host))){const g=a[9],_=Dn(void 0);try{return g?g.get(l,d,c&it.Optional):Rt(l,d,c&it.Optional)}finally{Dn(_)}}return gg(d,l,c)}function Oy(a,l,c,d=it.Default,g){if(null!==a){const _=function(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(Gt)?a[Gt]:void 0;return"number"==typeof l?l>=0?255&l:uu:l}(c);if("function"==typeof _){if(!Jo(l,a,d))return d&it.Host?gg(g,c,d):Ny(l,c,d,g);try{const b=_(d);if(null!=b||d&it.Optional)return b;xt(c)}finally{My()}}else if("number"==typeof _){let b=null,w=en(a,l),S=-1,M=d&it.Host?l[16][6]:null;for((-1===w||d&it.SkipSelf)&&(S=-1===w?ra(a,l):l[w+8],-1!==S&&Uh(d,!1)?(b=l[1],w=na(S),l=su(S,l)):w=-1);-1!==w;){const R=l[1];if(Py(_,w,R.data)){const k=ky(w,l,c,b,d,M);if(k!==p0)return k}S=l[w+8],-1!==S&&Uh(d,l[1].data[w+8]===M)&&Py(_,w,l)?(b=R,w=na(S),l=su(S,l)):w=-1}}}return Ny(l,c,d,g)}const p0={};function uu(){return new ia(mn(),ke())}function ky(a,l,c,d,g,_){const b=l[1],w=b.data[a+8],R=Wc(w,b,c,null==d?vs(w)&&fg:d!=b&&0!=(3&w.type),g&it.Host&&_===w);return null!==R?cu(l,b,R,w):p0}function Wc(a,l,c,d,g){const _=a.providerIndexes,b=l.data,w=1048575&_,S=a.directiveStart,R=_>>20,F=g?w+R:a.directiveEnd;for(let z=d?w:w+R;z<F;z++){const J=b[z];if(z<S&&c===J||z>=S&&J.type===c)return z}if(g){const z=b[S];if(z&&Pr(z)&&z.type===c)return S}return null}function cu(a,l,c,d){let g=a[c];const _=l.data;if(function(a){return a instanceof ru}(g)){const b=g;b.resolving&&function(a,l){throw new Ae("200",`Circular dependency in DI detected for ${a}`)}(be(_[c]));const w=ou(b.canSeeViewProviders);b.resolving=!0;const S=b.injectImpl?Dn(b.injectImpl):null;Jo(a,d,it.Default);try{g=a[c]=b.factory(void 0,_,a,d),l.firstCreatePass&&c>=d.directiveStart&&function(a,l,c){const{ngOnChanges:d,ngOnInit:g,ngDoCheck:_}=l.type.prototype;if(d){const b=Zo(l);(c.preOrderHooks||(c.preOrderHooks=[])).push(a,b),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,b)}g&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-a,g),_&&((c.preOrderHooks||(c.preOrderHooks=[])).push(a,_),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,_))}(c,_[c],l)}finally{null!==S&&Dn(S),ou(w),b.resolving=!1,My()}}return g}function Py(a,l,c){return!!(c[l+(a>>5)]&1<<a)}function Uh(a,l){return!(a&it.Self||a&it.Host&&l)}class ia{constructor(l,c){this._tNode=l,this._lView=c}get(l,c){return Oy(this._tNode,this._lView,l,void 0,c)}}function Fy(a){return $t(()=>{const l=a.prototype.constructor,c=l[tt]||_g(l),d=Object.prototype;let g=Object.getPrototypeOf(a.prototype).constructor;for(;g&&g!==d;){const _=g[tt]||_g(g);if(_&&_!==c)return _;g=Object.getPrototypeOf(g)}return _=>new _})}function _g(a){return Q(a)?()=>{const l=_g(L(a));return l&&l()}:rs(a)}function du(a){return function(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const c=a.attrs;if(c){const d=c.length;let g=0;for(;g<d;){const _=c[g];if(ta(_))break;if(0===_)g+=2;else if("number"==typeof _)for(g++;g<d&&"string"==typeof c[g];)g++;else{if(_===l)return c[g+1];g+=2}}}return null}(mn(),a)}const fu="__parameters__";function Ja(a,l,c){return $t(()=>{const d=function(a){return function(...c){if(a){const d=a(...c);for(const g in d)this[g]=d[g]}}}(l);function g(..._){if(this instanceof g)return d.apply(this,_),this;const b=new g(..._);return w.annotation=b,w;function w(S,M,R){const k=S.hasOwnProperty(fu)?S[fu]:Object.defineProperty(S,fu,{value:[]})[fu];for(;k.length<=R;)k.push(null);return(k[R]=k[R]||[]).push(b),S}}return c&&(g.prototype=Object.create(c.prototype)),g.prototype.ngMetadataName=a,g.annotationCls=g,g})}class On{constructor(l,c){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=Dt({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}toString(){return`InjectionToken ${this._desc}`}}const y0=new On("AnalyzeForEntryComponents"),gu=Function;function Ii(a,l){void 0===l&&(l=a);for(let c=0;c<a.length;c++){let d=a[c];Array.isArray(d)?(l===a&&(l=a.slice(0,c)),Ii(d,l)):l!==a&&l.push(d)}return l}function Ss(a,l){a.forEach(c=>Array.isArray(c)?Ss(c,l):l(c))}function $h(a,l,c){l>=a.length?a.push(c):a.splice(l,0,c)}function el(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function Ys(a,l){const c=[];for(let d=0;d<a;d++)c.push(l);return c}function si(a,l,c){let d=mu(a,l);return d>=0?a[1|d]=c:(d=~d,function(a,l,c,d){let g=a.length;if(g==l)a.push(c,d);else if(1===g)a.push(d,a[0]),a[0]=c;else{for(g--,a.push(a[g-1],a[g]);g>l;)a[g]=a[g-2],g--;a[l]=c,a[l+1]=d}}(a,d,l,c)),d}function Eg(a,l){const c=mu(a,l);if(c>=0)return a[1|c]}function mu(a,l){return function(a,l,c){let d=0,g=a.length>>c;for(;g!==d;){const _=d+(g-d>>1),b=a[_<<c];if(l===b)return _<<c;b>l?g=_:d=_+1}return~(g<<c)}(a,l,1)}const tl={},Tg="__NG_DI_FLAG__",_u="ngTempTokenPath",C0=/\n/gm,yu="__source",qh=X({provide:String,useValue:X});let nl;function vu(a){const l=nl;return nl=a,l}function Wy(a,l=it.Default){if(void 0===nl)throw new Error("inject() must be called from an injection context");return null===nl?Rt(a,void 0,l):nl.get(a,l&it.Optional?null:void 0,l)}function kn(a,l=it.Default){return(Rn||Wy)(L(a),l)}const I0=kn;function sa(a){const l=[];for(let c=0;c<a.length;c++){const d=L(a[c]);if(Array.isArray(d)){if(0===d.length)throw new Error("Arguments array must have arguments.");let g,_=it.Default;for(let b=0;b<d.length;b++){const w=d[b],S=T0(w);"number"==typeof S?-1===S?g=w.token:_|=S:g=w}l.push(kn(g,_))}else l.push(kn(d))}return l}function rl(a,l){return a[Tg]=l,a.prototype[Tg]=l,a}function T0(a){return a[Tg]}function Zy(a,l,c,d){const g=a[_u];throw l[yu]&&g.unshift(l[yu]),a.message=function(a,l,c,d=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.substr(2):a;let g=re(l);if(Array.isArray(l))g=l.map(re).join(" -> ");else if("object"==typeof l){let _=[];for(let b in l)if(l.hasOwnProperty(b)){let w=l[b];_.push(b+":"+("string"==typeof w?JSON.stringify(w):re(w)))}g=`{${_.join(", ")}}`}return`${c}${d?"("+d+")":""}[${g}]: ${a.replace(C0,"\n  ")}`}("\n"+a.message,g,c,d),a.ngTokenPath=g,a[_u]=null,a}const bu=rl(Ja("Inject",a=>({token:a})),-1),Co=rl(Ja("Optional"),8),oa=rl(Ja("SkipSelf"),4);let Kh;function wu(a){var l;return(null===(l=function(){if(void 0===Kh&&(Kh=null,Jt.trustedTypes))try{Kh=Jt.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return Kh}())||void 0===l?void 0:l.createHTML(a))||a}class Ur{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class aa extends Ur{getTypeName(){return"HTML"}}class nv extends Ur{getTypeName(){return"Style"}}class rv extends Ur{getTypeName(){return"Script"}}class iv extends Ur{getTypeName(){return"URL"}}class N0 extends Ur{getTypeName(){return"ResourceURL"}}function Br(a){return a instanceof Ur?a.changingThisBreaksApplicationSecurity:a}function Ds(a,l){const c=Og(a);if(null!=c&&c!==l){if("ResourceURL"===c&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===l}function Og(a){return a instanceof Ur&&a.getTypeName()||null}function Jh(a){return new aa(a)}function Ui(a){return new nv(a)}function jr(a){return new rv(a)}function sv(a){return new iv(a)}function ov(a){return new N0(a)}class Ti{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const c=(new window.DOMParser).parseFromString(wu(l),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(l):(c.removeChild(c.firstChild),c)}catch(c){return null}}}class av{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(l){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=wu(l),c;const d=this.inertDocument.createElement("body");return d.innerHTML=wu(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(l){const c=l.attributes;for(let g=c.length-1;0<g;g--){const b=c.item(g).name;("xmlns:ns1"===b||0===b.indexOf("ns1:"))&&l.removeAttribute(b)}let d=l.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const O0=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,k0=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function la(a){return(a=String(a)).match(O0)||a.match(k0)?a:"unsafe:"+a}function Hr(a){const l={};for(const c of a.split(","))l[c]=!0;return l}function Bi(...a){const l={};for(const c of a)for(const d in c)c.hasOwnProperty(d)&&(l[d]=!0);return l}const Xh=Hr("area,br,col,hr,img,wbr"),lv=Hr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Io=Hr("rp,rt"),ji=Bi(Xh,Bi(lv,Hr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Bi(Io,Hr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Bi(Io,lv)),tf=Hr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ua=Hr("srcset"),nf=Bi(tf,ua,Hr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Hr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),cv=Hr("script,style,template");class Iu{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let c=l.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let g=this.checkClobberedElement(c,c.nextSibling);if(g){c=g;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(l){const c=l.nodeName.toLowerCase();if(!ji.hasOwnProperty(c))return this.sanitizedSomething=!0,!cv.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=l.attributes;for(let g=0;g<d.length;g++){const _=d.item(g),b=_.name,w=b.toLowerCase();if(!nf.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let S=_.value;tf[w]&&(S=la(S)),ua[w]&&(a=S,S=(a=String(a)).split(",").map(l=>la(l.trim())).join(", ")),this.buf.push(" ",b,'="',rf(S),'"')}var a;return this.buf.push(">"),!0}endElement(l){const c=l.nodeName.toLowerCase();ji.hasOwnProperty(c)&&!Xh.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(l){this.buf.push(rf(l))}checkClobberedElement(l,c){if(c&&(l.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return c}}const zn=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ca=/([^\#-~ |!])/g;function rf(a){return a.replace(/&/g,"&amp;").replace(zn,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(ca,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Tu;function Vg(a,l){let c=null;try{Tu=Tu||function(a){const l=new av(a);return function(){try{return!!(new window.DOMParser).parseFromString(wu(""),"text/html")}catch(a){return!1}}()?new Ti(l):l}(a);let d=l?String(l):"";c=Tu.getInertBodyElement(d);let g=5,_=d;do{if(0===g)throw new Error("Failed to sanitize html because the input is unstable");g--,d=_,_=c.innerHTML,c=Tu.getInertBodyElement(d)}while(d!==_);return wu((new Iu).sanitizeChildren(sf(c)||c))}finally{if(c){const d=sf(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function sf(a){return"content"in a&&function(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var Sn=(()=>((Sn=Sn||{})[Sn.NONE=0]="NONE",Sn[Sn.HTML=1]="HTML",Sn[Sn.STYLE=2]="STYLE",Sn[Sn.SCRIPT=3]="SCRIPT",Sn[Sn.URL=4]="URL",Sn[Sn.RESOURCE_URL=5]="RESOURCE_URL",Sn))();function sl(a){const l=function(){const a=ke();return a&&a[12]}();return l?l.sanitize(Sn.URL,a)||"":Ds(a,"URL")?Br(a):la(ne(a))}const To="__ngContext__";function Dr(a,l){a[To]=l}function Bg(a){const l=function(a){return a[To]||null}(a);return l?Array.isArray(l)?l:l.lView:null}function C(a){return a.ngOriginalError}function E(a,...l){a.error(...l)}class T{constructor(){this._console=console}handleError(l){const c=this._findOriginalError(l),d=this._findContext(l),g=(a=l)&&a.ngErrorLogger||E;var a;g(this._console,"ERROR",l),c&&g(this._console,"ORIGINAL ERROR",c),d&&g(this._console,"ERROR CONTEXT",d)}_findContext(l){return l?l.ngDebugContext||this._findContext(C(l)):null}_findOriginalError(l){let c=l&&C(l);for(;c&&C(c);)c=C(c);return c||null}}const Au=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Jt))();function Gi(a){return a instanceof Function?a():a}var as=(()=>((as=as||{})[as.Important=1]="Important",as[as.DashCase=2]="DashCase",as))();function Wg(a,l){return undefined(a,l)}function _f(a){const l=a[3];return ri(l)?l[3]:l}function id(a){return yf(a[13])}function Zg(a){return yf(a[4])}function yf(a){for(;null!==a&&!ri(a);)a=a[4];return a}function ul(a,l,c,d,g){if(null!=d){let _,b=!1;ri(d)?_=d:wi(d)&&(b=!0,d=d[0]);const w=Ce(d);0===a&&null!==c?null==g?xu(l,c,w):cl(l,c,w,g||null,!0):1===a&&null!==c?cl(l,c,w,g||null,!0):2===a?function(a,l,c){const d=vf(a,l);d&&function(a,l,c,d){fn(a)?a.removeChild(l,c,d):l.removeChild(c)}(a,d,l,c)}(l,w,b):3===a&&l.destroyNode(w),null!=_&&function(a,l,c,d,g){const _=c[7];_!==Ce(c)&&ul(l,a,d,_,g);for(let w=10;w<c.length;w++){const S=c[w];od(S[1],S,a,l,d,_)}}(l,a,_,c,g)}}function bv(a,l,c){return fn(a)?a.createElement(l,c):null===c?a.createElement(l):a.createElementNS(c,l)}function Ev(a,l){const c=a[9],d=c.indexOf(l),g=l[3];1024&l[2]&&(l[2]&=-1025,Ga(g,-1)),c.splice(d,1)}function B0(a,l){if(a.length<=10)return;const c=10+l,d=a[c];if(d){const g=d[17];null!==g&&g!==a&&Ev(g,d),l>0&&(a[c-1][4]=d[4]);const _=el(a,10+l);!function(a,l){od(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(d[1],d);const b=_[19];null!==b&&b.detachView(_[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function wv(a,l){if(!(256&l[2])){const c=l[11];fn(c)&&c.destroyNode&&od(a,l,c,3,null,null),function(a){let l=a[13];if(!l)return j0(a[1],a);for(;l;){let c=null;if(wi(l))c=l[13];else{const d=l[10];d&&(c=d)}if(!c){for(;l&&!l[4]&&l!==a;)wi(l)&&j0(l[1],l),l=l[3];null===l&&(l=a),wi(l)&&j0(l[1],l),c=l&&l[4]}l=c}}(l)}}function j0(a,l){if(!(256&l[2])){l[2]&=-129,l[2]|=256,function(a,l){let c;if(null!=a&&null!=(c=a.destroyHooks))for(let d=0;d<c.length;d+=2){const g=l[c[d]];if(!(g instanceof ru)){const _=c[d+1];if(Array.isArray(_))for(let b=0;b<_.length;b+=2){const w=g[_[b]],S=_[b+1];try{S.call(w)}finally{}}else try{_.call(g)}finally{}}}}(a,l),function(a,l){const c=a.cleanup,d=l[7];let g=-1;if(null!==c)for(let _=0;_<c.length-1;_+=2)if("string"==typeof c[_]){const b=c[_+1],w="function"==typeof b?b(l):Ce(l[b]),S=d[g=c[_+2]],M=c[_+3];"boolean"==typeof M?w.removeEventListener(c[_],S,M):M>=0?d[g=M]():d[g=-M].unsubscribe(),_+=2}else{const b=d[g=c[_+1]];c[_].call(b)}if(null!==d){for(let _=g+1;_<d.length;_++)d[_]();l[7]=null}}(a,l),1===l[1].type&&fn(l[11])&&l[11].destroy();const c=l[17];if(null!==c&&ri(l[3])){c!==l[3]&&Ev(c,l);const d=l[19];null!==d&&d.detachView(a)}}}function bA(a,l,c){return function(a,l,c){let d=l;for(;null!==d&&40&d.type;)d=(l=d).parent;if(null===d)return c[0];if(2&d.flags){const g=a.data[d.directiveStart].encapsulation;if(g===je.None||g===je.Emulated)return null}return lt(d,c)}(a,l.parent,c)}function cl(a,l,c,d,g){fn(a)?a.insertBefore(l,c,d,g):l.insertBefore(c,d,g)}function xu(a,l,c){fn(a)?a.appendChild(l,c):l.appendChild(c)}function Cv(a,l,c,d,g){null!==d?cl(a,l,c,d,g):xu(a,l,c)}function vf(a,l){return fn(a)?a.parentNode(l):l.parentNode}function ha(a,l,c){return Yg(a,l,c)}let Yg=function(a,l,c){return 40&a.type?lt(a,c):null};function ai(a,l,c,d){const g=bA(a,d,l),_=l[11],w=ha(d.parent||l[6],d,l);if(null!=g)if(Array.isArray(c))for(let S=0;S<c.length;S++)Cv(_,g,c[S],w,!1);else Cv(_,g,c,w,!1)}function Ef(a,l){if(null!==l){const c=l.type;if(3&c)return lt(l,a);if(4&c)return H0(-1,a[l.index]);if(8&c){const d=l.child;if(null!==d)return Ef(a,d);{const g=a[l.index];return ri(g)?H0(-1,g):Ce(g)}}if(32&c)return Wg(l,a)()||Ce(a[l.index]);{const d=Jg(a,l);return null!==d?Array.isArray(d)?d[0]:Ef(_f(a[16]),d):Ef(a,l.next)}}return null}function Jg(a,l){return null!==l?a[16][6].projection[l.projection]:null}function H0(a,l){const c=10+a+1;if(c<l.length){const d=l[c],g=d[1].firstChild;if(null!==g)return Ef(d,g)}return l[7]}function $0(a,l,c,d,g,_,b){for(;null!=c;){const w=d[c.index],S=c.type;if(b&&0===l&&(w&&Dr(Ce(w),d),c.flags|=4),64!=(64&c.flags))if(8&S)$0(a,l,c.child,d,g,_,!1),ul(l,a,g,w,_);else if(32&S){const M=Wg(c,d);let R;for(;R=M();)ul(l,a,g,R,_);ul(l,a,g,w,_)}else 16&S?Dv(a,l,d,c,g,_):ul(l,a,g,w,_);c=b?c.projectionNext:c.next}}function od(a,l,c,d,g,_){$0(c,d,a.firstChild,l,g,_,!1)}function Dv(a,l,c,d,g,_){const b=c[16],S=b[6].projection[d.projection];if(Array.isArray(S))for(let M=0;M<S.length;M++)ul(l,a,g,S[M],_);else $0(a,l,S,b[3],g,_,!0)}function Av(a,l,c){fn(a)?a.setAttribute(l,"style",c):l.style.cssText=c}function wf(a,l,c){fn(a)?""===c?a.removeAttribute(l,"class"):a.setAttribute(l,"class",c):l.className=c}function G0(a,l,c){let d=a.length;for(;;){const g=a.indexOf(l,c);if(-1===g)return g;if(0===g||a.charCodeAt(g-1)<=32){const _=l.length;if(g+_===d||a.charCodeAt(g+_)<=32)return g}c=g+1}}const em="ng-template";function Mv(a,l,c){let d=0;for(;d<a.length;){let g=a[d++];if(c&&"class"===g){if(g=a[d],-1!==G0(g.toLowerCase(),l,0))return!0}else if(1===g){for(;d<a.length&&"string"==typeof(g=a[d++]);)if(g.toLowerCase()===l)return!0;return!1}}return!1}function xv(a){return 4===a.type&&a.value!==em}function q0(a,l,c){return l===(4!==a.type||c?a.value:em)}function tm(a,l,c){let d=4;const g=a.attrs||[],_=function(a){for(let l=0;l<a.length;l++)if(ta(a[l]))return l;return a.length}(g);let b=!1;for(let w=0;w<l.length;w++){const S=l[w];if("number"!=typeof S){if(!b)if(4&d){if(d=2|1&d,""!==S&&!q0(a,S,c)||""===S&&1===l.length){if(Xs(d))return!1;b=!0}}else{const M=8&d?S:l[++w];if(8&d&&null!==a.attrs){if(!Mv(a.attrs,M,c)){if(Xs(d))return!1;b=!0}continue}const k=W0(8&d?"class":S,g,xv(a),c);if(-1===k){if(Xs(d))return!1;b=!0;continue}if(""!==M){let F;F=k>_?"":g[k+1].toLowerCase();const z=8&d?F:null;if(z&&-1!==G0(z,M,0)||2&d&&M!==F){if(Xs(d))return!1;b=!0}}}}else{if(!b&&!Xs(d)&&!Xs(S))return!1;if(b&&Xs(S))continue;b=!1,d=S|1&d}}return Xs(d)||b}function Xs(a){return 0==(1&a)}function W0(a,l,c,d){if(null===l)return-1;let g=0;if(d||!c){let _=!1;for(;g<l.length;){const b=l[g];if(b===a)return g;if(3===b||6===b)_=!0;else{if(1===b||2===b){let w=l[++g];for(;"string"==typeof w;)w=l[++g];continue}if(4===b)break;if(0===b){g+=4;continue}}g+=_?1:2}return-1}return function(a,l){let c=a.indexOf(4);if(c>-1)for(c++;c<a.length;){const d=a[c];if("number"==typeof d)return-1;if(d===l)return c;c++}return-1}(l,a)}function Z0(a,l,c=!1){for(let d=0;d<l.length;d++)if(tm(a,l[d],c))return!0;return!1}function uk(a,l){e:for(let c=0;c<l.length;c++){const d=l[c];if(a.length===d.length){for(let g=0;g<a.length;g++)if(a[g]!==d[g])continue e;return!0}}return!1}function Cf(a,l){return a?":not("+l.trim()+")":l}function rm(a){let l=a[0],c=1,d=2,g="",_=!1;for(;c<a.length;){let b=a[c];if("string"==typeof b)if(2&d){const w=a[++c];g+="["+b+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?g+="."+b:4&d&&(g+=" "+b);else""!==g&&!Xs(b)&&(l+=Cf(_,g),g=""),d=b,_=_||!Xs(d);c++}return""!==g&&(l+=Cf(_,g)),l}const Ct={};function im(a){If(Ht(),ke(),Lr()+a,za())}function If(a,l,c,d){if(!d)if(3==(3&l[2])){const _=a.preOrderCheckHooks;null!==_&&Za(l,_,c)}else{const _=a.preOrderHooks;null!==_&&Hc(l,_,0,c)}qa(c)}function sm(a,l){return a<<17|l<<2}function li(a){return a>>17&32767}function om(a){return 2|a}function So(a){return(131068&a)>>2}function Ms(a,l){return-131069&a|l<<2}function Nu(a){return 1|a}function dm(a,l){const c=a.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const g=c[d],_=c[d+1];if(-1!==_){const b=a.data[_];Qo(g),b.contentQueries(2,l[_],_)}}}function ld(a,l,c,d,g,_,b,w,S,M){const R=l.blueprint.slice();return R[0]=g,R[2]=140|d,Pc(R),R[3]=R[15]=a,R[8]=c,R[10]=b||a&&a[10],R[11]=w||a&&a[11],R[12]=S||a&&a[12]||null,R[9]=M||a&&a[9]||null,R[6]=_,R[16]=2==l.type?a[16]:R,R}function ud(a,l,c,d,g){let _=a.data[l];if(null===_)_=function(a,l,c,d,g){const _=Rh(),b=Fc(),S=a.data[l]=function(a,l,c,d,g,_){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:g,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?_:_&&_.parent,c,l,d,g);return null===a.firstChild&&(a.firstChild=S),null!==_&&(b?null==_.child&&null!==S.parent&&(_.child=S):null===_.next&&(_.next=S)),S}(a,l,c,d,g),Mt.lFrame.inI18n&&(_.flags|=64);else if(64&_.type){_.type=c,_.value=d,_.attrs=g;const b=function(){const a=Mt.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();_.injectorIndex=null===b?-1:b.injectorIndex}return ii(_,!0),_}function pl(a,l,c,d){if(0===c)return-1;const g=l.length;for(let _=0;_<c;_++)l.push(d),a.blueprint.push(d),a.data.push(null);return g}function fm(a,l,c){eu(l);try{const d=a.viewQuery;null!==d&&Zv(1,d,c);const g=a.template;null!==g&&rC(a,l,g,1,c),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&dm(a,l),a.staticViewQueries&&Zv(2,a.viewQuery,c);const _=a.components;null!==_&&function(a,l){for(let c=0;c<l.length;c++)mC(a,l[c])}(l,_)}catch(d){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),d}finally{l[2]&=-5,tu()}}function cd(a,l,c,d){const g=l[2];if(256==(256&g))return;eu(l);const _=za();try{Pc(l),function(a){Mt.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==c&&rC(a,l,c,2,d);const b=3==(3&g);if(!_)if(b){const M=a.preOrderCheckHooks;null!==M&&Za(l,M,null)}else{const M=a.preOrderHooks;null!==M&&Hc(l,M,0,null),nu(l,0)}if(function(a){for(let l=id(a);null!==l;l=Zg(l)){if(!l[2])continue;const c=l[9];for(let d=0;d<c.length;d++){const g=c[d],_=g[3];0==(1024&g[2])&&Ga(_,1),g[2]|=1024}}}(l),function(a){for(let l=id(a);null!==l;l=Zg(l))for(let c=10;c<l.length;c++){const d=l[c],g=d[1];is(d)&&cd(g,d,g.template,d[8])}}(l),null!==a.contentQueries&&dm(a,l),!_)if(b){const M=a.contentCheckHooks;null!==M&&Za(l,M)}else{const M=a.contentHooks;null!==M&&Hc(l,M,1),nu(l,1)}!function(a,l){const c=a.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const g=c[d];if(g<0)qa(~g);else{const _=g,b=c[++d],w=c[++d];og(b,_),w(2,l[_])}}}finally{qa(-1)}}(a,l);const w=a.components;null!==w&&function(a,l){for(let c=0;c<l.length;c++)gC(a,l[c])}(l,w);const S=a.viewQuery;if(null!==S&&Zv(2,S,d),!_)if(b){const M=a.viewCheckHooks;null!==M&&Za(l,M)}else{const M=a.viewHooks;null!==M&&Hc(l,M,2),nu(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),_||(l[2]&=-73),1024&l[2]&&(l[2]&=-1025,Ga(l[3],-1))}finally{tu()}}function yk(a,l,c,d){const g=l[10],_=!za(),b=wo(l);try{_&&!b&&g.begin&&g.begin(),b&&fm(a,l,d),cd(a,l,c,d)}finally{_&&!b&&g.end&&g.end()}}function rC(a,l,c,d,g){const _=Lr(),b=2&d;try{qa(-1),b&&l.length>20&&If(a,l,20,za()),c(d,g)}finally{qa(_)}}function iC(a,l,c){if(qs(l)){const g=l.directiveEnd;for(let _=l.directiveStart;_<g;_++){const b=a.data[_];b.contentQueries&&b.contentQueries(1,c[_],_)}}}function pm(a,l,c){!Mh()||(function(a,l,c,d){const g=c.directiveStart,_=c.directiveEnd;a.firstCreatePass||lu(c,l),Dr(d,l);const b=c.initialInputs;for(let w=g;w<_;w++){const S=a.data[w],M=Pr(S);M&&dC(l,c,S);const R=cu(l,a,w,c);Dr(R,l),null!==b&&Os(0,w-g,R,S,0,b),M&&(tr(c.index,l)[8]=R)}}(a,l,c,lt(c,l)),128==(128&c.flags)&&function(a,l,c){const d=c.directiveStart,g=c.directiveEnd,b=c.index,w=Mt.lFrame.currentDirectiveIndex;try{qa(b);for(let S=d;S<g;S++){const M=a.data[S],R=l[S];kh(S),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&mm(M,R)}}finally{qa(-1),kh(w)}}(a,l,c))}function Af(a,l,c=lt){const d=l.localNames;if(null!==d){let g=l.index+1;for(let _=0;_<d.length;_+=2){const b=d[_+1],w=-1===b?c(l,a):a[b];a[g++]=w}}}function jv(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=gm(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function gm(a,l,c,d,g,_,b,w,S,M){const R=20+d,k=R+g,F=function(a,l){const c=[];for(let d=0;d<l;d++)c.push(d<a?null:Ct);return c}(R,k),z="function"==typeof M?M():M;return F[1]={type:a,blueprint:F,template:c,queries:null,viewQuery:w,declTNode:l,data:F.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:k,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:S,consts:z,incompleteFirstPass:!1}}function Hv(a,l,c,d){const g=bm(l);null===c?g.push(d):(g.push(c),a.firstCreatePass&&Kv(a).push(d,g.length-1))}function aC(a,l,c){for(let d in a)if(a.hasOwnProperty(d)){const g=a[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(l,g):c[d]=[l,g]}return c}function zi(a,l,c,d,g,_,b,w){const S=lt(l,c);let R,M=l.inputs;!w&&null!=M&&(R=M[d])?(bC(a,c,R,d,g),vs(l)&&function(a,l){const c=tr(l,a);16&c[2]||(c[2]|=64)}(c,l.index)):3&l.type&&(d=function(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(d),g=null!=b?b(g,l.value||"",d):g,fn(_)?_.setProperty(S,d,g):Ts(d)||(S.setProperty?S.setProperty(d,g):S[d]=g))}function Mf(a,l,c,d){let g=!1;if(Mh()){const _=function(a,l,c){const d=a.directiveRegistry;let g=null;if(d)for(let _=0;_<d.length;_++){const b=d[_];Z0(c,b.selectors,!1)&&(g||(g=[]),Vr(lu(c,l),a,b.type),Pr(b)?(cC(a,c),g.unshift(b)):g.push(b))}return g}(a,l,c),b=null===d?null:{"":-1};if(null!==_){g=!0,zv(c,a.data.length,_.length);for(let R=0;R<_.length;R++){const k=_[R];k.providersResolver&&k.providersResolver(k)}let w=!1,S=!1,M=pl(a,l,_.length,null);for(let R=0;R<_.length;R++){const k=_[R];c.mergedAttrs=An(c.mergedAttrs,k.hostAttrs),qv(a,c,l,M,k),VA(M,k,b),null!==k.contentQueries&&(c.flags|=8),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(c.flags|=128);const F=k.type.prototype;!w&&(F.ngOnChanges||F.ngOnInit||F.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(c.index),w=!0),!S&&(F.ngOnChanges||F.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(c.index),S=!0),M++}!function(a,l){const d=l.directiveEnd,g=a.data,_=l.attrs,b=[];let w=null,S=null;for(let M=l.directiveStart;M<d;M++){const R=g[M],k=R.inputs,F=null===_||xv(l)?null:hd(k,_);b.push(F),w=aC(k,M,w),S=aC(R.outputs,M,S)}null!==w&&(w.hasOwnProperty("class")&&(l.flags|=16),w.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=b,l.inputs=w,l.outputs=S}(a,c)}b&&function(a,l,c){if(l){const d=a.localNames=[];for(let g=0;g<l.length;g+=2){const _=c[l[g+1]];if(null==_)throw new Ae("301",`Export of name '${l[g+1]}' not found!`);d.push(l[g],_)}}}(c,d,b)}return c.mergedAttrs=An(c.mergedAttrs,c.attrs),g}function dd(a,l,c,d,g,_){const b=_.hostBindings;if(b){let w=a.hostBindingOpCodes;null===w&&(w=a.hostBindingOpCodes=[]);const S=~l.index;(function(a){let l=a.length;for(;l>0;){const c=a[--l];if("number"==typeof c&&c<0)return c}return 0})(w)!=S&&w.push(S),w.push(d,g,b)}}function mm(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function cC(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function VA(a,l,c){if(c){if(l.exportAs)for(let d=0;d<l.exportAs.length;d++)c[l.exportAs[d]]=a;Pr(l)&&(c[""]=a)}}function zv(a,l,c){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+c,a.providerIndexes=l}function qv(a,l,c,d,g){a.data[d]=g;const _=g.factory||(g.factory=rs(g.type)),b=new ru(_,Pr(g),null);a.blueprint[d]=b,c[d]=b,dd(a,l,0,d,pl(a,c,g.hostVars,Ct),g)}function dC(a,l,c){const d=lt(l,a),g=jv(c),_=a[10],b=gd(a,ld(a,g,null,c.onPush?64:16,d,l,_,_.createRenderer(d,c),null,null));a[l.index]=b}function ls(a,l,c,d,g,_){const b=lt(a,l);!function(a,l,c,d,g,_,b){if(null==_)fn(a)?a.removeAttribute(l,g,c):l.removeAttribute(g);else{const w=null==b?ne(_):b(_,d||"",g);fn(a)?a.setAttribute(l,g,w,c):c?l.setAttributeNS(c,g,w):l.setAttribute(g,w)}}(l[11],b,_,a.value,c,d,g)}function Os(a,l,c,d,g,_){const b=_[l];if(null!==b){const w=d.setInput;for(let S=0;S<b.length;){const M=b[S++],R=b[S++],k=b[S++];null!==w?d.setInput(c,k,M,R):c[R]=k}}}function hd(a,l){let c=null,d=0;for(;d<l.length;){const g=l[d];if(0!==g)if(5!==g){if("number"==typeof g)break;a.hasOwnProperty(g)&&(null===c&&(c=[]),c.push(g,a[g],l[d+1])),d+=2}else d+=2;else d+=4}return c}function fC(a,l,c,d){return new Array(a,!0,!1,l,null,0,d,c,null,null)}function gC(a,l){const c=tr(l,a);if(is(c)){const d=c[1];80&c[2]?cd(d,c,d.template,c[8]):c[5]>0&&fd(c)}}function fd(a){for(let d=id(a);null!==d;d=Zg(d))for(let g=10;g<d.length;g++){const _=d[g];if(1024&_[2]){const b=_[1];cd(b,_,b.template,_[8])}else _[5]>0&&fd(_)}const c=a[1].components;if(null!==c)for(let d=0;d<c.length;d++){const g=tr(c[d],a);is(g)&&g[5]>0&&fd(g)}}function mC(a,l){const c=tr(l,a),d=c[1];(function(a,l){for(let c=l.length;c<a.blueprint.length;c++)l.push(a.blueprint[c])})(d,c),fm(d,c,c[8])}function gd(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function Wv(a){for(;a;){a[2]|=64;const l=_f(a);if(Fr(a)&&!l)return a;a=l}return null}function vm(a,l,c){const d=l[10];d.begin&&d.begin();try{cd(a,l,a.template,c)}catch(g){throw Em(l,g),g}finally{d.end&&d.end()}}function _C(a){!function(a){for(let l=0;l<a.components.length;l++){const c=a.components[l],d=Bg(c),g=d[1];yk(g,d,g.template,c)}}(a[8])}function Zv(a,l,c){Qo(0),l(a,c)}const vC=(()=>Promise.resolve(null))();function bm(a){return a[7]||(a[7]=[])}function Kv(a){return a.cleanup||(a.cleanup=[])}function xf(a,l,c){return(null===a||Pr(a))&&(c=function(a){for(;Array.isArray(a);){if("object"==typeof a[1])return a;a=a[0]}return null}(c[l.index])),c[11]}function Em(a,l){const c=a[9],d=c?c.get(T,null):null;d&&d.handleError(l)}function bC(a,l,c,d,g){for(let _=0;_<c.length;){const b=c[_++],w=c[_++],S=l[b],M=a.data[b];null!==M.setInput?M.setInput(S,g,d,w):S[w]=g}}function fa(a,l,c){const d=at(l,a);!function(a,l,c){fn(a)?a.setValue(l,c):l.textContent=c}(a[11],d,c)}function wm(a,l,c){let d=c?a.styles:null,g=c?a.classes:null,_=0;if(null!==l)for(let b=0;b<l.length;b++){const w=l[b];"number"==typeof w?_=w:1==_?g=K(g,w):2==_&&(d=K(d,w+": "+l[++b]+";"))}c?a.styles=d:a.stylesWithoutHost=d,c?a.classes=g:a.classesWithoutHost=g}const Pu=new On("INJECTOR",-1);class Yv{get(l,c=tl){if(c===tl){const d=new Error(`NullInjectorError: No provider for ${re(l)}!`);throw d.name="NullInjectorError",d}return c}}const Rf=new On("Set Injector scope."),Nf={},$A={};let Cm;function GA(){return void 0===Cm&&(Cm=new Yv),Cm}function CC(a,l=null,c=null,d){return new zA(a,c,l||GA(),d)}class zA{constructor(l,c,d,g=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const _=[];c&&Ss(c,w=>this.processProvider(w,l,c)),Ss([l],w=>this.processInjectorType(w,[],_)),this.records.set(Pu,Fu(void 0,this));const b=this.records.get(Rf);this.scope=null!=b?b.value:null,this.source=g||("object"==typeof l?null:re(l))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(l=>l.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(l,c=tl,d=it.Default){this.assertNotDestroyed();const g=vu(this),_=Dn(void 0);try{if(!(d&it.SkipSelf)){let w=this.records.get(l);if(void 0===w){const S=("function"==typeof(a=l)||"object"==typeof a&&a instanceof On)&&jn(l);w=S&&this.injectableDefInScope(S)?Fu(Im(l),Nf):null,this.records.set(l,w)}if(null!=w)return this.hydrate(l,w)}return(d&it.Self?GA():this.parent).get(l,c=d&it.Optional&&c===tl?null:c)}catch(b){if("NullInjectorError"===b.name){if((b[_u]=b[_u]||[]).unshift(re(l)),g)throw b;return Zy(b,l,"R3InjectorError",this.source)}throw b}finally{Dn(_),vu(g)}var a}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(l=>this.get(l))}toString(){const l=[];return this.records.forEach((d,g)=>l.push(re(g))),`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(l,c,d){if(!(l=L(l)))return!1;let g=Xr(l);const _=null==g&&l.ngModule||void 0,b=void 0===_?l:_,w=-1!==d.indexOf(b);if(void 0!==_&&(g=Xr(_)),null==g)return!1;if(null!=g.imports&&!w){let R;d.push(b);try{Ss(g.imports,k=>{this.processInjectorType(k,c,d)&&(void 0===R&&(R=[]),R.push(k))})}finally{}if(void 0!==R)for(let k=0;k<R.length;k++){const{ngModule:F,providers:z}=R[k];Ss(z,J=>this.processProvider(J,F,z||q))}}this.injectorDefTypes.add(b);const S=rs(b)||(()=>new b);this.records.set(b,Fu(S,Nf));const M=g.providers;if(null!=M&&!w){const R=l;Ss(M,k=>this.processProvider(k,R,M))}return void 0!==_&&void 0!==l.providers}processProvider(l,c,d){let g=Lu(l=L(l))?l:L(l&&l.provide);const _=Of(a=l)?Fu(void 0,a.useValue):Fu(IC(a),Nf);var a;if(Lu(l)||!0!==l.multi)this.records.get(g);else{let b=this.records.get(g);b||(b=Fu(void 0,Nf,!0),b.factory=()=>sa(b.multi),this.records.set(g,b)),g=l,b.multi.push(l)}this.records.set(g,_)}hydrate(l,c){return c.value===Nf&&(c.value=$A,c.value=c.factory()),"object"==typeof c.value&&c.value&&null!==(a=c.value)&&"object"==typeof a&&"function"==typeof a.ngOnDestroy&&this.onDestroy.add(c.value),c.value;var a}injectableDefInScope(l){if(!l.providedIn)return!1;const c=L(l.providedIn);return"string"==typeof c?"any"===c||c===this.scope:this.injectorDefTypes.has(c)}}function Im(a){const l=jn(a),c=null!==l?l.factory:rs(a);if(null!==c)return c;if(a instanceof On)throw new Error(`Token ${re(a)} is missing a \u0275prov definition.`);if(a instanceof Function)return function(a){const l=a.length;if(l>0){const d=Ys(l,"?");throw new Error(`Can't resolve all parameters for ${re(a)}: (${d.join(", ")}).`)}const c=function(a){const l=a&&(a[Nr]||a[Pi]);if(l){const c=function(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),l}return null}(a);return null!==c?()=>c.factory(a):()=>new a}(a);throw new Error("unreachable")}function IC(a,l,c){let d;if(Lu(a)){const g=L(a);return rs(g)||Im(g)}if(Of(a))d=()=>L(a.useValue);else if(function(a){return!(!a||!a.useFactory)}(a))d=()=>a.useFactory(...sa(a.deps||[]));else if(function(a){return!(!a||!a.useExisting)}(a))d=()=>kn(L(a.useExisting));else{const g=L(a&&(a.useClass||a.provide));if(!function(a){return!!a.deps}(a))return rs(g)||Im(g);d=()=>new g(...sa(a.deps))}return d}function Fu(a,l,c=!1){return{factory:a,value:l,multi:c?[]:void 0}}function Of(a){return null!==a&&"object"==typeof a&&qh in a}function Lu(a){return"function"==typeof a}const SC=function(a,l,c){return function(a,l=null,c=null,d){const g=CC(a,l,c,d);return g._resolveInjectorDefTypes(),g}({name:c},l,a,c)};class qt{static create(l,c){return Array.isArray(l)?SC(l,c,""):SC(l.providers,l.parent,l.name||"")}}function Lf(a,l){jc(Bg(a)[1],mn())}function Sm(a){let l=function(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),c=!0;const d=[a];for(;l;){let g;if(Pr(a))g=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Error("Directives cannot inherit Components");g=l.\u0275dir}if(g){if(c){d.push(g);const b=a;b.inputs=Vf(a.inputs),b.declaredInputs=Vf(a.declaredInputs),b.outputs=Vf(a.outputs);const w=g.hostBindings;w&&hM(a,w);const S=g.viewQuery,M=g.contentQueries;if(S&&VC(a,S),M&&UC(a,M),he(a.inputs,g.inputs),he(a.declaredInputs,g.declaredInputs),he(a.outputs,g.outputs),Pr(g)&&g.data.animation){const R=a.data;R.animation=(R.animation||[]).concat(g.data.animation)}}const _=g.features;if(_)for(let b=0;b<_.length;b++){const w=_[b];w&&w.ngInherit&&w(a),w===Sm&&(c=!1)}}l=Object.getPrototypeOf(l)}!function(a){let l=0,c=null;for(let d=a.length-1;d>=0;d--){const g=a[d];g.hostVars=l+=g.hostVars,g.hostAttrs=An(g.hostAttrs,c=An(c,g.hostAttrs))}}(d)}function Vf(a){return a===Xt?{}:a===q?[]:a}function VC(a,l){const c=a.viewQuery;a.viewQuery=c?(d,g)=>{l(d,g),c(d,g)}:l}function UC(a,l){const c=a.contentQueries;a.contentQueries=c?(d,g,_)=>{l(d,g,_),c(d,g,_)}:l}function hM(a,l){const c=a.hostBindings;a.hostBindings=c?(d,g)=>{l(d,g),c(d,g)}:l}qt.THROW_IF_NOT_FOUND=tl,qt.NULL=new Yv,qt.\u0275prov=Dt({token:qt,providedIn:"any",factory:()=>kn(Pu)}),qt.__NG_ELEMENT_ID__=-1;let Uu=null;function Bu(){if(!Uu){const a=Jt.Symbol;if(a&&a.iterator)Uu=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<l.length;++c){const d=l[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Uu=d)}}}return Uu}class no{constructor(l){this.wrapped=l}static wrap(l){return new no(l)}static unwrap(l){return no.isWrapped(l)?l.wrapped:l}static isWrapped(l){return l instanceof no}}function md(a){return!!Dm(a)&&(Array.isArray(a)||!(a instanceof Map)&&Bu()in a)}function Dm(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function ro(a,l,c){return a[l]=c}function ui(a,l,c){return!Object.is(a[l],c)&&(a[l]=c,!0)}function ju(a,l,c,d){const g=ui(a,l,c);return ui(a,l+1,d)||g}function jC(a,l,c,d){const g=ke();return ui(g,Ks(),l)&&(Ht(),ls(Gn(),g,a,l,c,d)),jC}function Hf(a,l,c,d,g,_,b,w){const S=ke(),M=Ht(),R=a+20,k=M.firstCreatePass?function(a,l,c,d,g,_,b,w,S){const M=l.consts,R=ud(l,a,4,b||null,Is(M,w));Mf(l,c,R,Is(M,S)),jc(l,R);const k=R.tViews=gm(2,R,d,g,_,l.directiveRegistry,l.pipeRegistry,null,l.schemas,M);return null!==l.queries&&(l.queries.template(l,R),k.queries=l.queries.embeddedTView(R)),R}(R,M,S,l,c,d,g,_,b):M.data[R];ii(k,!1);const F=S[11].createComment("");ai(M,S,F,k),Dr(F,S),gd(S,S[R]=fC(F,S,F,k)),pr(k)&&pm(M,S,k),null!=b&&Af(S,k,w)}function qC(a){return Sr(Mt.lFrame.contextLView,20+a)}function Om(a,l=it.Default){const c=ke();return null===c?kn(a,l):Oy(mn(),c,L(a),l)}function db(a,l,c){const d=ke();return ui(d,Ks(),l)&&zi(Ht(),Gn(),d,a,l,d[11],c,!1),db}function km(a,l,c,d,g){const b=g?"class":"style";bC(a,c,l.inputs[b],b,d)}function Gf(a,l,c,d){const g=ke(),_=Ht(),b=20+a,w=g[11],S=g[b]=bv(w,l,Mt.lFrame.currentNamespace),M=_.firstCreatePass?function(a,l,c,d,g,_,b){const w=l.consts,M=ud(l,a,2,g,Is(w,_));return Mf(l,c,M,Is(w,b)),null!==M.attrs&&wm(M,M.attrs,!1),null!==M.mergedAttrs&&wm(M,M.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,M),M}(b,_,g,0,l,c,d):_.data[b];ii(M,!0);const R=M.mergedAttrs;null!==R&&Gc(w,S,R);const k=M.classes;null!==k&&wf(w,S,k);const F=M.styles;null!==F&&Av(w,S,F),64!=(64&M.flags)&&ai(_,g,S,M),0===Mt.lFrame.elementDepthCount&&Dr(S,g),Mt.lFrame.elementDepthCount++,pr(M)&&(pm(_,g,M),iC(_,M,g)),null!==d&&Af(g,M)}function Pm(){let a=mn();Fc()?Lc():(a=a.parent,ii(a,!1));const l=a;Mt.lFrame.elementDepthCount--;const c=Ht();c.firstCreatePass&&(jc(c,a),qs(a)&&c.queries.elementEnd(a)),null!=l.classesWithoutHost&&function(a){return 0!=(16&a.flags)}(l)&&km(c,l,ke(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function(a){return 0!=(32&a.flags)}(l)&&km(c,l,ke(),l.stylesWithoutHost,!1)}function lI(a,l,c,d){Gf(a,l,c,d),Pm()}function cI(a,l,c){const d=ke(),g=Ht(),_=a+20,b=g.firstCreatePass?function(a,l,c,d,g){const _=l.consts,b=Is(_,d),w=ud(l,a,8,"ng-container",b);return null!==b&&wm(w,b,!0),Mf(l,c,w,Is(_,g)),null!==l.queries&&l.queries.elementStart(l,w),w}(_,g,d,l,c):g.data[_];ii(b,!0);const w=d[_]=d[11].createComment("");ai(g,d,w,b),Dr(w,d),pr(b)&&(pm(g,d,b),iC(g,b,d)),null!=c&&Af(d,b)}function dI(){let a=mn();const l=Ht();Fc()?Lc():(a=a.parent,ii(a,!1)),l.firstCreatePass&&(jc(l,a),qs(a)&&l.queries.elementEnd(a))}function hI(a,l,c){cI(a,l,c),dI()}function AM(){return ke()}function fI(a){return!!a&&"function"==typeof a.then}function MM(a){return!!a&&"function"==typeof a.subscribe}const fb=MM;function Fm(a,l,c,d){const g=ke(),_=Ht(),b=mn();return gb(_,g,g[11],b,a,l,!!c,d),Fm}function pb(a,l){const c=mn(),d=ke(),g=Ht();return gb(g,d,xf(Ph(g.data),c,d),c,a,l,!1),pb}function gb(a,l,c,d,g,_,b,w){const S=pr(d),R=a.firstCreatePass&&Kv(a),k=l[8],F=bm(l);let z=!0;if(3&d.type||w){const ce=lt(d,l),Le=w?w(ce):ce,Re=F.length,ut=w?St=>w(Ce(St[d.index])):d.index;if(fn(c)){let St=null;if(!w&&S&&(St=function(a,l,c,d){const g=a.cleanup;if(null!=g)for(let _=0;_<g.length-1;_+=2){const b=g[_];if(b===c&&g[_+1]===d){const w=l[7],S=g[_+2];return w.length>S?w[S]:null}"string"==typeof b&&(_+=2)}return null}(a,l,g,d.index)),null!==St)(St.__ngLastListenerFn__||St).__ngNextListenerFn__=_,St.__ngLastListenerFn__=_,z=!1;else{_=Sd(d,l,k,_,!1);const Wt=c.listen(Le,g,_);F.push(_,Wt),R&&R.push(g,ut,Re,Re+1)}}else _=Sd(d,l,k,_,!0),Le.addEventListener(g,_,b),F.push(_),R&&R.push(g,ut,Re,b)}else _=Sd(d,l,k,_,!1);const J=d.outputs;let fe;if(z&&null!==J&&(fe=J[g])){const ce=fe.length;if(ce)for(let Le=0;Le<ce;Le+=2){const ar=l[fe[Le]][fe[Le+1]].subscribe(_),gi=F.length;F.push(_,ar),R&&R.push(g,d.index,gi,-(gi+1))}}}function _l(a,l,c,d){try{return!1!==c(d)}catch(g){return Em(a,g),!1}}function Sd(a,l,c,d,g){return function _(b){if(b===Function)return d;const w=2&a.flags?tr(a.index,l):l;0==(32&l[2])&&Wv(w);let S=_l(l,0,d,b),M=_.__ngNextListenerFn__;for(;M;)S=_l(l,0,M,b)&&S,M=M.__ngNextListenerFn__;return g&&!1===S&&(b.preventDefault(),b.returnValue=!1),S}}function gI(a=1){return function(a){return(Mt.lFrame.contextLView=function(a,l){for(;a>0;)l=l[15],a--;return l}(a,Mt.lFrame.contextLView))[8]}(a)}function Bk(a,l){let c=null;const d=function(a){const l=a.attrs;if(null!=l){const c=l.indexOf(5);if(0==(1&c))return l[c+1]}return null}(a);for(let g=0;g<l.length;g++){const _=l[g];if("*"!==_){if(null===d?Z0(a,_,!0):uk(d,_))return g}else c=g}return c}function zf(a){const l=ke()[16][6];if(!l.projection){const d=l.projection=Ys(a?a.length:1,null),g=d.slice();let _=l.child;for(;null!==_;){const b=a?Bk(_,a):0;null!==b&&(g[b]?g[b].projectionNext=_:d[b]=_,g[b]=_),_=_.next}}}function mb(a,l=0,c){const d=ke(),g=Ht(),_=ud(g,20+a,16,null,c||null);null===_.projection&&(_.projection=l),Lc(),64!=(64&_.flags)&&function(a,l,c){Dv(l[11],0,l,c,bA(a,c,l),ha(c.parent||l[6],c,l))}(g,d,_)}function CI(a,l,c,d,g){const _=a[c+1],b=null===l;let w=d?li(_):So(_),S=!1;for(;0!==w&&(!1===S||b);){const R=a[w+1];NM(a[w],l)&&(S=!0,a[w+1]=d?Nu(R):om(R)),w=d?li(R):So(R)}S&&(a[c+1]=d?om(_):Nu(_))}function NM(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&mu(a,l)>=0}const rr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function II(a){return a.substring(rr.key,rr.keyEnd)}function OM(a){return a.substring(rr.value,rr.valueEnd)}function PM(a,l){const c=rr.textEnd;return c===l?-1:(l=rr.keyEnd=function(a,l,c){for(;l<c&&a.charCodeAt(l)>32;)l++;return l}(a,rr.key=l,c),En(a,l,c))}function vb(a,l){const c=rr.textEnd;let d=rr.key=En(a,l,c);return c===d?-1:(d=rr.keyEnd=function(a,l,c){let d;for(;l<c&&(45===(d=a.charCodeAt(l))||95===d||(-33&d)>=65&&(-33&d)<=90||d>=48&&d<=57);)l++;return l}(a,d,c),d=Dd(a,d,c),d=rr.value=En(a,d,c),d=rr.valueEnd=function(a,l,c){let d=-1,g=-1,_=-1,b=l,w=b;for(;b<c;){const S=a.charCodeAt(b++);if(59===S)return w;34===S||39===S?w=b=SI(a,S,b,c):l===b-4&&85===_&&82===g&&76===d&&40===S?w=b=SI(a,41,b,c):S>32&&(w=b),_=g,g=d,d=-33&S}return w}(a,d,c),Dd(a,d,c))}function TI(a){rr.key=0,rr.keyEnd=0,rr.value=0,rr.valueEnd=0,rr.textEnd=a.length}function En(a,l,c){for(;l<c&&a.charCodeAt(l)<=32;)l++;return l}function Dd(a,l,c,d){return(l=En(a,l,c))<c&&l++,l}function SI(a,l,c,d){let g=-1,_=c;for(;_<d;){const b=a.charCodeAt(_++);if(b==l&&92!==g)return _;g=92==b&&92===g?0:b}throw new Error}function bb(a,l,c){return Ps(a,l,c,!1),bb}function Eb(a,l){return Ps(a,l,null,!0),Eb}function ks(a){oo(RI,UM,a,!1)}function UM(a,l){for(let c=function(a){return TI(a),vb(a,En(a,0,rr.textEnd))}(l);c>=0;c=vb(l,c))RI(a,II(l),OM(l))}function AI(a){oo(si,Ao,a,!0)}function Ao(a,l){for(let c=function(a){return TI(a),PM(a,En(a,0,rr.textEnd))}(l);c>=0;c=PM(l,c))si(a,II(l),!0)}function Ps(a,l,c,d){const g=ke(),_=Ht(),b=Ci(2);_.firstUpdatePass&&wb(_,a,b,d),l!==Ct&&ui(g,b,l)&&NI(_,_.data[Lr()],g,g[11],a,g[b+1]=function(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=re(Br(a)))),a}(l,c),d,b)}function oo(a,l,c,d){const g=Ht(),_=Ci(2);g.firstUpdatePass&&wb(g,null,_,d);const b=ke();if(c!==Ct&&ui(b,_,c)){const w=g.data[Lr()];if(Cb(w,d)&&!MI(g,_)){let S=d?w.classesWithoutHost:w.stylesWithoutHost;null!==S&&(c=K(S,c||"")),km(g,w,b,c,d)}else!function(a,l,c,d,g,_,b,w){g===Ct&&(g=q);let S=0,M=0,R=0<g.length?g[0]:null,k=0<_.length?_[0]:null;for(;null!==R||null!==k;){const F=S<g.length?g[S+1]:void 0,z=M<_.length?_[M+1]:void 0;let fe,J=null;R===k?(S+=2,M+=2,F!==z&&(J=k,fe=z)):null===k||null!==R&&R<k?(S+=2,J=R):(M+=2,J=k,fe=z),null!==J&&NI(a,l,c,d,J,fe,b,w),R=S<g.length?g[S]:null,k=M<_.length?_[M]:null}}(g,w,b,b[11],b[_+1],b[_+1]=function(a,l,c){if(null==c||""===c)return q;const d=[],g=Br(c);if(Array.isArray(g))for(let _=0;_<g.length;_++)a(d,g[_],!0);else if("object"==typeof g)for(const _ in g)g.hasOwnProperty(_)&&a(d,_,g[_]);else"string"==typeof g&&l(d,g);return d}(a,l,c),d,_)}}function MI(a,l){return l>=a.expandoStartIndex}function wb(a,l,c,d){const g=a.data;if(null===g[c+1]){const _=g[Lr()],b=MI(a,c);Cb(_,d)&&null===l&&!b&&(l=!1),l=function(a,l,c,d){const g=Ph(a);let _=d?l.residualClasses:l.residualStyles;if(null===g)0===(d?l.classBindings:l.styleBindings)&&(c=ma(c=qf(null,a,l,c,d),l.attrs,d),_=null);else{const b=l.directiveStylingLast;if(-1===b||a[b]!==g)if(c=qf(g,a,l,c,d),null===_){let S=function(a,l,c){const d=c?l.classBindings:l.styleBindings;if(0!==So(d))return a[li(d)]}(a,l,d);void 0!==S&&Array.isArray(S)&&(S=qf(null,a,l,S[1],d),S=ma(S,l.attrs,d),function(a,l,c,d){a[li(c?l.classBindings:l.styleBindings)]=d}(a,l,d,S))}else _=function(a,l,c){let d;const g=l.directiveEnd;for(let _=1+l.directiveStylingLast;_<g;_++)d=ma(d,a[_].hostAttrs,c);return ma(d,l.attrs,c)}(a,l,d)}return void 0!==_&&(d?l.residualClasses=_:l.residualStyles=_),c}(g,_,l,d),function(a,l,c,d,g,_){let b=_?l.classBindings:l.styleBindings,w=li(b),S=So(b);a[d]=c;let R,M=!1;if(Array.isArray(c)){const k=c;R=k[1],(null===R||mu(k,R)>0)&&(M=!0)}else R=c;if(g)if(0!==S){const F=li(a[w+1]);a[d+1]=sm(F,w),0!==F&&(a[F+1]=Ms(a[F+1],d)),a[w+1]=function(a,l){return 131071&a|l<<17}(a[w+1],d)}else a[d+1]=sm(w,0),0!==w&&(a[w+1]=Ms(a[w+1],d)),w=d;else a[d+1]=sm(S,0),0===w?w=d:a[S+1]=Ms(a[S+1],d),S=d;M&&(a[d+1]=om(a[d+1])),CI(a,R,d,!0),CI(a,R,d,!1),function(a,l,c,d,g){const _=g?a.residualClasses:a.residualStyles;null!=_&&"string"==typeof l&&mu(_,l)>=0&&(c[d+1]=Nu(c[d+1]))}(l,R,a,d,_),b=sm(w,S),_?l.classBindings=b:l.styleBindings=b}(g,_,l,c,b,d)}}function qf(a,l,c,d,g){let _=null;const b=c.directiveEnd;let w=c.directiveStylingLast;for(-1===w?w=c.directiveStart:w++;w<b&&(_=l[w],d=ma(d,_.hostAttrs,g),_!==a);)w++;return null!==a&&(c.directiveStylingLast=w),d}function ma(a,l,c){const d=c?1:2;let g=-1;if(null!==l)for(let _=0;_<l.length;_++){const b=l[_];"number"==typeof b?g=b:g===d&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),si(a,b,!!c||l[++_]))}return void 0===a?null:a}function RI(a,l,c){si(a,l,Br(c))}function NI(a,l,c,d,g,_,b,w){if(!(3&l.type))return;const S=a.data,M=S[w+1];Um(function(a){return 1==(1&a)}(M)?OI(S,l,c,g,So(M),b):void 0)||(Um(_)||function(a){return 2==(2&a)}(M)&&(_=OI(S,null,c,g,w,b)),function(a,l,c,d,g){const _=fn(a);if(l)g?_?a.addClass(c,d):c.classList.add(d):_?a.removeClass(c,d):c.classList.remove(d);else{let b=-1===d.indexOf("-")?void 0:as.DashCase;if(null==g)_?a.removeStyle(c,d,b):c.style.removeProperty(d);else{const w="string"==typeof g&&g.endsWith("!important");w&&(g=g.slice(0,-10),b|=as.Important),_?a.setStyle(c,d,g,b):c.style.setProperty(d,g,w?"important":"")}}}(d,b,at(Lr(),c),g,_))}function OI(a,l,c,d,g,_){const b=null===l;let w;for(;g>0;){const S=a[g],M=Array.isArray(S),R=M?S[1]:S,k=null===R;let F=c[g+1];F===Ct&&(F=k?q:void 0);let z=k?Eg(F,d):R===d?F:void 0;if(M&&!Um(z)&&(z=Eg(S,d)),Um(z)&&(w=z,b))return w;const J=a[g+1];g=b?li(J):So(J)}if(null!==l){let S=_?l.residualClasses:l.residualStyles;null!=S&&(w=Eg(S,d))}return w}function Um(a){return void 0!==a}function Cb(a,l){return 0!=(a.flags&(l?16:32))}function Ib(a,l=""){const c=ke(),d=Ht(),g=a+20,_=d.firstCreatePass?ud(d,g,1,l,null):d.data[g],b=c[g]=function(a,l){return fn(a)?a.createText(l):a.createTextNode(l)}(c[11],l);ai(d,c,b,_),ii(_,!1)}function Tb(a){return Bm("",a,""),Tb}function Bm(a,l,c){const d=ke(),g=function(a,l,c,d){return ui(a,Ks(),c)?l+ne(c)+d:Ct}(d,a,l,c);return g!==Ct&&fa(d,Lr(),g),Bm}function Sb(a,l,c,d,g){const _=ke(),b=function(a,l,c,d,g,_){const w=ju(a,ss(),c,g);return Ci(2),w?l+ne(c)+d+ne(g)+_:Ct}(_,a,l,c,d,g);return b!==Ct&&fa(_,Lr(),b),Sb}function $m(a,l,c){const d=ke();return ui(d,Ks(),l)&&zi(Ht(),Gn(),d,a,l,d[11],c,!0),$m}function Rb(a,l,c){const d=ke();if(ui(d,Ks(),l)){const _=Ht(),b=Gn();zi(_,b,d,a,l,xf(Ph(_.data),b,d),c,!0)}return Rb}const Ro=void 0;var GI=["en",[["a","p"],["AM","PM"],Ro],[["AM","PM"],Ro,Ro],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ro,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ro,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ro,"{1} 'at' {0}",Ro],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(a){const l=Math.floor(Math.abs(a)),c=a.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===c?1:5}];let _a={};function Kf(a){const l=function(a){return a.toLowerCase().replace(/_/g,"-")}(a);let c=kb(l);if(c)return c;const d=l.split("-")[0];if(c=kb(d),c)return c;if("en"===d)return GI;throw new Error(`Missing locale data for the locale "${a}".`)}function Ob(a){return Kf(a)[wt.PluralCase]}function kb(a){return a in _a||(_a[a]=Jt.ng&&Jt.ng.common&&Jt.ng.common.locales&&Jt.ng.common.locales[a]),_a[a]}var wt=(()=>((wt=wt||{})[wt.LocaleId=0]="LocaleId",wt[wt.DayPeriodsFormat=1]="DayPeriodsFormat",wt[wt.DayPeriodsStandalone=2]="DayPeriodsStandalone",wt[wt.DaysFormat=3]="DaysFormat",wt[wt.DaysStandalone=4]="DaysStandalone",wt[wt.MonthsFormat=5]="MonthsFormat",wt[wt.MonthsStandalone=6]="MonthsStandalone",wt[wt.Eras=7]="Eras",wt[wt.FirstDayOfWeek=8]="FirstDayOfWeek",wt[wt.WeekendRange=9]="WeekendRange",wt[wt.DateFormat=10]="DateFormat",wt[wt.TimeFormat=11]="TimeFormat",wt[wt.DateTimeFormat=12]="DateTimeFormat",wt[wt.NumberSymbols=13]="NumberSymbols",wt[wt.NumberFormats=14]="NumberFormats",wt[wt.CurrencyCode=15]="CurrencyCode",wt[wt.CurrencySymbol=16]="CurrencySymbol",wt[wt.CurrencyName=17]="CurrencyName",wt[wt.Currencies=18]="Currencies",wt[wt.Directionality=19]="Directionality",wt[wt.PluralCase=20]="PluralCase",wt[wt.ExtraData=21]="ExtraData",wt))();const zm="en-US";let Zm=zm;function ao(a){_t(a,"Expected localeId to be defined"),"string"==typeof a&&(Zm=a.toLowerCase().replace(/_/g,"-"))}function Jb(a,l,c,d,g){if(a=L(a),Array.isArray(a))for(let _=0;_<a.length;_++)Jb(a[_],l,c,d,g);else{const _=Ht(),b=ke();let w=Lu(a)?a:L(a.provide),S=IC(a);const M=mn(),R=1048575&M.providerIndexes,k=M.directiveStart,F=M.providerIndexes>>20;if(Lu(a)||!a.multi){const z=new ru(S,g,Om),J=zu(w,l,g?R:R+F,k);-1===J?(Vr(lu(M,b),_,w),kd(_,a,l.length),l.push(w),M.directiveStart++,M.directiveEnd++,g&&(M.providerIndexes+=1048576),c.push(z),b.push(z)):(c[J]=z,b[J]=z)}else{const z=zu(w,l,R+F,k),J=zu(w,l,R,R+F),fe=z>=0&&c[z],ce=J>=0&&c[J];if(g&&!ce||!g&&!fe){Vr(lu(M,b),_,w);const Le=function(a,l,c,d,g){const _=new ru(a,c,Om);return _.multi=[],_.index=l,_.componentProviders=0,fT(_,g,d&&!c),_}(g?vx:yx,c.length,g,d,S);!g&&ce&&(c[J].providerFactory=Le),kd(_,a,l.length,0),l.push(w),M.directiveStart++,M.directiveEnd++,g&&(M.providerIndexes+=1048576),c.push(Le),b.push(Le)}else kd(_,a,z>-1?z:J,fT(c[g?J:z],S,!g&&d));!g&&d&&ce&&c[J].componentProviders++}}}function kd(a,l,c,d){const g=Lu(l);if(g||function(a){return!!a.useClass}(l)){const b=(l.useClass||l).prototype.ngOnDestroy;if(b){const w=a.destroyHooks||(a.destroyHooks=[]);if(!g&&l.multi){const S=w.indexOf(c);-1===S?w.push(c,[d,b]):w[S+1].push(d,b)}else w.push(c,b)}}}function fT(a,l,c){return c&&a.componentProviders++,a.multi.push(l)-1}function zu(a,l,c,d){for(let g=c;g<d;g++)if(l[g]===a)return g;return-1}function yx(a,l,c,d){return qu(this.multi,[])}function vx(a,l,c,d){const g=this.multi;let _;if(this.providerFactory){const b=this.providerFactory.componentProviders,w=cu(c,c[1],this.providerFactory.index,d);_=w.slice(0,b),qu(g,_);for(let S=b;S<w.length;S++)_.push(w[S])}else _=[],qu(g,_);return _}function qu(a,l){for(let c=0;c<a.length;c++)l.push((0,a[c])());return l}function pT(a,l=[]){return c=>{c.providersResolver=(d,g)=>function(a,l,c){const d=Ht();if(d.firstCreatePass){const g=Pr(a);Jb(c,d.data,d.blueprint,g,!0),Jb(l,d.data,d.blueprint,g,!1)}}(d,g?g(a):a,l)}}class gT{}const _T="ngComponent";class wx{resolveComponentFactory(l){throw function(a){const l=Error(`No component factory found for ${re(a)}. Did you add it to @NgModule.entryComponents?`);return l[_T]=a,l}(l)}}class Wu{}function e_(...a){}function Pd(a,l){return new lo(lt(a,l))}Wu.NULL=new wx;const Wk=function(){return Pd(mn(),ke())};let lo=(()=>{class a{constructor(c){this.nativeElement=c}}return a.__NG_ELEMENT_ID__=Wk,a})();function eE(a){return a instanceof lo?a.nativeElement:a}class op{}let Ax=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>xx(),a})();const xx=function(){const a=ke(),c=tr(mn().index,a);return function(a){return a[11]}(wi(c)?c:a)};let nE=(()=>{class a{}return a.\u0275prov=Dt({token:a,providedIn:"root",factory:()=>null}),a})();class yT{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const rE=new yT("12.2.3");class t_{constructor(){}supports(l){return md(l)}create(l){return new Fd(l)}}const vT=(a,l)=>l;class Fd{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||vT}forEachItem(l){let c;for(c=this._itHead;null!==c;c=c._next)l(c)}forEachOperation(l){let c=this._itHead,d=this._removalsHead,g=0,_=null;for(;c||d;){const b=!d||c&&c.currentIndex<ET(d,g,_)?c:d,w=ET(b,g,_),S=b.currentIndex;if(b===d)g--,d=d._nextRemoved;else if(c=c._next,null==b.previousIndex)g++;else{_||(_=[]);const M=w-g,R=S-g;if(M!=R){for(let F=0;F<M;F++){const z=F<_.length?_[F]:_[F]=0,J=z+F;R<=J&&J<M&&(_[F]=z+1)}_[b.previousIndex]=R-M}}w!==S&&l(b,w,S)}}forEachPreviousItem(l){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachMovedItem(l){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}forEachIdentityChange(l){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)l(c)}diff(l){if(null==l&&(l=[]),!md(l))throw new Error(`Error trying to diff '${re(l)}'. Only arrays and iterables are allowed`);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let g,_,b,c=this._itHead,d=!1;if(Array.isArray(l)){this.length=l.length;for(let w=0;w<this.length;w++)_=l[w],b=this._trackByFn(w,_),null!==c&&Object.is(c.trackById,b)?(d&&(c=this._verifyReinsertion(c,_,b,w)),Object.is(c.item,_)||this._addIdentityChange(c,_)):(c=this._mismatch(c,_,b,w),d=!0),c=c._next}else g=0,function(a,l){if(Array.isArray(a))for(let c=0;c<a.length;c++)l(a[c]);else{const c=a[Bu()]();let d;for(;!(d=c.next()).done;)l(d.value)}}(l,w=>{b=this._trackByFn(g,w),null!==c&&Object.is(c.trackById,b)?(d&&(c=this._verifyReinsertion(c,w,b,g)),Object.is(c.item,w)||this._addIdentityChange(c,w)):(c=this._mismatch(c,w,b,g),d=!0),c=c._next,g++}),this.length=g;return this._truncate(c),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,c,d,g){let _;return null===l?_=this._itTail:(_=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._reinsertAfter(l,_,g)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(d,g))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._moveAfter(l,_,g)):l=this._addAfter(new Nx(c,d),_,g),l}_verifyReinsertion(l,c,d,g){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==_?l=this._reinsertAfter(_,l._prev,g):l.currentIndex!=g&&(l.currentIndex=g,this._addToMoves(l,g)),l}_truncate(l){for(;null!==l;){const c=l._next;this._addToRemovals(this._unlink(l)),l=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const g=l._prevRemoved,_=l._nextRemoved;return null===g?this._removalsHead=_:g._nextRemoved=_,null===_?this._removalsTail=g:_._prevRemoved=g,this._insertAfter(l,c,d),this._addToMoves(l,d),l}_moveAfter(l,c,d){return this._unlink(l),this._insertAfter(l,c,d),this._addToMoves(l,d),l}_addAfter(l,c,d){return this._insertAfter(l,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,c,d){const g=null===c?this._itHead:c._next;return l._next=g,l._prev=c,null===g?this._itTail=l:g._prev=l,null===c?this._itHead=l:c._next=l,null===this._linkedRecords&&(this._linkedRecords=new bT),this._linkedRecords.put(l),l.currentIndex=d,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const c=l._prev,d=l._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,l}_addToMoves(l,c){return l.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new bT),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,c){return l.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class Nx{constructor(l,c){this.item=l,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ox{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,l))return d;return null}remove(l){const c=l._prevDup,d=l._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class bT{constructor(){this.map=new Map}put(l){const c=l.trackById;let d=this.map.get(c);d||(d=new Ox,this.map.set(c,d)),d.add(l)}get(l,c){const g=this.map.get(l);return g?g.get(l,c):null}remove(l){const c=l.trackById;return this.map.get(c).remove(l)&&this.map.delete(c),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ET(a,l,c){const d=a.previousIndex;if(null===d)return d;let g=0;return c&&d<c.length&&(g=c[d]),d+l+g}class iE{constructor(){}supports(l){return l instanceof Map||Dm(l)}create(){return new kx}}class kx{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let c;for(c=this._mapHead;null!==c;c=c._next)l(c)}forEachPreviousItem(l){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)l(c)}forEachChangedItem(l){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}diff(l){if(l){if(!(l instanceof Map||Dm(l)))throw new Error(`Error trying to diff '${re(l)}'. Only maps and objects are allowed`)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(l,(d,g)=>{if(c&&c.key===g)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const _=this._getOrCreateRecordForKey(g,d);c=this._insertBeforeOrAppend(c,_)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,c){if(l){const d=l._prev;return c._next=l,c._prev=d,l._prev=c,d&&(d._next=c),l===this._mapHead&&(this._mapHead=c),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(l,c){if(this._records.has(l)){const g=this._records.get(l);this._maybeAddToChanges(g,c);const _=g._prev,b=g._next;return _&&(_._next=b),b&&(b._prev=_),g._next=null,g._prev=null,g}const d=new Px(l);return this._records.set(l,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,c){Object.is(c,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=c,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,c){l instanceof Map?l.forEach(c):Object.keys(l).forEach(d=>c(l[d],d))}}class Px{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ci(){return new n_([new t_])}let n_=(()=>{class a{constructor(c){this.factories=c}static create(c,d){if(null!=d){const g=d.factories.slice();c=c.concat(g)}return new a(c)}static extend(c){return{provide:a,useFactory:d=>a.create(c,d||ci()),deps:[[a,new oa,new Co]]}}find(c){const d=this.factories.find(g=>g.supports(c));if(null!=d)return d;throw new Error(`Cannot find a differ supporting object '${c}' of type '${function(a){return a.name||typeof a}(c)}'`)}}return a.\u0275prov=Dt({token:a,providedIn:"root",factory:ci}),a})();function ap(){return new wl([new iE])}let wl=(()=>{class a{constructor(c){this.factories=c}static create(c,d){if(d){const g=d.factories.slice();c=c.concat(g)}return new a(c)}static extend(c){return{provide:a,useFactory:d=>a.create(c,d||ap()),deps:[[a,new oa,new Co]]}}find(c){const d=this.factories.find(g=>g.supports(c));if(d)return d;throw new Error(`Cannot find a differ supporting object '${c}'`)}}return a.\u0275prov=Dt({token:a,providedIn:"root",factory:ap}),a})();function ya(a,l,c,d,g=!1){for(;null!==c;){const _=l[c.index];if(null!==_&&d.push(Ce(_)),ri(_))for(let w=10;w<_.length;w++){const S=_[w],M=S[1].firstChild;null!==M&&ya(S[1],S,M,d)}const b=c.type;if(8&b)ya(a,l,c.child,d);else if(32&b){const w=Wg(c,l);let S;for(;S=w();)d.push(S)}else if(16&b){const w=Jg(l,c);if(Array.isArray(w))d.push(...w);else{const S=_f(l[16]);ya(S[1],S,w,d,!0)}}c=g?c.projectionNext:c.next}return d}class lp{constructor(l,c){this._lView=l,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,c=l[1];return ya(c,l,c.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(ri(l)){const c=l[8],d=c?c.indexOf(this):-1;d>-1&&(B0(l,d),el(c,d))}this._attachedToViewContainer=!1}wv(this._lView[1],this._lView)}onDestroy(l){Hv(this._lView[1],this._lView,null,l)}markForCheck(){Wv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){vm(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(a,l,c){Vc(!0);try{vm(a,l,c)}finally{Vc(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var l;this._appRef=null,od(this._lView[1],l=this._lView,l[11],2,null,null)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=l}}class Fx extends lp{constructor(l){super(l),this._view=l}detectChanges(){_C(this._view)}checkNoChanges(){!function(a){Vc(!0);try{_C(a)}finally{Vc(!1)}}(this._view)}get context(){return null}}const wT=function(a){return function(a,l,c){if(vs(a)&&!c){const d=tr(a.index,l);return new lp(d,d)}return 47&a.type?new lp(l[16],l):null}(mn(),ke(),16==(16&a))};let Lx=(()=>{class a{}return a.__NG_ELEMENT_ID__=wT,a})();const oE=[new iE],Zu=new n_([new t_]),TT=new wl(oE),Ux=function(){return up(mn(),ke())};let Ld=(()=>{class a{}return a.__NG_ELEMENT_ID__=Ux,a})();const Bx=Ld,jx=class extends Bx{constructor(l,c,d){super(),this._declarationLView=l,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(l){const c=this._declarationTContainer.tViews,d=ld(this._declarationLView,c,l,16,null,c.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(d[19]=_.createEmbeddedView(c)),fm(c,d,l),new lp(d)}};function up(a,l){return 4&a.type?new jx(l,a,Pd(a,l)):null}class Ku{}class ST{}const Gx=function(){return aE(mn(),ke())};let i_=(()=>{class a{}return a.__NG_ELEMENT_ID__=Gx,a})();const zx=i_,qx=class extends zx{constructor(l,c,d){super(),this._lContainer=l,this._hostTNode=c,this._hostLView=d}get element(){return Pd(this._hostTNode,this._hostLView)}get injector(){return new ia(this._hostTNode,this._hostLView)}get parentInjector(){const l=ra(this._hostTNode,this._hostLView);if(Ya(l)){const c=su(l,this._hostLView),d=na(l);return new ia(c[1].data[d+8],c)}return new ia(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const c=MT(this._lContainer);return null!==c&&c[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,c,d){const g=l.createEmbeddedView(c||{});return this.insert(g,d),g}createComponent(l,c,d,g,_){const b=d||this.parentInjector;if(!_&&null==l.ngModule&&b){const S=b.get(Ku,null);S&&(_=S)}const w=l.create(b,g,void 0,_);return this.insert(w.hostView,c),w}insert(l,c){const d=l._lView,g=d[1];if(ri(d[3])){const R=this.indexOf(l);if(-1!==R)this.detach(R);else{const k=d[3],F=new qx(k,k[6],k[3]);F.detach(F.indexOf(l))}}const _=this._adjustIndex(c),b=this._lContainer;!function(a,l,c,d){const g=10+d,_=c.length;d>0&&(c[g-1][4]=l),d<_-10?(l[4]=c[g],$h(c,10+d,l)):(c.push(l),l[4]=null),l[3]=c;const b=l[17];null!==b&&c!==b&&function(a,l){const c=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===c?a[9]=[l]:c.push(l)}(b,l);const w=l[19];null!==w&&w.insertView(a),l[2]|=128}(g,d,b,_);const w=H0(_,b),S=d[11],M=vf(S,b[7]);return null!==M&&function(a,l,c,d,g,_){d[0]=g,d[6]=l,od(a,d,c,1,g,_)}(g,b[6],S,d,M,w),l.attachToViewContainerRef(),$h(xT(b),_,l),l}move(l,c){return this.insert(l,c)}indexOf(l){const c=MT(this._lContainer);return null!==c?c.indexOf(l):-1}remove(l){const c=this._adjustIndex(l,-1),d=B0(this._lContainer,c);d&&(el(xT(this._lContainer),c),wv(d[1],d))}detach(l){const c=this._adjustIndex(l,-1),d=B0(this._lContainer,c);return d&&null!=el(xT(this._lContainer),c)?new lp(d):null}_adjustIndex(l,c=0){return null==l?this.length+c:l}};function MT(a){return a[8]}function xT(a){return a[8]||(a[8]=[])}function aE(a,l){let c;const d=l[a.index];if(ri(d))c=d;else{let g;if(8&a.type)g=Ce(d);else{const _=l[11];g=_.createComment("");const b=lt(a,l);cl(_,vf(_,b),g,function(a,l){return fn(a)?a.nextSibling(l):l.nextSibling}(_,b),!1)}l[a.index]=c=fC(d,l,g,a),gd(l,c)}return new qx(c,a,l)}const Hd={};class ZT extends Wu{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const c=In(l);return new SE(c,this.ngModule)}}function KT(a){const l=[];for(let c in a)a.hasOwnProperty(c)&&l.push({propName:a[c],templateName:c});return l}const AR=new On("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Au});class SE extends gT{constructor(l,c){super(),this.componentDef=l,this.ngModule=c,this.componentType=l.type,this.selector=l.selectors.map(rm).join(","),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return KT(this.componentDef.inputs)}get outputs(){return KT(this.componentDef.outputs)}create(l,c,d,g){const _=(g=g||this.ngModule)?function(a,l){return{get:(c,d,g)=>{const _=a.get(c,Hd,g);return _!==Hd||d===Hd?_:l.get(c,d,g)}}}(l,g.injector):l,b=_.get(op,W),w=_.get(nE,null),S=b.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",R=d?function(a,l,c){if(fn(a))return a.selectRootElement(l,c===je.ShadowDom);let d="string"==typeof l?a.querySelector(l):l;return d.textContent="",d}(S,d,this.componentDef.encapsulation):bv(b.createRenderer(null,this.componentDef),M,function(a){const l=a.toLowerCase();return"svg"===l?Ua:"math"===l?"http://www.w3.org/1998/MathML/":null}(M)),k=this.componentDef.onPush?576:528,F=function(a,l){return{components:[],scheduler:a||Au,clean:vC,playerHandler:l||null,flags:0}}(),z=gm(0,null,null,1,0,null,null,null,null,null),J=ld(null,z,F,k,null,null,b,S,w,_);let fe,ce;eu(J);try{const Le=function(a,l,c,d,g,_){const b=c[1];c[20]=a;const S=ud(b,20,2,"#host",null),M=S.mergedAttrs=l.hostAttrs;null!==M&&(wm(S,M,!0),null!==a&&(Gc(g,a,M),null!==S.classes&&wf(g,a,S.classes),null!==S.styles&&Av(g,a,S.styles)));const R=d.createRenderer(a,l),k=ld(c,jv(l),null,l.onPush?64:16,c[20],S,d,R,_||null,null);return b.firstCreatePass&&(Vr(lu(S,c),b,l.type),cC(b,S),zv(S,c.length,1)),gd(c,k),c[20]=k}(R,this.componentDef,J,b,S);if(R)if(d)Gc(S,R,["ng-version",rE.full]);else{const{attrs:Re,classes:ut}=function(a){const l=[],c=[];let d=1,g=2;for(;d<a.length;){let _=a[d];if("string"==typeof _)2===g?""!==_&&l.push(_,a[++d]):8===g&&c.push(_);else{if(!Xs(g))break;g=_}d++}return{attrs:l,classes:c}}(this.componentDef.selectors[0]);Re&&Gc(S,R,Re),ut&&ut.length>0&&wf(S,R,ut.join(" "))}if(ce=er(z,20),void 0!==c){const Re=ce.projection=[];for(let ut=0;ut<this.ngContentSelectors.length;ut++){const St=c[ut];Re.push(null!=St?Array.from(St):null)}}fe=function(a,l,c,d,g){const _=c[1],b=function(a,l,c){const d=mn();a.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),qv(a,d,l,pl(a,l,1,null),c));const g=cu(l,a,d.directiveStart,d);Dr(g,l);const _=lt(d,l);return _&&Dr(_,l),g}(_,c,l);if(d.components.push(b),a[8]=b,g&&g.forEach(S=>S(b,l)),l.contentQueries){const S=mn();l.contentQueries(1,b,S.directiveStart)}const w=mn();return!_.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(qa(w.index),dd(c[1],w,0,w.directiveStart,w.directiveEnd,l),mm(l,b)),b}(Le,this.componentDef,J,F,[Lf]),fm(z,J,null)}finally{tu()}return new xR(this.componentType,fe,Pd(ce,J),J,ce)}}class xR extends class{}{constructor(l,c,d,g,_){super(),this.location=d,this._rootLView=g,this._tNode=_,this.instance=c,this.hostView=this.changeDetectorRef=new Fx(g),this.componentType=l}get injector(){return new ia(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}const gp=new Map;class fP extends Ku{constructor(l,c){super(),this._parent=c,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ZT(this);const d=vi(l),g=l[Ue]||null;g&&ao(g),this._bootstrapComponents=Gi(d.bootstrap),this._r3Injector=CC(l,c,[{provide:Ku,useValue:this},{provide:Wu,useValue:this.componentFactoryResolver}],re(l)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(l)}get(l,c=qt.THROW_IF_NOT_FOUND,d=it.Default){return l===qt||l===Ku||l===Pu?this:this._r3Injector.get(l,c,d)}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class DE extends ST{constructor(l){super(),this.moduleType=l,null!==vi(l)&&function(a){const l=new Set;!function c(d){const g=vi(d,!0),_=g.id;null!==_&&(function(a,l,c){if(l&&l!==c)throw new Error(`Duplicate module registered for ${a} - ${re(l)} vs ${re(l.name)}`)}(_,gp.get(_),d),gp.set(_,d));const b=Gi(g.imports);for(const w of b)l.has(w)||(l.add(w),c(w))}(a)}(l)}create(l){return new fP(this.moduleType,l)}}function QT(a,l,c,d){return function(a,l,c,d,g,_){const b=l+c;return ui(a,b,g)?ro(a,b+1,_?d.call(_,g):d(g)):mp(a,b+1)}(ke(),$n(),a,l,c,d)}function mp(a,l){const c=a[l];return c===Ct?void 0:c}function ME(a,l,c,d,g,_,b,w,S){const M=l+c;return function(a,l,c,d,g,_){const b=ju(a,l,c,d);return ju(a,l+2,g,_)||b}(a,M,g,_,b,w)?ro(a,M+4,S?d.call(S,g,_,b,w):d(g,_,b,w)):mp(a,M+4)}function cs(a,l){const c=Ht();let d;const g=a+20;c.firstCreatePass?(d=function(a,l){if(l)for(let c=l.length-1;c>=0;c--){const d=l[c];if(a===d.name)return d}throw new Ae("302",`The pipe '${a}' could not be found!`)}(l,c.pipeRegistry),c.data[g]=d,d.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(g,d.onDestroy)):d=c.data[g];const _=d.factory||(d.factory=rs(d.type)),b=Dn(Om);try{const w=ou(!1),S=_();return ou(w),function(a,l,c,d){c>=a.data.length&&(a.data[c]=null,a.blueprint[c]=null),l[c]=d}(c,ke(),g,S),S}finally{Dn(b)}}function RE(a,l,c,d,g,_){const b=a+20,w=ke(),S=Sr(w,b);return function(a,l){no.isWrapped(l)&&(l=no.unwrap(l),a[ss()]=Ct);return l}(w,function(a,l){return a[1].data[l].pure}(w,b)?ME(w,$n(),l,S.transform,c,d,g,_,S):S.transform(c,d,g,_))}function f_(a){return l=>{setTimeout(a,void 0,l)}}const Po=class extends f.xQ{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,c,d){var g,_,b;let w=l,S=c||(()=>null),M=d;if(l&&"object"==typeof l){const k=l;w=null===(g=k.next)||void 0===g?void 0:g.bind(k),S=null===(_=k.error)||void 0===_?void 0:_.bind(k),M=null===(b=k.complete)||void 0===b?void 0:b.bind(k)}this.__isAsync&&(S=f_(S),w&&(w=f_(w)),M&&(M=f_(M)));const R=super.subscribe({next:w,error:S,complete:M});return l instanceof de.w&&l.add(R),R}};function rt(){return this._results[Bu()]()}class tc{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Bu(),d=tc.prototype;d[c]||(d[c]=rt)}get changes(){return this._changes||(this._changes=new Po)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,c){return this._results.reduce(l,c)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,c){const d=this;d.dirty=!1;const g=Ii(l);(this._changesDetected=!function(a,l,c){if(a.length!==l.length)return!1;for(let d=0;d<a.length;d++){let g=a[d],_=l[d];if(c&&(g=c(g),_=c(_)),_!==g)return!1}return!0}(d._results,g,c))&&(d._results=g,d.length=g.length,d.last=g[this.length-1],d.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class nc{constructor(l){this.queryList=l,this.matches=null}clone(){return new nc(this.queryList)}setDirty(){this.queryList.setDirty()}}class NE{constructor(l=[]){this.queries=l}createEmbeddedView(l){const c=l.queries;if(null!==c){const d=null!==l.contentQueries?l.contentQueries[0]:c.length,g=[];for(let _=0;_<d;_++){const b=c.getByIndex(_);g.push(this.queries[b.indexInDeclarationView].clone())}return new NE(g)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let c=0;c<this.queries.length;c++)null!==di(l,c).matches&&this.queries[c].setDirty()}}class g_{constructor(l,c,d=null){this.predicate=l,this.flags=c,this.read=d}}class OE{constructor(l=[]){this.queries=l}elementStart(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(l,c)}elementEnd(l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(l)}embeddedTView(l){let c=null;for(let d=0;d<this.length;d++){const g=null!==c?c.length:0,_=this.getByIndex(d).embeddedTView(l,g);_&&(_.indexInDeclarationView=d,null!==c?c.push(_):c=[_])}return null!==c?new OE(c):null}template(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(l,c)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class kE{constructor(l,c=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(l,c){this.isApplyingToNode(c)&&this.matchTNode(l,c)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,c){this.elementStart(l,c)}embeddedTView(l,c){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,c),new kE(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=l.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(l,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let g=0;g<d.length;g++){const _=d[g];this.matchTNodeWithReadOption(l,c,HR(c,_)),this.matchTNodeWithReadOption(l,c,Wc(c,l,_,!1,!1))}else d===Ld?4&c.type&&this.matchTNodeWithReadOption(l,c,-1):this.matchTNodeWithReadOption(l,c,Wc(c,l,d,!1,!1))}matchTNodeWithReadOption(l,c,d){if(null!==d){const g=this.metadata.read;if(null!==g)if(g===lo||g===i_||g===Ld&&4&c.type)this.addMatch(c.index,-2);else{const _=Wc(c,l,g,!1,!1);null!==_&&this.addMatch(c.index,_)}else this.addMatch(c.index,d)}}addMatch(l,c){null===this.matches?this.matches=[l,c]:this.matches.push(l,c)}}function HR(a,l){const c=a.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===l)return c[d+1];return null}function m_(a,l,c,d){return-1===c?function(a,l){return 11&a.type?Pd(a,l):4&a.type?up(a,l):null}(l,a):-2===c?function(a,l,c){return c===lo?Pd(l,a):c===Ld?up(l,a):c===i_?aE(l,a):void 0}(a,l,d):cu(a,a[1],c,l)}function ba(a,l,c,d){const g=l[19].queries[d];if(null===g.matches){const _=a.data,b=c.matches,w=[];for(let S=0;S<b.length;S+=2){const M=b[S];w.push(M<0?null:m_(l,_[M],b[S+1],c.metadata.read))}g.matches=w}return g.matches}function PE(a,l,c,d){const g=a.queries.getByIndex(c),_=g.matches;if(null!==_){const b=ba(a,l,g,c);for(let w=0;w<_.length;w+=2){const S=_[w];if(S>0)d.push(b[w/2]);else{const M=_[w+1],R=l[-S];for(let k=10;k<R.length;k++){const F=R[k];F[17]===F[3]&&PE(F[1],F,M,d)}if(null!==R[9]){const k=R[9];for(let F=0;F<k.length;F++){const z=k[F];PE(z[1],z,M,d)}}}}}return d}function rS(a){const l=ke(),c=Ht(),d=Fh();Qo(d+1);const g=di(c,d);if(a.dirty&&wo(l)===(2==(2&g.metadata.flags))){if(null===g.matches)a.reset([]);else{const _=g.crossesNgTemplate?PE(c,l,d,[]):ba(c,l,g,d);a.reset(_,eE),a.notifyOnChanges()}return!0}return!1}function FE(a,l,c){const d=Ht();d.firstCreatePass&&(_p(d,new g_(a,l,c),-1),2==(2&l)&&(d.staticViewQueries=!0)),__(d,ke(),l)}function LE(a,l,c,d){const g=Ht();if(g.firstCreatePass){const _=mn();_p(g,new g_(l,c,d),_.index),function(a,l){const c=a.contentQueries||(a.contentQueries=[]);l!==(c.length?c[c.length-1]:-1)&&c.push(a.queries.length-1,l)}(g,a),2==(2&c)&&(g.staticContentQueries=!0)}__(g,ke(),c)}function iS(){return a=ke(),l=Fh(),a[19].queries[l].queryList;var a,l}function __(a,l,c){const d=new tc(4==(4&c));Hv(a,l,d,d.destroy),null===l[19]&&(l[19]=new NE),l[19].queries.push(new nc(d))}function _p(a,l,c){null===a.queries&&(a.queries=new OE),a.queries.track(new kE(l,c))}function di(a,l){return a.queries.getByIndex(l)}function y_(a,l){return up(a,l)}const D_=new On("Application Initializer");let Ea=(()=>{class a{constructor(c){this.appInits=c,this.resolve=e_,this.reject=e_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,g)=>{this.resolve=d,this.reject=g})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let g=0;g<this.appInits.length;g++){const _=this.appInits[g]();if(fI(_))c.push(_);else if(fb(_)){const b=new Promise((w,S)=>{_.subscribe({complete:w,error:S})});c.push(b)}}Promise.all(c).then(()=>{d()}).catch(g=>{this.reject(g)}),0===c.length&&d(),this.initialized=!0}}return a.\u0275fac=function(c){return new(c||a)(kn(D_,8))},a.\u0275prov=Dt({token:a,factory:a.\u0275fac}),a})();const tw=new On("AppId"),SS={provide:tw,useFactory:function(){return`${Kr()}${Kr()}${Kr()}`},deps:[]};function Kr(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const nw=new On("Platform Initializer"),qd=new On("Platform ID"),Cp=new On("appBootstrapListener");let A_=(()=>{class a{log(c){console.log(c)}warn(c){console.warn(c)}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=Dt({token:a,factory:a.\u0275fac}),a})();const Ip=new On("LocaleId"),rw=new On("DefaultCurrencyCode");class MS{constructor(l,c){this.ngModuleFactory=l,this.componentFactories=c}}const Wd=function(a){return new DE(a)},ow=Wd,RS=function(a){return Promise.resolve(Wd(a))},Zd=function(a){const l=Wd(a),d=Gi(vi(a).declarations).reduce((g,_)=>{const b=In(_);return b&&g.push(new SE(b)),g},[]);return new MS(l,d)},NS=Zd,ac=function(a){return Promise.resolve(Zd(a))};let lc=(()=>{class a{constructor(){this.compileModuleSync=ow,this.compileModuleAsync=RS,this.compileModuleAndAllComponentsSync=NS,this.compileModuleAndAllComponentsAsync=ac}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=Dt({token:a,factory:a.\u0275fac}),a})();const Kd=(()=>Promise.resolve(0))();function Tp(a){"undefined"==typeof Zone?Kd.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class Zi{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Po(!1),this.onMicrotaskEmpty=new Po(!1),this.onStable=new Po(!1),this.onError=new Po(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!d&&c,g.shouldCoalesceRunChangeDetection=d,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function(){let a=Jt.requestAnimationFrame,l=Jt.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&l){const c=a[Zone.__symbol__("OriginalDelegate")];c&&(a=c);const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function(a){const l=()=>{!function(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(Jt,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,Yd(a),a.isCheckStableRunning=!0,wa(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),Yd(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,g,_,b,w)=>{try{return Sp(a),c.invokeTask(g,_,b,w)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||a.shouldCoalesceRunChangeDetection)&&l(),uw(a)}},onInvoke:(c,d,g,_,b,w,S)=>{try{return Sp(a),c.invoke(g,_,b,w,S)}finally{a.shouldCoalesceRunChangeDetection&&l(),uw(a)}},onHasTask:(c,d,g,_)=>{c.hasTask(g,_),d===g&&("microTask"==_.change?(a._hasPendingMicrotasks=_.microTask,Yd(a),wa(a)):"macroTask"==_.change&&(a.hasPendingMacrotasks=_.macroTask))},onHandleError:(c,d,g,_)=>(c.handleError(g,_),a.runOutsideAngular(()=>a.onError.emit(_)),!1)})}(g)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Zi.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Zi.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(l,c,d){return this._inner.run(l,c,d)}runTask(l,c,d,g){const _=this._inner,b=_.scheduleEventTask("NgZoneEvent: "+g,l,rN,e_,e_);try{return _.runTask(b,c,d)}finally{_.cancelTask(b)}}runGuarded(l,c,d){return this._inner.runGuarded(l,c,d)}runOutsideAngular(l){return this._outer.run(l)}}const rN={};function wa(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function Yd(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function Sp(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function uw(a){a._nesting--,wa(a)}class Mn{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Po,this.onMicrotaskEmpty=new Po,this.onStable=new Po,this.onError=new Po}run(l,c,d){return l.apply(c,d)}runGuarded(l,c,d){return l.apply(c,d)}runOutsideAngular(l){return l()}runTask(l,c,d,g){return l.apply(c,d)}}let Dp=(()=>{class a{constructor(c){this._ngZone=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Zi.assertNotInAngularZone(),Tp(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Tp(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,g){let _=-1;d&&d>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==_),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:_,updateCb:g})}whenStable(c,d,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(c,d,g){return[]}}return a.\u0275fac=function(c){return new(c||a)(kn(Zi))},a.\u0275prov=Dt({token:a,factory:a.\u0275fac}),a})(),OS=(()=>{class a{constructor(){this._applications=new Map,cc.addToWindow(this)}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return cc.findTestabilityInTree(this,c,d)}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=Dt({token:a,factory:a.\u0275fac}),a})();class iN{addToWindow(l){}findTestabilityInTree(l,c,d){return null}}function Ap(a){cc=a}let cc=new iN,kS=!0,cw=!1;function dw(){return cw=!0,kS}function sN(){if(cw)throw new Error("Cannot enable prod mode after platform setup.");kS=!1}let ho;const hw=new On("AllowMultipleToken");class uN{constructor(l,c){this.name=l,this.token=c}}function fw(a,l,c=[]){const d=`Platform: ${l}`,g=new On(d);return(_=[])=>{let b=gw();if(!b||b.injector.get(hw,!1))if(a)a(c.concat(_).concat({provide:g,useValue:!0}));else{const w=c.concat(_).concat({provide:g,useValue:!0},{provide:Rf,useValue:"platform"});!function(a){if(ho&&!ho.destroyed&&!ho.injector.get(hw,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ho=a.get(mw);const l=a.get(nw,null);l&&l.forEach(c=>c())}(qt.create({providers:w,name:d}))}return function(a){const l=gw();if(!l)throw new Error("No platform exists!");if(!l.injector.get(a,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return l}(g)}}function gw(){return ho&&!ho.destroyed?ho:null}let mw=(()=>{class a{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const w=function(a,l){let c;return c="noop"===a?new Mn:("zone.js"===a?void 0:a)||new Zi({enableLongStackTrace:dw(),shouldCoalesceEventChangeDetection:!!(null==l?void 0:l.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==l?void 0:l.ngZoneRunCoalescing)}),c}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),S=[{provide:Zi,useValue:w}];return w.run(()=>{const M=qt.create({providers:S,parent:this.injector,name:c.moduleType.name}),R=c.create(M),k=R.injector.get(T,null);if(!k)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return w.runOutsideAngular(()=>{const F=w.onError.subscribe({next:z=>{k.handleError(z)}});R.onDestroy(()=>{Jd(this._modules,R),F.unsubscribe()})}),function(a,l,c){try{const d=c();return fI(d)?d.catch(g=>{throw l.runOutsideAngular(()=>a.handleError(g)),g}):d}catch(d){throw l.runOutsideAngular(()=>a.handleError(d)),d}}(k,w,()=>{const F=R.injector.get(Ea);return F.runInitializers(),F.donePromise.then(()=>(ao(R.injector.get(Ip,zm)||zm),this._moduleDoBootstrap(R),R))})})}bootstrapModule(c,d=[]){const g=US({},d);return function(a,l,c){const d=new DE(c);return Promise.resolve(d)}(0,0,c).then(_=>this.bootstrapModuleFactory(_,g))}_moduleDoBootstrap(c){const d=c.injector.get(Mp);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(g=>d.bootstrap(g));else{if(!c.instance.ngDoBootstrap)throw new Error(`The module ${re(c.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(c){return new(c||a)(kn(qt))},a.\u0275prov=Dt({token:a,factory:a.\u0275fac}),a})();function US(a,l){return Array.isArray(l)?l.reduce(US,a):Object.assign(Object.assign({},a),l)}let Mp=(()=>{class a{constructor(c,d,g,_,b){this._zone=c,this._injector=d,this._exceptionHandler=g,this._componentFactoryResolver=_,this._initStatus=b,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new $.y(M=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{M.next(this._stable),M.complete()})}),S=new $.y(M=>{let R;this._zone.runOutsideAngular(()=>{R=this._zone.onStable.subscribe(()=>{Zi.assertNotInAngularZone(),Tp(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,M.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{Zi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{M.next(!1)}))});return()=>{R.unsubscribe(),k.unsubscribe()}});this.isStable=(0,ie.T)(w,S.pipe((0,me.B)()))}bootstrap(c,d){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let g;g=c instanceof gT?c:this._componentFactoryResolver.resolveComponentFactory(c),this.componentTypes.push(g.componentType);const _=function(a){return a.isBoundToModule}(g)?void 0:this._injector.get(Ku),w=g.create(qt.NULL,[],d||g.selector,_),S=w.location.nativeElement,M=w.injector.get(Dp,null),R=M&&w.injector.get(OS);return M&&R&&R.registerApplication(S,M),w.onDestroy(()=>{this.detachView(w.hostView),Jd(this.components,w),R&&R.unregisterApplication(S)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;Jd(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(Cp,[]).concat(this._bootstrapListeners).forEach(g=>g(c))}ngOnDestroy(){this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return a.\u0275fac=function(c){return new(c||a)(kn(Zi),kn(qt),kn(T),kn(Wu),kn(Ea))},a.\u0275prov=Dt({token:a,factory:a.\u0275fac}),a})();function Jd(a,l){const c=a.indexOf(l);c>-1&&a.splice(c,1)}class yw{}class hN{}const fN={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let pN=(()=>{class a{constructor(c,d){this._compiler=c,this._config=d||fN}load(c){return this.loadAndCompile(c)}loadAndCompile(c){let[d,g]=c.split("#");return void 0===g&&(g="default"),V(8255)(d).then(_=>_[g]).then(_=>HS(_,d,g)).then(_=>this._compiler.compileModuleAsync(_))}loadFactory(c){let[d,g]=c.split("#"),_="NgFactory";return void 0===g&&(g="default",_=""),V(8255)(this._config.factoryPathPrefix+d+this._config.factoryPathSuffix).then(b=>b[g+_]).then(b=>HS(b,d,g))}}return a.\u0275fac=function(c){return new(c||a)(kn(lc),kn(hN,8))},a.\u0275prov=Dt({token:a,factory:a.\u0275fac}),a})();function HS(a,l,c){if(!a)throw new Error(`Cannot find '${c}' in '${l}'`);return a}const ZS=function(a){return null},B_=fw(null,"core",[{provide:qd,useValue:"unknown"},{provide:mw,deps:[qt]},{provide:OS,deps:[]},{provide:A_,deps:[]}]),JS=[{provide:Mp,useClass:Mp,deps:[Zi,qt,T,Wu,Ea]},{provide:AR,deps:[Zi],useFactory:function(a){let l=[];return a.onStable.subscribe(()=>{for(;l.length;)l.pop()()}),function(c){l.push(c)}}},{provide:Ea,useClass:Ea,deps:[[new Co,D_]]},{provide:lc,useClass:lc,deps:[]},SS,{provide:n_,useFactory:function(){return Zu},deps:[]},{provide:wl,useFactory:function(){return TT},deps:[]},{provide:Ip,useFactory:function(a){return ao(a=a||"undefined"!=typeof $localize&&$localize.locale||zm),a},deps:[[new bu(Ip),new Co,new oa]]},{provide:rw,useValue:"USD"}];let XS=(()=>{class a{constructor(c){}}return a.\u0275fac=function(c){return new(c||a)(kn(Mp))},a.\u0275mod=ms({type:a}),a.\u0275inj=dn({providers:JS}),a})()},9958:(et,Ne,V)=>{"use strict";V.d(Ne,{hO:()=>Ae,xv:()=>Y,Dh:()=>B,Ot:()=>K,GT:()=>re,on:()=>L,pX:()=>he});var f=V(7716),de=V(4486);de.Z.registerVersion("firebase","9.0.0","app-compat");var me=V(9126);et=V.hmd(et);const X=["ngOnDestroy"],he=(_e,pe,ne,be={})=>new Proxy(_e,{get:(We,Ve)=>ne.runOutsideAngular(()=>{var Je;if(_e[Ve])return(null===(Je=null==be?void 0:be.spy)||void 0===Je?void 0:Je.get)&&be.spy.get(Ve,_e[Ve]),_e[Ve];if(X.indexOf(Ve)>-1)return()=>{};const xt=pe.toPromise().then(Ie=>{const kt=Ie&&Ie[Ve];return"function"==typeof kt?kt.bind(Ie):kt&&kt.then?kt.then(Et=>ne.run(()=>Et)):ne.run(()=>kt)});return new Proxy(()=>{},{get:(Ie,kt)=>xt[kt],apply:(Ie,kt,Et)=>xt.then(Ee=>{var ge;const De=Ee&&Ee(...Et);return(null===(ge=null==be?void 0:be.spy)||void 0===ge?void 0:ge.apply)&&be.spy.apply(Ve,Et,De),De})})})}),re=(_e,pe)=>{pe.forEach(ne=>{Object.getOwnPropertyNames(ne.prototype||ne).forEach(be=>{Object.defineProperty(_e.prototype,be,Object.getOwnPropertyDescriptor(ne.prototype||ne,be))})})};class K{constructor(pe){return pe}}const B=new f.OlP("angularfire2.app.options"),Y=new f.OlP("angularfire2.app.name");function L(_e,pe,ne){const We="object"==typeof ne&&ne||{};We.name=We.name||"string"==typeof ne&&ne||"[DEFAULT]";const Je=de.Z.apps.filter(xt=>xt&&xt.name===We.name)[0]||pe.runOutsideAngular(()=>de.Z.initializeApp(_e,We));try{JSON.stringify(_e)!==JSON.stringify(Je.options)&&Q("error",`${Je.name} Firebase App already initialized with different options${et.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(xt){}return new K(Je)}const Q=(_e,...pe)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[_e](...pe)},oe={provide:K,useFactory:L,deps:[B,f.R0b,[new f.FiY,Y]]};let Ae=(()=>{class _e{constructor(ne){de.Z.registerVersion("angularfire",me.q4.full,`compat-${ne.toString()}`),de.Z.registerVersion("angular",f.q4F.full)}static initializeApp(ne,be){return{ngModule:_e,providers:[{provide:B,useValue:ne},{provide:Y,useValue:be}]}}}return _e.\u0275fac=function(ne){return new(ne||_e)(f.LFG(f.Lbi))},_e.\u0275mod=f.oAB({type:_e}),_e.\u0275inj=f.cJS({providers:[oe]}),_e})()},9126:(et,Ne,V)=>{"use strict";V.d(Ne,{q4:()=>B,iC:()=>Ee,f6:()=>Et,HU:()=>Ve,cc:()=>Q});var f=V(7716);(0,V(5452).registerVersion)("firebase","9.0.0","app");var me=V(7771),X=V(3637),he=V(3342),re=V(6136),K=V(9673);et=V.hmd(et);const B=new f.GfV("7.0.0"),Y=!!et.hot,L=(we,...ae)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[we](...ae)};function Q(we,ae,Ge,ht,sn){const[,dt,_t]=globalThis.\u0275AngularfireInstanceCache.find(ft=>ft[0]===we)||[];if(dt)return function(we,ae){try{return we.toString()===ae.toString()}catch(Ge){return we===ae}}(sn,_t)||(L("error",`${ae} was already initialized on the ${Ge} Firebase App with different settings.${Y?" You may need to reload as Firebase is not HMR aware.":""}`),L("warn",{is:sn,was:_t})),dt;{const ft=ht();return globalThis.\u0275AngularfireInstanceCache.push([we,ft,sn]),ft}}function ne(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class be{constructor(ae,Ge=me.N){this.zone=ae,this.delegate=Ge}now(){return this.delegate.now()}schedule(ae,Ge,ht){const sn=this.zone;return this.delegate.schedule(function(_t){sn.runGuarded(()=>{ae.apply(this,[_t])})},Ge,ht)}}class We{constructor(ae){this.zone=ae,this.task=null}call(ae,Ge){const ht=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ne,{},ne,ne)),Ge.pipe((0,he.b)({next:ht,complete:ht,error:ht})).subscribe(ae).add(ht)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ve=(()=>{class we{constructor(Ge){this.ngZone=Ge,this.outsideAngular=Ge.runOutsideAngular(()=>new be(Zone.current)),this.insideAngular=Ge.run(()=>new be(Zone.current,X.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return we.\u0275fac=function(Ge){return new(Ge||we)(f.LFG(f.R0b))},we.\u0275prov=f.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"}),we})();function Je(){const we=globalThis.\u0275AngularFireScheduler;if(!we)throw new Error("AngularFireModule has not been provided");return we}function Et(we){return we.pipe((0,re.QV)(Je().insideAngular))}function Ee(we){return Je(),function(we){return function(Ge){return(Ge=Ge.lift(new We(we.ngZone))).pipe((0,K.R)(we.outsideAngular),(0,re.QV)(we.insideAngular))}}(Je())(we)}},9534:(et,Ne,V)=>{"use strict";V.d(Ne,{Gb:()=>kc,Kz:()=>ja,EI:()=>Ba,lT:()=>Tr,Iv:()=>Ua,xP:()=>Jl,Xd:()=>Es});var f=V(8239),de=V(5452),$=V(300),ie=V(4685),me=V(6034),X=V(6676);const B="w:0.5.0",Y="FIS_v2",pe=new ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ne(U){return U instanceof ie.ZR&&U.code.includes("request-failed")}function be({projectId:U}){return`https://firebaseinstallations.googleapis.com/v1/projects/${U}/installations`}function We(U){return{token:U.token,requestStatus:2,expiresIn:Ee(U.expiresIn),creationTime:Date.now()}}function Ve(U,W){return Je.apply(this,arguments)}function Je(){return(Je=(0,f.Z)(function*(U,W){const Ce=(yield W.json()).error;return pe.create("request-failed",{requestName:U,serverCode:Ce.code,serverMessage:Ce.message,serverStatus:Ce.status})})).apply(this,arguments)}function xt({apiKey:U}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":U})}function Ie(U,{refreshToken:W}){const se=xt(U);return se.append("Authorization",function(U){return`${Y} ${U}`}(W)),se}function kt(U){return Et.apply(this,arguments)}function Et(){return(Et=(0,f.Z)(function*(U){const W=yield U();return W.status>=500&&W.status<600?U():W})).apply(this,arguments)}function Ee(U){return Number(U.replace("s","000"))}function De(U,W){return Se.apply(this,arguments)}function Se(){return(Se=(0,f.Z)(function*(U,{fid:W}){const se=be(U),Ye={method:"POST",headers:xt(U),body:JSON.stringify({fid:W,authVersion:Y,appId:U.appId,sdkVersion:B})},at=yield kt(()=>fetch(se,Ye));if(at.ok){const lt=yield at.json();return{fid:lt.fid||W,registrationStatus:2,refreshToken:lt.refreshToken,authToken:We(lt.authToken)}}throw yield Ve("Create Installation",at)})).apply(this,arguments)}function we(U){return new Promise(W=>{setTimeout(W,U)})}const Ge=/^[cdef][\w-]{21}$/;function sn(){try{const U=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(U),U[0]=112+U[0]%16;const se=function(U){return function(U){return btoa(String.fromCharCode(...U)).replace(/\+/g,"-").replace(/\//g,"_")}(U).substr(0,22)}(U);return Ge.test(se)?se:""}catch(U){return""}}function _t(U){return`${U.appName}!${U.appId}`}const ft=new Map;function wn(U,W){const se=_t(U);Dt(se,W),function(U,W){const se=(!dn&&"BroadcastChannel"in self&&(dn=new BroadcastChannel("[Firebase] FID Change"),dn.onmessage=U=>{Dt(U.data.key,U.data.fid)}),dn);se&&se.postMessage({key:U,fid:W}),0===ft.size&&dn&&(dn.close(),dn=null)}(se,W)}function Dt(U,W){const se=ft.get(U);if(se)for(const Ce of se)Ce(W)}let dn=null;const Xr="firebase-installations-store";let Nr=null;function ki(){return Nr||(Nr=(0,X.openDb)("firebase-installations-database",1,U=>{switch(U.oldVersion){case 0:U.createObjectStore(Xr)}})),Nr}function Pi(U,W){return es.apply(this,arguments)}function es(){return(es=(0,f.Z)(function*(U,W){const se=_t(U),Be=(yield ki()).transaction(Xr,"readwrite"),Ye=Be.objectStore(Xr),at=yield Ye.get(se);return yield Ye.put(W,se),yield Be.complete,(!at||at.fid!==W.fid)&&wn(U,W.fid),W})).apply(this,arguments)}function it(U){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,f.Z)(function*(U){const W=_t(U),Ce=(yield ki()).transaction(Xr,"readwrite");yield Ce.objectStore(Xr).delete(W),yield Ce.complete})).apply(this,arguments)}function Or(U,W){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,f.Z)(function*(U,W){const se=_t(U),Be=(yield ki()).transaction(Xr,"readwrite"),Ye=Be.objectStore(Xr),at=yield Ye.get(se),lt=W(at);return void 0===lt?yield Ye.delete(se):yield Ye.put(lt,se),yield Be.complete,lt&&(!at||at.fid!==lt.fid)&&wn(U,lt.fid),lt})).apply(this,arguments)}function Rt(U){return yt.apply(this,arguments)}function yt(){return(yt=(0,f.Z)(function*(U){let W;const se=yield Or(U,Ce=>{const Be=$t(Ce),Ye=jt(U,Be);return W=Ye.registrationPromise,Ye.installationEntry});return""===se.fid?{installationEntry:yield W}:{installationEntry:se,registrationPromise:W}})).apply(this,arguments)}function $t(U){return Gs(U||{fid:sn(),registrationStatus:0})}function jt(U,W){if(0===W.registrationStatus){if(!navigator.onLine)return{installationEntry:W,registrationPromise:Promise.reject(pe.create("app-offline"))};const se={fid:W.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:se,registrationPromise:function(U,W){return on.apply(this,arguments)}(U,se)}}return 1===W.registrationStatus?{installationEntry:W,registrationPromise:je(U)}:{installationEntry:W}}function on(){return(on=(0,f.Z)(function*(U,W){try{return Pi(U,yield De(U,W))}catch(se){throw ne(se)&&409===se.customData.serverCode?yield it(U):yield Pi(U,{fid:W.fid,registrationStatus:0}),se}})).apply(this,arguments)}function je(U){return pt.apply(this,arguments)}function pt(){return(pt=(0,f.Z)(function*(U){let W=yield Ra(U);for(;1===W.registrationStatus;)yield we(100),W=yield Ra(U);if(0===W.registrationStatus){const{installationEntry:se,registrationPromise:Ce}=yield Rt(U);return Ce||se}return W})).apply(this,arguments)}function Ra(U){return Or(U,W=>{if(!W)throw pe.create("installation-not-found");return Gs(W)})}function Gs(U){return function(U){return 1===U.registrationStatus&&U.registrationTime+1e4<Date.now()}(U)?{fid:U.fid,registrationStatus:0}:U}function Jt(U,W){return hr.apply(this,arguments)}function hr(){return(hr=(0,f.Z)(function*({appConfig:U,platformLoggerProvider:W},se){const Ce=xc(U,se),Be=Ie(U,se),Ye=W.getImmediate({optional:!0});Ye&&Be.append("x-firebase-client",Ye.getPlatformInfoString());const lt={method:"POST",headers:Be,body:JSON.stringify({installation:{sdkVersion:B}})},an=yield kt(()=>fetch(Ce,lt));if(an.ok)return We(yield an.json());throw yield Ve("Generate Auth Token",an)})).apply(this,arguments)}function xc(U,{fid:W}){return`${be(U)}/${W}/authTokens:generate`}function Xt(U){return q.apply(this,arguments)}function q(){return(q=(0,f.Z)(function*(U,W=!1){let se;const Ce=yield Or(U.appConfig,Ye=>{if(!tt(Ye))throw pe.create("not-registered");const at=Ye.authToken;if(!W&&Gt(at))return Ye;if(1===at.requestStatus)return se=G(U,W),Ye;{if(!navigator.onLine)throw pe.create("app-offline");const lt=Lt(Ye);return se=ue(U,lt),lt}});return se?yield se:Ce.authToken})).apply(this,arguments)}function G(U,W){return le.apply(this,arguments)}function le(){return(le=(0,f.Z)(function*(U,W){let se=yield ye(U.appConfig);for(;1===se.authToken.requestStatus;)yield we(100),se=yield ye(U.appConfig);const Ce=se.authToken;return 0===Ce.requestStatus?Xt(U,W):Ce})).apply(this,arguments)}function ye(U){return Or(U,W=>{if(!tt(W))throw pe.create("not-registered");return function(U){return 1===U.requestStatus&&U.requestTime+1e4<Date.now()}(W.authToken)?Object.assign(Object.assign({},W),{authToken:{requestStatus:0}}):W})}function ue(U,W){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,f.Z)(function*(U,W){try{const se=yield Jt(U,W),Ce=Object.assign(Object.assign({},W),{authToken:se});return yield Pi(U.appConfig,Ce),se}catch(se){if(!ne(se)||401!==se.customData.serverCode&&404!==se.customData.serverCode){const Ce=Object.assign(Object.assign({},W),{authToken:{requestStatus:0}});yield Pi(U.appConfig,Ce)}else yield it(U.appConfig);throw se}})).apply(this,arguments)}function tt(U){return void 0!==U&&2===U.registrationStatus}function Gt(U){return 2===U.requestStatus&&!function(U){const W=Date.now();return W<U.creationTime||U.creationTime+U.expiresIn<W+36e5}(U)}function Lt(U){const W={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},U),{authToken:W})}function Zn(){return(Zn=(0,f.Z)(function*(U){const W=U,{installationEntry:se,registrationPromise:Ce}=yield Rt(W.appConfig);return Ce?Ce.catch(console.error):Xt(W).catch(console.error),se.fid})).apply(this,arguments)}function ms(){return(ms=(0,f.Z)(function*(U,W=!1){const se=U;return yield Gl(se.appConfig),(yield Xt(se,W)).token})).apply(this,arguments)}function Gl(U){return _s.apply(this,arguments)}function _s(){return(_s=(0,f.Z)(function*(U){const{registrationPromise:W}=yield Rt(U);W&&(yield W)})).apply(this,arguments)}function ze(U){return pe.create("missing-app-config-values",{valueName:U})}const Vt="installations";(0,de._registerComponent)(new me.wA(Vt,U=>{const W=U.getProvider("app").getImmediate();return{app:W,appConfig:function(U){if(!U||!U.options)throw ze("App Configuration");if(!U.name)throw ze("App Name");const W=["projectId","apiKey","appId"];for(const se of W)if(!U.options[se])throw ze(se);return{appName:U.name,projectId:U.options.projectId,apiKey:U.options.apiKey,appId:U.options.appId}}(W),platformLoggerProvider:(0,de._getProvider)(W,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,de._registerComponent)(new me.wA("installations-internal",U=>{const W=U.getProvider("app").getImmediate(),se=(0,de._getProvider)(W,Vt).getImmediate();return{getId:()=>function(U){return Zn.apply(this,arguments)}(se),getToken:Be=>function(U){return ms.apply(this,arguments)}(se,Be)}},"PRIVATE")),(0,de.registerVersion)("@firebase/installations","0.5.0");const ti="analytics",vn="firebase_id",At="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Li="https://www.googletagmanager.com/gtag/js",gn=new $.Yd("@firebase/analytics");function vo(U){return Promise.all(U.map(W=>W.catch(se=>se)))}function $o(U,W){const se=document.createElement("script");se.src=`${Li}?l=${U}&id=${W}`,se.async=!0,document.head.appendChild(se)}function Go(U,W,se,Ce,Be,Ye){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,f.Z)(function*(U,W,se,Ce,Be,Ye){const at=Ce[Be];try{if(at)yield W[at];else{const an=(yield vo(se)).find(er=>er.measurementId===Be);an&&(yield W[an.appId])}}catch(lt){gn.error(lt)}U("config",Be,Ye)})).apply(this,arguments)}function Cr(U,W,se,Ce,Be){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,f.Z)(function*(U,W,se,Ce,Be){try{let Ye=[];if(Be&&Be.send_to){let at=Be.send_to;Array.isArray(at)||(at=[at]);const lt=yield vo(se);for(const an of at){const er=lt.find(tr=>tr.measurementId===an),Sr=er&&W[er.appId];if(!Sr){Ye=[];break}Ye.push(Sr)}}0===Ye.length&&(Ye=Object.values(W)),yield Promise.all(Ye),U("event",Ce,Be||{})}catch(Ye){gn.error(Ye)}})).apply(this,arguments)}function Ei(){const U=window.document.getElementsByTagName("script");for(const W of Object.values(U))if(W.src&&W.src.includes(Li))return W;return null}const Hn=new ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Nc=new class{constructor(W={},se=1e3){this.throttleMetadata=W,this.intervalMillis=se}getThrottleMetadata(W){return this.throttleMetadata[W]}setThrottleMetadata(W,se){this.throttleMetadata[W]=se}deleteThrottleMetadata(W){delete this.throttleMetadata[W]}};function wi(U){return new Headers({Accept:"application/json","x-goog-api-key":U})}function ri(U){return qs.apply(this,arguments)}function qs(){return(qs=(0,f.Z)(function*(U){var W;const{appId:se,apiKey:Ce}=U,Be={method:"GET",headers:wi(Ce)},Ye=At.replace("{app-id}",se),at=yield fetch(Ye,Be);if(200!==at.status&&304!==at.status){let lt="";try{const an=yield at.json();(null===(W=an.error)||void 0===W?void 0:W.message)&&(lt=an.error.message)}catch(an){}throw Hn.create("config-fetch-failed",{httpStatus:at.status,responseMessage:lt})}return at.json()})).apply(this,arguments)}function vs(U){return pr.apply(this,arguments)}function pr(){return(pr=(0,f.Z)(function*(U,W=Nc,se){const{appId:Ce,apiKey:Be,measurementId:Ye}=U.options;if(!Ce)throw Hn.create("no-app-id");if(!Be){if(Ye)return{measurementId:Ye,appId:Ce};throw Hn.create("no-api-key")}const at=W.getThrottleMetadata(Ce)||{backoffCount:0,throttleEndTimeMillis:Date.now()},lt=new ql;return setTimeout((0,f.Z)(function*(){lt.abort()}),void 0!==se?se:6e4),Pr({appId:Ce,apiKey:Be,measurementId:Ye},at,lt,W)})).apply(this,arguments)}function Pr(U,W,se){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,f.Z)(function*(U,{throttleEndTimeMillis:W,backoffCount:se},Ce,Be=Nc){const{appId:Ye,measurementId:at}=U;try{yield ns(Ce,W)}catch(lt){if(at)return gn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${at} provided in the "measurementId" field in the local Firebase config. [${lt.message}]`),{appId:Ye,measurementId:at};throw lt}try{const lt=yield ri(U);return Be.deleteThrottleMetadata(Ye),lt}catch(lt){if(!Th(lt)){if(Be.deleteThrottleMetadata(Ye),at)return gn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${at} provided in the "measurementId" field in the local Firebase config. [${lt.message}]`),{appId:Ye,measurementId:at};throw lt}const an=503===Number(lt.customData.httpStatus)?(0,ie.$s)(se,Be.intervalMillis,30):(0,ie.$s)(se,Be.intervalMillis),er={throttleEndTimeMillis:Date.now()+an,backoffCount:se+1};return Be.setThrottleMetadata(Ye,er),gn.debug(`Calling attemptFetch again in ${an} millis`),Pr(U,er,Ce,Be)}})).apply(this,arguments)}function ns(U,W){return new Promise((se,Ce)=>{const Be=Math.max(W-Date.now(),0),Ye=setTimeout(se,Be);U.addEventListener(()=>{clearTimeout(Ye),Ce(Hn.create("fetch-throttle",{throttleEndTimeMillis:W}))})})}function Th(U){if(!(U instanceof ie.ZR&&U.customData))return!1;const W=Number(U.customData.httpStatus);return 429===W||500===W||503===W||504===W}class ql{constructor(){this.listeners=[]}addEventListener(W){this.listeners.push(W)}abort(){this.listeners.forEach(W=>W())}}function tg(){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,f.Z)(function*(){if(!(0,ie.hl)())return gn.warn(Hn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ie.eu)()}catch(U){return gn.warn(Hn.create("indexeddb-unavailable",{errorInfo:U}).message),!1}return!0})).apply(this,arguments)}function ka(){return(ka=(0,f.Z)(function*(U,W,se,Ce,Be,Ye,at){var lt;const an=vs(U);an.then(is=>{se[is.measurementId]=is.appId,U.options.measurementId&&is.measurementId!==U.options.measurementId&&gn.warn(`The measurement ID in the local Firebase config (${U.options.measurementId}) does not match the measurement ID fetched from the server (${is.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(is=>gn.error(is)),W.push(an);const er=tg().then(is=>{if(is)return Ce.getId()}),[Sr,tr]=yield Promise.all([an,er]);Ei()||$o(Ye,Sr.measurementId),Be("js",new Date);const wo=null!==(lt=null==at?void 0:at.config)&&void 0!==lt?lt:{};return wo.origin="firebase",wo.update=!0,null!=tr&&(wo[vn]=tr),Be("config",Sr.measurementId,wo),Sr.measurementId})).apply(this,arguments)}class rg{constructor(W){this.app=W}_delete(){return delete bs[this.app.options.appId],Promise.resolve()}}let bs={},Wl=[];const Ws={};let qo,Kl,Zl="dataLayer",Sh="gtag",Pa=!1;function Es(U){if(Pa)throw Hn.create("already-initialized");U.dataLayerName&&(Zl=U.dataLayerName),U.gtagName&&(Sh=U.gtagName)}function ws(U,W,se){!function(){const U=[];if((0,ie.ru)()&&U.push("This is a browser extension environment."),(0,ie.zI)()||U.push("Cookies are not available."),U.length>0){const W=U.map((Ce,Be)=>`(${Be+1}) ${Ce}`).join(" "),se=Hn.create("invalid-analytics-context",{errorInfo:W});gn.warn(se.message)}}();const Ce=U.options.appId;if(!Ce)throw Hn.create("no-app-id");if(!U.options.apiKey){if(!U.options.measurementId)throw Hn.create("no-api-key");gn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${U.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=bs[Ce])throw Hn.create("already-exists",{id:Ce});if(!Pa){!function(U){let W=[];Array.isArray(window[U])?W=window[U]:window[U]=W}(Zl);const{wrappedGtag:Ye,gtagCore:at}=function(U,W,se,Ce,Be){let Ye=function(...at){window[Ce].push(arguments)};return window[Be]&&"function"==typeof window[Be]&&(Ye=window[Be]),window[Be]=function(U,W,se,Ce){function Ye(){return(Ye=(0,f.Z)(function*(at,lt,an){try{"event"===at?yield Cr(U,W,se,lt,an):"config"===at?yield Go(U,W,se,Ce,lt,an):U("set",lt)}catch(er){gn.error(er)}})).apply(this,arguments)}return function(at,lt,an){return Ye.apply(this,arguments)}}(Ye,U,W,se),{gtagCore:Ye,wrappedGtag:window[Be]}}(bs,Wl,Ws,Zl,Sh);Kl=Ye,qo=at,Pa=!0}return bs[Ce]=function(U,W,se,Ce,Be,Ye,at){return ka.apply(this,arguments)}(U,Wl,Ws,W,qo,Zl,se),new rg(U)}function Wo(){return(Wo=(0,f.Z)(function*(U,W,se,Ce,Be){if(Be&&Be.global)U("event",se,Ce);else{const Ye=yield W;U("event",se,Object.assign(Object.assign({},Ce),{send_to:Ye}))}})).apply(this,arguments)}function rs(){return(rs=(0,f.Z)(function*(U,W,se,Ce){if(Ce&&Ce.global)return U("set",{screen_name:se}),Promise.resolve();U("config",yield W,{update:!0,screen_name:se})})).apply(this,arguments)}function Cs(){return(Cs=(0,f.Z)(function*(U,W,se,Ce){if(Ce&&Ce.global)return U("set",{user_id:se}),Promise.resolve();U("config",yield W,{update:!0,user_id:se})})).apply(this,arguments)}function Fa(){return(Fa=(0,f.Z)(function*(U,W,se,Ce){if(Ce&&Ce.global){const Be={};for(const Ye of Object.keys(se))Be[`user_properties.${Ye}`]=se[Ye];return U("set",Be),Promise.resolve()}U("config",yield W,{update:!0,user_properties:se})})).apply(this,arguments)}function Eo(){return(Eo=(0,f.Z)(function*(U,W){const se=yield U;window[`ga-disable-${se}`]=!W})).apply(this,arguments)}function kc(){return Va.apply(this,arguments)}function Va(){return(Va=(0,f.Z)(function*(){if((0,ie.ru)()||!(0,ie.zI)()||!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch(U){return!1}})).apply(this,arguments)}function Tr(U,W,se){U=(0,ie.m9)(U),function(U,W,se,Ce){return rs.apply(this,arguments)}(Kl,bs[U.app.options.appId],W,se).catch(Ce=>gn.error(Ce))}function Ua(U,W,se){U=(0,ie.m9)(U),function(U,W,se,Ce){return Cs.apply(this,arguments)}(Kl,bs[U.app.options.appId],W,se).catch(Ce=>gn.error(Ce))}function Jl(U,W,se){U=(0,ie.m9)(U),function(U,W,se,Ce){return Fa.apply(this,arguments)}(Kl,bs[U.app.options.appId],W,se).catch(Ce=>gn.error(Ce))}function Ba(U,W){U=(0,ie.m9)(U),function(U,W){return Eo.apply(this,arguments)}(bs[U.app.options.appId],W).catch(se=>gn.error(se))}function ja(U,W,se,Ce){U=(0,ie.m9)(U),function(U,W,se,Ce,Be){return Wo.apply(this,arguments)}(Kl,bs[U.app.options.appId],W,se,Ce).catch(Be=>gn.error(Be))}(0,de._registerComponent)(new me.wA(ti,(W,{options:se})=>ws(W.getProvider("app").getImmediate(),W.getProvider("installations-internal").getImmediate(),se),"PUBLIC")),(0,de._registerComponent)(new me.wA("analytics-internal",function(W){try{const se=W.getProvider(ti).getImmediate();return{logEvent:(Ce,Be,Ye)=>ja(se,Ce,Be,Ye)}}catch(se){throw Hn.create("interop-component-reg-failed",{reason:se})}},"PRIVATE")),(0,de.registerVersion)("@firebase/analytics","0.7.0")},4486:(et,Ne,V)=>{"use strict";V.d(Ne,{Z:()=>_e});var f=V(4685),de=V(6034),$=V(5452),ie=V(300);class me{constructor(ne,be){this._delegate=ne,this.firebase=be,(0,$._addComponent)(ne,new de.wA("app-compat",()=>this,"PUBLIC")),this.container=ne.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ne){this._delegate.automaticDataCollectionEnabled=ne}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ne=>{this._delegate.checkDestroyed(),ne()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,$.deleteApp)(this._delegate)))}_getService(ne,be=$._DEFAULT_ENTRY_NAME){var We;this._delegate.checkDestroyed();const Ve=this._delegate.container.getProvider(ne);return!Ve.isInitialized()&&"EXPLICIT"===(null===(We=Ve.getComponent())||void 0===We?void 0:We.instantiationMode)&&Ve.initialize(),Ve.getImmediate({identifier:be})}_removeServiceInstance(ne,be=$._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ne).clearInstance(be)}_addComponent(ne){(0,$._addComponent)(this._delegate,ne)}_addOrOverwriteComponent(ne){(0,$._addOrOverwriteComponent)(this._delegate,ne)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const he=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),B=function K(){const pe=function(pe){const ne={},be={__esModule:!0,initializeApp:function(Et,Ee={}){const ge=$.initializeApp(Et,Ee);if((0,f.r3)(ne,ge.name))return ne[ge.name];const De=new pe(ge,be);return ne[ge.name]=De,De},app:Ve,registerVersion:$.registerVersion,setLogLevel:$.setLogLevel,onLog:$.onLog,apps:null,SDK_VERSION:$.SDK_VERSION,INTERNAL:{registerComponent:function(Et){const Ee=Et.name,ge=Ee.replace("-compat","");if($._registerComponent(Et)&&"PUBLIC"===Et.type){const De=(Se=Ve())=>{if("function"!=typeof Se[ge])throw he.create("invalid-app-argument",{appName:Ee});return Se[ge]()};void 0!==Et.serviceProps&&(0,f.ZB)(De,Et.serviceProps),be[ge]=De,pe.prototype[ge]=function(...Se){return this._getService.bind(this,Ee).apply(this,Et.multipleInstances?Se:[])}}return"PUBLIC"===Et.type?be[ge]:null},removeApp:function(Et){delete ne[Et]},useAsService:function(Et,Ee){return"serverAuth"===Ee?null:Ee},modularAPIs:$}};function Ve(Et){if(!(0,f.r3)(ne,Et=Et||$._DEFAULT_ENTRY_NAME))throw he.create("no-app",{appName:Et});return ne[Et]}return be.default=be,Object.defineProperty(be,"apps",{get:function(){return Object.keys(ne).map(Et=>ne[Et])}}),Ve.App=pe,be}(me);return pe.INTERNAL=Object.assign(Object.assign({},pe.INTERNAL),{createFirebaseNamespace:K,extendNamespace:function(be){(0,f.ZB)(pe,be)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),pe}(),Y=new ie.Yd("@firebase/app-compat");if((0,f.jU)()&&void 0!==self.firebase){Y.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const pe=self.firebase.SDK_VERSION;pe&&pe.indexOf("LITE")>=0&&Y.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ae=B;(0,$.registerVersion)("@firebase/app-compat","0.1.0",undefined);const _e=Ae},5452:(et,Ne,V)=>{"use strict";V.r(Ne),V.d(Ne,{FirebaseError:()=>ie.ZR,SDK_VERSION:()=>yo,_DEFAULT_ENTRY_NAME:()=>sn,_addComponent:()=>wn,_addOrOverwriteComponent:()=>Ji,_apps:()=>_t,_clearComponents:()=>dn,_components:()=>ft,_getProvider:()=>Dt,_registerComponent:()=>hn,_removeServiceInstance:()=>Xi,deleteApp:()=>Pi,getApp:()=>Nr,getApps:()=>ki,initializeApp:()=>Xr,onLog:()=>Rn,registerVersion:()=>it,setLogLevel:()=>Or});var f=V(8239),de=V(6034),$=V(300),ie=V(4685);class me{constructor(yt){this.container=yt}getPlatformInfoString(){return this.container.getProviders().map($t=>{if(function(Rt){const yt=Rt.getComponent();return"VERSION"===(null==yt?void 0:yt.type)}($t)){const jt=$t.getImmediate();return`${jt.library}/${jt.version}`}return null}).filter($t=>$t).join(" ")}}const he="@firebase/app",K=new $.Yd("@firebase/app"),sn="[DEFAULT]",dt={[he]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},_t=new Map,ft=new Map;function wn(Rt,yt){try{Rt.container.addComponent(yt)}catch($t){K.debug(`Component ${yt.name} failed to register with FirebaseApp ${Rt.name}`,$t)}}function Ji(Rt,yt){Rt.container.addOrOverwriteComponent(yt)}function hn(Rt){const yt=Rt.name;if(ft.has(yt))return K.debug(`There were multiple attempts to register component ${yt}.`),!1;ft.set(yt,Rt);for(const $t of _t.values())wn($t,Rt);return!0}function Dt(Rt,yt){return Rt.container.getProvider(yt)}function Xi(Rt,yt,$t=sn){Dt(Rt,yt).clearInstance($t)}function dn(){ft.clear()}const Wn=new ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class $s{constructor(yt,$t,jt){this._isDeleted=!1,this._options=Object.assign({},yt),this._config=Object.assign({},$t),this._name=$t.name,this._automaticDataCollectionEnabled=$t.automaticDataCollectionEnabled,this._container=jt,this.container.addComponent(new de.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(yt){this.checkDestroyed(),this._automaticDataCollectionEnabled=yt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(yt){this._isDeleted=yt}checkDestroyed(){if(this.isDeleted)throw Wn.create("app-deleted",{appName:this._name})}}const yo="9.0.0";function Xr(Rt,yt={}){"object"!=typeof yt&&(yt={name:yt});const $t=Object.assign({name:sn,automaticDataCollectionEnabled:!1},yt),jt=$t.name;if("string"!=typeof jt||!jt)throw Wn.create("bad-app-name",{appName:String(jt)});const Xn=_t.get(jt);if(Xn){if((0,ie.vZ)(Rt,Xn.options)&&(0,ie.vZ)($t,Xn.config))return Xn;throw Wn.create("duplicate-app",{appName:jt})}const on=new de.H0(jt);for(const pt of ft.values())on.addComponent(pt);const je=new $s(Rt,$t,on);return _t.set(jt,je),je}function Nr(Rt=sn){const yt=_t.get(Rt);if(!yt)throw Wn.create("no-app",{appName:Rt});return yt}function ki(){return Array.from(_t.values())}function Pi(Rt){return es.apply(this,arguments)}function es(){return(es=(0,f.Z)(function*(Rt){const yt=Rt.name;_t.has(yt)&&(_t.delete(yt),yield Promise.all(Rt.container.getProviders().map($t=>$t.delete())),Rt.isDeleted=!0)})).apply(this,arguments)}function it(Rt,yt,$t){var jt;let Xn=null!==(jt=dt[Rt])&&void 0!==jt?jt:Rt;$t&&(Xn+=`-${$t}`);const on=Xn.match(/\s|\//),je=yt.match(/\s|\//);if(on||je){const pt=[`Unable to register library "${Xn}" with version "${yt}":`];return on&&pt.push(`library name "${Xn}" contains illegal characters (whitespace or "/")`),on&&je&&pt.push("and"),je&&pt.push(`version name "${yt}" contains illegal characters (whitespace or "/")`),void K.warn(pt.join(" "))}hn(new de.wA(`${Xn}-version`,()=>({library:Xn,version:yt}),"VERSION"))}function Rn(Rt,yt){if(null!==Rt&&"function"!=typeof Rt)throw Wn.create("invalid-log-argument");(0,$.Am)(Rt,yt)}function Or(Rt){(0,$.Ub)(Rt)}hn(new de.wA("platform-logger",yt=>new me(yt),"PRIVATE")),it(he,"0.7.0",undefined),it("fire-js","")},6034:(et,Ne,V)=>{"use strict";V.d(Ne,{wA:()=>$,H0:()=>re});var f=V(4762),de=V(4685),$=function(){function K(B,Y,L){this.name=B,this.instanceFactory=Y,this.type=L,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return K.prototype.setInstantiationMode=function(B){return this.instantiationMode=B,this},K.prototype.setMultipleInstances=function(B){return this.multipleInstances=B,this},K.prototype.setServiceProps=function(B){return this.serviceProps=B,this},K.prototype.setInstanceCreatedCallback=function(B){return this.onInstanceCreated=B,this},K}(),ie="[DEFAULT]",me=function(){function K(B,Y){this.name=B,this.container=Y,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return K.prototype.get=function(B){var Y=this.normalizeInstanceIdentifier(B);if(!this.instancesDeferred.has(Y)){var L=new de.BH;if(this.instancesDeferred.set(Y,L),this.isInitialized(Y)||this.shouldAutoInitialize())try{var Q=this.getOrInitializeService({instanceIdentifier:Y});Q&&L.resolve(Q)}catch(oe){}}return this.instancesDeferred.get(Y).promise},K.prototype.getImmediate=function(B){var Y,L=this.normalizeInstanceIdentifier(null==B?void 0:B.identifier),Q=null!==(Y=null==B?void 0:B.optional)&&void 0!==Y&&Y;if(!this.isInitialized(L)&&!this.shouldAutoInitialize()){if(Q)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:L})}catch(oe){if(Q)return null;throw oe}},K.prototype.getComponent=function(){return this.component},K.prototype.setComponent=function(B){var Y,L;if(B.name!==this.name)throw Error("Mismatching Component "+B.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=B,this.shouldAutoInitialize()){if(function(K){return"EAGER"===K.instantiationMode}(B))try{this.getOrInitializeService({instanceIdentifier:ie})}catch(We){}try{for(var Q=(0,f.XA)(this.instancesDeferred.entries()),oe=Q.next();!oe.done;oe=Q.next()){var Ae=(0,f.CR)(oe.value,2),pe=Ae[1],ne=this.normalizeInstanceIdentifier(Ae[0]);try{var be=this.getOrInitializeService({instanceIdentifier:ne});pe.resolve(be)}catch(We){}}}catch(We){Y={error:We}}finally{try{oe&&!oe.done&&(L=Q.return)&&L.call(Q)}finally{if(Y)throw Y.error}}}},K.prototype.clearInstance=function(B){void 0===B&&(B=ie),this.instancesDeferred.delete(B),this.instancesOptions.delete(B),this.instances.delete(B)},K.prototype.delete=function(){return(0,f.mG)(this,void 0,void 0,function(){var B;return(0,f.Jh)(this,function(Y){switch(Y.label){case 0:return B=Array.from(this.instances.values()),[4,Promise.all((0,f.ev)((0,f.ev)([],(0,f.CR)(B.filter(function(L){return"INTERNAL"in L}).map(function(L){return L.INTERNAL.delete()}))),(0,f.CR)(B.filter(function(L){return"_delete"in L}).map(function(L){return L._delete()}))))];case 1:return Y.sent(),[2]}})})},K.prototype.isComponentSet=function(){return null!=this.component},K.prototype.isInitialized=function(B){return void 0===B&&(B=ie),this.instances.has(B)},K.prototype.getOptions=function(B){return void 0===B&&(B=ie),this.instancesOptions.get(B)||{}},K.prototype.initialize=function(B){var Y,L;void 0===B&&(B={});var Q=B.options,oe=void 0===Q?{}:Q,Ae=this.normalizeInstanceIdentifier(B.instanceIdentifier);if(this.isInitialized(Ae))throw Error(this.name+"("+Ae+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var _e=this.getOrInitializeService({instanceIdentifier:Ae,options:oe});try{for(var pe=(0,f.XA)(this.instancesDeferred.entries()),ne=pe.next();!ne.done;ne=pe.next()){var be=(0,f.CR)(ne.value,2),Ve=be[1];Ae===this.normalizeInstanceIdentifier(be[0])&&Ve.resolve(_e)}}catch(xt){Y={error:xt}}finally{try{ne&&!ne.done&&(L=pe.return)&&L.call(pe)}finally{if(Y)throw Y.error}}return _e},K.prototype.onInit=function(B,Y){var L,Q=this.normalizeInstanceIdentifier(Y),oe=null!==(L=this.onInitCallbacks.get(Q))&&void 0!==L?L:new Set;oe.add(B),this.onInitCallbacks.set(Q,oe);var Ae=this.instances.get(Q);return Ae&&B(Ae,Q),function(){oe.delete(B)}},K.prototype.invokeOnInitCallbacks=function(B,Y){var L,Q,oe=this.onInitCallbacks.get(Y);if(oe)try{for(var Ae=(0,f.XA)(oe),_e=Ae.next();!_e.done;_e=Ae.next()){var pe=_e.value;try{pe(B,Y)}catch(ne){}}}catch(ne){L={error:ne}}finally{try{_e&&!_e.done&&(Q=Ae.return)&&Q.call(Ae)}finally{if(L)throw L.error}}},K.prototype.getOrInitializeService=function(B){var Y=B.instanceIdentifier,L=B.options,Q=void 0===L?{}:L,oe=this.instances.get(Y);if(!oe&&this.component&&(oe=this.component.instanceFactory(this.container,{instanceIdentifier:X(Y),options:Q}),this.instances.set(Y,oe),this.instancesOptions.set(Y,Q),this.invokeOnInitCallbacks(oe,Y),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Y,oe)}catch(Ae){}return oe||null},K.prototype.normalizeInstanceIdentifier=function(B){return void 0===B&&(B=ie),this.component?this.component.multipleInstances?B:ie:B},K.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},K}();function X(K){return K===ie?void 0:K}var re=function(){function K(B){this.name=B,this.providers=new Map}return K.prototype.addComponent=function(B){var Y=this.getProvider(B.name);if(Y.isComponentSet())throw new Error("Component "+B.name+" has already been registered with "+this.name);Y.setComponent(B)},K.prototype.addOrOverwriteComponent=function(B){this.getProvider(B.name).isComponentSet()&&this.providers.delete(B.name),this.addComponent(B)},K.prototype.getProvider=function(B){if(this.providers.has(B))return this.providers.get(B);var Y=new me(B,this);return this.providers.set(B,Y),Y},K.prototype.getProviders=function(){return Array.from(this.providers.values())},K}()},300:(et,Ne,V)=>{"use strict";function f(){for(var L=0,Q=0,oe=arguments.length;Q<oe;Q++)L+=arguments[Q].length;var Ae=Array(L),_e=0;for(Q=0;Q<oe;Q++)for(var pe=arguments[Q],ne=0,be=pe.length;ne<be;ne++,_e++)Ae[_e]=pe[ne];return Ae}V.d(Ne,{in:()=>ie,Yd:()=>K,Ub:()=>B,Am:()=>Y});var de,$=[],ie=(()=>{return(L=ie||(ie={}))[L.DEBUG=0]="DEBUG",L[L.VERBOSE=1]="VERBOSE",L[L.INFO=2]="INFO",L[L.WARN=3]="WARN",L[L.ERROR=4]="ERROR",L[L.SILENT=5]="SILENT",ie;var L})(),me={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},X=ie.INFO,he=((de={})[ie.DEBUG]="log",de[ie.VERBOSE]="log",de[ie.INFO]="info",de[ie.WARN]="warn",de[ie.ERROR]="error",de),re=function(L,Q){for(var oe=[],Ae=2;Ae<arguments.length;Ae++)oe[Ae-2]=arguments[Ae];if(!(Q<L.logLevel)){var _e=(new Date).toISOString(),pe=he[Q];if(!pe)throw new Error("Attempted to log a message with an invalid logType (value: "+Q+")");console[pe].apply(console,f(["["+_e+"]  "+L.name+":"],oe))}},K=function(){function L(Q){this.name=Q,this._logLevel=X,this._logHandler=re,this._userLogHandler=null,$.push(this)}return Object.defineProperty(L.prototype,"logLevel",{get:function(){return this._logLevel},set:function(Q){if(!(Q in ie))throw new TypeError('Invalid value "'+Q+'" assigned to `logLevel`');this._logLevel=Q},enumerable:!1,configurable:!0}),L.prototype.setLogLevel=function(Q){this._logLevel="string"==typeof Q?me[Q]:Q},Object.defineProperty(L.prototype,"logHandler",{get:function(){return this._logHandler},set:function(Q){if("function"!=typeof Q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Q},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(Q){this._userLogHandler=Q},enumerable:!1,configurable:!0}),L.prototype.debug=function(){for(var Q=[],oe=0;oe<arguments.length;oe++)Q[oe]=arguments[oe];this._userLogHandler&&this._userLogHandler.apply(this,f([this,ie.DEBUG],Q)),this._logHandler.apply(this,f([this,ie.DEBUG],Q))},L.prototype.log=function(){for(var Q=[],oe=0;oe<arguments.length;oe++)Q[oe]=arguments[oe];this._userLogHandler&&this._userLogHandler.apply(this,f([this,ie.VERBOSE],Q)),this._logHandler.apply(this,f([this,ie.VERBOSE],Q))},L.prototype.info=function(){for(var Q=[],oe=0;oe<arguments.length;oe++)Q[oe]=arguments[oe];this._userLogHandler&&this._userLogHandler.apply(this,f([this,ie.INFO],Q)),this._logHandler.apply(this,f([this,ie.INFO],Q))},L.prototype.warn=function(){for(var Q=[],oe=0;oe<arguments.length;oe++)Q[oe]=arguments[oe];this._userLogHandler&&this._userLogHandler.apply(this,f([this,ie.WARN],Q)),this._logHandler.apply(this,f([this,ie.WARN],Q))},L.prototype.error=function(){for(var Q=[],oe=0;oe<arguments.length;oe++)Q[oe]=arguments[oe];this._userLogHandler&&this._userLogHandler.apply(this,f([this,ie.ERROR],Q)),this._logHandler.apply(this,f([this,ie.ERROR],Q))},L}();function B(L){$.forEach(function(Q){Q.setLogLevel(L)})}function Y(L,Q){for(var oe=function(ne){var be=null;Q&&Q.level&&(be=me[Q.level]),ne.userLogHandler=null===L?null:function(We,Ve){for(var Je=[],xt=2;xt<arguments.length;xt++)Je[xt-2]=arguments[xt];var Ie=Je.map(function(kt){if(null==kt)return null;if("string"==typeof kt)return kt;if("number"==typeof kt||"boolean"==typeof kt)return kt.toString();if(kt instanceof Error)return kt.message;try{return JSON.stringify(kt)}catch(Et){return null}}).filter(function(kt){return kt}).join(" ");Ve>=(null!=be?be:We.logLevel)&&L({level:ie[Ve].toLowerCase(),message:Ie,args:Je,type:We.name})}},Ae=0,_e=$;Ae<_e.length;Ae++)oe(_e[Ae])}},4685:(et,Ne,V)=>{"use strict";V.d(Ne,{BH:()=>oe,LL:()=>Ge,ZR:()=>ae,zI:()=>De,tV:()=>B,$s:()=>Jt,r3:()=>Xi,Sg:()=>Ae,ne:()=>es,vZ:()=>$s,ZB:()=>L,pd:()=>ki,m9:()=>Xt,z$:()=>_e,jU:()=>be,ru:()=>We,d:()=>Je,xb:()=>jn,w1:()=>xt,hl:()=>Ee,uI:()=>pe,UG:()=>ne,b$:()=>Ve,G6:()=>Et,Mn:()=>Ie,xO:()=>Xr,zd:()=>Nr,eu:()=>ge});var f=V(4762),me=function(q){for(var G=[],le=0,ye=0;ye<q.length;ye++){var ue=q.charCodeAt(ye);ue<128?G[le++]=ue:ue<2048?(G[le++]=ue>>6|192,G[le++]=63&ue|128):55296==(64512&ue)&&ye+1<q.length&&56320==(64512&q.charCodeAt(ye+1))?(ue=65536+((1023&ue)<<10)+(1023&q.charCodeAt(++ye)),G[le++]=ue>>18|240,G[le++]=ue>>12&63|128,G[le++]=ue>>6&63|128,G[le++]=63&ue|128):(G[le++]=ue>>12|224,G[le++]=ue>>6&63|128,G[le++]=63&ue|128)}return G},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(q,G){if(!Array.isArray(q))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var le=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,ye=[],ue=0;ue<q.length;ue+=3){var Ue=q[ue],tt=ue+1<q.length,Gt=tt?q[ue+1]:0,Zt=ue+2<q.length,Lt=Zt?q[ue+2]:0,Zn=(15&Gt)<<2|Lt>>6,ts=63&Lt;Zt||(ts=64,tt||(Zn=64)),ye.push(le[Ue>>2],le[(3&Ue)<<4|Gt>>4],le[Zn],le[ts])}return ye.join("")},encodeString:function(q,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(q):this.encodeByteArray(me(q),G)},decodeString:function(q,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(q):function(q){for(var G=[],le=0,ye=0;le<q.length;){var ue=q[le++];if(ue<128)G[ye++]=String.fromCharCode(ue);else if(ue>191&&ue<224){var Ue=q[le++];G[ye++]=String.fromCharCode((31&ue)<<6|63&Ue)}else if(ue>239&&ue<365){var Zt=((7&ue)<<18|(63&(Ue=q[le++]))<<12|(63&(tt=q[le++]))<<6|63&q[le++])-65536;G[ye++]=String.fromCharCode(55296+(Zt>>10)),G[ye++]=String.fromCharCode(56320+(1023&Zt))}else{Ue=q[le++];var tt=q[le++];G[ye++]=String.fromCharCode((15&ue)<<12|(63&Ue)<<6|63&tt)}}return G.join("")}(this.decodeStringToByteArray(q,G))},decodeStringToByteArray:function(q,G){this.init_();for(var le=G?this.charToByteMapWebSafe_:this.charToByteMap_,ye=[],ue=0;ue<q.length;){var Ue=le[q.charAt(ue++)],Gt=ue<q.length?le[q.charAt(ue)]:0,Lt=++ue<q.length?le[q.charAt(ue)]:64,fr=++ue<q.length?le[q.charAt(ue)]:64;if(++ue,null==Ue||null==Gt||null==Lt||null==fr)throw Error();ye.push(Ue<<2|Gt>>4),64!==Lt&&(ye.push(Gt<<4&240|Lt>>2),64!==fr&&ye.push(Lt<<6&192|fr))}return ye},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var q=0;q<this.ENCODED_VALS.length;q++)this.byteToCharMap_[q]=this.ENCODED_VALS.charAt(q),this.charToByteMap_[this.byteToCharMap_[q]]=q,this.byteToCharMapWebSafe_[q]=this.ENCODED_VALS_WEBSAFE.charAt(q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[q]]=q,q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(q)]=q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(q)]=q)}}},K=function(q){return function(q){var G=me(q);return he.encodeByteArray(G,!0)}(q).replace(/\./g,"")},B=function(q){try{return he.decodeString(q,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function L(q,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===q&&(q={});break;case Array:q=[];break;default:return G}for(var ye in G)!G.hasOwnProperty(ye)||!Q(ye)||(q[ye]=L(q[ye],G[ye]));return q}function Q(q){return"__proto__"!==q}var oe=function(){function q(){var G=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(le,ye){G.resolve=le,G.reject=ye})}return q.prototype.wrapCallback=function(G){var le=this;return function(ye,ue){ye?le.reject(ye):le.resolve(ue),"function"==typeof G&&(le.promise.catch(function(){}),1===G.length?G(ye):G(ye,ue))}},q}();function Ae(q,G){if(q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var ye=G||"demo-project",ue=q.iat||0,Ue=q.sub||q.user_id;if(!Ue)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var tt=(0,f.pi)({iss:"https://securetoken.google.com/"+ye,aud:ye,iat:ue,exp:ue+3600,auth_time:ue,sub:Ue,user_id:Ue,firebase:{sign_in_provider:"custom",identities:{}}},q);return[K(JSON.stringify({alg:"none",type:"JWT"})),K(JSON.stringify(tt)),""].join(".")}function _e(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function pe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_e())}function ne(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(q){return!1}}function be(){return"object"==typeof self&&self.self===self}function We(){var q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof q&&void 0!==q.id}function Ve(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Je(){return _e().indexOf("Electron/")>=0}function xt(){var q=_e();return q.indexOf("MSIE ")>=0||q.indexOf("Trident/")>=0}function Ie(){return _e().indexOf("MSAppHost/")>=0}function Et(){return!ne()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ee(){return"indexedDB"in self&&null!=indexedDB}function ge(){return new Promise(function(q,G){try{var le=!0,ye="validate-browser-context-for-indexeddb-analytics-module",ue=self.indexedDB.open(ye);ue.onsuccess=function(){ue.result.close(),le||self.indexedDB.deleteDatabase(ye),q(!0)},ue.onupgradeneeded=function(){le=!1},ue.onerror=function(){var Ue;G((null===(Ue=ue.error)||void 0===Ue?void 0:Ue.message)||"")}}catch(Ue){G(Ue)}})}function De(){return!(!navigator||!navigator.cookieEnabled)}var ae=function(q){function G(le,ye,ue){var Ue=q.call(this,ye)||this;return Ue.code=le,Ue.customData=ue,Ue.name="FirebaseError",Object.setPrototypeOf(Ue,G.prototype),Error.captureStackTrace&&Error.captureStackTrace(Ue,Ge.prototype.create),Ue}return(0,f.ZT)(G,q),G}(Error),Ge=function(){function q(G,le,ye){this.service=G,this.serviceName=le,this.errors=ye}return q.prototype.create=function(G){for(var le=[],ye=1;ye<arguments.length;ye++)le[ye-1]=arguments[ye];var ue=le[0]||{},Ue=this.service+"/"+G,tt=this.errors[G],Gt=tt?ht(tt,ue):"Error",Zt=this.serviceName+": "+Gt+" ("+Ue+").",Lt=new ae(Ue,Zt,ue);return Lt},q}();function ht(q,G){return q.replace(sn,function(le,ye){var ue=G[ye];return null!=ue?String(ue):"<"+ye+"?>"})}var sn=/\{\$([^}]+)}/g;function Xi(q,G){return Object.prototype.hasOwnProperty.call(q,G)}function jn(q){for(var G in q)if(Object.prototype.hasOwnProperty.call(q,G))return!1;return!0}function $s(q,G){if(q===G)return!0;for(var le=Object.keys(q),ye=Object.keys(G),ue=0,Ue=le;ue<Ue.length;ue++){if(!ye.includes(tt=Ue[ue]))return!1;var Gt=q[tt],Zt=G[tt];if(yo(Gt)&&yo(Zt)){if(!$s(Gt,Zt))return!1}else if(Gt!==Zt)return!1}for(var Lt=0,Cn=ye;Lt<Cn.length;Lt++){var tt;if(!le.includes(tt=Cn[Lt]))return!1}return!0}function yo(q){return null!==q&&"object"==typeof q}function Xr(q){for(var G=[],le=function(Zt,Lt){Array.isArray(Lt)?Lt.forEach(function(Cn){G.push(encodeURIComponent(Zt)+"="+encodeURIComponent(Cn))}):G.push(encodeURIComponent(Zt)+"="+encodeURIComponent(Lt))},ye=0,ue=Object.entries(q);ye<ue.length;ye++){var Ue=ue[ye];le(Ue[0],Ue[1])}return G.length?"&"+G.join("&"):""}function Nr(q){var G={};return q.replace(/^\?/,"").split("&").forEach(function(ye){if(ye){var ue=ye.split("="),tt=ue[1];G[decodeURIComponent(ue[0])]=decodeURIComponent(tt)}}),G}function ki(q){var G=q.indexOf("?");if(!G)return"";var le=q.indexOf("#",G);return q.substring(G,le>0?le:void 0)}function es(q,G){var le=new it(q,G);return le.subscribe.bind(le)}!function(){function q(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var G=1;G<this.blockSize;++G)this.pad_[G]=0;this.reset()}q.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},q.prototype.compress_=function(G,le){le||(le=0);var ye=this.W_;if("string"==typeof G)for(var ue=0;ue<16;ue++)ye[ue]=G.charCodeAt(le)<<24|G.charCodeAt(le+1)<<16|G.charCodeAt(le+2)<<8|G.charCodeAt(le+3),le+=4;else for(ue=0;ue<16;ue++)ye[ue]=G[le]<<24|G[le+1]<<16|G[le+2]<<8|G[le+3],le+=4;for(ue=16;ue<80;ue++)ye[ue]=4294967295&((Ue=ye[ue-3]^ye[ue-8]^ye[ue-14]^ye[ue-16])<<1|Ue>>>31);var fr,Zn,tt=this.chain_[0],Gt=this.chain_[1],Zt=this.chain_[2],Lt=this.chain_[3],Cn=this.chain_[4];for(ue=0;ue<80;ue++){ue<40?ue<20?(fr=Lt^Gt&(Zt^Lt),Zn=1518500249):(fr=Gt^Zt^Lt,Zn=1859775393):ue<60?(fr=Gt&Zt|Lt&(Gt|Zt),Zn=2400959708):(fr=Gt^Zt^Lt,Zn=3395469782);var Ue=(tt<<5|tt>>>27)+fr+Cn+Zn+ye[ue]&4294967295;Cn=Lt,Lt=Zt,Zt=4294967295&(Gt<<30|Gt>>>2),Gt=tt,tt=Ue}this.chain_[0]=this.chain_[0]+tt&4294967295,this.chain_[1]=this.chain_[1]+Gt&4294967295,this.chain_[2]=this.chain_[2]+Zt&4294967295,this.chain_[3]=this.chain_[3]+Lt&4294967295,this.chain_[4]=this.chain_[4]+Cn&4294967295},q.prototype.update=function(G,le){if(null!=G){void 0===le&&(le=G.length);for(var ye=le-this.blockSize,ue=0,Ue=this.buf_,tt=this.inbuf_;ue<le;){if(0===tt)for(;ue<=ye;)this.compress_(G,ue),ue+=this.blockSize;if("string"==typeof G){for(;ue<le;)if(Ue[tt]=G.charCodeAt(ue),++ue,++tt===this.blockSize){this.compress_(Ue),tt=0;break}}else for(;ue<le;)if(Ue[tt]=G[ue],++ue,++tt===this.blockSize){this.compress_(Ue),tt=0;break}}this.inbuf_=tt,this.total_+=le}},q.prototype.digest=function(){var G=[],le=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var ye=this.blockSize-1;ye>=56;ye--)this.buf_[ye]=255&le,le/=256;this.compress_(this.buf_);var ue=0;for(ye=0;ye<5;ye++)for(var Ue=24;Ue>=0;Ue-=8)G[ue]=this.chain_[ye]>>Ue&255,++ue;return G}}();var it=function(){function q(G,le){var ye=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=le,this.task.then(function(){G(ye)}).catch(function(ue){ye.error(ue)})}return q.prototype.next=function(G){this.forEachObserver(function(le){le.next(G)})},q.prototype.error=function(G){this.forEachObserver(function(le){le.error(G)}),this.close(G)},q.prototype.complete=function(){this.forEachObserver(function(G){G.complete()}),this.close()},q.prototype.subscribe=function(G,le,ye){var Ue,ue=this;if(void 0===G&&void 0===le&&void 0===ye)throw new Error("Missing Observer.");void 0===(Ue=function(q,G){if("object"!=typeof q||null===q)return!1;for(var le=0,ye=["next","error","complete"];le<ye.length;le++){var ue=ye[le];if(ue in q&&"function"==typeof q[ue])return!0}return!1}(G)?G:{next:G,error:le,complete:ye}).next&&(Ue.next=Dn),void 0===Ue.error&&(Ue.error=Dn),void 0===Ue.complete&&(Ue.complete=Dn);var tt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{ue.finalError?Ue.error(ue.finalError):Ue.complete()}catch(Gt){}}),this.observers.push(Ue),tt},q.prototype.unsubscribeOne=function(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},q.prototype.forEachObserver=function(G){if(!this.finalized)for(var le=0;le<this.observers.length;le++)this.sendOne(le,G)},q.prototype.sendOne=function(G,le){var ye=this;this.task.then(function(){if(void 0!==ye.observers&&void 0!==ye.observers[G])try{le(ye.observers[G])}catch(ue){"undefined"!=typeof console&&console.error&&console.error(ue)}})},q.prototype.close=function(G){var le=this;this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(function(){le.observers=void 0,le.onNoObservers=void 0}))},q}();function Dn(){}function Jt(q,G,le){void 0===G&&(G=1e3),void 0===le&&(le=2);var ye=G*Math.pow(le,q),ue=Math.round(.5*ye*(Math.random()-.5)*2);return Math.min(144e5,ye+ue)}function Xt(q){return q&&q._delegate?q._delegate:q}},6300:(et,Ne,V)=>{"use strict";V.r(Ne);var f=V(8239),de=V(4486),$=V(4685),ie=V(5452),me=V(4762),X=V(300),he=V(6034);const Ae=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},pe=new $.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),be=new X.Yd("@firebase/auth");function We(C,...y){be.logLevel<=X.in.ERROR&&be.error(`Auth (${ie.SDK_VERSION}): ${C}`,...y)}function Ve(C,...y){throw xt(C,...y)}function Je(C,...y){return xt(C,...y)}function xt(C,...y){if("string"!=typeof C){const E=y[0],T=[...y.slice(1)];return T[0]&&(T[0].appName=C.name),C._errorFactory.create(E,...T)}return pe.create(C,...y)}function Ie(C,y,...E){if(!C)throw xt(y,...E)}function kt(C){const y="INTERNAL ASSERTION FAILED: "+C;throw We(y),new Error(y)}function Et(C,y){C||kt(y)}const Ee=new Map;function ge(C){Et(C instanceof Function,"Expected a class definition");let y=Ee.get(C);return y?(Et(y instanceof C,"Instance stored in cache mismatched with class"),y):(y=new C,Ee.set(C,y),y)}function we(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function ae(){return"http:"===Ge()||"https:"===Ge()}function Ge(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class dt{constructor(y,E){this.shortDelay=y,this.longDelay=E,Et(E>y,"Short delay should be less than long delay!"),this.isMobile=(0,$.uI)()||(0,$.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ae()||(0,$.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function _t(C,y){Et(C.emulator,"Emulator should always be set here");const{url:E}=C.emulator;return y?`${E}${y.startsWith("/")?y.slice(1):y}`:E}class ft{static initialize(y,E,T){this.fetchImpl=y,E&&(this.headersImpl=E),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void kt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void kt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void kt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const wn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded"},Ji=new dt(3e4,6e4);function hn(C,y){return C.tenantId&&!y.tenantId?Object.assign(Object.assign({},y),{tenantId:C.tenantId}):y}function Dt(C,y,E,T){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,f.Z)(function*(C,y,E,T,N={}){return dn(C,N,()=>{let P={},te={};T&&("GET"===y?te=T:P={body:JSON.stringify(T)});const Me=(0,$.xO)(Object.assign({key:C.config.apiKey},te)).slice(1),qe=new(ft.headers());return qe.set("Content-Type","application/json"),qe.set("X-Client-Version",C._getSdkClientVersion()),C.languageCode&&qe.set("X-Firebase-Locale",C.languageCode),ft.fetch()(yo(C,C.config.apiHost,E,Me),Object.assign({method:y,headers:qe,referrerPolicy:"no-referrer"},P))})})).apply(this,arguments)}function dn(C,y,E){return jn.apply(this,arguments)}function jn(){return(jn=(0,f.Z)(function*(C,y,E){C._canInitEmulator=!1;const T=Object.assign(Object.assign({},wn),y);try{const N=new Xr(C),P=yield Promise.race([E(),N.promise]);N.clearNetworkTimeout();const te=yield P.json();if("needConfirmation"in te)throw Nr(C,"account-exists-with-different-credential",te);if(P.ok&&!("errorMessage"in te))return te;{const qe=(P.ok?te.errorMessage:te.error.message).split(" : ")[0];if("FEDERATED_USER_ID_ALREADY_LINKED"===qe)throw Nr(C,"credential-already-in-use",te);if("EMAIL_EXISTS"===qe)throw Nr(C,"email-already-in-use",te);Ve(C,T[qe]||qe.toLowerCase().replace(/[_\s]+/g,"-"))}}catch(N){if(N instanceof $.ZR)throw N;Ve(C,"network-request-failed")}})).apply(this,arguments)}function Wn(C,y,E,T){return $s.apply(this,arguments)}function $s(){return($s=(0,f.Z)(function*(C,y,E,T,N={}){const P=yield Dt(C,y,E,T,N);return"mfaPendingCredential"in P&&Ve(C,"multi-factor-auth-required",{serverResponse:P}),P})).apply(this,arguments)}function yo(C,y,E,T){const N=`${y}${E}?${T}`;return C.config.emulator?_t(C.config,N):`${C.config.apiScheme}://${N}`}class Xr{constructor(y){this.auth=y,this.timer=null,this.promise=new Promise((E,T)=>{this.timer=setTimeout(()=>T(Je(this.auth,"timeout")),Ji.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Nr(C,y,E){const T={appName:C.name};E.email&&(T.email=E.email),E.phoneNumber&&(T.phoneNumber=E.phoneNumber);const N=Je(C,y,T);return N.customData._tokenResponse=E,N}function Pi(){return(Pi=(0,f.Z)(function*(C,y){return Dt(C,"POST","/v1/accounts:delete",y)})).apply(this,arguments)}function es(C,y){return it.apply(this,arguments)}function it(){return(it=(0,f.Z)(function*(C,y){return Dt(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Rn(C,y){return Or.apply(this,arguments)}function Or(){return(Or=(0,f.Z)(function*(C,y){return Dt(C,"POST","/v1/accounts:lookup",y)})).apply(this,arguments)}function Dn(C){if(C)try{const y=new Date(Number(C));if(!isNaN(y.getTime()))return y.toUTCString()}catch(y){}}function $t(){return($t=(0,f.Z)(function*(C,y=!1){const E=(0,$.m9)(C),T=yield E.getIdToken(y),N=Xn(T);Ie(N&&N.exp&&N.auth_time&&N.iat,E.auth,"internal-error");const P="object"==typeof N.firebase?N.firebase:void 0,te=null==P?void 0:P.sign_in_provider;return{claims:N,token:T,authTime:Dn(jt(N.auth_time)),issuedAtTime:Dn(jt(N.iat)),expirationTime:Dn(jt(N.exp)),signInProvider:te||null,signInSecondFactor:(null==P?void 0:P.sign_in_second_factor)||null}})).apply(this,arguments)}function jt(C){return 1e3*Number(C)}function Xn(C){const[y,E,T]=C.split(".");if(void 0===y||void 0===E||void 0===T)return We("JWT malformed, contained fewer than 3 sections"),null;try{const N=(0,$.tV)(E);return N?JSON.parse(N):(We("Failed to decode base64 JWT payload"),null)}catch(N){return We("Caught error parsing JWT payload as JSON",N),null}}function je(C,y){return pt.apply(this,arguments)}function pt(){return(pt=(0,f.Z)(function*(C,y,E=!1){if(E)return y;try{return yield y}catch(T){throw T instanceof $.ZR&&Ra(T)&&C.auth.currentUser===C&&(yield C.auth.signOut()),T}})).apply(this,arguments)}function Ra({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}class Gs{constructor(y){this.user=y,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(y){var E;if(y){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const N=(null!==(E=this.user.stsTokenManager.expirationTime)&&void 0!==E?E:0)-Date.now()-3e5;return Math.max(0,N)}}schedule(y=!1){var E=this;if(!this.isRunning)return;const T=this.getInterval(y);this.timerId=setTimeout((0,f.Z)(function*(){yield E.iteration()}),T)}iteration(){var y=this;return(0,f.Z)(function*(){try{yield y.user.getIdToken(!0)}catch(E){return void("auth/network-request-failed"===E.code&&y.schedule(!0))}y.schedule()})()}}class ei{constructor(y,E){this.createdAt=y,this.lastLoginAt=E,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dn(this.lastLoginAt),this.creationTime=Dn(this.createdAt)}_copy(y){this.createdAt=y.createdAt,this.lastLoginAt=y.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Jt(C){return hr.apply(this,arguments)}function hr(){return(hr=(0,f.Z)(function*(C){var y;const E=C.auth,T=yield C.getIdToken(),N=yield je(C,Rn(E,{idToken:T}));Ie(null==N?void 0:N.users.length,E,"internal-error");const P=N.users[0];C._notifyReloadListener(P);const te=(null===(y=P.providerUserInfo)||void 0===y?void 0:y.length)?G(P.providerUserInfo):[],Me=q(C.providerData,te),gt=!!C.isAnonymous&&!(C.email&&P.passwordHash||(null==Me?void 0:Me.length)),vt={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:Me,metadata:new ei(P.createdAt,P.lastLoginAt),isAnonymous:gt};Object.assign(C,vt)})).apply(this,arguments)}function Xt(){return(Xt=(0,f.Z)(function*(C){const y=(0,$.m9)(C);yield Jt(y),yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)})).apply(this,arguments)}function q(C,y){return[...C.filter(T=>!y.some(N=>N.providerId===T.providerId)),...y]}function G(C){return C.map(y=>{var{providerId:E}=y,T=(0,me._T)(y,["providerId"]);return{providerId:E,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}function ye(){return(ye=(0,f.Z)(function*(C,y){const E=yield dn(C,{},()=>{const T=(0,$.xO)({grant_type:"refresh_token",refresh_token:y}).slice(1),{tokenApiHost:N,apiKey:P}=C.config,te=yo(C,N,"/v1/token",`key=${P}`);return ft.fetch()(te,{method:"POST",headers:{"X-Client-Version":C._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:T})});return{accessToken:E.access_token,expiresIn:E.expires_in,refreshToken:E.refresh_token}})).apply(this,arguments)}class ue{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(y){Ie(y.idToken,"internal-error"),Ie(void 0!==y.idToken,"internal-error"),Ie(void 0!==y.refreshToken,"internal-error");const E="expiresIn"in y&&void 0!==y.expiresIn?Number(y.expiresIn):function(C){const y=Xn(C);return Ie(y,"internal-error"),Ie(void 0!==y.exp,"internal-error"),Ie(void 0!==y.iat,"internal-error"),Number(y.exp)-Number(y.iat)}(y.idToken);this.updateTokensAndExpiration(y.idToken,y.refreshToken,E)}getToken(y,E=!1){var T=this;return(0,f.Z)(function*(){return Ie(!T.accessToken||T.refreshToken,y,"user-token-expired"),E||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(y,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(y,E){var T=this;return(0,f.Z)(function*(){const{accessToken:N,refreshToken:P,expiresIn:te}=yield function(C,y){return ye.apply(this,arguments)}(y,E);T.updateTokensAndExpiration(N,P,Number(te))})()}updateTokensAndExpiration(y,E,T){this.refreshToken=E||null,this.accessToken=y||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(y,E){const{refreshToken:T,accessToken:N,expirationTime:P}=E,te=new ue;return T&&(Ie("string"==typeof T,"internal-error",{appName:y}),te.refreshToken=T),N&&(Ie("string"==typeof N,"internal-error",{appName:y}),te.accessToken=N),P&&(Ie("number"==typeof P,"internal-error",{appName:y}),te.expirationTime=P),te}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(y){this.accessToken=y.accessToken,this.refreshToken=y.refreshToken,this.expirationTime=y.expirationTime}_clone(){return Object.assign(new ue,this.toJSON())}_performRefresh(){return kt("not implemented")}}function Ue(C,y){Ie("string"==typeof C||void 0===C,"internal-error",{appName:y})}class tt{constructor(y){var{uid:E,auth:T,stsTokenManager:N}=y,P=(0,me._T)(y,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Gs(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=E,this.auth=T,this.stsTokenManager=N,this.accessToken=N.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.metadata=new ei(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(y){var E=this;return(0,f.Z)(function*(){const T=yield je(E,E.stsTokenManager.getToken(E.auth,y));return Ie(T,E.auth,"internal-error"),E.accessToken!==T&&(E.accessToken=T,yield E.auth._persistUserIfCurrent(E),E.auth._notifyListenersIfCurrent(E)),T})()}getIdTokenResult(y){return function(C){return $t.apply(this,arguments)}(this,y)}reload(){return function(C){return Xt.apply(this,arguments)}(this)}_assign(y){this!==y&&(Ie(this.uid===y.uid,this.auth,"internal-error"),this.displayName=y.displayName,this.photoURL=y.photoURL,this.email=y.email,this.emailVerified=y.emailVerified,this.phoneNumber=y.phoneNumber,this.isAnonymous=y.isAnonymous,this.tenantId=y.tenantId,this.providerData=y.providerData.map(E=>Object.assign({},E)),this.metadata._copy(y.metadata),this.stsTokenManager._assign(y.stsTokenManager))}_clone(y){return new tt(Object.assign(Object.assign({},this),{auth:y,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(y){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=y,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(y){this.reloadListener?this.reloadListener(y):this.reloadUserInfo=y}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(y,E=!1){var T=this;return(0,f.Z)(function*(){let N=!1;y.idToken&&y.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(y),N=!0),E&&(yield Jt(T)),yield T.auth._persistUserIfCurrent(T),N&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var y=this;return(0,f.Z)(function*(){const E=yield y.getIdToken();return yield je(y,function(C,y){return Pi.apply(this,arguments)}(y.auth,{idToken:E})),y.stsTokenManager.clearRefreshToken(),y.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(y=>Object.assign({},y)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(y,E){var T,N,P,te,Me,qe,nt,gt;const vt=null!==(T=E.displayName)&&void 0!==T?T:void 0,Yn=null!==(N=E.email)&&void 0!==N?N:void 0,$i=null!==(P=E.phoneNumber)&&void 0!==P?P:void 0,As=null!==(te=E.photoURL)&&void 0!==te?te:void 0,zg=null!==(Me=E.tenantId)&&void 0!==Me?Me:void 0,Au=null!==(qe=E._redirectEventId)&&void 0!==qe?qe:void 0,qg=null!==(nt=E.createdAt)&&void 0!==nt?nt:void 0,ff=null!==(gt=E.lastLoginAt)&&void 0!==gt?gt:void 0,{uid:pf,emailVerified:ll,isAnonymous:Gi,providerData:Mu,stsTokenManager:nd}=E;Ie(pf&&nd,y,"internal-error");const yv=ue.fromJSON(this.name,nd);Ie("string"==typeof pf,y,"internal-error"),Ue(vt,y.name),Ue(Yn,y.name),Ie("boolean"==typeof ll,y,"internal-error"),Ie("boolean"==typeof Gi,y,"internal-error"),Ue($i,y.name),Ue(As,y.name),Ue(zg,y.name),Ue(Au,y.name),Ue(qg,y.name),Ue(ff,y.name);const gf=new tt({uid:pf,auth:y,email:Yn,emailVerified:ll,displayName:vt,isAnonymous:Gi,photoURL:As,phoneNumber:$i,tenantId:zg,stsTokenManager:yv,createdAt:qg,lastLoginAt:ff});return Mu&&Array.isArray(Mu)&&(gf.providerData=Mu.map(as=>Object.assign({},as))),Au&&(gf._redirectEventId=Au),gf}static _fromIdTokenResponse(y,E,T=!1){return(0,f.Z)(function*(){const N=new ue;N.updateFromServerResponse(E);const P=new tt({uid:E.localId,auth:y,stsTokenManager:N,isAnonymous:T});return yield Jt(P),P})()}}const Zt=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(E,T){var N=this;return(0,f.Z)(function*(){N.storage[E]=T})()}_get(E){var T=this;return(0,f.Z)(function*(){const N=T.storage[E];return void 0===N?null:N})()}_remove(E){var T=this;return(0,f.Z)(function*(){delete T.storage[E]})()}_addListener(E,T){}_removeListener(E,T){}}return C.type="NONE",C})();function Lt(C,y,E){return`firebase:${C}:${y}:${E}`}class Cn{constructor(y,E,T){this.persistence=y,this.auth=E,this.userKey=T;const{config:N,name:P}=this.auth;this.fullUserKey=Lt(this.userKey,N.apiKey,P),this.fullPersistenceKey=Lt("persistence",N.apiKey,P),this.boundEventHandler=E._onStorageEvent.bind(E),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(y){return this.persistence._set(this.fullUserKey,y.toJSON())}getCurrentUser(){var y=this;return(0,f.Z)(function*(){const E=yield y.persistence._get(y.fullUserKey);return E?tt._fromJSON(y.auth,E):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(y){var E=this;return(0,f.Z)(function*(){if(E.persistence===y)return;const T=yield E.getCurrentUser();return yield E.removeCurrentUser(),E.persistence=y,T?E.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(y,E,T="authUser"){return(0,f.Z)(function*(){if(!E.length)return new Cn(ge(Zt),y,T);const N=(yield Promise.all(E.map(function(){var nt=(0,f.Z)(function*(gt){if(yield gt._isAvailable())return gt});return function(gt){return nt.apply(this,arguments)}}()))).filter(nt=>nt);let P=N[0]||ge(Zt);const te=Lt(T,y.config.apiKey,y.name);let Me=null;for(const nt of E)try{const gt=yield nt._get(te);if(gt){const vt=tt._fromJSON(y,gt);nt!==P&&(Me=vt),P=nt;break}}catch(gt){}const qe=N.filter(nt=>nt._shouldAllowMigration);return P._shouldAllowMigration&&qe.length?(P=qe[0],Me&&(yield P._set(te,Me.toJSON())),yield Promise.all(E.map(function(){var nt=(0,f.Z)(function*(gt){if(gt!==P)try{yield gt._remove(te)}catch(vt){}});return function(gt){return nt.apply(this,arguments)}}())),new Cn(P,y,T)):new Cn(P,y,T)})()}}function fr(C){const y=C.toLowerCase();if(y.includes("opera/")||y.includes("opr/")||y.includes("opios/"))return"Opera";if(Gl(y))return"IEMobile";if(y.includes("msie")||y.includes("trident/"))return"IE";if(y.includes("edge/"))return"Edge";if(Zn(y))return"Firefox";if(y.includes("silk/"))return"Silk";if(Na(y))return"Blackberry";if(jo(y))return"Webos";if(ts(y))return"Safari";if((y.includes("chrome/")||ms(y))&&!y.includes("edge/"))return"Chrome";if(_s(y))return"Android";{const T=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==T?void 0:T.length))return T[1]}return"Other"}function Zn(C=(0,$.z$)()){return/firefox\//i.test(C)}function ts(C=(0,$.z$)()){const y=C.toLowerCase();return y.includes("safari/")&&!y.includes("chrome/")&&!y.includes("crios/")&&!y.includes("android")}function ms(C=(0,$.z$)()){return/crios\//i.test(C)}function Gl(C=(0,$.z$)()){return/iemobile/i.test(C)}function _s(C=(0,$.z$)()){return/android/i.test(C)}function Na(C=(0,$.z$)()){return/blackberry/i.test(C)}function jo(C=(0,$.z$)()){return/webos/i.test(C)}function In(C=(0,$.z$)()){return/iphone|ipad|ipod/i.test(C)}function Ih(C=(0,$.z$)()){return In(C)||_s(C)||jo(C)||Na(C)||/windows phone/i.test(C)||Gl(C)}function ze(C,y=[]){let E;switch(C){case"Browser":E=fr((0,$.z$)());break;case"Worker":E=`${fr((0,$.z$)())}-${C}`;break;default:E=C}const T=y.length?y.join(","):"FirebaseCore-web";return`${E}/JsCore/${ie.SDK_VERSION}/${T}`}class Vt{constructor(y,E){this.app=y,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wr(this),this.idTokenSubscription=new wr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=y.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(y,E){var T=this;return E&&(this._popupRedirectResolver=ge(E)),this._initializationPromise=this.queue((0,f.Z)(function*(){var N;T._deleted||(T.persistenceManager=yield Cn.create(T,y),!T._deleted&&((null===(N=T._popupRedirectResolver)||void 0===N?void 0:N._shouldInitProactively)&&(yield T._popupRedirectResolver._initialize(T)),yield T.initializeCurrentUser(E),!T._deleted&&(T._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var y=this;return(0,f.Z)(function*(){if(y._deleted)return;const E=yield y.assertedPersistence.getCurrentUser();if(y.currentUser||E){if(y.currentUser&&E&&y.currentUser.uid===E.uid)return y._currentUser._assign(E),void(yield y.currentUser.getIdToken());yield y._updateCurrentUser(E)}})()}initializeCurrentUser(y){var E=this;return(0,f.Z)(function*(){var T;let N=yield E.assertedPersistence.getCurrentUser();if(y&&E.config.authDomain){yield E.getOrInitRedirectPersistenceManager();const P=null===(T=E.redirectUser)||void 0===T?void 0:T._redirectEventId,te=null==N?void 0:N._redirectEventId,Me=yield E.tryRedirectSignIn(y);(!P||P===te)&&(null==Me?void 0:Me.user)&&(N=Me.user)}return N?N._redirectEventId?(Ie(E._popupRedirectResolver,E,"argument-error"),yield E.getOrInitRedirectPersistenceManager(),E.redirectUser&&E.redirectUser._redirectEventId===N._redirectEventId?E.directlySetCurrentUser(N):E.reloadAndSetCurrentUserOrClear(N)):E.reloadAndSetCurrentUserOrClear(N):E.directlySetCurrentUser(null)})()}tryRedirectSignIn(y){var E=this;return(0,f.Z)(function*(){let T=null;try{T=yield E._popupRedirectResolver._completeRedirectFn(E,y,!0)}catch(N){yield E._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(y){var E=this;return(0,f.Z)(function*(){try{yield Jt(y)}catch(T){if("auth/network-request-failed"!==T.code)return E.directlySetCurrentUser(null)}return E.directlySetCurrentUser(y)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var y=this;return(0,f.Z)(function*(){y._deleted=!0})()}updateCurrentUser(y){var E=this;return(0,f.Z)(function*(){const T=y?(0,$.m9)(y):null;return T&&Ie(T.auth.config.apiKey===E.config.apiKey,E,"invalid-user-token"),E._updateCurrentUser(T&&T._clone(E))})()}_updateCurrentUser(y){var E=this;return(0,f.Z)(function*(){if(!E._deleted)return y&&Ie(E.tenantId===y.tenantId,E,"tenant-id-mismatch"),E.queue((0,f.Z)(function*(){yield E.directlySetCurrentUser(y),E.notifyAuthListeners()}))})()}signOut(){var y=this;return(0,f.Z)(function*(){return(y.redirectPersistenceManager||y._popupRedirectResolver)&&(yield y._setRedirectUser(null)),y._updateCurrentUser(null)})()}setPersistence(y){var E=this;return this.queue((0,f.Z)(function*(){yield E.assertedPersistence.setPersistence(ge(y))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(y){this._errorFactory=new $.LL("auth","Firebase",y())}onAuthStateChanged(y,E,T){return this.registerStateListener(this.authStateSubscription,y,E,T)}onIdTokenChanged(y,E,T){return this.registerStateListener(this.idTokenSubscription,y,E,T)}toJSON(){var y;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(y=this._currentUser)||void 0===y?void 0:y.toJSON()}}_setRedirectUser(y,E){var T=this;return(0,f.Z)(function*(){const N=yield T.getOrInitRedirectPersistenceManager(E);return null===y?N.removeCurrentUser():N.setCurrentUser(y)})()}getOrInitRedirectPersistenceManager(y){var E=this;return(0,f.Z)(function*(){if(!E.redirectPersistenceManager){const T=y&&ge(y)||E._popupRedirectResolver;Ie(T,E,"argument-error"),E.redirectPersistenceManager=yield Cn.create(E,[ge(T._redirectPersistence)],"redirectUser"),E.redirectUser=yield E.redirectPersistenceManager.getCurrentUser()}return E.redirectPersistenceManager})()}_redirectUserForId(y){var E=this;return(0,f.Z)(function*(){var T,N;return E._isInitialized&&(yield E.queue((0,f.Z)(function*(){}))),(null===(T=E._currentUser)||void 0===T?void 0:T._redirectEventId)===y?E._currentUser:(null===(N=E.redirectUser)||void 0===N?void 0:N._redirectEventId)===y?E.redirectUser:null})()}_persistUserIfCurrent(y){var E=this;return(0,f.Z)(function*(){if(y===E.currentUser)return E.queue((0,f.Z)(function*(){return E.directlySetCurrentUser(y)}))})()}_notifyListenersIfCurrent(y){y===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var y,E;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(E=null===(y=this.currentUser)||void 0===y?void 0:y.uid)&&void 0!==E?E:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(y,E,T,N){if(this._deleted)return()=>{};const P="function"==typeof E?E:E.next.bind(E),te=this._isInitialized?Promise.resolve():this._initializationPromise;return Ie(te,this,"internal-error"),te.then(()=>P(this.currentUser)),"function"==typeof E?y.addObserver(E,T,N):y.addObserver(E)}directlySetCurrentUser(y){var E=this;return(0,f.Z)(function*(){E.currentUser&&E.currentUser!==y&&(E._currentUser._stopProactiveRefresh(),y&&E.isProactiveRefreshEnabled&&y._startProactiveRefresh()),E.currentUser=y,y?yield E.assertedPersistence.setCurrentUser(y):yield E.assertedPersistence.removeCurrentUser()})()}queue(y){return this.operations=this.operations.then(y,y),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(y){!y||this.frameworks.includes(y)||(this.frameworks.push(y),this.frameworks.sort(),this.clientVersion=ze(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Nt(C){return(0,$.m9)(C)}class wr{constructor(y){this.auth=y,this.observer=null,this.addObserver=(0,$.ne)(E=>this.observer=E)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Nn(C){const y=C.indexOf(":");return y<0?"":C.substr(0,y+1)}function vn(C){if(!C)return null;const y=Number(C);return isNaN(y)?null:y}class bi{constructor(y,E){this.providerId=y,this.signInMethod=E}toJSON(){return kt("not implemented")}_getIdTokenResponse(y){return kt("not implemented")}_linkToIdToken(y,E){return kt("not implemented")}_getReauthenticationResolver(y){return kt("not implemented")}}function At(C,y){return Li.apply(this,arguments)}function Li(){return(Li=(0,f.Z)(function*(C,y){return Dt(C,"POST","/v1/accounts:resetPassword",hn(C,y))})).apply(this,arguments)}function gn(C,y){return vo.apply(this,arguments)}function vo(){return(vo=(0,f.Z)(function*(C,y){return Dt(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function $o(C,y){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,f.Z)(function*(C,y){return Dt(C,"POST","/v1/accounts:update",hn(C,y))})).apply(this,arguments)}function Vi(){return(Vi=(0,f.Z)(function*(C,y){return Wn(C,"POST","/v1/accounts:signInWithPassword",hn(C,y))})).apply(this,arguments)}function Cr(C,y){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,f.Z)(function*(C,y){return Dt(C,"POST","/v1/accounts:sendOobCode",hn(C,y))})).apply(this,arguments)}function Rc(C,y){return zl.apply(this,arguments)}function zl(){return(zl=(0,f.Z)(function*(C,y){return Cr(C,y)})).apply(this,arguments)}function Ei(C,y){return zo.apply(this,arguments)}function zo(){return(zo=(0,f.Z)(function*(C,y){return Cr(C,y)})).apply(this,arguments)}function Hn(C,y){return ys.apply(this,arguments)}function ys(){return(ys=(0,f.Z)(function*(C,y){return Cr(C,y)})).apply(this,arguments)}function ni(C,y){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,f.Z)(function*(C,y){return Cr(C,y)})).apply(this,arguments)}function wi(){return(wi=(0,f.Z)(function*(C,y){return Wn(C,"POST","/v1/accounts:signInWithEmailLink",hn(C,y))})).apply(this,arguments)}function qs(){return(qs=(0,f.Z)(function*(C,y){return Wn(C,"POST","/v1/accounts:signInWithEmailLink",hn(C,y))})).apply(this,arguments)}class vs extends bi{constructor(y,E,T,N=null){super("password",T),this._email=y,this._password=E,this._tenantId=N}static _fromEmailAndPassword(y,E){return new vs(y,E,"password")}static _fromEmailAndCode(y,E,T=null){return new vs(y,E,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(y){const E="string"==typeof y?JSON.parse(y):y;if((null==E?void 0:E.email)&&(null==E?void 0:E.password)){if("password"===E.signInMethod)return this._fromEmailAndPassword(E.email,E.password);if("emailLink"===E.signInMethod)return this._fromEmailAndCode(E.email,E.password,E.tenantId)}return null}_getIdTokenResponse(y){var E=this;return(0,f.Z)(function*(){switch(E.signInMethod){case"password":return function(C,y){return Vi.apply(this,arguments)}(y,{returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function(C,y){return wi.apply(this,arguments)}(y,{email:E._email,oobCode:E._password});default:Ve(y,"internal-error")}})()}_linkToIdToken(y,E){var T=this;return(0,f.Z)(function*(){switch(T.signInMethod){case"password":return gn(y,{idToken:E,returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function(C,y){return qs.apply(this,arguments)}(y,{idToken:E,email:T._email,oobCode:T._password});default:Ve(y,"internal-error")}})()}_getReauthenticationResolver(y){return this._getIdTokenResponse(y)}}function pr(C,y){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,f.Z)(function*(C,y){return Wn(C,"POST","/v1/accounts:signInWithIdp",hn(C,y))})).apply(this,arguments)}class ns extends bi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(y){const E=new ns(y.providerId,y.signInMethod);return y.idToken||y.accessToken?(y.idToken&&(E.idToken=y.idToken),y.accessToken&&(E.accessToken=y.accessToken),y.nonce&&!y.pendingToken&&(E.nonce=y.nonce),y.pendingToken&&(E.pendingToken=y.pendingToken)):y.oauthToken&&y.oauthTokenSecret?(E.accessToken=y.oauthToken,E.secret=y.oauthTokenSecret):Ve("argument-error"),E}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(y){const E="string"==typeof y?JSON.parse(y):y,{providerId:T,signInMethod:N}=E,P=(0,me._T)(E,["providerId","signInMethod"]);if(!T||!N)return null;const te=new ns(T,N);return Object.assign(te,P),te}_getIdTokenResponse(y){return pr(y,this.buildRequest())}_linkToIdToken(y,E){const T=this.buildRequest();return T.idToken=E,pr(y,T)}_getReauthenticationResolver(y){const E=this.buildRequest();return E.autoCreate=!1,pr(y,E)}buildRequest(){const y={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)y.pendingToken=this.pendingToken;else{const E={};this.idToken&&(E.id_token=this.idToken),this.accessToken&&(E.access_token=this.accessToken),this.secret&&(E.oauth_token_secret=this.secret),E.providerId=this.providerId,this.nonce&&!this.pendingToken&&(E.nonce=this.nonce),y.postBody=(0,$.xO)(E)}return y}}function Th(C,y){return ql.apply(this,arguments)}function ql(){return(ql=(0,f.Z)(function*(C,y){return Dt(C,"POST","/v1/accounts:sendVerificationCode",hn(C,y))})).apply(this,arguments)}function Oa(){return(Oa=(0,f.Z)(function*(C,y){return Wn(C,"POST","/v1/accounts:signInWithPhoneNumber",hn(C,y))})).apply(this,arguments)}function ka(){return(ka=(0,f.Z)(function*(C,y){const E=yield Wn(C,"POST","/v1/accounts:signInWithPhoneNumber",hn(C,y));if(E.temporaryProof)throw Nr(C,"account-exists-with-different-credential",E);return E})).apply(this,arguments)}const rg={USER_NOT_FOUND:"user-not-found"};function Wl(){return(Wl=(0,f.Z)(function*(C,y){return Wn(C,"POST","/v1/accounts:signInWithPhoneNumber",hn(C,Object.assign(Object.assign({},y),{operation:"REAUTH"})),rg)})).apply(this,arguments)}class Ws extends bi{constructor(y){super("phone","phone"),this.params=y}static _fromVerification(y,E){return new Ws({verificationId:y,verificationCode:E})}static _fromTokenResponse(y,E){return new Ws({phoneNumber:y,temporaryProof:E})}_getIdTokenResponse(y){return function(C,y){return Oa.apply(this,arguments)}(y,this._makeVerificationRequest())}_linkToIdToken(y,E){return function(C,y){return ka.apply(this,arguments)}(y,Object.assign({idToken:E},this._makeVerificationRequest()))}_getReauthenticationResolver(y){return function(C,y){return Wl.apply(this,arguments)}(y,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:y,phoneNumber:E,verificationId:T,verificationCode:N}=this.params;return y&&E?{temporaryProof:y,phoneNumber:E}:{sessionInfo:T,code:N}}toJSON(){const y={providerId:this.providerId};return this.params.phoneNumber&&(y.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(y.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(y.verificationCode=this.params.verificationCode),this.params.verificationId&&(y.verificationId=this.params.verificationId),y}static fromJSON(y){"string"==typeof y&&(y=JSON.parse(y));const{verificationId:E,verificationCode:T,phoneNumber:N,temporaryProof:P}=y;return T||E||N||P?new Ws({verificationId:E,verificationCode:T,phoneNumber:N,temporaryProof:P}):null}}class qo{constructor(y){var E,T,N,P,te,Me;const qe=(0,$.zd)((0,$.pd)(y)),nt=null!==(E=qe.apiKey)&&void 0!==E?E:null,gt=null!==(T=qe.oobCode)&&void 0!==T?T:null,vt=function(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(N=qe.mode)&&void 0!==N?N:null);Ie(nt&&gt&&vt,"argument-error"),this.apiKey=nt,this.operation=vt,this.code=gt,this.continueUrl=null!==(P=qe.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(te=qe.languageCode)&&void 0!==te?te:null,this.tenantId=null!==(Me=qe.tenantId)&&void 0!==Me?Me:null}static parseLink(y){const E=function(C){const y=(0,$.zd)((0,$.pd)(C)).link,E=y?(0,$.zd)((0,$.pd)(y)).deep_link_id:null,T=(0,$.zd)((0,$.pd)(C)).deep_link_id;return(T?(0,$.zd)((0,$.pd)(T)).link:null)||T||E||y||C}(y);try{return new qo(E)}catch(T){return null}}}let Pa=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(E,T){return vs._fromEmailAndPassword(E,T)}static credentialWithLink(E,T){const N=qo.parseLink(T);return Ie(N,"argument-error"),vs._fromEmailAndCode(E,N.code,N.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class Es{constructor(y){this.providerId=y,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(y){this.defaultLanguageCode=y}setCustomParameters(y){return this.customParameters=y,this}getCustomParameters(){return this.customParameters}}class Zs extends Es{constructor(){super(...arguments),this.scopes=[]}addScope(y){return this.scopes.includes(y)||this.scopes.push(y),this}getScopes(){return[...this.scopes]}}class ws extends Zs{static credentialFromJSON(y){const E="string"==typeof y?JSON.parse(y):y;return Ie("providerId"in E&&"signInMethod"in E,"argument-error"),ns._fromParams(E)}credential(y){return this._credential(y)}_credential(y){return Ie(y.idToken||y.accessToken,"argument-error"),ns._fromParams(Object.assign(Object.assign({},y),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(y){return ws.oauthCredentialFromTaggedObject(y)}static credentialFromError(y){return ws.oauthCredentialFromTaggedObject(y.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:E,oauthAccessToken:T,oauthTokenSecret:N,pendingToken:P,nonce:te,providerId:Me}=y;if(!T&&!N&&!E&&!P||!Me)return null;try{return new ws(Me)._credential({idToken:E,accessToken:T,rawNonce:te,pendingToken:P})}catch(qe){return null}}}let Yl=(()=>{class C extends Zs{constructor(){super("facebook.com")}static credential(E){return ns._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:E})}static credentialFromResult(E){return C.credentialFromTaggedObject(E)}static credentialFromError(E){return C.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E||!("oauthAccessToken"in E)||!E.oauthAccessToken)return null;try{return C.credential(E.oauthAccessToken)}catch(T){return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),Wo=(()=>{class C extends Zs{constructor(){super("google.com"),this.addScope("profile")}static credential(E,T){return ns._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:E,accessToken:T})}static credentialFromResult(E){return C.credentialFromTaggedObject(E)}static credentialFromError(E){return C.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthIdToken:T,oauthAccessToken:N}=E;if(!T&&!N)return null;try{return C.credential(T,N)}catch(P){return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),Ql=(()=>{class C extends Zs{constructor(){super("github.com")}static credential(E){return ns._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:E})}static credentialFromResult(E){return C.credentialFromTaggedObject(E)}static credentialFromError(E){return C.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E||!("oauthAccessToken"in E)||!E.oauthAccessToken)return null;try{return C.credential(E.oauthAccessToken)}catch(T){return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class bo extends bi{constructor(y,E){super(y,y),this.pendingToken=E}_getIdTokenResponse(y){return pr(y,this.buildRequest())}_linkToIdToken(y,E){const T=this.buildRequest();return T.idToken=E,pr(y,T)}_getReauthenticationResolver(y){const E=this.buildRequest();return E.autoCreate=!1,pr(y,E)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(y){const E="string"==typeof y?JSON.parse(y):y,{providerId:T,signInMethod:N,pendingToken:P}=E;return T&&N&&P&&T===N?new bo(T,P):null}static _create(y,E){return new bo(y,E)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let Fa=(()=>{class C extends Zs{constructor(){super("twitter.com")}static credential(E,T){return ns._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:E,oauthTokenSecret:T})}static credentialFromResult(E){return C.credentialFromTaggedObject(E)}static credentialFromError(E){return C.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthAccessToken:T,oauthTokenSecret:N}=E;if(!T||!N)return null;try{return C.credential(T,N)}catch(P){return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function Oc(C,y){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,f.Z)(function*(C,y){return Wn(C,"POST","/v1/accounts:signUp",hn(C,y))})).apply(this,arguments)}class Ir{constructor(y){this.user=y.user,this.providerId=y.providerId,this._tokenResponse=y._tokenResponse,this.operationType=y.operationType}static _fromIdTokenResponse(y,E,T,N=!1){return(0,f.Z)(function*(){const P=yield tt._fromIdTokenResponse(y,T,N),te=La(T);return new Ir({user:P,providerId:te,_tokenResponse:T,operationType:E})})()}static _forOperation(y,E,T){return(0,f.Z)(function*(){yield y._updateTokensIfNecessary(T,!0);const N=La(T);return new Ir({user:y,providerId:N,_tokenResponse:T,operationType:E})})()}}function La(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function Va(){return(Va=(0,f.Z)(function*(C){var y;const E=Nt(C);if(yield E._initializationPromise,null===(y=E.currentUser)||void 0===y?void 0:y.isAnonymous)return new Ir({user:E.currentUser,providerId:null,operationType:"signIn"});const T=yield Oc(E,{returnSecureToken:!0}),N=yield Ir._fromIdTokenResponse(E,"signIn",T,!0);return yield E._updateCurrentUser(N.user),N})).apply(this,arguments)}class Tr extends $.ZR{constructor(y,E,T,N){var P;super(E.code,E.message),this.operationType=T,this.user=N,this.name="FirebaseError",Object.setPrototypeOf(this,Tr.prototype),this.appName=y.name,this.code=E.code,this.tenantId=null!==(P=y.tenantId)&&void 0!==P?P:void 0,this.serverResponse=E.customData.serverResponse}static _fromErrorAndOperation(y,E,T,N){return new Tr(y,E,T,N)}}function Ua(C,y,E,T){return("reauthenticate"===y?E._getReauthenticationResolver(C):E._getIdTokenResponse(C)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?Tr._fromErrorAndOperation(C,P,y,T):P})}function Jl(C){return new Set(C.map(({providerId:y})=>y).filter(y=>!!y))}function ja(){return(ja=(0,f.Z)(function*(C,y){const E=(0,$.m9)(C);yield fn(!0,E,y);const{providerUserInfo:T}=yield es(E.auth,{idToken:yield E.getIdToken(),deleteProvider:[y]}),N=Jl(T||[]);return E.providerData=E.providerData.filter(P=>N.has(P.providerId)),N.has("phone")||(E.phoneNumber=null),yield E.auth._persistUserIfCurrent(E),E})).apply(this,arguments)}function Ha(C,y){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,f.Z)(function*(C,y,E=!1){const T=yield je(C,y._linkToIdToken(C.auth,yield C.getIdToken()),E);return Ir._forOperation(C,"link",T)})).apply(this,arguments)}function fn(C,y,E){return U.apply(this,arguments)}function U(){return(U=(0,f.Z)(function*(C,y,E){yield Jt(y);const N=!1===C?"provider-already-linked":"no-such-provider";Ie(Jl(y.providerData).has(E)===C,y.auth,N)})).apply(this,arguments)}function W(C,y){return se.apply(this,arguments)}function se(){return(se=(0,f.Z)(function*(C,y,E=!1){const{auth:T}=C,N="reauthenticate";try{const P=yield je(C,Ua(T,N,y,C),E);Ie(P.idToken,T,"internal-error");const te=Xn(P.idToken);Ie(te,T,"internal-error");const{sub:Me}=te;return Ie(C.uid===Me,T,"user-mismatch"),Ir._forOperation(C,N,P)}catch(P){throw"auth/user-not-found"===(null==P?void 0:P.code)&&Ve(T,"user-mismatch"),P}})).apply(this,arguments)}function Ce(C,y){return Be.apply(this,arguments)}function Be(){return(Be=(0,f.Z)(function*(C,y,E=!1){const T="signIn",N=yield Ua(C,T,y),P=yield Ir._fromIdTokenResponse(C,T,N);return E||(yield C._updateCurrentUser(P.user)),P})).apply(this,arguments)}function Ye(C,y){return at.apply(this,arguments)}function at(){return(at=(0,f.Z)(function*(C,y){return Ce(Nt(C),y)})).apply(this,arguments)}function lt(C,y){return an.apply(this,arguments)}function an(){return(an=(0,f.Z)(function*(C,y){const E=(0,$.m9)(C);return yield fn(!1,E,y.providerId),Ha(E,y)})).apply(this,arguments)}function er(C,y){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,f.Z)(function*(C,y){return W((0,$.m9)(C),y)})).apply(this,arguments)}function tr(C,y){return wo.apply(this,arguments)}function wo(){return(wo=(0,f.Z)(function*(C,y){return Wn(C,"POST","/v1/accounts:signInWithCustomToken",hn(C,y))})).apply(this,arguments)}function $a(){return($a=(0,f.Z)(function*(C,y){const E=Nt(C),T=yield tr(E,{token:y,returnSecureToken:!0}),N=yield Ir._fromIdTokenResponse(E,"signIn",T);return yield E._updateCurrentUser(N.user),N})).apply(this,arguments)}class Is{constructor(y,E){this.factorId=y,this.uid=E.mfaEnrollmentId,this.enrollmentTime=new Date(E.enrolledAt).toUTCString(),this.displayName=E.displayName}static _fromServerResponse(y,E){return"phoneInfo"in E?Pc._fromServerResponse(y,E):Ve(y,"internal-error")}}class Pc extends Is{constructor(y){super("phone",y),this.phoneNumber=y.phoneInfo}static _fromServerResponse(y,E){return new Pc(E)}}function Ga(C,y,E){var T;Ie((null===(T=E.url)||void 0===T?void 0:T.length)>0,C,"invalid-continue-uri"),Ie(void 0===E.dynamicLinkDomain||E.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),y.continueUrl=E.url,y.dynamicLinkDomain=E.dynamicLinkDomain,y.canHandleCodeInApp=E.handleCodeInApp,E.iOS&&(Ie(E.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),y.iosBundleId=E.iOS.bundleId),E.android&&(Ie(E.android.packageName.length>0,C,"missing-android-pkg-name"),y.androidInstallApp=E.android.installApp,y.androidMinimumVersionCode=E.android.minimumVersion,y.androidPackageName=E.android.packageName)}function Dh(){return(Dh=(0,f.Z)(function*(C,y,E){const T=(0,$.m9)(C),N={requestType:"PASSWORD_RESET",email:y};E&&Ga(T,N,E),yield Ei(T,N)})).apply(this,arguments)}function Ah(){return(Ah=(0,f.Z)(function*(C,y,E){yield At((0,$.m9)(C),{oobCode:y,newPassword:E})})).apply(this,arguments)}function Mh(){return(Mh=(0,f.Z)(function*(C,y){yield $o((0,$.m9)(C),{oobCode:y})})).apply(this,arguments)}function ig(C,y){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,f.Z)(function*(C,y){const E=(0,$.m9)(C),T=yield At(E,{oobCode:y}),N=T.requestType;switch(Ie(N,E,"internal-error"),N){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ie(T.newEmail,E,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ie(T.mfaInfo,E,"internal-error");default:Ie(T.email,E,"internal-error")}let P=null;return T.mfaInfo&&(P=Is._fromServerResponse(Nt(E),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:P},operation:N}})).apply(this,arguments)}function Ht(){return(Ht=(0,f.Z)(function*(C,y){const{data:E}=yield ig((0,$.m9)(C),y);return E.email})).apply(this,arguments)}function mn(){return(mn=(0,f.Z)(function*(C,y,E){const T=Nt(C),N=yield Oc(T,{returnSecureToken:!0,email:y,password:E}),P=yield Ir._fromIdTokenResponse(T,"signIn",N);return yield T._updateCurrentUser(P.user),P})).apply(this,arguments)}function ii(){return(ii=(0,f.Z)(function*(C,y,E){const T=(0,$.m9)(C),N={requestType:"EMAIL_SIGNIN",email:y};Ie(E.handleCodeInApp,T,"argument-error"),E&&Ga(T,N,E),yield Hn(T,N)})).apply(this,arguments)}function sg(){return(sg=(0,f.Z)(function*(C,y,E){const T=(0,$.m9)(C),N=Pa.credentialWithLink(y,E||we());return Ie(N._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),Ye(T,N)})).apply(this,arguments)}function Dy(C,y){return za.apply(this,arguments)}function za(){return(za=(0,f.Z)(function*(C,y){return Dt(C,"POST","/v1/accounts:createAuthUri",hn(C,y))})).apply(this,arguments)}function $n(){return($n=(0,f.Z)(function*(C,y){const T={identifier:y,continueUri:ae()?we():"http://localhost"},{signinMethods:N}=yield Dy((0,$.m9)(C),T);return N||[]})).apply(this,arguments)}function Nh(){return(Nh=(0,f.Z)(function*(C,y){const E=(0,$.m9)(C),N={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};y&&Ga(E.auth,N,y);const{email:P}=yield Rc(E.auth,N);P!==C.email&&(yield C.reload())})).apply(this,arguments)}function Ci(){return(Ci=(0,f.Z)(function*(C,y,E){const T=(0,$.m9)(C),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:y};E&&Ga(T.auth,P,E);const{email:te}=yield ni(T.auth,P);te!==C.email&&(yield C.reload())})).apply(this,arguments)}function u0(C,y){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,f.Z)(function*(C,y){return Dt(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Oh(){return(Oh=(0,f.Z)(function*(C,{displayName:y,photoURL:E}){if(void 0===y&&void 0===E)return;const T=(0,$.m9)(C),P={idToken:yield T.getIdToken(),displayName:y,photoUrl:E,returnSecureToken:!0},te=yield je(T,u0(T.auth,P));T.displayName=te.displayName||null,T.photoURL=te.photoUrl||null;const Me=T.providerData.find(({providerId:qe})=>"password"===qe);Me&&(Me.displayName=T.displayName,Me.photoURL=T.photoURL),yield T._updateTokensIfNecessary(te)})).apply(this,arguments)}function Fh(C,y,E){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,f.Z)(function*(C,y,E){const{auth:T}=C,P={idToken:yield C.getIdToken(),returnSecureToken:!0};y&&(P.email=y),E&&(P.password=E);const te=yield je(C,gn(T,P));yield C._updateTokensIfNecessary(te,!0)})).apply(this,arguments)}class Jo{constructor(y,E,T={}){this.isNewUser=y,this.providerId=E,this.profile=T}}class eu extends Jo{constructor(y,E,T,N){super(y,E,T),this.username=N}}class lg extends Jo{constructor(y,E){super(y,"facebook.com",E)}}class Ay extends eu{constructor(y,E){super(y,"github.com",E,"string"==typeof(null==E?void 0:E.login)?null==E?void 0:E.login:null)}}class ug extends Jo{constructor(y,E){super(y,"google.com",E)}}class My extends eu{constructor(y,E,T){super(y,"twitter.com",E,T)}}function tu(C){const{user:y,_tokenResponse:E}=C;return y.isAnonymous&&!E?{providerId:null,isNewUser:!1,profile:null}:function(C){var y,E;if(!C)return null;const{providerId:T}=C,N=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},P=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!T&&(null==C?void 0:C.idToken)){const te=null===(E=null===(y=Xn(C.idToken))||void 0===y?void 0:y.firebase)||void 0===E?void 0:E.sign_in_provider;if(te)return new Jo(P,"anonymous"!==te&&"custom"!==te?te:null)}if(!T)return null;switch(T){case"facebook.com":return new lg(P,N);case"github.com":return new Ay(P,N);case"google.com":return new ug(P,N);case"twitter.com":return new My(P,N,C.screenName||null);case"custom":case"anonymous":return new Jo(P,null);default:return new Jo(P,T,N)}}(E)}class Xo{constructor(y,E){this.type=y,this.credential=E}static _fromIdtoken(y){return new Xo("enroll",y)}static _fromMfaPendingCredential(y){return new Xo("signin",y)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(y){var E,T;if(null==y?void 0:y.multiFactorSession){if(null===(E=y.multiFactorSession)||void 0===E?void 0:E.pendingCredential)return Xo._fromMfaPendingCredential(y.multiFactorSession.pendingCredential);if(null===(T=y.multiFactorSession)||void 0===T?void 0:T.idToken)return Xo._fromIdtoken(y.multiFactorSession.idToken)}return null}}class Lh{constructor(y,E,T){this.session=y,this.hints=E,this.signInResolver=T}static _fromError(y,E){const T=Nt(y),N=(E.serverResponse.mfaInfo||[]).map(te=>Is._fromServerResponse(T,te));Ie(E.serverResponse.mfaPendingCredential,T,"internal-error");const P=Xo._fromMfaPendingCredential(E.serverResponse.mfaPendingCredential);return new Lh(P,N,function(){var te=(0,f.Z)(function*(Me){const qe=yield Me._process(T,P);delete E.serverResponse.mfaInfo,delete E.serverResponse.mfaPendingCredential;const nt=Object.assign(Object.assign({},E.serverResponse),{idToken:qe.idToken,refreshToken:qe.refreshToken});switch(E.operationType){case"signIn":const gt=yield Ir._fromIdTokenResponse(T,E.operationType,nt);return yield T._updateCurrentUser(gt.user),gt;case"reauthenticate":return Ie(E.user,T,"internal-error"),Ir._forOperation(E.user,E.operationType,nt);default:Ve(T,"internal-error")}});return function(Me){return te.apply(this,arguments)}}())}resolveSignIn(y){var E=this;return(0,f.Z)(function*(){return E.signInResolver(y)})()}}function jc(C,y){return Dt(C,"POST","/v2/accounts/mfaEnrollment:start",Object.assign({tenantId:C.tenantId},y))}class nu{constructor(y){this.user=y,this.enrolledFactors=[],y._onReload(E=>{E.mfaInfo&&(this.enrolledFactors=E.mfaInfo.map(T=>Is._fromServerResponse(y.auth,T)))})}static _fromUser(y){return new nu(y)}getSession(){var y=this;return(0,f.Z)(function*(){return Xo._fromIdtoken(yield y.user.getIdToken())})()}enroll(y,E){var T=this;return(0,f.Z)(function*(){const N=y,P=yield T.getSession(),te=yield je(T.user,N._process(T.user.auth,P,E));return yield T.user._updateTokensIfNecessary(te),T.user.reload()})()}unenroll(y){var E=this;return(0,f.Z)(function*(){const T="string"==typeof y?y:y.uid,N=yield E.user.getIdToken(),P=yield je(E.user,function(C,y){return Dt(C,"POST","/v2/accounts/mfaEnrollment:withdraw",Object.assign({tenantId:C.tenantId},y))}(E.user.auth,{idToken:N,mfaEnrollmentId:T}));E.enrolledFactors=E.enrolledFactors.filter(({uid:te})=>te!==T),yield E.user._updateTokensIfNecessary(P);try{yield E.user.reload()}catch(te){if("auth/user-token-expired"!==te.code)throw te}})()}}const $c=new WeakMap,os="__sak";class ru{constructor(y,E){this.storage=y,this.type=E}_isAvailable(){try{return this.storage?(this.storage.setItem(os,"1"),this.storage.removeItem(os),Promise.resolve(!0)):Promise.resolve(!1)}catch(y){return Promise.resolve(!1)}}_set(y,E){return this.storage.setItem(y,JSON.stringify(E)),Promise.resolve()}_get(y){const E=this.storage.getItem(y);return Promise.resolve(E?JSON.parse(E):null)}_remove(y){return this.storage.removeItem(y),Promise.resolve()}}const Ka=(()=>{class C extends ru{constructor(){super(window.localStorage,"LOCAL"),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const C=(0,$.z$)();return ts(C)||In(C)}()&&function(){try{return!(!window||window===window.top)}catch(C){return!1}}(),this.fallbackToPolling=Ih(),this._shouldAllowMigration=!0,this.boundEventHandler=this.onStorageEvent.bind(this)}forAllChangedKeys(E){for(const T of Object.keys(this.listeners)){const N=this.storage.getItem(T),P=this.localCache[T];N!==P&&E(T,P,N)}}onStorageEvent(E,T=!1){if(!E.key)return void this.forAllChangedKeys((Me,qe,nt)=>{this.notifyListeners(Me,nt)});const N=E.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Me=this.storage.getItem(N);if(E.newValue!==Me)null!==E.newValue?this.storage.setItem(N,E.newValue):this.storage.removeItem(N);else if(this.localCache[N]===E.newValue&&!T)return}const P=()=>{const Me=this.storage.getItem(N);!T&&this.localCache[N]===Me||this.notifyListeners(N,Me)},te=this.storage.getItem(N);(0,$.w1)()&&10===document.documentMode&&te!==E.newValue&&E.newValue!==E.oldValue?setTimeout(P,10):P()}notifyListeners(E,T){this.localCache[E]=T;const N=this.listeners[E];if(N)for(const P of Array.from(N))P(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((E,T,N)=>{this.onStorageEvent(new StorageEvent("storage",{key:E,oldValue:T,newValue:N}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(E,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[E]||(this.listeners[E]=new Set,this.localCache[E]=this.storage.getItem(E)),this.listeners[E].add(T)}_removeListener(E,T){this.listeners[E]&&(this.listeners[E].delete(T),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(E,T){var N=()=>super._set,P=this;return(0,f.Z)(function*(){yield N().call(P,E,T),P.localCache[E]=JSON.stringify(T)})()}_get(E){var T=()=>super._get,N=this;return(0,f.Z)(function*(){const P=yield T().call(N,E);return N.localCache[E]=JSON.stringify(P),P})()}_remove(E){var T=()=>super._remove,N=this;return(0,f.Z)(function*(){yield T().call(N,E),delete N.localCache[E]})()}}return C.type="LOCAL",C})(),ea=(()=>{class C extends ru{constructor(){super(window.sessionStorage,"SESSION")}_addListener(E,T){}_removeListener(E,T){}}return C.type="SESSION",C})();let Gc=(()=>{class C{constructor(E){this.eventTarget=E,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(E){const T=this.receivers.find(P=>P.isListeningto(E));if(T)return T;const N=new C(E);return this.receivers.push(N),N}isListeningto(E){return this.eventTarget===E}handleEvent(E){var T=this;return(0,f.Z)(function*(){const N=E,{eventId:P,eventType:te,data:Me}=N.data,qe=T.handlersMap[te];if(!(null==qe?void 0:qe.size))return;N.ports[0].postMessage({status:"ack",eventId:P,eventType:te});const nt=Array.from(qe).map(function(){var vt=(0,f.Z)(function*(Yn){return Yn(N.origin,Me)});return function(Yn){return vt.apply(this,arguments)}}()),gt=yield function(C){return Promise.all(C.map(function(){var y=(0,f.Z)(function*(E){try{return{fulfilled:!0,value:yield E}}catch(T){return{fulfilled:!1,reason:T}}});return function(E){return y.apply(this,arguments)}}()))}(nt);N.ports[0].postMessage({status:"done",eventId:P,eventType:te,response:gt})})()}_subscribe(E,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[E]||(this.handlersMap[E]=new Set),this.handlersMap[E].add(T)}_unsubscribe(E,T){this.handlersMap[E]&&T&&this.handlersMap[E].delete(T),(!T||0===this.handlersMap[E].size)&&delete this.handlersMap[E],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function ta(C="",y=10){let E="";for(let T=0;T<y;T++)E+=Math.floor(10*Math.random());return C+E}class Ts{constructor(y){this.target=y,this.handlers=new Set}removeMessageHandler(y){y.messageChannel&&(y.messageChannel.port1.removeEventListener("message",y.onMessage),y.messageChannel.port1.close()),this.handlers.delete(y)}_send(y,E,T=50){var N=this;return(0,f.Z)(function*(){const P="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let te,Me;return new Promise((qe,nt)=>{const gt=ta("",20);P.port1.start();const vt=setTimeout(()=>{nt(new Error("unsupported_event"))},T);Me={messageChannel:P,onMessage(Yn){const $i=Yn;if($i.data.eventId===gt)switch($i.data.status){case"ack":clearTimeout(vt),te=setTimeout(()=>{nt(new Error("timeout"))},3e3);break;case"done":clearTimeout(te),qe($i.data.response);break;default:clearTimeout(vt),clearTimeout(te),nt(new Error("invalid_response"))}}},N.handlers.add(Me),P.port1.addEventListener("message",Me.onMessage),N.target.postMessage({eventType:y,eventId:gt,data:E},[P.port2])}).finally(()=>{Me&&N.removeMessageHandler(Me)})})()}}function An(){return window}function Ya(){return void 0!==An().WorkerGlobalScope&&"function"==typeof An().importScripts}function hg(){return(hg=(0,f.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(C){return null}})).apply(this,arguments)}const ou="firebaseLocalStorageDb",au="firebaseLocalStorage",pg="fbase_key";class zc{constructor(y){this.request=y}toPromise(){return new Promise((y,E)=>{this.request.addEventListener("success",()=>{y(this.request.result)}),this.request.addEventListener("error",()=>{E(this.request.error)})})}}function Vh(C,y){return C.transaction([au],y?"readwrite":"readonly").objectStore(au)}function qc(){const C=indexedDB.open(ou,1);return new Promise((y,E)=>{C.addEventListener("error",()=>{E(C.error)}),C.addEventListener("upgradeneeded",()=>{const T=C.result;try{T.createObjectStore(au,{keyPath:pg})}catch(N){E(N)}}),C.addEventListener("success",(0,f.Z)(function*(){const T=C.result;T.objectStoreNames.contains(au)?y(T):(T.close(),yield function(){const C=indexedDB.deleteDatabase(ou);return new zc(C).toPromise()}(),y(yield qc()))}))})}function en(C,y,E){return ra.apply(this,arguments)}function ra(){return(ra=(0,f.Z)(function*(C,y,E){const T=Vh(C,!0).put({[pg]:y,value:E});return new zc(T).toPromise()})).apply(this,arguments)}function Xe(){return(Xe=(0,f.Z)(function*(C,y){const E=Vh(C,!1).get(y),T=yield new zc(E).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function gg(C,y){const E=Vh(C,!0).delete(y);return new zc(E).toPromise()}const uu=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var E=this;return(0,f.Z)(function*(){return E.db||(E.db=yield qc()),E.db})()}_withRetries(E){var T=this;return(0,f.Z)(function*(){let N=0;for(;;)try{const P=yield T._openDb();return yield E(P)}catch(P){if(N++>3)throw P;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var E=this;return(0,f.Z)(function*(){return Ya()?E.initializeReceiver():E.initializeSender()})()}initializeReceiver(){var E=this;return(0,f.Z)(function*(){E.receiver=Gc._getInstance(Ya()?self:null),E.receiver._subscribe("keyChanged",function(){var T=(0,f.Z)(function*(N,P){return{keyProcessed:(yield E._poll()).includes(P.key)}});return function(N,P){return T.apply(this,arguments)}}()),E.receiver._subscribe("ping",function(){var T=(0,f.Z)(function*(N,P){return["keyChanged"]});return function(N,P){return T.apply(this,arguments)}}())})()}initializeSender(){var E=this;return(0,f.Z)(function*(){var T,N;if(E.activeServiceWorker=yield function(){return hg.apply(this,arguments)}(),!E.activeServiceWorker)return;E.sender=new Ts(E.activeServiceWorker);const P=yield E.sender._send("ping",{},800);!P||(null===(T=P[0])||void 0===T?void 0:T.fulfilled)&&(null===(N=P[0])||void 0===N?void 0:N.value.includes("keyChanged"))&&(E.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(E){var T=this;return(0,f.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function(){var C;return(null===(C=null==navigator?void 0:navigator.serviceWorker)||void 0===C?void 0:C.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:E},T.serviceWorkerReceiverAvailable?800:50)}catch(N){}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const E=yield qc();return yield en(E,os,"1"),yield gg(E,os),!0}catch(E){}return!1})()}_withPendingWrite(E){var T=this;return(0,f.Z)(function*(){T.pendingWrites++;try{yield E()}finally{T.pendingWrites--}})()}_set(E,T){var N=this;return(0,f.Z)(function*(){return N._withPendingWrite((0,f.Z)(function*(){return yield N._withRetries(P=>en(P,E,T)),N.localCache[E]=T,N.notifyServiceWorker(E)}))})()}_get(E){var T=this;return(0,f.Z)(function*(){const N=yield T._withRetries(P=>function(C,y){return Xe.apply(this,arguments)}(P,E));return T.localCache[E]=N,N})()}_remove(E){var T=this;return(0,f.Z)(function*(){return T._withPendingWrite((0,f.Z)(function*(){return yield T._withRetries(N=>gg(N,E)),delete T.localCache[E],T.notifyServiceWorker(E)}))})()}_poll(){var E=this;return(0,f.Z)(function*(){const T=yield E._withRetries(te=>{const Me=Vh(te,!1).getAll();return new zc(Me).toPromise()});if(!T)return[];if(0!==E.pendingWrites)return[];const N=[],P=new Set;for(const{fbase_key:te,value:Me}of T)P.add(te),JSON.stringify(E.localCache[te])!==JSON.stringify(Me)&&(E.notifyListeners(te,Me),N.push(te));for(const te of Object.keys(E.localCache))E.localCache[te]&&!P.has(te)&&(E.notifyListeners(te,null),N.push(te));return N})()}notifyListeners(E,T){this.localCache[E]=T;const N=this.listeners[E];if(N)for(const P of Array.from(N))P(T)}startPolling(){var E=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return E._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(E,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[E]||(this.listeners[E]=new Set,this._get(E)),this.listeners[E].add(T)}_removeListener(E,T){this.listeners[E]&&(this.listeners[E].delete(T),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})();function ky(C,y){return Dt(C,"POST","/v2/accounts/mfaSignIn:start",Object.assign({tenantId:C.tenantId},y))}function mg(){return(mg=(0,f.Z)(function*(C){return(yield Dt(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Uh(C){return new Promise((y,E)=>{const T=document.createElement("script");T.setAttribute("src",C),T.onload=y,T.onerror=N=>{const P=Je("internal-error");P.customData=N,E(P)},T.type="text/javascript",T.charset="UTF-8",function(){var C,y;return null!==(y=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==y?y:document}().appendChild(T)})}function ia(C){return`__${C}${Math.floor(1e6*Math.random())}`}const du=1e12;class hu{constructor(y){this.auth=y,this.counter=du,this._widgets=new Map}render(y,E){const T=this.counter;return this._widgets.set(T,new fu(y,this.auth.name,E||{})),this.counter++,T}reset(y){var E;const T=y||du;null===(E=this._widgets.get(T))||void 0===E||E.delete(),this._widgets.delete(T)}getResponse(y){var E;return(null===(E=this._widgets.get(y||du))||void 0===E?void 0:E.getResponse())||""}execute(y){var E=this;return(0,f.Z)(function*(){var T;return null===(T=E._widgets.get(y||du))||void 0===T||T.execute(),""})()}}class fu{constructor(y,E,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const N="string"==typeof y?document.getElementById(y):y;Ie(N,"argument-error",{appName:E}),this.container=N,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(C){const y=[],E="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<50;T++)y.push(E.charAt(Math.floor(Math.random()*E.length)));return y.join("")}();const{callback:y,"expired-callback":E}=this.params;if(y)try{y(this.responseToken)}catch(T){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,E)try{E()}catch(T){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Qa=ia("rcb"),yg=new dt(3e4,6e4);class lA{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!An().grecaptcha}load(y,E=""){return Ie((C=E).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C),y,"argument-error"),this.shouldResolveImmediately(E)?Promise.resolve(An().grecaptcha):new Promise((T,N)=>{const P=An().setTimeout(()=>{N(Je(y,"network-request-failed"))},yg.get());An()[Qa]=()=>{An().clearTimeout(P),delete An()[Qa];const Me=An().grecaptcha;if(!Me)return void N(Je(y,"internal-error"));const qe=Me.render;Me.render=(nt,gt)=>{const vt=qe(nt,gt);return this.counter++,vt},this.hostLanguage=E,T(Me)},Uh(`https://www.google.com/recaptcha/api.js??${(0,$.xO)({onload:Qa,render:"explicit",hl:E})}`).catch(()=>{clearTimeout(P),N(Je(y,"internal-error"))})});var C}clearedOneInstance(){this.counter--}shouldResolveImmediately(y){return!!An().grecaptcha&&(y===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class g0{load(y){return(0,f.Z)(function*(){return new hu(y)})()}clearedOneInstance(){}}const m0="recaptcha",_0={theme:"light",type:"image"};class On{constructor(y,E=Object.assign({},_0),T){this.parameters=E,this.type=m0,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Nt(T),this.isInvisible="invisible"===this.parameters.size,Ie("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const N="string"==typeof y?document.getElementById(y):y;Ie(N,this.auth,"argument-error"),this.container=N,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new g0:new lA,this.validateStartingState()}verify(){var y=this;return(0,f.Z)(function*(){y.assertNotDestroyed();const E=yield y.render(),T=y.getAssertedRecaptcha();return T.getResponse(E)||new Promise(P=>{const te=Me=>{!Me||(y.tokenChangeListeners.delete(te),P(Me))};y.tokenChangeListeners.add(te),y.isInvisible&&T.execute(E)})})()}render(){try{this.assertNotDestroyed()}catch(y){return Promise.reject(y)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(y=>{throw this.renderPromise=null,y})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(y=>{this.container.removeChild(y)})}validateStartingState(){Ie(!this.parameters.sitekey,this.auth,"argument-error"),Ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ie("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(y){return E=>{if(this.tokenChangeListeners.forEach(T=>T(E)),"function"==typeof y)y(E);else if("string"==typeof y){const T=An()[y];"function"==typeof T&&T(E)}}}assertNotDestroyed(){Ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var y=this;return(0,f.Z)(function*(){if(yield y.init(),!y.widgetId){let E=y.container;if(!y.isInvisible){const T=document.createElement("div");E.appendChild(T),E=T}y.widgetId=y.getAssertedRecaptcha().render(E,y.parameters)}return y.widgetId})()}init(){var y=this;return(0,f.Z)(function*(){Ie(ae()&&!Ya(),y.auth,"internal-error"),yield function(){let C=null;return new Promise(y=>{"complete"!==document.readyState?(C=()=>y(),window.addEventListener("load",C)):y()}).catch(y=>{throw C&&window.removeEventListener("load",C),y})}(),y.recaptcha=yield y._recaptchaLoader.load(y.auth,y.auth.languageCode||void 0);const E=yield function(C){return mg.apply(this,arguments)}(y.auth);Ie(E,y.auth,"internal-error"),y.parameters.sitekey=E})()}getAssertedRecaptcha(){return Ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Bh{constructor(y,E){this.verificationId=y,this.onConfirmation=E}confirm(y){const E=Ws._fromVerification(this.verificationId,y);return this.onConfirmation(E)}}function Ly(){return(Ly=(0,f.Z)(function*(C,y,E){const T=Nt(C),N=yield vg(T,y,(0,$.m9)(E));return new Bh(N,P=>Ye(T,P))})).apply(this,arguments)}function Vy(){return(Vy=(0,f.Z)(function*(C,y,E){const T=(0,$.m9)(C);yield fn(!1,T,"phone");const N=yield vg(T.auth,y,(0,$.m9)(E));return new Bh(N,P=>lt(T,P))})).apply(this,arguments)}function Uy(){return(Uy=(0,f.Z)(function*(C,y,E){const T=(0,$.m9)(C),N=yield vg(T.auth,y,(0,$.m9)(E));return new Bh(N,P=>er(T,P))})).apply(this,arguments)}function vg(C,y,E){return By.apply(this,arguments)}function By(){return(By=(0,f.Z)(function*(C,y,E){var T;const N=yield E.verify();try{let P;if(Ie("string"==typeof N,C,"argument-error"),Ie(E.type===m0,C,"argument-error"),P="string"==typeof y?{phoneNumber:y}:y,"session"in P){const te=P.session;if("phoneNumber"in P)return Ie("enroll"===te.type,C,"internal-error"),(yield jc(C,{idToken:te.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:N}})).phoneSessionInfo.sessionInfo;{Ie("signin"===te.type,C,"internal-error");const Me=(null===(T=P.multiFactorHint)||void 0===T?void 0:T.uid)||P.multiFactorUid;return Ie(Me,C,"missing-multi-factor-info"),(yield ky(C,{mfaPendingCredential:te.credential,mfaEnrollmentId:Me,phoneSignInInfo:{recaptchaToken:N}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:te}=yield Th(C,{phoneNumber:P.phoneNumber,recaptchaToken:N});return te}}finally{E._reset()}})).apply(this,arguments)}function Xa(){return(Xa=(0,f.Z)(function*(C,y){yield Ha((0,$.m9)(C),y)})).apply(this,arguments)}let jh=(()=>{class C{constructor(E){this.providerId=C.PROVIDER_ID,this.auth=Nt(E)}verifyPhoneNumber(E,T){return vg(this.auth,E,(0,$.m9)(T))}static credential(E,T){return Ws._fromVerification(E,T)}static credentialFromResult(E){return C.credentialFromTaggedObject(E)}static credentialFromError(E){return C.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{phoneNumber:T,temporaryProof:N}=E;return T&&N?Ws._fromTokenResponse(T,N):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function bn(C,y){return y?ge(y):(Ie(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class gu extends bi{constructor(y){super("custom","custom"),this.params=y}_getIdTokenResponse(y){return pr(y,this._buildIdpRequest())}_linkToIdToken(y,E){return pr(y,this._buildIdpRequest(E))}_getReauthenticationResolver(y){return pr(y,this._buildIdpRequest())}_buildIdpRequest(y){const E={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return y&&(E.idToken=y),E}}function Hh(C){return Ce(C.auth,new gu(C),C.bypassAuthState)}function pA(C){const{auth:y,user:E}=C;return Ie(E,y,"internal-error"),W(E,new gu(C),C.bypassAuthState)}function v0(C){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,f.Z)(function*(C){const{auth:y,user:E}=C;return Ie(E,y,"internal-error"),Ha(E,new gu(C),C.bypassAuthState)})).apply(this,arguments)}class Ss{constructor(y,E,T,N,P=!1){this.auth=y,this.resolver=T,this.user=N,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(E)?E:[E]}execute(){var y=this;return new Promise(function(){var E=(0,f.Z)(function*(T,N){y.pendingPromise={resolve:T,reject:N};try{y.eventManager=yield y.resolver._initialize(y.auth),yield y.onExecution(),y.eventManager.registerConsumer(y)}catch(P){y.reject(P)}});return function(T,N){return E.apply(this,arguments)}}())}onAuthEvent(y){var E=this;return(0,f.Z)(function*(){const{urlResponse:T,sessionId:N,postBody:P,tenantId:te,error:Me,type:qe}=y;if(Me)return void E.reject(Me);const nt={auth:E.auth,requestUri:T,sessionId:N,tenantId:te||void 0,postBody:P||void 0,user:E.user,bypassAuthState:E.bypassAuthState};try{E.resolve(yield E.getIdpTask(qe)(nt))}catch(gt){E.reject(gt)}})()}onError(y){this.reject(y)}getIdpTask(y){switch(y){case"signInViaPopup":case"signInViaRedirect":return Hh;case"linkViaPopup":case"linkViaRedirect":return v0;case"reauthViaPopup":case"reauthViaRedirect":return pA;default:Ve(this.auth,"internal-error")}}resolve(y){Et(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(y),this.unregisterAndCleanUp()}reject(y){Et(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(y),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const $h=new dt(2e3,1e4);function Ys(){return(Ys=(0,f.Z)(function*(C,y,E){const T=Nt(C);Ie(y instanceof Es,C,"argument-error");const N=bn(T,E);return new $y(T,"signInViaPopup",y,N).executeNotNull()})).apply(this,arguments)}function bg(){return(bg=(0,f.Z)(function*(C,y,E){const T=(0,$.m9)(C);Ie(y instanceof Es,T.auth,"argument-error");const N=bn(T.auth,E);return new $y(T.auth,"reauthViaPopup",y,N,T).executeNotNull()})).apply(this,arguments)}function Hy(){return(Hy=(0,f.Z)(function*(C,y,E){const T=(0,$.m9)(C);Ie(y instanceof Es,T.auth,"argument-error");const N=bn(T.auth,E);return new $y(T.auth,"linkViaPopup",y,N,T).executeNotNull()})).apply(this,arguments)}let $y=(()=>{class C extends Ss{constructor(E,T,N,P,te){super(E,T,P,te),this.provider=N,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var E=this;return(0,f.Z)(function*(){const T=yield E.execute();return Ie(T,E.auth,"internal-error"),T})()}onExecution(){var E=this;return(0,f.Z)(function*(){Et(1===E.filter.length,"Popup operations only handle one event");const T=ta();E.authWindow=yield E.resolver._openPopup(E.auth,E.provider,E.filter[0],T),E.authWindow.associatedEvent=T,E.resolver._originValidation(E.auth).catch(N=>{E.reject(N)}),E.resolver._isIframeWebStorageSupported(E.auth,N=>{N||E.reject(Je(E.auth,"web-storage-unsupported"))}),E.pollUserCancellation()})()}get eventId(){var E;return(null===(E=this.authWindow)||void 0===E?void 0:E.associatedEvent)||null}cancel(){this.reject(Je(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const E=()=>{var T,N;this.pollId=(null===(N=null===(T=this.authWindow)||void 0===T?void 0:T.window)||void 0===N?void 0:N.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Je(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(E,$h.get())};E()}}return C.currentPopupAction=null,C})();const si=new Map;class Eg extends Ss{constructor(y,E,T=!1){super(y,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],E,void 0,T),this.eventId=null}execute(){var y=()=>super.execute,E=this;return(0,f.Z)(function*(){let T=si.get(E.auth._key());if(!T){try{const P=(yield function(C,y){return zy.apply(this,arguments)}(E.resolver,E.auth))?yield y().call(E):null;T=()=>Promise.resolve(P)}catch(N){T=()=>Promise.reject(N)}si.set(E.auth._key(),T)}return T()})()}onAuthEvent(y){var E=()=>super.onAuthEvent,T=this;return(0,f.Z)(function*(){if("signInViaRedirect"===y.type)return E().call(T,y);if("unknown"!==y.type){if(y.eventId){const N=yield T.auth._redirectUserForId(y.eventId);if(N)return T.user=N,E().call(T,y);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function zy(){return(zy=(0,f.Z)(function*(C,y){const E=Ig(y),T="true"===(yield Cg(C)._get(E));return yield Cg(C)._remove(E),T})).apply(this,arguments)}function Gh(C,y){return wg.apply(this,arguments)}function wg(){return(wg=(0,f.Z)(function*(C,y){return Cg(C)._set(Ig(y),"true")})).apply(this,arguments)}function Cg(C){return ge(C._redirectPersistence)}function Ig(C){return Lt("pendingRedirect",C.config.apiKey,C.name)}function Kc(){return(Kc=(0,f.Z)(function*(C,y,E){const T=Nt(C);Ie(y instanceof Es,C,"argument-error");const N=bn(T,E);return yield Gh(N,T),N._openRedirect(T,y,"signInViaRedirect")})).apply(this,arguments)}function tl(){return(tl=(0,f.Z)(function*(C,y,E){const T=(0,$.m9)(C);Ie(y instanceof Es,T.auth,"argument-error");const N=bn(T.auth,E);yield Gh(N,T.auth);const P=yield qh(T);return N._openRedirect(T.auth,y,"reauthViaRedirect",P)})).apply(this,arguments)}function Sg(){return(Sg=(0,f.Z)(function*(C,y,E){const T=(0,$.m9)(C);Ie(y instanceof Es,T.auth,"argument-error");const N=bn(T.auth,E);yield fn(!1,T,y.providerId),yield Gh(N,T.auth);const P=yield qh(T);return N._openRedirect(T.auth,y,"linkViaRedirect",P)})).apply(this,arguments)}function Dg(){return(Dg=(0,f.Z)(function*(C,y){return yield Nt(C)._initializationPromise,yu(C,y,!1)})).apply(this,arguments)}function yu(C,y){return qy.apply(this,arguments)}function qy(){return(qy=(0,f.Z)(function*(C,y,E=!1){const T=Nt(C),N=bn(T,y),te=yield new Eg(T,N,E).execute();return te&&!E&&(delete te.user._redirectEventId,yield T._persistUserIfCurrent(te.user),yield T._setRedirectUser(null,y)),te})).apply(this,arguments)}function qh(C){return nl.apply(this,arguments)}function nl(){return(nl=(0,f.Z)(function*(C){const y=ta(`${C.uid}:::`);return C._redirectEventId=y,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),y})).apply(this,arguments)}class Wy{constructor(y){this.auth=y,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(y){this.consumers.add(y),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,y)&&(this.sendToConsumer(this.queuedRedirectEvent,y),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(y){this.consumers.delete(y)}onEvent(y){if(this.hasEventBeenHandled(y))return!1;let E=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(y,T)&&(E=!0,this.sendToConsumer(y,T),this.saveEventToCache(y))}),this.hasHandledPotentialRedirect||!function(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ag(C);default:return!1}}(y)||(this.hasHandledPotentialRedirect=!0,E||(this.queuedRedirectEvent=y,E=!0)),E}sendToConsumer(y,E){var T;if(y.error&&!Ag(y)){const N=(null===(T=y.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";E.onError(Je(this.auth,N))}else E.onAuthEvent(y)}isEventForConsumer(y,E){const T=null===E.eventId||!!y.eventId&&y.eventId===E.eventId;return E.filter.includes(y.type)&&T}hasEventBeenHandled(y){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(kn(y))}saveEventToCache(y){this.cachedEventUids.add(kn(y)),this.lastProcessedEventTime=Date.now()}}function kn(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(y=>y).join("-")}function Ag({type:C,error:y}){return"unknown"===C&&"auth/no-auth-event"===(null==y?void 0:y.code)}function sa(C){return rl.apply(this,arguments)}function rl(){return(rl=(0,f.Z)(function*(C,y={}){return Dt(C,"GET","/v1/projects",y)})).apply(this,arguments)}const T0=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Zy=/^https?/;function Yy(){return(Yy=(0,f.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:y}=yield sa(C);for(const E of y)try{if(bu(E))return}catch(T){}Ve(C,"unauthorized-domain")})).apply(this,arguments)}function bu(C){const y=we(),{protocol:E,hostname:T}=new URL(y);if(C.startsWith("chrome-extension://")){const te=new URL(C);return""===te.hostname&&""===T?"chrome-extension:"===E&&C.replace("chrome-extension://","")===y.replace("chrome-extension://",""):"chrome-extension:"===E&&te.hostname===T}if(!Zy.test(E))return!1;if(T0.test(C))return T===C;const N=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+N+"|"+N+")$","i").test(T)}const Co=new dt(3e4,6e4);function Yc(){const C=An().___jsl;if(null==C?void 0:C.H)for(const y of Object.keys(C.H))if(C.H[y].r=C.H[y].r||[],C.H[y].L=C.H[y].L||[],C.H[y].r=[...C.H[y].L],C.CP)for(let E=0;E<C.CP.length;E++)C.CP[E]=null}let Wh=null;function Qy(C){return Wh=Wh||function(C){return new Promise((y,E)=>{var T,N,P;function te(){Yc(),gapi.load("gapi.iframes",{callback:()=>{y(gapi.iframes.getContext())},ontimeout:()=>{Yc(),E(Je(C,"network-request-failed"))},timeout:Co.get()})}if(null===(N=null===(T=An().gapi)||void 0===T?void 0:T.iframes)||void 0===N?void 0:N.Iframe)y(gapi.iframes.getContext());else{if(!(null===(P=An().gapi)||void 0===P?void 0:P.load)){const Me=ia("iframefcb");return An()[Me]=()=>{gapi.load?te():E(Je(C,"network-request-failed"))},Uh(`https://apis.google.com/js/api.js?onload=${Me}`)}te()}}).catch(y=>{throw Wh=null,y})}(C),Wh}const Mg=new dt(5e3,15e3),S0={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},D0=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Eu(C){const y=C.config;Ie(y.authDomain,C,"auth-domain-config-required");const E=y.emulator?_t(y,"emulator/auth/iframe"):`https://${C.config.authDomain}/__/auth/iframe`,T={apiKey:y.apiKey,appName:C.name,v:ie.SDK_VERSION},N=D0.get(C.config.apiHost);N&&(T.eid=N);const P=C._getFrameworks();return P.length&&(T.fw=P.join(",")),`${E}?${(0,$.xO)(T).slice(1)}`}function xg(){return(xg=(0,f.Z)(function*(C){const y=yield Qy(C),E=An().gapi;return Ie(E,C,"internal-error"),y.open({where:document.body,url:Eu(C),messageHandlersFilter:E.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:S0,dontclear:!0},T=>new Promise(function(){var N=(0,f.Z)(function*(P,te){yield T.restyle({setHideOnLeave:!1});const Me=Je(C,"network-request-failed"),qe=An().setTimeout(()=>{te(Me)},Mg.get());function nt(){An().clearTimeout(qe),P(T)}T.ping(nt).then(nt,()=>{te(Me)})});return function(P,te){return N.apply(this,arguments)}}()))})).apply(this,arguments)}const mA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ev{constructor(y){this.window=y,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(y){}}}function Ng(C,y,E,T,N,P){Ie(C.config.authDomain,C,"auth-domain-config-required"),Ie(C.config.apiKey,C,"invalid-api-key");const te={apiKey:C.config.apiKey,appName:C.name,authType:E,redirectUrl:T,v:ie.SDK_VERSION,eventId:N};if(y instanceof Es){y.setDefaultLanguage(C.languageCode),te.providerId=y.providerId||"",(0,$.xb)(y.getCustomParameters())||(te.customParameters=JSON.stringify(y.getCustomParameters()));for(const[qe,nt]of Object.entries(P||{}))te[qe]=nt}if(y instanceof Zs){const qe=y.getScopes().filter(nt=>""!==nt);qe.length>0&&(te.scopes=qe.join(","))}C.tenantId&&(te.tid=C.tenantId);const Me=te;for(const qe of Object.keys(Me))void 0===Me[qe]&&delete Me[qe];return`${function({config:C}){return C.emulator?_t(C,"emulator/auth/handler"):`https://${C.authDomain}/__/auth/handler`}(C)}?${(0,$.xO)(Me).slice(1)}`}const tv="webStorageSupport";class Yh extends class{constructor(y){this.factorId=y}_process(y,E,T){switch(E.type){case"enroll":return this._finalizeEnroll(y,E.credential,T);case"signin":return this._finalizeSignIn(y,E.credential);default:return kt("unexpected MultiFactorSessionType")}}}{constructor(y){super("phone"),this.credential=y}static _fromCredential(y){return new Yh(y)}_finalizeEnroll(y,E,T){return function(C,y){return Dt(C,"POST","/v2/accounts/mfaEnrollment:finalize",Object.assign({tenantId:C.tenantId},y))}(y,{idToken:E,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(y,E){return function(C,y){return Dt(C,"POST","/v2/accounts/mfaSignIn:finalize",Object.assign({tenantId:C.tenantId},y))}(y,{mfaPendingCredential:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Qh{constructor(){}static assertion(y){return Yh._fromCredential(y)}}var C;class nv{constructor(y){this.auth=y,this.internalListeners=new Map}getUid(){var y;return this.assertAuthConfigured(),(null===(y=this.auth.currentUser)||void 0===y?void 0:y.uid)||null}getToken(y){var E=this;return(0,f.Z)(function*(){return E.assertAuthConfigured(),yield E.auth._initializationPromise,E.auth.currentUser?{accessToken:yield E.auth.currentUser.getIdToken(y)}:null})()}addAuthTokenListener(y){if(this.assertAuthConfigured(),this.internalListeners.has(y))return;const E=this.auth.onIdTokenChanged(T=>{var N;y((null===(N=T)||void 0===N?void 0:N.stsTokenManager.accessToken)||null)});this.internalListeners.set(y,E),this.updateProactiveRefresh()}removeAuthTokenListener(y){this.assertAuthConfigured();const E=this.internalListeners.get(y);!E||(this.internalListeners.delete(y),E(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Br(){return window}function Jh(){return(Jh=(0,f.Z)(function*(C,y,E){var T;const{BuildInfo:N}=Br();Et(y.sessionId,"AuthEvent did not contain a session ID");const P=yield av(y.sessionId),te={};return In()?te.ibi=N.packageName:_s()?te.apn=N.packageName:Ve(C,"operation-not-supported-in-this-environment"),N.displayName&&(te.appDisplayName=N.displayName),te.sessionId=P,Ng(C,E,y.type,void 0,null!==(T=y.eventId)&&void 0!==T?T:void 0,te)})).apply(this,arguments)}function jr(){return(jr=(0,f.Z)(function*(C){const{BuildInfo:y}=Br(),E={};In()?E.iosBundleId=y.packageName:_s()?E.androidPackageName=y.packageName:Ve(C,"operation-not-supported-in-this-environment"),yield sa(C,E)})).apply(this,arguments)}function mr(){return(mr=(0,f.Z)(function*(C,y,E){const{cordova:T}=Br();let N=()=>{};try{yield new Promise((P,te)=>{let Me=null;function qe(){var vt;P();const Yn=null===(vt=T.plugins.browsertab)||void 0===vt?void 0:vt.close;"function"==typeof Yn&&Yn(),"function"==typeof(null==E?void 0:E.close)&&E.close()}function nt(){Me||(Me=window.setTimeout(()=>{te(Je(C,"redirect-cancelled-by-user"))},2e3))}function gt(){"visible"===(null==document?void 0:document.visibilityState)&&nt()}y.addPassiveListener(qe),document.addEventListener("resume",nt,!1),_s()&&document.addEventListener("visibilitychange",gt,!1),N=()=>{y.removePassiveListener(qe),document.removeEventListener("resume",nt,!1),document.removeEventListener("visibilitychange",gt,!1),Me&&window.clearTimeout(Me)}})}finally{N()}})).apply(this,arguments)}function av(C){return kg.apply(this,arguments)}function kg(){return(kg=(0,f.Z)(function*(C){const y=O0(C),E=yield crypto.subtle.digest("SHA-256",y);return Array.from(new Uint8Array(E)).map(N=>N.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function O0(C){if(Et(/[0-9a-zA-Z]+/.test(C),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(C);const y=new ArrayBuffer(C.length),E=new Uint8Array(y);for(let T=0;T<C.length;T++)E[T]=C.charCodeAt(T);return E}C="Browser",(0,ie._registerComponent)(new he.wA("auth",(y,{options:E})=>{const T=y.getProvider("app").getImmediate(),{apiKey:N,authDomain:P}=T.options;return(te=>{Ie(N&&!N.includes(":"),"invalid-api-key",{appName:te.name}),Ie(!(null==P?void 0:P.includes(":")),"argument-error",{appName:te.name});const Me={apiKey:N,authDomain:P,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ze(C)},qe=new Vt(te,Me);return function(C,y){const E=(null==y?void 0:y.persistence)||[],T=(Array.isArray(E)?E:[E]).map(ge);(null==y?void 0:y.errorMap)&&C._updateErrorMap(y.errorMap),C._initializeWithPersistence(T,null==y?void 0:y.popupRedirectResolver)}(qe,E),qe})(T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((y,E,T)=>{y.getProvider("auth-internal").initialize()})),(0,ie._registerComponent)(new he.wA("auth-internal",y=>{const E=Nt(y.getProvider("auth").getImmediate());return new nv(E)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ie.registerVersion)("@firebase/auth","0.17.0",void 0);class k0 extends Wy{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(y=>{this.resolveInialized=y})}addPassiveListener(y){this.passiveListeners.add(y)}removePassiveListener(y){this.passiveListeners.delete(y)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(y){return this.resolveInialized(),this.passiveListeners.forEach(E=>E(y)),super.onEvent(y)}initialized(){var y=this;return(0,f.Z)(function*(){yield y.initPromise})()}}function Hr(C){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,f.Z)(function*(C){const y=yield Io()._get(Pg(C));return y&&(yield Io()._remove(Pg(C))),y})).apply(this,arguments)}function lv(){const C=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<20;E++){const T=Math.floor(Math.random()*y.length);C.push(y.charAt(T))}return C.join("")}function Io(){return ge(Ka)}function Pg(C){return Lt("authEvent",C.config.apiKey,C.name)}function ji(C){if(!(null==C?void 0:C.includes("?")))return{};const[y,...E]=C.split("?");return(0,$.zd)(E.join("?"))}function uv(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Je("no-auth-event")}}function ca(){var C;return(null===(C=null==self?void 0:self.location)||void 0===C?void 0:C.protocol)||null}function Tu(C=(0,$.z$)()){return!("file:"!==ca()&&"ionic:"!==ca()||!C.toLowerCase().match(/iphone|ipad|ipod|android/))}function dv(){try{const C=self.localStorage,y=ta();if(C)return C.setItem(y,"1"),C.removeItem(y),!function(C=(0,$.z$)()){return(0,$.w1)()&&11===(null==document?void 0:document.documentMode)||function(C=(0,$.z$)()){return/Edge\/\d+/.test(C)}(C)}()||(0,$.hl)()}catch(C){return af()&&(0,$.hl)()}return!1}function af(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function sl(){return("http:"===ca()||"https:"===ca()||(0,$.ru)()||Tu())&&!((0,$.b$)()||(0,$.UG)())&&dv()&&!af()}function Ug(){return Tu()&&"undefined"!=typeof document}function Xc(){return(Xc=(0,f.Z)(function*(){return!!Ug()&&new Promise(C=>{const y=setTimeout(()=>{C(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(y),C(!0)})})})).apply(this,arguments)}const Hi={LOCAL:"local",NONE:"none",SESSION:"session"},Su=Ie,hv="persistence";function fv(C){return ol.apply(this,arguments)}function ol(){return(ol=(0,f.Z)(function*(C){yield C._initializationPromise;const y=lf(),E=Lt(hv,C.config.apiKey,C.name);(null==y?void 0:y.sessionStorage)&&y.sessionStorage.setItem(E,C._getPersistence())})).apply(this,arguments)}function lf(){return"undefined"!=typeof window?window:null}const pv=Ie;class To{constructor(){this.browserResolver=ge(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ea,this._completeRedirectFn=yu}_openPopup(y,E,T,N){var P=this;return(0,f.Z)(function*(){var te;Et(null===(te=P.eventManagers[y._key()])||void 0===te?void 0:te.manager,"_initialize() not called before _openPopup()");const Me=Ng(y,E,T,we(),N);return function(C,y,E,T=500,N=600){const P=Math.max((window.screen.availHeight-N)/2,0).toString(),te=Math.max((window.screen.availWidth-T)/2,0).toString();let Me="";const qe=Object.assign(Object.assign({},mA),{width:T.toString(),height:N.toString(),top:P,left:te}),nt=(0,$.z$)().toLowerCase();E&&(Me=ms(nt)?"_blank":E),Zn(nt)&&(y=y||"http://localhost",qe.scrollbars="yes");const gt=Object.entries(qe).reduce((Yn,[$i,As])=>`${Yn}${$i}=${As},`,"");if(function(C=(0,$.z$)()){var y;return In(C)&&!!(null===(y=window.navigator)||void 0===y?void 0:y.standalone)}(nt)&&"_self"!==Me)return function(C,y){const E=document.createElement("a");E.href=C,E.target=y;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),E.dispatchEvent(T)}(y||"",Me),new ev(null);const vt=window.open(y||"",Me,gt);Ie(vt,C,"popup-blocked");try{vt.focus()}catch(Yn){}return new ev(vt)}(y,Me,ta())})()}_openRedirect(y,E,T,N){var P=this;return(0,f.Z)(function*(){return yield P._originValidation(y),C=Ng(y,E,T,we(),N),An().location.href=C,new Promise(()=>{});var C})()}_initialize(y){const E=y._key();if(this.eventManagers[E]){const{manager:N,promise:P}=this.eventManagers[E];return N?Promise.resolve(N):(Et(P,"If manager is not set, promise should be"),P)}const T=this.initAndGetManager(y);return this.eventManagers[E]={promise:T},T}initAndGetManager(y){var E=this;return(0,f.Z)(function*(){const T=yield function(C){return xg.apply(this,arguments)}(y),N=new Wy(y);return T.register("authEvent",P=>(Ie(null==P?void 0:P.authEvent,y,"invalid-auth-event"),{status:N.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),E.eventManagers[y._key()]={manager:N},E.iframes[y._key()]=T,N})()}_isIframeWebStorageSupported(y,E){this.iframes[y._key()].send(tv,{type:tv},N=>{var P;const te=null===(P=null==N?void 0:N[0])||void 0===P?void 0:P[tv];void 0!==te&&E(!!te),Ve(y,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(y){const E=y._key();return this.originValidationPromises[E]||(this.originValidationPromises[E]=function(C){return Yy.apply(this,arguments)}(y)),this.originValidationPromises[E]}get _shouldInitProactively(){return Ih()||ts()||In()}}),this.cordovaResolver=ge(class{constructor(){this._redirectPersistence=ea,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=yu}_initialize(y){var E=this;return(0,f.Z)(function*(){const T=y._key();let N=E.eventManagers.get(T);return N||(N=new k0(y),E.eventManagers.set(T,N),E.attachCallbackListeners(y,N)),N})()}_openPopup(y){Ve(y,"operation-not-supported-in-this-environment")}_openRedirect(y,E,T,N){var P=this;return(0,f.Z)(function*(){!function(C){var y,E,T,N,P,te,Me,qe,nt,gt;const vt=Br();Ie("function"==typeof(null===(y=null==vt?void 0:vt.universalLinks)||void 0===y?void 0:y.subscribe),C,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ie(void 0!==(null===(E=null==vt?void 0:vt.BuildInfo)||void 0===E?void 0:E.packageName),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ie("function"==typeof(null===(P=null===(N=null===(T=null==vt?void 0:vt.cordova)||void 0===T?void 0:T.plugins)||void 0===N?void 0:N.browsertab)||void 0===P?void 0:P.openUrl),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ie("function"==typeof(null===(qe=null===(Me=null===(te=null==vt?void 0:vt.cordova)||void 0===te?void 0:te.plugins)||void 0===Me?void 0:Me.browsertab)||void 0===qe?void 0:qe.isAvailable),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ie("function"==typeof(null===(gt=null===(nt=null==vt?void 0:vt.cordova)||void 0===nt?void 0:nt.InAppBrowser)||void 0===gt?void 0:gt.open),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(y);const te=yield P._initialize(y);yield te.initialized(),te.resetRedirect(),si.clear(),yield P._originValidation(y);const Me=function(C,y,E=null){return{type:y,eventId:E,urlResponse:null,sessionId:lv(),postBody:null,tenantId:C.tenantId,error:Je(C,"no-auth-event")}}(y,T,N);yield function(C,y){return Io()._set(Pg(C),y)}(y,Me);const qe=yield function(C,y,E){return Jh.apply(this,arguments)}(y,Me,E),nt=yield function(C){const{cordova:y}=Br();return new Promise(E=>{y.plugins.browsertab.isAvailable(T=>{let N=null;T?y.plugins.browsertab.openUrl(C):N=y.InAppBrowser.open(C,function(C=(0,$.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}()?"_blank":"_system","location=yes"),E(N)})})}(qe);return function(C,y,E){return mr.apply(this,arguments)}(y,te,nt)})()}_isIframeWebStorageSupported(y,E){throw new Error("Method not implemented.")}_originValidation(y){const E=y._key();return this.originValidationPromises[E]||(this.originValidationPromises[E]=function(C){return jr.apply(this,arguments)}(y)),this.originValidationPromises[E]}attachCallbackListeners(y,E){const{universalLinks:T,handleOpenURL:N,BuildInfo:P}=Br(),te=setTimeout((0,f.Z)(function*(){yield Hr(y),E.onEvent(uv())}),500),Me=function(){var gt=(0,f.Z)(function*(vt){clearTimeout(te);const Yn=yield Hr(y);let $i=null;Yn&&(null==vt?void 0:vt.url)&&($i=function(C,y){var E,T;const N=function(C){const y=ji(C),E=y.link?decodeURIComponent(y.link):void 0,T=ji(E).link,N=y.deep_link_id?decodeURIComponent(y.deep_link_id):void 0;return ji(N).link||N||T||E||C}(y);if(N.includes("/__/auth/callback")){const P=ji(N),te=P.firebaseError?function(C){try{return JSON.parse(C)}catch(y){return null}}(decodeURIComponent(P.firebaseError)):null,Me=null===(T=null===(E=null==te?void 0:te.code)||void 0===E?void 0:E.split("auth/"))||void 0===T?void 0:T[1],qe=Me?Je(Me):null;return qe?{type:C.type,eventId:C.eventId,tenantId:C.tenantId,error:qe,urlResponse:null,sessionId:null,postBody:null}:{type:C.type,eventId:C.eventId,tenantId:C.tenantId,sessionId:C.sessionId,urlResponse:N,postBody:null}}return null}(Yn,vt.url)),E.onEvent($i||uv())});return function(Yn){return gt.apply(this,arguments)}}();void 0!==T&&"function"==typeof T.subscribe&&T.subscribe(null,Me);const qe=N,nt=`${P.packageName.toLowerCase()}://`;Br().handleOpenURL=function(){var gt=(0,f.Z)(function*(vt){if(vt.toLowerCase().startsWith(nt)&&Me({url:vt}),"function"==typeof qe)try{qe(vt)}catch(Yn){console.error(Yn)}});return function(vt){return gt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=ea,this._completeRedirectFn=yu}_initialize(y){var E=this;return(0,f.Z)(function*(){return yield E.selectUnderlyingResolver(),E.assertedUnderlyingResolver._initialize(y)})()}_openPopup(y,E,T,N){var P=this;return(0,f.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openPopup(y,E,T,N)})()}_openRedirect(y,E,T,N){var P=this;return(0,f.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openRedirect(y,E,T,N)})()}_isIframeWebStorageSupported(y,E){this.assertedUnderlyingResolver._isIframeWebStorageSupported(y,E)}_originValidation(y){return this.assertedUnderlyingResolver._originValidation(y)}get _shouldInitProactively(){return Ug()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return pv(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var y=this;return(0,f.Z)(function*(){if(y.underlyingResolver)return;const E=yield function(){return Xc.apply(this,arguments)}();y.underlyingResolver=E?y.cordovaResolver:y.browserResolver})()}}function Dr(C){return C.unwrap()}function Bg(C){return Hg(C)}function jg(C,y){var E;const T=null===(E=y.customData)||void 0===E?void 0:E._tokenResponse;if("auth/multi-factor-auth-required"===y.code)y.resolver=new $g(C,function(C,y){var E;const T=(0,$.m9)(C),N=y;return Ie(y.operationType,T,"argument-error"),Ie(null===(E=N.serverResponse)||void 0===E?void 0:E.mfaPendingCredential,T,"argument-error"),Lh._fromError(T,N)}(C,y));else if(T){const N=Hg(y),P=y;N&&(P.credential=N,P.tenantId=T.tenantId||void 0,P.email=T.email||void 0,P.phoneNumber=T.phoneNumber||void 0)}}function Hg(C){const{_tokenResponse:y}=C instanceof $.ZR?C.customData:C;if(!y)return null;if(!(C instanceof $.ZR)&&"temporaryProof"in y&&"phoneNumber"in y)return jh.credentialFromResult(C);const E=y.providerId;if(!E||"password"===E)return null;let T;switch(E){case"google.com":T=Wo;break;case"facebook.com":T=Yl;break;case"github.com":T=Ql;break;case"twitter.com":T=Fa;break;default:const{oauthIdToken:N,oauthAccessToken:P,oauthTokenSecret:te,pendingToken:Me,nonce:qe}=y;return P||te||N||Me?Me?E.startsWith("saml.")?bo._create(E,Me):ns._fromParams({providerId:E,signInMethod:E,pendingToken:Me,idToken:N,accessToken:P}):new ws(E).credential({idToken:N,accessToken:P,rawNonce:qe}):null}return C instanceof $.ZR?T.credentialFromError(C):T.credentialFromResult(C)}function $r(C,y){return uf.apply(this,arguments)}function uf(){return(uf=(0,f.Z)(function*(C,y){let E;try{E=yield y}catch(P){throw P instanceof $.ZR&&jg(C,P),P}const{operationType:T,user:N}=E;return{operationType:T,credential:Bg(E),additionalUserInfo:tu(E),user:Qs.getOrCreate(N)}})).apply(this,arguments)}function td(C,y){return cf.apply(this,arguments)}function cf(){return(cf=(0,f.Z)(function*(C,y){const E=yield y;return{verificationId:E.verificationId,confirm:T=>$r(C,E.confirm(T))}})).apply(this,arguments)}class $g{constructor(y,E){this.resolver=E,this.auth=function(C){return C.wrapped()}(y)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(y){return $r(Dr(this.auth),this.resolver.resolveSignIn(y))}}class Qs{constructor(y){this._delegate=y,this.multiFactor=function(C){const y=(0,$.m9)(C);return $c.has(y)||$c.set(y,nu._fromUser(y)),$c.get(y)}(y)}static getOrCreate(y){return Qs.USER_MAP.has(y)||Qs.USER_MAP.set(y,new Qs(y)),Qs.USER_MAP.get(y)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(y){return this._delegate.getIdTokenResult(y)}getIdToken(y){return this._delegate.getIdToken(y)}linkAndRetrieveDataWithCredential(y){return this.linkWithCredential(y)}linkWithCredential(y){var E=this;return(0,f.Z)(function*(){return $r(E.auth,lt(E._delegate,y))})()}linkWithPhoneNumber(y,E){var T=this;return(0,f.Z)(function*(){return td(T.auth,function(C,y,E){return Vy.apply(this,arguments)}(T._delegate,y,E))})()}linkWithPopup(y){var E=this;return(0,f.Z)(function*(){return $r(E.auth,function(C,y,E){return Hy.apply(this,arguments)}(E._delegate,y,To))})()}linkWithRedirect(y){var E=this;return(0,f.Z)(function*(){return yield fv(Nt(E.auth)),function(C,y,E){return function(C,y,E){return Sg.apply(this,arguments)}(C,y,E)}(E._delegate,y,To)})()}reauthenticateAndRetrieveDataWithCredential(y){return this.reauthenticateWithCredential(y)}reauthenticateWithCredential(y){var E=this;return(0,f.Z)(function*(){return $r(E.auth,er(E._delegate,y))})()}reauthenticateWithPhoneNumber(y,E){return td(this.auth,function(C,y,E){return Uy.apply(this,arguments)}(this._delegate,y,E))}reauthenticateWithPopup(y){return $r(this.auth,function(C,y,E){return bg.apply(this,arguments)}(this._delegate,y,To))}reauthenticateWithRedirect(y){var E=this;return(0,f.Z)(function*(){return yield fv(Nt(E.auth)),function(C,y,E){return function(C,y,E){return tl.apply(this,arguments)}(C,y,E)}(E._delegate,y,To)})()}sendEmailVerification(y){return function(C,y){return Nh.apply(this,arguments)}(this._delegate,y)}unlink(y){var E=this;return(0,f.Z)(function*(){return yield function(C,y){return ja.apply(this,arguments)}(E._delegate,y),E})()}updateEmail(y){return function(C,y){return Fh((0,$.m9)(C),y,null)}(this._delegate,y)}updatePassword(y){return function(C,y){return Fh((0,$.m9)(C),null,y)}(this._delegate,y)}updatePhoneNumber(y){return function(C,y){return Xa.apply(this,arguments)}(this._delegate,y)}updateProfile(y){return function(C,y){return Oh.apply(this,arguments)}(this._delegate,y)}verifyBeforeUpdateEmail(y,E){return function(C,y,E){return Ci.apply(this,arguments)}(this._delegate,y,E)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Qs.USER_MAP=new WeakMap;const al=Ie;let df=(()=>{class C{constructor(E,T){if(this.app=E,T.isInitialized())return this._delegate=T.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:N}=E.options;al(N,"invalid-api-key",{appName:E.name});let P=[Zt];if("undefined"!=typeof window){P=function(C,y){const E=lf();if(!(null==E?void 0:E.sessionStorage))return[];const T=Lt(hv,C,y);switch(E.sessionStorage.getItem(T)){case Hi.NONE:return[Zt];case Hi.LOCAL:return[uu,ea];case Hi.SESSION:return[ea];default:return[]}}(N,E.name);for(const Me of[uu,Ka,ea])P.includes(Me)||P.push(Me)}al(N,"invalid-api-key",{appName:E.name});const te="undefined"!=typeof window?To:void 0;this._delegate=T.initialize({options:{persistence:P,popupRedirectResolver:te}}),this._delegate._updateErrorMap(Ae),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Qs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(E){this._delegate.languageCode=E}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(E){this._delegate.tenantId=E}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(E,T){!function(C,y,E){const T=Nt(C);Ie(T._canInitEmulator,T,"emulator-config-failed"),Ie(/^https?:\/\//.test(y),T,"invalid-emulator-scheme");const N=!!(null==E?void 0:E.disableWarnings),P=Nn(y),{host:te,port:Me}=function(C){const y=Nn(C),E=/(\/\/)?([^?#/]+)/.exec(C.substr(y.length));if(!E)return{host:"",port:null};const T=E[2].split("@").pop()||"",N=/^(\[[^\]]+\])(:|$)/.exec(T);if(N){const P=N[1];return{host:P,port:vn(T.substr(P.length+1))}}{const[P,te]=T.split(":");return{host:P,port:vn(te)}}}(y);T.config.emulator={url:`${P}//${te}${null===Me?"":`:${Me}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:te,port:Me,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:N})}),function(C){function y(){const E=document.createElement("p"),T=E.style;E.innerText="Running in emulator mode. Do not use with production credentials.",T.position="fixed",T.width="100%",T.backgroundColor="#ffffff",T.border=".1em solid #000000",T.color="#b50000",T.bottom="0px",T.left="0px",T.margin="0px",T.zIndex="10000",T.textAlign="center",E.classList.add("firebase-emulator-warning"),document.body.appendChild(E)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&!C&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}(N)}(this._delegate,E,T)}applyActionCode(E){return function(C,y){return Mh.apply(this,arguments)}(this._delegate,E)}checkActionCode(E){return ig(this._delegate,E)}confirmPasswordReset(E,T){return function(C,y,E){return Ah.apply(this,arguments)}(this._delegate,E,T)}createUserWithEmailAndPassword(E,T){var N=this;return(0,f.Z)(function*(){return $r(N._delegate,function(C,y,E){return mn.apply(this,arguments)}(N._delegate,E,T))})()}fetchProvidersForEmail(E){return this.fetchSignInMethodsForEmail(E)}fetchSignInMethodsForEmail(E){return function(C,y){return $n.apply(this,arguments)}(this._delegate,E)}isSignInWithEmailLink(E){return function(C,y){const E=qo.parseLink(y);return"EMAIL_SIGNIN"===(null==E?void 0:E.operation)}(0,E)}getRedirectResult(){var E=this;return(0,f.Z)(function*(){al(sl(),E._delegate,"operation-not-supported-in-this-environment");const T=yield function(C,y){return Dg.apply(this,arguments)}(E._delegate,To);return T?$r(E._delegate,Promise.resolve(T)):{credential:null,user:null}})()}addFrameworkForLogging(E){!function(C,y){Nt(C)._logFramework(y)}(this._delegate,E)}onAuthStateChanged(E,T,N){const{next:P,error:te,complete:Me}=hf(E,T,N);return this._delegate.onAuthStateChanged(P,te,Me)}onIdTokenChanged(E,T,N){const{next:P,error:te,complete:Me}=hf(E,T,N);return this._delegate.onIdTokenChanged(P,te,Me)}sendSignInLinkToEmail(E,T){return function(C,y,E){return ii.apply(this,arguments)}(this._delegate,E,T)}sendPasswordResetEmail(E,T){return function(C,y,E){return Dh.apply(this,arguments)}(this._delegate,E,T||void 0)}setPersistence(E){var T=this;return(0,f.Z)(function*(){let N;switch(function(C,y){Su(Object.values(Hi).includes(y),C,"invalid-persistence-type"),(0,$.b$)()?Su(y!==Hi.SESSION,C,"unsupported-persistence-type"):(0,$.UG)()?Su(y===Hi.NONE,C,"unsupported-persistence-type"):af()?Su(y===Hi.NONE||y===Hi.LOCAL&&(0,$.hl)(),C,"unsupported-persistence-type"):Su(y===Hi.NONE||dv(),C,"unsupported-persistence-type")}(T._delegate,E),E){case Hi.SESSION:N=ea;break;case Hi.LOCAL:N=(yield ge(uu)._isAvailable())?uu:Ka;break;case Hi.NONE:N=Zt;break;default:return Ve("argument-error",{appName:T._delegate.name})}return T._delegate.setPersistence(N)})()}signInAndRetrieveDataWithCredential(E){return this.signInWithCredential(E)}signInAnonymously(){return $r(this._delegate,function(C){return Va.apply(this,arguments)}(this._delegate))}signInWithCredential(E){return $r(this._delegate,Ye(this._delegate,E))}signInWithCustomToken(E){return $r(this._delegate,function(C,y){return $a.apply(this,arguments)}(this._delegate,E))}signInWithEmailAndPassword(E,T){return $r(this._delegate,function(C,y,E){return Ye((0,$.m9)(C),Pa.credential(y,E))}(this._delegate,E,T))}signInWithEmailLink(E,T){return $r(this._delegate,function(C,y,E){return sg.apply(this,arguments)}(this._delegate,E,T))}signInWithPhoneNumber(E,T){return td(this._delegate,function(C,y,E){return Ly.apply(this,arguments)}(this._delegate,E,T))}signInWithPopup(E){var T=this;return(0,f.Z)(function*(){return al(sl(),T._delegate,"operation-not-supported-in-this-environment"),$r(T._delegate,function(C,y,E){return Ys.apply(this,arguments)}(T._delegate,E,To))})()}signInWithRedirect(E){var T=this;return(0,f.Z)(function*(){return al(sl(),T._delegate,"operation-not-supported-in-this-environment"),yield fv(T._delegate),function(C,y,E){return function(C,y,E){return Kc.apply(this,arguments)}(C,y,E)}(T._delegate,E,To)})()}updateCurrentUser(E){return this._delegate.updateCurrentUser(E)}verifyPasswordResetCode(E){return function(C,y){return Ht.apply(this,arguments)}(this._delegate,E)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return C.Persistence=Hi,C})();function hf(C,y,E){let T=C;"function"!=typeof C&&({next:T,error:y,complete:E}=C);const N=T;return{next:te=>N(te&&Qs.getOrCreate(te)),error:y,complete:E}}class Du{constructor(){this.providerId="phone",this._delegate=new jh(Dr(de.Z.auth()))}static credential(y,E){return jh.credential(y,E)}verifyPhoneNumber(y,E){return this._delegate.verifyPhoneNumber(y,E)}unwrap(){return this._delegate}}Du.PHONE_SIGN_IN_METHOD=jh.PHONE_SIGN_IN_METHOD,Du.PROVIDER_ID=jh.PROVIDER_ID;const Gg=Ie;class gv{constructor(y,E,T=de.Z.app()){var N;Gg(null===(N=T.options)||void 0===N?void 0:N.apiKey,"invalid-api-key",{appName:T.name}),this._delegate=new On(y,E,T.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(C){C.INTERNAL.registerComponent(new he.wA("auth-compat",y=>{const E=y.getProvider("app-compat").getImmediate(),T=y.getProvider("auth");return new df(E,T)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Pa,FacebookAuthProvider:Yl,GithubAuthProvider:Ql,GoogleAuthProvider:Wo,OAuthProvider:ws,PhoneAuthProvider:Du,PhoneMultiFactorGenerator:Qh,RecaptchaVerifier:gv,TwitterAuthProvider:Fa,Auth:df,AuthCredential:bi,Error:$.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),C.registerVersion("@firebase/auth-compat","0.1.0")}(de.Z)},6676:function(et,Ne){!function(V){"use strict";function f(pe){return Array.prototype.slice.call(pe)}function de(pe){return new Promise(function(ne,be){pe.onsuccess=function(){ne(pe.result)},pe.onerror=function(){be(pe.error)}})}function $(pe,ne,be){var We,Ve=new Promise(function(Je,xt){de(We=pe[ne].apply(pe,be)).then(Je,xt)});return Ve.request=We,Ve}function ie(pe,ne,be){var We=$(pe,ne,be);return We.then(function(Ve){if(Ve)return new B(Ve,We.request)})}function me(pe,ne,be){be.forEach(function(We){Object.defineProperty(pe.prototype,We,{get:function(){return this[ne][We]},set:function(Ve){this[ne][We]=Ve}})})}function X(pe,ne,be,We){We.forEach(function(Ve){Ve in be.prototype&&(pe.prototype[Ve]=function(){return $(this[ne],Ve,arguments)})})}function he(pe,ne,be,We){We.forEach(function(Ve){Ve in be.prototype&&(pe.prototype[Ve]=function(){return this[ne][Ve].apply(this[ne],arguments)})})}function re(pe,ne,be,We){We.forEach(function(Ve){Ve in be.prototype&&(pe.prototype[Ve]=function(){return ie(this[ne],Ve,arguments)})})}function K(pe){this._index=pe}function B(pe,ne){this._cursor=pe,this._request=ne}function Y(pe){this._store=pe}function L(pe){this._tx=pe,this.complete=new Promise(function(ne,be){pe.oncomplete=function(){ne()},pe.onerror=function(){be(pe.error)},pe.onabort=function(){be(pe.error)}})}function Q(pe,ne,be){this._db=pe,this.oldVersion=ne,this.transaction=new L(be)}function oe(pe){this._db=pe}me(K,"_index",["name","keyPath","multiEntry","unique"]),X(K,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),re(K,"_index",IDBIndex,["openCursor","openKeyCursor"]),me(B,"_cursor",["direction","key","primaryKey","value"]),X(B,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(pe){pe in IDBCursor.prototype&&(B.prototype[pe]=function(){var ne=this,be=arguments;return Promise.resolve().then(function(){return ne._cursor[pe].apply(ne._cursor,be),de(ne._request).then(function(We){if(We)return new B(We,ne._request)})})})}),Y.prototype.createIndex=function(){return new K(this._store.createIndex.apply(this._store,arguments))},Y.prototype.index=function(){return new K(this._store.index.apply(this._store,arguments))},me(Y,"_store",["name","keyPath","indexNames","autoIncrement"]),X(Y,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),re(Y,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),he(Y,"_store",IDBObjectStore,["deleteIndex"]),L.prototype.objectStore=function(){return new Y(this._tx.objectStore.apply(this._tx,arguments))},me(L,"_tx",["objectStoreNames","mode"]),he(L,"_tx",IDBTransaction,["abort"]),Q.prototype.createObjectStore=function(){return new Y(this._db.createObjectStore.apply(this._db,arguments))},me(Q,"_db",["name","version","objectStoreNames"]),he(Q,"_db",IDBDatabase,["deleteObjectStore","close"]),oe.prototype.transaction=function(){return new L(this._db.transaction.apply(this._db,arguments))},me(oe,"_db",["name","version","objectStoreNames"]),he(oe,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(pe){[Y,K].forEach(function(ne){pe in ne.prototype&&(ne.prototype[pe.replace("open","iterate")]=function(){var be=f(arguments),We=be[be.length-1],Ve=this._store||this._index,Je=Ve[pe].apply(Ve,be.slice(0,-1));Je.onsuccess=function(){We(Je.result)}})})}),[K,Y].forEach(function(pe){pe.prototype.getAll||(pe.prototype.getAll=function(ne,be){var We=this,Ve=[];return new Promise(function(Je){We.iterateCursor(ne,function(xt){xt?(Ve.push(xt.value),void 0===be||Ve.length!=be?xt.continue():Je(Ve)):Je(Ve)})})})}),V.openDb=function(pe,ne,be){var We=$(indexedDB,"open",[pe,ne]),Ve=We.request;return Ve&&(Ve.onupgradeneeded=function(Je){be&&be(new Q(Ve.result,Je.oldVersion,Ve.transaction))}),We.then(function(Je){return new oe(Je)})},V.deleteDb=function(pe){return $(indexedDB,"deleteDatabase",[pe])},Object.defineProperty(V,"__esModule",{value:!0})}(Ne)},7574:(et,Ne,V)=>{"use strict";V.d(Ne,{y:()=>Y});var f=V(7393),$=V(9181),ie=V(6490),X=V(6554),he=V(4487);var B=V(2494);let Y=(()=>{class Q{constructor(Ae){this._isScalar=!1,Ae&&(this._subscribe=Ae)}lift(Ae){const _e=new Q;return _e.source=this,_e.operator=Ae,_e}subscribe(Ae,_e,pe){const{operator:ne}=this,be=function(Q,oe,Ae){if(Q){if(Q instanceof f.L)return Q;if(Q[$.b])return Q[$.b]()}return Q||oe||Ae?new f.L(Q,oe,Ae):new f.L(ie.c)}(Ae,_e,pe);if(be.add(ne?ne.call(be,this.source):this.source||B.v.useDeprecatedSynchronousErrorHandling&&!be.syncErrorThrowable?this._subscribe(be):this._trySubscribe(be)),B.v.useDeprecatedSynchronousErrorHandling&&be.syncErrorThrowable&&(be.syncErrorThrowable=!1,be.syncErrorThrown))throw be.syncErrorValue;return be}_trySubscribe(Ae){try{return this._subscribe(Ae)}catch(_e){B.v.useDeprecatedSynchronousErrorHandling&&(Ae.syncErrorThrown=!0,Ae.syncErrorValue=_e),function(Q){for(;Q;){const{closed:oe,destination:Ae,isStopped:_e}=Q;if(oe||_e)return!1;Q=Ae&&Ae instanceof f.L?Ae:null}return!0}(Ae)?Ae.error(_e):console.warn(_e)}}forEach(Ae,_e){return new(_e=L(_e))((pe,ne)=>{let be;be=this.subscribe(We=>{try{Ae(We)}catch(Ve){ne(Ve),be&&be.unsubscribe()}},ne,pe)})}_subscribe(Ae){const{source:_e}=this;return _e&&_e.subscribe(Ae)}[X.L](){return this}pipe(...Ae){return 0===Ae.length?this:function(Q){return 0===Q.length?he.y:1===Q.length?Q[0]:function(Ae){return Q.reduce((_e,pe)=>pe(_e),Ae)}}(Ae)(this)}toPromise(Ae){return new(Ae=L(Ae))((_e,pe)=>{let ne;this.subscribe(be=>ne=be,be=>pe(be),()=>_e(ne))})}}return Q.create=oe=>new Q(oe),Q})();function L(Q){if(Q||(Q=B.v.Promise||Promise),!Q)throw new Error("no Promise impl found");return Q}},6490:(et,Ne,V)=>{"use strict";V.d(Ne,{c:()=>$});var f=V(2494),de=V(4449);const $={closed:!0,next(ie){},error(ie){if(f.v.useDeprecatedSynchronousErrorHandling)throw ie;(0,de.z)(ie)},complete(){}}},9765:(et,Ne,V)=>{"use strict";V.d(Ne,{Yc:()=>he,xQ:()=>re});var f=V(7574),de=V(7393),$=V(5319),ie=V(7971),me=V(8858),X=V(9181);class he extends de.L{constructor(Y){super(Y),this.destination=Y}}let re=(()=>{class B extends f.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[X.b](){return new he(this)}lift(L){const Q=new K(this,this);return Q.operator=L,Q}next(L){if(this.closed)throw new ie.N;if(!this.isStopped){const{observers:Q}=this,oe=Q.length,Ae=Q.slice();for(let _e=0;_e<oe;_e++)Ae[_e].next(L)}}error(L){if(this.closed)throw new ie.N;this.hasError=!0,this.thrownError=L,this.isStopped=!0;const{observers:Q}=this,oe=Q.length,Ae=Q.slice();for(let _e=0;_e<oe;_e++)Ae[_e].error(L);this.observers.length=0}complete(){if(this.closed)throw new ie.N;this.isStopped=!0;const{observers:L}=this,Q=L.length,oe=L.slice();for(let Ae=0;Ae<Q;Ae++)oe[Ae].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(L){if(this.closed)throw new ie.N;return super._trySubscribe(L)}_subscribe(L){if(this.closed)throw new ie.N;return this.hasError?(L.error(this.thrownError),$.w.EMPTY):this.isStopped?(L.complete(),$.w.EMPTY):(this.observers.push(L),new me.W(this,L))}asObservable(){const L=new f.y;return L.source=this,L}}return B.create=(Y,L)=>new K(Y,L),B})();class K extends re{constructor(Y,L){super(),this.destination=Y,this.source=L}next(Y){const{destination:L}=this;L&&L.next&&L.next(Y)}error(Y){const{destination:L}=this;L&&L.error&&this.destination.error(Y)}complete(){const{destination:Y}=this;Y&&Y.complete&&this.destination.complete()}_subscribe(Y){const{source:L}=this;return L?this.source.subscribe(Y):$.w.EMPTY}}},8858:(et,Ne,V)=>{"use strict";V.d(Ne,{W:()=>de});var f=V(5319);class de extends f.w{constructor(ie,me){super(),this.subject=ie,this.subscriber=me,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ie=this.subject,me=ie.observers;if(this.subject=null,!me||0===me.length||ie.isStopped||ie.closed)return;const X=me.indexOf(this.subscriber);-1!==X&&me.splice(X,1)}}},7393:(et,Ne,V)=>{"use strict";V.d(Ne,{L:()=>he});var f=V(9105),de=V(6490),$=V(5319),ie=V(9181),me=V(2494),X=V(4449);class he extends $.w{constructor(B,Y,L){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=de.c;break;case 1:if(!B){this.destination=de.c;break}if("object"==typeof B){B instanceof he?(this.syncErrorThrowable=B.syncErrorThrowable,this.destination=B,B.add(this)):(this.syncErrorThrowable=!0,this.destination=new re(this,B));break}default:this.syncErrorThrowable=!0,this.destination=new re(this,B,Y,L)}}[ie.b](){return this}static create(B,Y,L){const Q=new he(B,Y,L);return Q.syncErrorThrowable=!1,Q}next(B){this.isStopped||this._next(B)}error(B){this.isStopped||(this.isStopped=!0,this._error(B))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(B){this.destination.next(B)}_error(B){this.destination.error(B),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:B}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=B,this}}class re extends he{constructor(B,Y,L,Q){super(),this._parentSubscriber=B;let oe,Ae=this;(0,f.m)(Y)?oe=Y:Y&&(oe=Y.next,L=Y.error,Q=Y.complete,Y!==de.c&&(Ae=Object.create(Y),(0,f.m)(Ae.unsubscribe)&&this.add(Ae.unsubscribe.bind(Ae)),Ae.unsubscribe=this.unsubscribe.bind(this))),this._context=Ae,this._next=oe,this._error=L,this._complete=Q}next(B){if(!this.isStopped&&this._next){const{_parentSubscriber:Y}=this;me.v.useDeprecatedSynchronousErrorHandling&&Y.syncErrorThrowable?this.__tryOrSetError(Y,this._next,B)&&this.unsubscribe():this.__tryOrUnsub(this._next,B)}}error(B){if(!this.isStopped){const{_parentSubscriber:Y}=this,{useDeprecatedSynchronousErrorHandling:L}=me.v;if(this._error)L&&Y.syncErrorThrowable?(this.__tryOrSetError(Y,this._error,B),this.unsubscribe()):(this.__tryOrUnsub(this._error,B),this.unsubscribe());else if(Y.syncErrorThrowable)L?(Y.syncErrorValue=B,Y.syncErrorThrown=!0):(0,X.z)(B),this.unsubscribe();else{if(this.unsubscribe(),L)throw B;(0,X.z)(B)}}}complete(){if(!this.isStopped){const{_parentSubscriber:B}=this;if(this._complete){const Y=()=>this._complete.call(this._context);me.v.useDeprecatedSynchronousErrorHandling&&B.syncErrorThrowable?(this.__tryOrSetError(B,Y),this.unsubscribe()):(this.__tryOrUnsub(Y),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(B,Y){try{B.call(this._context,Y)}catch(L){if(this.unsubscribe(),me.v.useDeprecatedSynchronousErrorHandling)throw L;(0,X.z)(L)}}__tryOrSetError(B,Y,L){if(!me.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{Y.call(this._context,L)}catch(Q){return me.v.useDeprecatedSynchronousErrorHandling?(B.syncErrorValue=Q,B.syncErrorThrown=!0,!0):((0,X.z)(Q),!0)}return!1}_unsubscribe(){const{_parentSubscriber:B}=this;this._context=null,this._parentSubscriber=null,B.unsubscribe()}}},5319:(et,Ne,V)=>{"use strict";V.d(Ne,{w:()=>X});var f=V(9796),de=V(1555),$=V(9105);const me=(()=>{function re(K){return Error.call(this),this.message=K?`${K.length} errors occurred during unsubscription:\n${K.map((B,Y)=>`${Y+1}) ${B.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=K,this}return re.prototype=Object.create(Error.prototype),re})();class X{constructor(K){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,K&&(this._ctorUnsubscribe=!0,this._unsubscribe=K)}unsubscribe(){let K;if(this.closed)return;let{_parentOrParents:B,_ctorUnsubscribe:Y,_unsubscribe:L,_subscriptions:Q}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,B instanceof X)B.remove(this);else if(null!==B)for(let oe=0;oe<B.length;++oe)B[oe].remove(this);if((0,$.m)(L)){Y&&(this._unsubscribe=void 0);try{L.call(this)}catch(oe){K=oe instanceof me?he(oe.errors):[oe]}}if((0,f.k)(Q)){let oe=-1,Ae=Q.length;for(;++oe<Ae;){const _e=Q[oe];if((0,de.K)(_e))try{_e.unsubscribe()}catch(pe){K=K||[],pe instanceof me?K=K.concat(he(pe.errors)):K.push(pe)}}}if(K)throw new me(K)}add(K){let B=K;if(!K)return X.EMPTY;switch(typeof K){case"function":B=new X(K);case"object":if(B===this||B.closed||"function"!=typeof B.unsubscribe)return B;if(this.closed)return B.unsubscribe(),B;if(!(B instanceof X)){const Q=B;B=new X,B._subscriptions=[Q]}break;default:throw new Error("unrecognized teardown "+K+" added to Subscription.")}let{_parentOrParents:Y}=B;if(null===Y)B._parentOrParents=this;else if(Y instanceof X){if(Y===this)return B;B._parentOrParents=[Y,this]}else{if(-1!==Y.indexOf(this))return B;Y.push(this)}const L=this._subscriptions;return null===L?this._subscriptions=[B]:L.push(B),B}remove(K){const B=this._subscriptions;if(B){const Y=B.indexOf(K);-1!==Y&&B.splice(Y,1)}}}var re;function he(re){return re.reduce((K,B)=>K.concat(B instanceof me?B.errors:B),[])}X.EMPTY=((re=new X).closed=!0,re)},2494:(et,Ne,V)=>{"use strict";V.d(Ne,{v:()=>de});let f=!1;const de={Promise:void 0,set useDeprecatedSynchronousErrorHandling($){if($){const ie=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ie.stack)}else f&&console.log("RxJS: Back to a better error behavior. Thank you. <3");f=$},get useDeprecatedSynchronousErrorHandling(){return f}}},5345:(et,Ne,V)=>{"use strict";V.d(Ne,{IY:()=>ie,Ds:()=>X,ft:()=>re});var f=V(7393),de=V(7574),$=V(7444);class ie extends f.L{constructor(B){super(),this.parent=B}_next(B){this.parent.notifyNext(B)}_error(B){this.parent.notifyError(B),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class X extends f.L{notifyNext(B){this.destination.next(B)}notifyError(B){this.destination.error(B)}notifyComplete(){this.destination.complete()}}function re(K,B){if(B.closed)return;if(K instanceof de.y)return K.subscribe(B);let Y;try{Y=(0,$.s)(K)(B)}catch(L){B.error(L)}return Y}},2441:(et,Ne,V)=>{"use strict";V.d(Ne,{c:()=>me,N:()=>X});var f=V(9765),de=V(7574),$=V(5319),ie=V(1307);class me extends de.y{constructor(Y,L){super(),this.source=Y,this.subjectFactory=L,this._refCount=0,this._isComplete=!1}_subscribe(Y){return this.getSubject().subscribe(Y)}getSubject(){const Y=this._subject;return(!Y||Y.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let Y=this._connection;return Y||(this._isComplete=!1,Y=this._connection=new $.w,Y.add(this.source.subscribe(new he(this.getSubject(),this))),Y.closed&&(this._connection=null,Y=$.w.EMPTY)),Y}refCount(){return(0,ie.x)()(this)}}const X=(()=>{const B=me.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:B._subscribe},_isComplete:{value:B._isComplete,writable:!0},getSubject:{value:B.getSubject},connect:{value:B.connect},refCount:{value:B.refCount}}})();class he extends f.Yc{constructor(Y,L){super(Y),this.connectable=L}_error(Y){this._unsubscribe(),super._error(Y)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const Y=this.connectable;if(Y){this.connectable=null;const L=Y._connection;Y._refCount=0,Y._subject=null,Y._connection=null,L&&L.unsubscribe()}}}},9193:(et,Ne,V)=>{"use strict";V.d(Ne,{E:()=>de,c:()=>$});var f=V(7574);const de=new f.y(me=>me.complete());function $(me){return me?function(me){return new f.y(X=>me.schedule(()=>X.complete()))}(me):de}},4402:(et,Ne,V)=>{"use strict";V.d(Ne,{D:()=>Ae});var f=V(7574),de=V(7444),$=V(5319),ie=V(6554),he=V(4087),re=V(377),Y=V(4072),L=V(9489);function Ae(_e,pe){return pe?function(_e,pe){if(null!=_e){if(function(_e){return _e&&"function"==typeof _e[ie.L]}(_e))return function(_e,pe){return new f.y(ne=>{const be=new $.w;return be.add(pe.schedule(()=>{const We=_e[ie.L]();be.add(We.subscribe({next(Ve){be.add(pe.schedule(()=>ne.next(Ve)))},error(Ve){be.add(pe.schedule(()=>ne.error(Ve)))},complete(){be.add(pe.schedule(()=>ne.complete()))}}))})),be})}(_e,pe);if((0,Y.t)(_e))return function(_e,pe){return new f.y(ne=>{const be=new $.w;return be.add(pe.schedule(()=>_e.then(We=>{be.add(pe.schedule(()=>{ne.next(We),be.add(pe.schedule(()=>ne.complete()))}))},We=>{be.add(pe.schedule(()=>ne.error(We)))}))),be})}(_e,pe);if((0,L.z)(_e))return(0,he.r)(_e,pe);if(function(_e){return _e&&"function"==typeof _e[re.hZ]}(_e)||"string"==typeof _e)return function(_e,pe){if(!_e)throw new Error("Iterable cannot be null");return new f.y(ne=>{const be=new $.w;let We;return be.add(()=>{We&&"function"==typeof We.return&&We.return()}),be.add(pe.schedule(()=>{We=_e[re.hZ](),be.add(pe.schedule(function(){if(ne.closed)return;let Ve,Je;try{const xt=We.next();Ve=xt.value,Je=xt.done}catch(xt){return void ne.error(xt)}Je?ne.complete():(ne.next(Ve),this.schedule())}))})),be})}(_e,pe)}throw new TypeError((null!==_e&&typeof _e||_e)+" is not observable")}(_e,pe):_e instanceof f.y?_e:new f.y((0,de.s)(_e))}},6693:(et,Ne,V)=>{"use strict";V.d(Ne,{n:()=>ie});var f=V(7574),de=V(5015),$=V(4087);function ie(me,X){return X?(0,$.r)(me,X):new f.y((0,de.V)(me))}},6682:(et,Ne,V)=>{"use strict";V.d(Ne,{T:()=>me});var f=V(7574),de=V(4869),$=V(3282),ie=V(6693);function me(...X){let he=Number.POSITIVE_INFINITY,re=null,K=X[X.length-1];return(0,de.K)(K)?(re=X.pop(),X.length>1&&"number"==typeof X[X.length-1]&&(he=X.pop())):"number"==typeof K&&(he=X.pop()),null===re&&1===X.length&&X[0]instanceof f.y?X[0]:(0,$.J)(he)((0,ie.n)(X,re))}},5917:(et,Ne,V)=>{"use strict";V.d(Ne,{of:()=>ie});var f=V(4869),de=V(6693),$=V(4087);function ie(...me){let X=me[me.length-1];return(0,f.K)(X)?(me.pop(),(0,$.r)(me,X)):(0,de.n)(me)}},205:(et,Ne,V)=>{"use strict";V.d(Ne,{_:()=>de});var f=V(7574);function de(ie,me){return new f.y(me?X=>me.schedule($,0,{error:ie,subscriber:X}):X=>X.error(ie))}function $({error:ie,subscriber:me}){me.error(ie)}},8002:(et,Ne,V)=>{"use strict";V.d(Ne,{U:()=>de});var f=V(7393);function de(me,X){return function(re){if("function"!=typeof me)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return re.lift(new $(me,X))}}class ${constructor(X,he){this.project=X,this.thisArg=he}call(X,he){return he.subscribe(new ie(X,this.project,this.thisArg))}}class ie extends f.L{constructor(X,he,re){super(X),this.project=he,this.count=0,this.thisArg=re||this}_next(X){let he;try{he=this.project.call(this.thisArg,X,this.count++)}catch(re){return void this.destination.error(re)}this.destination.next(he)}}},3282:(et,Ne,V)=>{"use strict";V.d(Ne,{J:()=>$});var f=V(9773),de=V(4487);function $(ie=Number.POSITIVE_INFINITY){return(0,f.zg)(de.y,ie)}},9773:(et,Ne,V)=>{"use strict";V.d(Ne,{zg:()=>ie});var f=V(8002),de=V(4402),$=V(5345);function ie(re,K,B=Number.POSITIVE_INFINITY){return"function"==typeof K?Y=>Y.pipe(ie((L,Q)=>(0,de.D)(re(L,Q)).pipe((0,f.U)((oe,Ae)=>K(L,oe,Q,Ae))),B)):("number"==typeof K&&(B=K),Y=>Y.lift(new me(re,B)))}class me{constructor(K,B=Number.POSITIVE_INFINITY){this.project=K,this.concurrent=B}call(K,B){return B.subscribe(new X(K,this.project,this.concurrent))}}class X extends $.Ds{constructor(K,B,Y=Number.POSITIVE_INFINITY){super(K),this.project=B,this.concurrent=Y,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(K){this.active<this.concurrent?this._tryNext(K):this.buffer.push(K)}_tryNext(K){let B;const Y=this.index++;try{B=this.project(K,Y)}catch(L){return void this.destination.error(L)}this.active++,this._innerSub(B)}_innerSub(K){const B=new $.IY(this),Y=this.destination;Y.add(B);const L=(0,$.ft)(K,B);L!==B&&Y.add(L)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(K){this.destination.next(K)}notifyComplete(){const K=this.buffer;this.active--,K.length>0?this._next(K.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},6136:(et,Ne,V)=>{"use strict";V.d(Ne,{ht:()=>K,QV:()=>he});var f=V(7393),de=V(9193),$=V(5917),ie=V(205);class X{constructor(L,Q,oe){this.kind=L,this.value=Q,this.error=oe,this.hasValue="N"===L}observe(L){switch(this.kind){case"N":return L.next&&L.next(this.value);case"E":return L.error&&L.error(this.error);case"C":return L.complete&&L.complete()}}do(L,Q,oe){switch(this.kind){case"N":return L&&L(this.value);case"E":return Q&&Q(this.error);case"C":return oe&&oe()}}accept(L,Q,oe){return L&&"function"==typeof L.next?this.observe(L):this.do(L,Q,oe)}toObservable(){switch(this.kind){case"N":return(0,$.of)(this.value);case"E":return(0,ie._)(this.error);case"C":return(0,de.c)()}throw new Error("unexpected notification kind value")}static createNext(L){return void 0!==L?new X("N",L):X.undefinedValueNotification}static createError(L){return new X("E",void 0,L)}static createComplete(){return X.completeNotification}}function he(Y,L=0){return function(oe){return oe.lift(new re(Y,L))}}X.completeNotification=new X("C"),X.undefinedValueNotification=new X("N",void 0);class re{constructor(L,Q=0){this.scheduler=L,this.delay=Q}call(L,Q){return Q.subscribe(new K(L,this.scheduler,this.delay))}}class K extends f.L{constructor(L,Q,oe=0){super(L),this.scheduler=Q,this.delay=oe}static dispatch(L){const{notification:Q,destination:oe}=L;Q.observe(oe),this.unsubscribe()}scheduleMessage(L){this.destination.add(this.scheduler.schedule(K.dispatch,this.delay,new B(L,this.destination)))}_next(L){this.scheduleMessage(X.createNext(L))}_error(L){this.scheduleMessage(X.createError(L)),this.unsubscribe()}_complete(){this.scheduleMessage(X.createComplete()),this.unsubscribe()}}class B{constructor(L,Q){this.notification=L,this.destination=Q}}},1307:(et,Ne,V)=>{"use strict";V.d(Ne,{x:()=>de});var f=V(7393);function de(){return function(X){return X.lift(new $(X))}}class ${constructor(X){this.connectable=X}call(X,he){const{connectable:re}=this;re._refCount++;const K=new ie(X,re),B=he.subscribe(K);return K.closed||(K.connection=re.connect()),B}}class ie extends f.L{constructor(X,he){super(X),this.connectable=he}_unsubscribe(){const{connectable:X}=this;if(!X)return void(this.connection=null);this.connectable=null;const he=X._refCount;if(he<=0)return void(this.connection=null);if(X._refCount=he-1,he>1)return void(this.connection=null);const{connection:re}=this,K=X._connection;this.connection=null,K&&(!re||K===re)&&K.unsubscribe()}}},8819:(et,Ne,V)=>{"use strict";V.d(Ne,{B:()=>he});var f=V(2441);var ie=V(1307),me=V(9765);function X(){return new me.xQ}function he(){return re=>(0,ie.x)()(function(re,K){return function(Y){let L;L="function"==typeof re?re:function(){return re};const Q=Object.create(Y,f.N);return Q.source=Y,Q.subjectFactory=L,Q}}(X)(re))}},9673:(et,Ne,V)=>{"use strict";V.d(Ne,{R:()=>me});var f=V(7574),de=V(4581),$=V(6561);class ie extends f.y{constructor(re,K=0,B=de.e){super(),this.source=re,this.delayTime=K,this.scheduler=B,(!(0,$.k)(K)||K<0)&&(this.delayTime=0),(!B||"function"!=typeof B.schedule)&&(this.scheduler=de.e)}static create(re,K=0,B=de.e){return new ie(re,K,B)}static dispatch(re){const{source:K,subscriber:B}=re;return this.add(K.subscribe(B))}_subscribe(re){return this.scheduler.schedule(ie.dispatch,this.delayTime,{source:this.source,subscriber:re})}}function me(he,re=0){return function(B){return B.lift(new X(he,re))}}class X{constructor(re,K){this.scheduler=re,this.delay=K}call(re,K){return new ie(K,this.delay,this.scheduler).subscribe(re)}}},3342:(et,Ne,V)=>{"use strict";V.d(Ne,{b:()=>ie});var f=V(7393);function de(){}var $=V(9105);function ie(he,re,K){return function(Y){return Y.lift(new me(he,re,K))}}class me{constructor(re,K,B){this.nextOrObserver=re,this.error=K,this.complete=B}call(re,K){return K.subscribe(new X(re,this.nextOrObserver,this.error,this.complete))}}class X extends f.L{constructor(re,K,B,Y){super(re),this._tapNext=de,this._tapError=de,this._tapComplete=de,this._tapError=B||de,this._tapComplete=Y||de,(0,$.m)(K)?(this._context=this,this._tapNext=K):K&&(this._context=K,this._tapNext=K.next||de,this._tapError=K.error||de,this._tapComplete=K.complete||de)}_next(re){try{this._tapNext.call(this._context,re)}catch(K){return void this.destination.error(K)}this.destination.next(re)}_error(re){try{this._tapError.call(this._context,re)}catch(K){return void this.destination.error(K)}this.destination.error(re)}_complete(){try{this._tapComplete.call(this._context)}catch(re){return void this.destination.error(re)}return this.destination.complete()}}},4087:(et,Ne,V)=>{"use strict";V.d(Ne,{r:()=>$});var f=V(7574),de=V(5319);function $(ie,me){return new f.y(X=>{const he=new de.w;let re=0;return he.add(me.schedule(function(){re!==ie.length?(X.next(ie[re++]),X.closed||he.add(this.schedule())):X.complete()})),he})}},6465:(et,Ne,V)=>{"use strict";V.d(Ne,{o:()=>$});var f=V(5319);class de extends f.w{constructor(me,X){super()}schedule(me,X=0){return this}}class $ extends de{constructor(me,X){super(me,X),this.scheduler=me,this.work=X,this.pending=!1}schedule(me,X=0){if(this.closed)return this;this.state=me;const he=this.id,re=this.scheduler;return null!=he&&(this.id=this.recycleAsyncId(re,he,X)),this.pending=!0,this.delay=X,this.id=this.id||this.requestAsyncId(re,this.id,X),this}requestAsyncId(me,X,he=0){return setInterval(me.flush.bind(me,this),he)}recycleAsyncId(me,X,he=0){if(null!==he&&this.delay===he&&!1===this.pending)return X;clearInterval(X)}execute(me,X){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const he=this._execute(me,X);if(he)return he;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(me,X){let re,he=!1;try{this.work(me)}catch(K){he=!0,re=!!K&&K||new Error(K)}if(he)return this.unsubscribe(),re}_unsubscribe(){const me=this.id,X=this.scheduler,he=X.actions,re=he.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==re&&he.splice(re,1),null!=me&&(this.id=this.recycleAsyncId(X,me,null)),this.delay=null}}},6102:(et,Ne,V)=>{"use strict";V.d(Ne,{v:()=>de});let f=(()=>{class ${constructor(me,X=$.now){this.SchedulerAction=me,this.now=X}schedule(me,X=0,he){return new this.SchedulerAction(this,me).schedule(he,X)}}return $.now=()=>Date.now(),$})();class de extends f{constructor(ie,me=f.now){super(ie,()=>de.delegate&&de.delegate!==this?de.delegate.now():me()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ie,me=0,X){return de.delegate&&de.delegate!==this?de.delegate.schedule(ie,me,X):super.schedule(ie,me,X)}flush(ie){const{actions:me}=this;if(this.active)return void me.push(ie);let X;this.active=!0;do{if(X=ie.execute(ie.state,ie.delay))break}while(ie=me.shift());if(this.active=!1,X){for(;ie=me.shift();)ie.unsubscribe();throw X}}}},4581:(et,Ne,V)=>{"use strict";V.d(Ne,{e:()=>L,E:()=>Y});let f=1;const de=Promise.resolve(),$={};function ie(Q){return Q in $&&(delete $[Q],!0)}const me={setImmediate(Q){const oe=f++;return $[oe]=!0,de.then(()=>ie(oe)&&Q()),oe},clearImmediate(Q){ie(Q)}};var he=V(6465),K=V(6102);const Y=new class extends K.v{flush(oe){this.active=!0,this.scheduled=void 0;const{actions:Ae}=this;let _e,pe=-1,ne=Ae.length;oe=oe||Ae.shift();do{if(_e=oe.execute(oe.state,oe.delay))break}while(++pe<ne&&(oe=Ae.shift()));if(this.active=!1,_e){for(;++pe<ne&&(oe=Ae.shift());)oe.unsubscribe();throw _e}}}(class extends he.o{constructor(oe,Ae){super(oe,Ae),this.scheduler=oe,this.work=Ae}requestAsyncId(oe,Ae,_e=0){return null!==_e&&_e>0?super.requestAsyncId(oe,Ae,_e):(oe.actions.push(this),oe.scheduled||(oe.scheduled=me.setImmediate(oe.flush.bind(oe,null))))}recycleAsyncId(oe,Ae,_e=0){if(null!==_e&&_e>0||null===_e&&this.delay>0)return super.recycleAsyncId(oe,Ae,_e);0===oe.actions.length&&(me.clearImmediate(Ae),oe.scheduled=void 0)}}),L=Y},3637:(et,Ne,V)=>{"use strict";V.d(Ne,{z:()=>$,P:()=>ie});var f=V(6465);const $=new(V(6102).v)(f.o),ie=$},7771:(et,Ne,V)=>{"use strict";V.d(Ne,{c:()=>X,N:()=>me});var f=V(6465),$=V(6102);const me=new class extends $.v{}(class extends f.o{constructor(re,K){super(re,K),this.scheduler=re,this.work=K}schedule(re,K=0){return K>0?super.schedule(re,K):(this.delay=K,this.state=re,this.scheduler.flush(this),this)}execute(re,K){return K>0||this.closed?super.execute(re,K):this._execute(re,K)}requestAsyncId(re,K,B=0){return null!==B&&B>0||null===B&&this.delay>0?super.requestAsyncId(re,K,B):re.flush(this)}}),X=me},377:(et,Ne,V)=>{"use strict";V.d(Ne,{hZ:()=>de});const de="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(et,Ne,V)=>{"use strict";V.d(Ne,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(et,Ne,V)=>{"use strict";V.d(Ne,{b:()=>f});const f="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(et,Ne,V)=>{"use strict";V.d(Ne,{N:()=>de});const de=(()=>{function $(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return $.prototype=Object.create(Error.prototype),$})()},4449:(et,Ne,V)=>{"use strict";function f(de){setTimeout(()=>{throw de},0)}V.d(Ne,{z:()=>f})},4487:(et,Ne,V)=>{"use strict";function f(de){return de}V.d(Ne,{y:()=>f})},9796:(et,Ne,V)=>{"use strict";V.d(Ne,{k:()=>f});const f=Array.isArray||(de=>de&&"number"==typeof de.length)},9489:(et,Ne,V)=>{"use strict";V.d(Ne,{z:()=>f});const f=de=>de&&"number"==typeof de.length&&"function"!=typeof de},9105:(et,Ne,V)=>{"use strict";function f(de){return"function"==typeof de}V.d(Ne,{m:()=>f})},6561:(et,Ne,V)=>{"use strict";V.d(Ne,{k:()=>de});var f=V(9796);function de($){return!(0,f.k)($)&&$-parseFloat($)+1>=0}},1555:(et,Ne,V)=>{"use strict";function f(de){return null!==de&&"object"==typeof de}V.d(Ne,{K:()=>f})},4072:(et,Ne,V)=>{"use strict";function f(de){return!!de&&"function"!=typeof de.subscribe&&"function"==typeof de.then}V.d(Ne,{t:()=>f})},4869:(et,Ne,V)=>{"use strict";function f(de){return de&&"function"==typeof de.schedule}V.d(Ne,{K:()=>f})},7444:(et,Ne,V)=>{"use strict";V.d(Ne,{s:()=>Y});var f=V(5015),de=V(4449),ie=V(377),X=V(6554),re=V(9489),K=V(4072),B=V(1555);const Y=L=>{if(L&&"function"==typeof L[X.L])return(L=>Q=>{const oe=L[X.L]();if("function"!=typeof oe.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return oe.subscribe(Q)})(L);if((0,re.z)(L))return(0,f.V)(L);if((0,K.t)(L))return(L=>Q=>(L.then(oe=>{Q.closed||(Q.next(oe),Q.complete())},oe=>Q.error(oe)).then(null,de.z),Q))(L);if(L&&"function"==typeof L[ie.hZ])return(L=>Q=>{const oe=L[ie.hZ]();for(;;){let Ae;try{Ae=oe.next()}catch(_e){return Q.error(_e),Q}if(Ae.done){Q.complete();break}if(Q.next(Ae.value),Q.closed)break}return"function"==typeof oe.return&&Q.add(()=>{oe.return&&oe.return()}),Q})(L);{const oe=`You provided ${(0,B.K)(L)?"an invalid object":`'${L}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(oe)}}},5015:(et,Ne,V)=>{"use strict";V.d(Ne,{V:()=>f});const f=de=>$=>{for(let ie=0,me=de.length;ie<me&&!$.closed;ie++)$.next(de[ie]);$.complete()}},6387:(et,Ne,V)=>{"use strict";var f=V(7716);let de=null;function $(){return de}const he=new f.OlP("DocumentToken");let re=(()=>{class s{historyGo(i){throw new Error("Not implemented")}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=(0,f.Yz7)({factory:K,token:s,providedIn:"platform"}),s})();function K(){return(0,f.LFG)(Y)}const B=new f.OlP("Location Initialized");let Y=(()=>{class s extends re{constructor(i){super(),this._doc=i,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $().getBaseHref(this._doc)}onPopState(i){const o=$().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",i,!1),()=>o.removeEventListener("popstate",i)}onHashChange(i){const o=$().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",i,!1),()=>o.removeEventListener("hashchange",i)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(i){this.location.pathname=i}pushState(i,o,u){L()?this._history.pushState(i,o,u):this.location.hash=u}replaceState(i,o,u){L()?this._history.replaceState(i,o,u):this.location.hash=u}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(he))},s.\u0275prov=(0,f.Yz7)({factory:Q,token:s,providedIn:"platform"}),s})();function L(){return!!window.history.pushState}function Q(){return new Y((0,f.LFG)(he))}function oe(s,r){if(0==s.length)return r;if(0==r.length)return s;let i=0;return s.endsWith("/")&&i++,r.startsWith("/")&&i++,2==i?s+r.substring(1):1==i?s+r:s+"/"+r}function Ae(s){const r=s.match(/#|\?|$/),i=r&&r.index||s.length;return s.slice(0,i-("/"===s[i-1]?1:0))+s.slice(i)}function _e(s){return s&&"?"!==s[0]?"?"+s:s}let pe=(()=>{class s{historyGo(i){throw new Error("Not implemented")}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=(0,f.Yz7)({factory:ne,token:s,providedIn:"root"}),s})();function ne(s){const r=(0,f.LFG)(he).location;return new We((0,f.LFG)(re),r&&r.origin||"")}const be=new f.OlP("appBaseHref");let We=(()=>{class s extends pe{constructor(i,o){if(super(),this._platformLocation=i,this._removeListenerFns=[],null==o&&(o=this._platformLocation.getBaseHrefFromDOM()),null==o)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=o}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return oe(this._baseHref,i)}path(i=!1){const o=this._platformLocation.pathname+_e(this._platformLocation.search),u=this._platformLocation.hash;return u&&i?`${o}${u}`:o}pushState(i,o,u,h){const m=this.prepareExternalUrl(u+_e(h));this._platformLocation.pushState(i,o,m)}replaceState(i,o,u,h){const m=this.prepareExternalUrl(u+_e(h));this._platformLocation.replaceState(i,o,m)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(i=0){var o,u;null===(u=(o=this._platformLocation).historyGo)||void 0===u||u.call(o,i)}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(re),f.LFG(be,8))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})(),Ve=(()=>{class s extends pe{constructor(i,o){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(i){const o=oe(this._baseHref,i);return o.length>0?"#"+o:o}pushState(i,o,u,h){let m=this.prepareExternalUrl(u+_e(h));0==m.length&&(m=this._platformLocation.pathname),this._platformLocation.pushState(i,o,m)}replaceState(i,o,u,h){let m=this.prepareExternalUrl(u+_e(h));0==m.length&&(m=this._platformLocation.pathname),this._platformLocation.replaceState(i,o,m)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(i=0){var o,u;null===(u=(o=this._platformLocation).historyGo)||void 0===u||u.call(o,i)}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(re),f.LFG(be,8))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})(),Je=(()=>{class s{constructor(i,o){this._subject=new f.vpe,this._urlChangeListeners=[],this._platformStrategy=i;const u=this._platformStrategy.getBaseHref();this._platformLocation=o,this._baseHref=Ae(kt(u)),this._platformStrategy.onPopState(h=>{this._subject.emit({url:this.path(!0),pop:!0,state:h.state,type:h.type})})}path(i=!1){return this.normalize(this._platformStrategy.path(i))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(i,o=""){return this.path()==this.normalize(i+_e(o))}normalize(i){return s.stripTrailingSlash(function(s,r){return s&&r.startsWith(s)?r.substring(s.length):r}(this._baseHref,kt(i)))}prepareExternalUrl(i){return i&&"/"!==i[0]&&(i="/"+i),this._platformStrategy.prepareExternalUrl(i)}go(i,o="",u=null){this._platformStrategy.pushState(u,"",i,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+_e(o)),u)}replaceState(i,o="",u=null){this._platformStrategy.replaceState(u,"",i,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+_e(o)),u)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(i=0){var o,u;null===(u=(o=this._platformStrategy).historyGo)||void 0===u||u.call(o,i)}onUrlChange(i){this._urlChangeListeners.push(i),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}))}_notifyUrlChangeListeners(i="",o){this._urlChangeListeners.forEach(u=>u(i,o))}subscribe(i,o,u){return this._subject.subscribe({next:i,error:o,complete:u})}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(pe),f.LFG(re))},s.normalizeQueryParams=_e,s.joinWithSlash=oe,s.stripTrailingSlash=Ae,s.\u0275prov=(0,f.Yz7)({factory:xt,token:s,providedIn:"root"}),s})();function xt(){return new Je((0,f.LFG)(pe),(0,f.LFG)(re))}function kt(s){return s.replace(/\/index.html$/,"")}const Et={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Ee=(()=>((Ee=Ee||{})[Ee.Decimal=0]="Decimal",Ee[Ee.Percent=1]="Percent",Ee[Ee.Currency=2]="Currency",Ee[Ee.Scientific=3]="Scientific",Ee))(),ge=(()=>((ge=ge||{})[ge.Zero=0]="Zero",ge[ge.One=1]="One",ge[ge.Two=2]="Two",ge[ge.Few=3]="Few",ge[ge.Many=4]="Many",ge[ge.Other=5]="Other",ge))(),ae=(()=>((ae=ae||{})[ae.Decimal=0]="Decimal",ae[ae.Group=1]="Group",ae[ae.List=2]="List",ae[ae.PercentSign=3]="PercentSign",ae[ae.PlusSign=4]="PlusSign",ae[ae.MinusSign=5]="MinusSign",ae[ae.Exponential=6]="Exponential",ae[ae.SuperscriptingExponent=7]="SuperscriptingExponent",ae[ae.PerMille=8]="PerMille",ae[ae.Infinity=9]="Infinity",ae[ae.NaN=10]="NaN",ae[ae.TimeSeparator=11]="TimeSeparator",ae[ae.CurrencyDecimal=12]="CurrencyDecimal",ae[ae.CurrencyGroup=13]="CurrencyGroup",ae))();function dn(s,r){const i=(0,f.cg1)(s),o=i[f.wAp.NumberSymbols][r];if(void 0===o){if(r===ae.CurrencyDecimal)return i[f.wAp.NumberSymbols][ae.Decimal];if(r===ae.CurrencyGroup)return i[f.wAp.NumberSymbols][ae.Group]}return o}const Nr=f.kL8;const jo=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function wr(s,r,i,o,u){const m=function(s,r="-"){const i={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},o=s.split(";"),u=o[0],h=o[1],m=-1!==u.indexOf(".")?u.split("."):[u.substring(0,u.lastIndexOf("0")+1),u.substring(u.lastIndexOf("0")+1)],v=m[0],I=m[1]||"";i.posPre=v.substr(0,v.indexOf("#"));for(let x=0;x<I.length;x++){const O=I.charAt(x);"0"===O?i.minFrac=i.maxFrac=x+1:"#"===O?i.maxFrac=x+1:i.posSuf+=O}const D=v.split(",");if(i.gSize=D[1]?D[1].length:0,i.lgSize=D[2]||D[1]?(D[2]||D[1]).length:0,h){const x=u.length-i.posPre.length-i.posSuf.length,O=h.indexOf("#");i.negPre=h.substr(0,O).replace(/'/g,""),i.negSuf=h.substr(O+x).replace(/'/g,"")}else i.negPre=r+i.posPre,i.negSuf=i.posSuf;return i}(function(s,r){return(0,f.cg1)(s)[f.wAp.NumberFormats][r]}(r,Ee.Currency),dn(r,ae.MinusSign));return m.minFrac=function(s){let r;const i=Et[s];return i&&(r=i[2]),"number"==typeof r?r:2}(o),m.maxFrac=m.minFrac,function(s,r,i,o,u,h,m=!1){let v="",I=!1;if(isFinite(s)){let D=function(s){let o,u,h,m,v,r=Math.abs(s)+"",i=0;for((u=r.indexOf("."))>-1&&(r=r.replace(".","")),(h=r.search(/e/i))>0?(u<0&&(u=h),u+=+r.slice(h+1),r=r.substring(0,h)):u<0&&(u=r.length),h=0;"0"===r.charAt(h);h++);if(h===(v=r.length))o=[0],u=1;else{for(v--;"0"===r.charAt(v);)v--;for(u-=h,o=[],m=0;h<=v;h++,m++)o[m]=Number(r.charAt(h))}return u>22&&(o=o.splice(0,21),i=u-1,u=1),{digits:o,exponent:i,integerLen:u}}(s);m&&(D=function(s){if(0===s.digits[0])return s;const r=s.digits.length-s.integerLen;return s.exponent?s.exponent+=2:(0===r?s.digits.push(0,0):1===r&&s.digits.push(0),s.integerLen+=2),s}(D));let x=r.minInt,O=r.minFrac,j=r.maxFrac;if(h){const Ke=h.match(jo);if(null===Ke)throw new Error(`${h} is not a valid digit info`);const Qe=Ke[1],mt=Ke[3],pn=Ke[5];null!=Qe&&(x=At(Qe)),null!=mt&&(O=At(mt)),null!=pn?j=At(pn):null!=mt&&O>j&&(j=O)}!function(s,r,i){if(r>i)throw new Error(`The minimum number of digits after fraction (${r}) is higher than the maximum (${i}).`);let o=s.digits,u=o.length-s.integerLen;const h=Math.min(Math.max(r,u),i);let m=h+s.integerLen,v=o[m];if(m>0){o.splice(Math.max(s.integerLen,m));for(let O=m;O<o.length;O++)o[O]=0}else{u=Math.max(0,u),s.integerLen=1,o.length=Math.max(1,m=h+1),o[0]=0;for(let O=1;O<m;O++)o[O]=0}if(v>=5)if(m-1<0){for(let O=0;O>m;O--)o.unshift(0),s.integerLen++;o.unshift(1),s.integerLen++}else o[m-1]++;for(;u<Math.max(0,h);u++)o.push(0);let I=0!==h;const D=r+s.integerLen,x=o.reduceRight(function(O,j,H,ee){return ee[H]=(j+=O)<10?j:j-10,I&&(0===ee[H]&&H>=D?ee.pop():I=!1),j>=10?1:0},0);x&&(o.unshift(x),s.integerLen++)}(D,O,j);let H=D.digits,ee=D.integerLen;const ve=D.exponent;let xe=[];for(I=H.every(Ke=>!Ke);ee<x;ee++)H.unshift(0);for(;ee<0;ee++)H.unshift(0);ee>0?xe=H.splice(ee,H.length):(xe=H,H=[0]);const $e=[];for(H.length>=r.lgSize&&$e.unshift(H.splice(-r.lgSize,H.length).join(""));H.length>r.gSize;)$e.unshift(H.splice(-r.gSize,H.length).join(""));H.length&&$e.unshift(H.join("")),v=$e.join(dn(i,o)),xe.length&&(v+=dn(i,u)+xe.join("")),ve&&(v+=dn(i,ae.Exponential)+"+"+ve)}else v=dn(i,ae.Infinity);return v=s<0&&!I?r.negPre+v+r.negSuf:r.posPre+v+r.posSuf,v}(s,m,r,ae.CurrencyGroup,ae.CurrencyDecimal,u).replace("\xa4",i).replace("\xa4","").trim()}function At(s){const r=parseInt(s);if(isNaN(r))throw new Error("Invalid integer literal when parsing "+s);return r}class Li{}let vo=(()=>{class s extends Li{constructor(i){super(),this.locale=i}getPluralCategory(i,o){switch(Nr(o||this.locale)(i)){case ge.Zero:return"zero";case ge.One:return"one";case ge.Two:return"two";case ge.Few:return"few";case ge.Many:return"many";default:return"other"}}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(f.soG))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();class Cr{constructor(r,i,o,u){this.$implicit=r,this.ngForOf=i,this.index=o,this.count=u}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Kt=(()=>{class s{constructor(i,o,u){this._viewContainer=i,this._template=o,this._differs=u,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const i=this._ngForOf;if(!this._differ&&i)try{this._differ=this._differs.find(i).create(this.ngForTrackBy)}catch(o){throw new Error(`Cannot find a differ supporting object '${i}' of type '${function(s){return s.name||typeof s}(i)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){const o=[];i.forEachOperation((u,h,m)=>{if(null==u.previousIndex){const v=this._viewContainer.createEmbeddedView(this._template,new Cr(null,this._ngForOf,-1,-1),null===m?void 0:m),I=new Rc(u,v);o.push(I)}else if(null==m)this._viewContainer.remove(null===h?void 0:h);else if(null!==h){const v=this._viewContainer.get(h);this._viewContainer.move(v,m);const I=new Rc(u,v);o.push(I)}});for(let u=0;u<o.length;u++)this._perViewChange(o[u].view,o[u].record);for(let u=0,h=this._viewContainer.length;u<h;u++){const m=this._viewContainer.get(u);m.context.index=u,m.context.count=h,m.context.ngForOf=this._ngForOf}i.forEachIdentityChange(u=>{this._viewContainer.get(u.currentIndex).context.$implicit=u.item})}_perViewChange(i,o){i.context.$implicit=o.item}static ngTemplateContextGuard(i,o){return!0}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},s.\u0275dir=f.lG2({type:s,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),s})();class Rc{constructor(r,i){this.record=r,this.view=i}}let Ei=(()=>{class s{constructor(i,o){this._viewContainer=i,this._context=new zo,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){Hn("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){Hn("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,o){return!0}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(f.s_b),f.Y36(f.Rgc))},s.\u0275dir=f.lG2({type:s,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),s})();class zo{constructor(){this.$implicit=null,this.ngIf=null}}function Hn(s,r){if(r&&!r.createEmbeddedView)throw new Error(`${s} must be a TemplateRef, but received '${(0,f.AaK)(r)}'.`)}class ys{constructor(r,i){this._viewContainerRef=r,this._templateRef=i,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(r){r&&!this._created?this.create():!r&&this._created&&this.destroy()}}let ni=(()=>{class s{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(i){this._ngSwitch=i,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(i){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(i)}_matchCase(i){const o=i==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||o,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),o}_updateDefaultCases(i){if(this._defaultViews&&i!==this._defaultUsed){this._defaultUsed=i;for(let o=0;o<this._defaultViews.length;o++)this._defaultViews[o].enforceState(i)}}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275dir=f.lG2({type:s,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),s})(),Tn=(()=>{class s{constructor(i,o,u){this.ngSwitch=u,u._addCase(),this._view=new ys(i,o)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(ni,9))},s.\u0275dir=f.lG2({type:s,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),s})(),pr=(()=>{class s{constructor(i){this._viewContainerRef=i,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(i){if(i.ngTemplateOutlet){const o=this._viewContainerRef;this._viewRef&&o.remove(o.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?o.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&i.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(f.s_b))},s.\u0275dir=f.lG2({type:s,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[f.TTD]}),s})();let Yl=(()=>{class s{constructor(i,o="USD"){this._locale=i,this._defaultCurrencyCode=o}transform(i,o=this._defaultCurrencyCode,u="symbol",h,m){if(!function(s){return!(null==s||""===s||s!=s)}(i))return null;m=m||this._locale,"boolean"==typeof u&&(u=u?"symbol":"code");let v=o||this._defaultCurrencyCode;"code"!==u&&(v="symbol"===u||"symbol-narrow"===u?function(s,r,i="en"){const o=function(s){return(0,f.cg1)(s)[f.wAp.Currencies]}(i)[s]||Et[s]||[],u=o[1];return"narrow"===r&&"string"==typeof u?u:o[0]||s}(v,"symbol"===u?"wide":"narrow",m):u);try{return wr(function(s){if("string"==typeof s&&!isNaN(Number(s)-parseFloat(s)))return Number(s);if("number"!=typeof s)throw new Error(`${s} is not a number`);return s}(i),m,v,o,h)}catch(I){throw function(s,r){return Error(`InvalidPipeArgument: '${r}' for pipe '${(0,f.AaK)(s)}'`)}(s,I.message)}}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(f.soG,16),f.Y36(f.EJc,16))},s.\u0275pipe=f.Yjl({name:"currency",type:s,pure:!0}),s})();let Cs=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({providers:[{provide:Li,useClass:vo}]}),s})();function Ir(s){return"browser"===s}function La(s){return"server"===s}let Ua=(()=>{class s{}return s.\u0275prov=(0,f.Yz7)({token:s,providedIn:"root",factory:()=>new Jl((0,f.LFG)(he),window)}),s})();class Jl{constructor(r,i){this.document=r,this.window=i,this.offset=()=>[0,0]}setOffset(r){this.offset=Array.isArray(r)?()=>r:r}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(r){this.supportsScrolling()&&this.window.scrollTo(r[0],r[1])}scrollToAnchor(r){if(!this.supportsScrolling())return;const i=function(s,r){const i=s.getElementById(r)||s.getElementsByName(r)[0];if(i)return i;if("function"==typeof s.createTreeWalker&&s.body&&(s.body.createShadowRoot||s.body.attachShadow)){const o=s.createTreeWalker(s.body,NodeFilter.SHOW_ELEMENT);let u=o.currentNode;for(;u;){const h=u.shadowRoot;if(h){const m=h.getElementById(r)||h.querySelector(`[name="${r}"]`);if(m)return m}u=o.nextNode()}}return null}(this.document,r);i&&(this.scrollToElement(i),this.attemptFocus(i))}setHistoryScrollRestoration(r){if(this.supportScrollRestoration()){const i=this.window.history;i&&i.scrollRestoration&&(i.scrollRestoration=r)}}scrollToElement(r){const i=r.getBoundingClientRect(),o=i.left+this.window.pageXOffset,u=i.top+this.window.pageYOffset,h=this.offset();this.window.scrollTo(o-h[0],u-h[1])}attemptFocus(r){return r.focus(),this.document.activeElement===r}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const r=Ba(this.window.history)||Ba(Object.getPrototypeOf(this.window.history));return!(!r||!r.writable&&!r.set)}catch(r){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(r){return!1}}}function Ba(s){return Object.getOwnPropertyDescriptor(s,"scrollRestoration")}class U extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var s;s=new U,de||(de=s)}onAndCancel(r,i,o){return r.addEventListener(i,o,!1),()=>{r.removeEventListener(i,o,!1)}}dispatchEvent(r,i){r.dispatchEvent(i)}remove(r){r.parentNode&&r.parentNode.removeChild(r)}createElement(r,i){return(i=i||this.getDefaultDocument()).createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,i){return"window"===i?window:"document"===i?r:"body"===i?r.body:null}getBaseHref(r){const i=(W=W||document.querySelector("base"),W?W.getAttribute("href"):null);return null==i?null:function(s){Ce=Ce||document.createElement("a"),Ce.setAttribute("href",s);const r=Ce.pathname;return"/"===r.charAt(0)?r:`/${r}`}(i)}resetBaseElement(){W=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return function(s,r){r=encodeURIComponent(r);for(const i of s.split(";")){const o=i.indexOf("="),[u,h]=-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)];if(u.trim()===r)return decodeURIComponent(h)}return null}(document.cookie,r)}}let Ce,W=null;const Ye=new f.OlP("TRANSITION_ID"),lt=[{provide:f.ip1,useFactory:function(s,r,i){return()=>{i.get(f.CZH).donePromise.then(()=>{const o=$(),u=r.querySelectorAll(`style[ng-transition="${s}"]`);for(let h=0;h<u.length;h++)o.remove(u[h])})}},deps:[Ye,he,f.zs3],multi:!0}];class an{static init(){(0,f.VLi)(new an)}addToWindow(r){f.dqk.getAngularTestability=(o,u=!0)=>{const h=r.findTestabilityInTree(o,u);if(null==h)throw new Error("Could not find testability for element.");return h},f.dqk.getAllAngularTestabilities=()=>r.getAllTestabilities(),f.dqk.getAllAngularRootElements=()=>r.getAllRootElements(),f.dqk.frameworkStabilizers||(f.dqk.frameworkStabilizers=[]),f.dqk.frameworkStabilizers.push(o=>{const u=f.dqk.getAllAngularTestabilities();let h=u.length,m=!1;const v=function(I){m=m||I,h--,0==h&&o(m)};u.forEach(function(I){I.whenStable(v)})})}findTestabilityInTree(r,i,o){if(null==i)return null;const u=r.getTestability(i);return null!=u?u:o?$().isShadowRoot(i)?this.findTestabilityInTree(r,i.host,!0):this.findTestabilityInTree(r,i.parentElement,!0):null}}let er=(()=>{class s{build(){return new XMLHttpRequest}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();const Ko=new f.OlP("EventManagerPlugins");let ke=(()=>{class s{constructor(i,o){this._zone=o,this._eventNameToPlugin=new Map,i.forEach(u=>u.manager=this),this._plugins=i.slice().reverse()}addEventListener(i,o,u){return this._findPluginFor(o).addEventListener(i,o,u)}addGlobalEventListener(i,o,u){return this._findPluginFor(o).addGlobalEventListener(i,o,u)}getZone(){return this._zone}_findPluginFor(i){const o=this._eventNameToPlugin.get(i);if(o)return o;const u=this._plugins;for(let h=0;h<u.length;h++){const m=u[h];if(m.supports(i))return this._eventNameToPlugin.set(i,m),m}throw new Error(`No event manager plugin found for event ${i}`)}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(Ko),f.LFG(f.R0b))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();class Ht{constructor(r){this._doc=r}addGlobalEventListener(r,i,o){const u=$().getGlobalEventTarget(this._doc,r);if(!u)throw new Error(`Unsupported event target ${u} for event ${i}`);return this.addEventListener(u,i,o)}}let xh=(()=>{class s{constructor(){this._stylesSet=new Set}addStyles(i){const o=new Set;i.forEach(u=>{this._stylesSet.has(u)||(this._stylesSet.add(u),o.add(u))}),this.onStylesAdded(o)}onStylesAdded(i){}getAllStyles(){return Array.from(this._stylesSet)}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})(),mn=(()=>{class s extends xh{constructor(i){super(),this._doc=i,this._hostNodes=new Map,this._hostNodes.set(i.head,[])}_addStylesToHost(i,o,u){i.forEach(h=>{const m=this._doc.createElement("style");m.textContent=h,u.push(o.appendChild(m))})}addHost(i){const o=[];this._addStylesToHost(this._stylesSet,i,o),this._hostNodes.set(i,o)}removeHost(i){const o=this._hostNodes.get(i);o&&o.forEach(Rh),this._hostNodes.delete(i)}onStylesAdded(i){this._hostNodes.forEach((o,u)=>{this._addStylesToHost(i,u,o)})}ngOnDestroy(){this._hostNodes.forEach(i=>i.forEach(Rh))}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(he))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();function Rh(s){$().remove(s)}const Yo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ii=/%COMP%/g;function $n(s,r,i){for(let o=0;o<r.length;o++){let u=r[o];Array.isArray(u)?$n(s,u,i):(u=u.replace(ii,s),i.push(u))}return i}function ss(s){return r=>{if("__ngUnwrap__"===r)return s;!1===s(r)&&(r.preventDefault(),r.returnValue=!1)}}let Ks=(()=>{class s{constructor(i,o,u){this.eventManager=i,this.sharedStylesHost=o,this.appId=u,this.rendererByCompId=new Map,this.defaultRenderer=new Ci(i)}createRenderer(i,o){if(!i||!o)return this.defaultRenderer;switch(o.encapsulation){case f.ifc.Emulated:{let u=this.rendererByCompId.get(o.id);return u||(u=new Oh(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,u)),u.applyToHost(i),u}case 1:case f.ifc.ShadowDom:return new kh(this.eventManager,this.sharedStylesHost,i,o);default:if(!this.rendererByCompId.has(o.id)){const u=$n(o.id,o.styles,[]);this.sharedStylesHost.addStyles(u),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(ke),f.LFG(mn),f.LFG(f.AFp))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();class Ci{constructor(r){this.eventManager=r,this.data=Object.create(null)}destroy(){}createElement(r,i){return i?document.createElementNS(Yo[i]||i,r):document.createElement(r)}createComment(r){return document.createComment(r)}createText(r){return document.createTextNode(r)}appendChild(r,i){r.appendChild(i)}insertBefore(r,i,o){r&&r.insertBefore(i,o)}removeChild(r,i){r&&r.removeChild(i)}selectRootElement(r,i){let o="string"==typeof r?document.querySelector(r):r;if(!o)throw new Error(`The selector "${r}" did not match any elements`);return i||(o.textContent=""),o}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,i,o,u){if(u){i=u+":"+i;const h=Yo[u];h?r.setAttributeNS(h,i,o):r.setAttribute(i,o)}else r.setAttribute(i,o)}removeAttribute(r,i,o){if(o){const u=Yo[o];u?r.removeAttributeNS(u,i):r.removeAttribute(`${o}:${i}`)}else r.removeAttribute(i)}addClass(r,i){r.classList.add(i)}removeClass(r,i){r.classList.remove(i)}setStyle(r,i,o,u){u&(f.JOm.DashCase|f.JOm.Important)?r.style.setProperty(i,o,u&f.JOm.Important?"important":""):r.style[i]=o}removeStyle(r,i,o){o&f.JOm.DashCase?r.style.removeProperty(i):r.style[i]=""}setProperty(r,i,o){r[i]=o}setValue(r,i){r.nodeValue=i}listen(r,i,o){return"string"==typeof r?this.eventManager.addGlobalEventListener(r,i,ss(o)):this.eventManager.addEventListener(r,i,ss(o))}}class Oh extends Ci{constructor(r,i,o,u){super(r),this.component=o;const h=$n(u+"-"+o.id,o.styles,[]);i.addStyles(h),this.contentAttr="_ngcontent-%COMP%".replace(ii,u+"-"+o.id),this.hostAttr=function(s){return"_nghost-%COMP%".replace(ii,s)}(u+"-"+o.id)}applyToHost(r){super.setAttribute(r,this.hostAttr,"")}createElement(r,i){const o=super.createElement(r,i);return super.setAttribute(o,this.contentAttr,""),o}}class kh extends Ci{constructor(r,i,o,u){super(r),this.sharedStylesHost=i,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const h=$n(u.id,u.styles,[]);for(let m=0;m<h.length;m++){const v=document.createElement("style");v.textContent=h[m],this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(r,i){return super.appendChild(this.nodeOrShadowRoot(r),i)}insertBefore(r,i,o){return super.insertBefore(this.nodeOrShadowRoot(r),i,o)}removeChild(r,i){return super.removeChild(this.nodeOrShadowRoot(r),i)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}}let Ph=(()=>{class s extends Ht{constructor(i){super(i)}supports(i){return!0}addEventListener(i,o,u){return i.addEventListener(o,u,!1),()=>this.removeEventListener(i,o,u)}removeEventListener(i,o,u){return i.removeEventListener(o,u)}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(he))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();const tu=["alt","control","meta","shift"],d0={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Lr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Bc={alt:s=>s.altKey,control:s=>s.ctrlKey,meta:s=>s.metaKey,shift:s=>s.shiftKey};let Xo=(()=>{class s extends Ht{constructor(i){super(i)}supports(i){return null!=s.parseEventName(i)}addEventListener(i,o,u){const h=s.parseEventName(o),m=s.eventCallback(h.fullKey,u,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>$().onAndCancel(i,h.domEventName,m))}static parseEventName(i){const o=i.toLowerCase().split("."),u=o.shift();if(0===o.length||"keydown"!==u&&"keyup"!==u)return null;const h=s._normalizeKey(o.pop());let m="";if(tu.forEach(I=>{const D=o.indexOf(I);D>-1&&(o.splice(D,1),m+=I+".")}),m+=h,0!=o.length||0===h.length)return null;const v={};return v.domEventName=u,v.fullKey=m,v}static getEventFullKey(i){let o="",u=function(s){let r=s.key;if(null==r){if(r=s.keyIdentifier,null==r)return"Unidentified";r.startsWith("U+")&&(r=String.fromCharCode(parseInt(r.substring(2),16)),3===s.location&&Lr.hasOwnProperty(r)&&(r=Lr[r]))}return d0[r]||r}(i);return u=u.toLowerCase()," "===u?u="space":"."===u&&(u="dot"),tu.forEach(h=>{h!=u&&Bc[h](i)&&(o+=h+".")}),o+=u,o}static eventCallback(i,o,u){return h=>{s.getEventFullKey(h)===i&&u.runGuarded(()=>o(h))}}static _normalizeKey(i){switch(i){case"esc":return"escape";default:return i}}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(he))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})(),Wa=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=(0,f.Yz7)({factory:function(){return(0,f.LFG)(Za)},token:s,providedIn:"root"}),s})(),Za=(()=>{class s extends Wa{constructor(i){super(),this._doc=i}sanitize(i,o){if(null==o)return null;switch(i){case f.q3G.NONE:return o;case f.q3G.HTML:return(0,f.qzn)(o,"HTML")?(0,f.z3N)(o):(0,f.EiD)(this._doc,String(o)).toString();case f.q3G.STYLE:return(0,f.qzn)(o,"Style")?(0,f.z3N)(o):o;case f.q3G.SCRIPT:if((0,f.qzn)(o,"Script"))return(0,f.z3N)(o);throw new Error("unsafe value used in a script context");case f.q3G.URL:return(0,f.yhl)(o),(0,f.qzn)(o,"URL")?(0,f.z3N)(o):(0,f.mCW)(String(o));case f.q3G.RESOURCE_URL:if((0,f.qzn)(o,"ResourceURL"))return(0,f.z3N)(o);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${i} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(i){return(0,f.JVY)(i)}bypassSecurityTrustStyle(i){return(0,f.L6k)(i)}bypassSecurityTrustScript(i){return(0,f.eBb)(i)}bypassSecurityTrustUrl(i){return(0,f.LAX)(i)}bypassSecurityTrustResourceUrl(i){return(0,f.pB0)(i)}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(he))},s.\u0275prov=(0,f.Yz7)({factory:function(){return function(s){return new Za(s.get(he))}((0,f.LFG)(f.gxx))},token:s,providedIn:"root"}),s})();const iu=(0,f.eFA)(f._c5,"browser",[{provide:f.Lbi,useValue:"browser"},{provide:f.g9A,useValue:function(){U.makeCurrent(),an.init()},multi:!0},{provide:he,useFactory:function(){return(0,f.RDi)(document),document},deps:[]}]),cg=[[],{provide:f.zSh,useValue:"root"},{provide:f.qLn,useFactory:function(){return new f.qLn},deps:[]},{provide:Ko,useClass:Ph,multi:!0,deps:[he,f.R0b,f.Lbi]},{provide:Ko,useClass:Xo,multi:!0,deps:[he]},[],{provide:Ks,useClass:Ks,deps:[ke,mn,f.AFp]},{provide:f.FYo,useExisting:Ks},{provide:xh,useExisting:mn},{provide:mn,useClass:mn,deps:[he]},{provide:f.dDg,useClass:f.dDg,deps:[f.R0b]},{provide:ke,useClass:ke,deps:[Ko,f.R0b]},{provide:class{},useClass:er,deps:[]},[]];let Ka=(()=>{class s{constructor(i){if(i)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(i){return{ngModule:s,providers:[{provide:f.AFp,useValue:i.appId},{provide:Ye,useExisting:f.AFp},lt]}}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(s,12))},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({providers:cg,imports:[Cs,f.hGG]}),s})();function Gc(){return new ta((0,f.LFG)(he))}let ta=(()=>{class s{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(he))},s.\u0275prov=(0,f.Yz7)({factory:Gc,token:s,providedIn:"root"}),s})();"undefined"!=typeof window&&window;var en=V(9765),ra=V(7971);class Vr extends en.xQ{constructor(r){super(),this._value=r}get value(){return this.getValue()}_subscribe(r){const i=super._subscribe(r);return i&&!i.closed&&r.next(this._value),i}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ra.N;return this._value}next(r){super.next(this._value=r)}}var Xe=V(5917);var gr=V(7393);const Qh=(()=>{function s(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return s.prototype=Object.create(Error.prototype),s})();var Ur=V(9193);function aa(s){return r=>0===s?(0,Ur.c)():r.lift(new nv(s))}class nv{constructor(r){if(this.total=r,this.total<0)throw new Qh}call(r,i){return i.subscribe(new rv(r,this.total))}}class rv extends gr.L{constructor(r,i){super(r),this.total=i,this.count=0}_next(r){const i=this.total,o=++this.count;o<=i&&(this.destination.next(r),o===i&&(this.destination.complete(),this.unsubscribe()))}}class N0{constructor(r){this.total=r}call(r,i){return i.subscribe(new Br(r,this.total))}}class Br extends gr.L{constructor(r,i){super(r),this.total=i,this.count=0}_next(r){++this.count>this.total&&this.destination.next(r)}}function Ds(s,r){return i=>i.lift(new Og(s,r))}class Og{constructor(r,i){this.compare=r,this.keySelector=i}call(r,i){return i.subscribe(new Jh(r,this.compare,this.keySelector))}}class Jh extends gr.L{constructor(r,i,o){super(r),this.keySelector=o,this.hasKey=!1,"function"==typeof i&&(this.compare=i)}compare(r,i){return r===i}_next(r){let i;try{const{keySelector:u}=this;i=u?u(r):r}catch(u){return this.destination.error(u)}let o=!1;if(this.hasKey)try{const{compare:u}=this;o=u(this.key,i)}catch(u){return this.destination.error(u)}else this.hasKey=!0;o||(this.key=i,this.destination.next(r))}}var Ui=V(5345);function jr(s){return r=>r.lift(new sv(s))}class sv{constructor(r){this.notifier=r}call(r,i){const o=new ov(r),u=(0,Ui.ft)(this.notifier,new Ui.IY(o));return u&&!o.seenValue?(o.add(u),i.subscribe(o)):o}}class ov extends Ui.Ds{constructor(r){super(r),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function mr(s){return null!=s&&"false"!=`${s}`}function Ti(s,r=0){return function(s){return!isNaN(parseFloat(s))&&!isNaN(Number(s))}(s)?Number(s):r}function il(s){return s instanceof f.SBq?s.nativeElement:s}let la;try{la="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(s){la=!1}let Io,ef,ji,Lg,Pn=(()=>{class s{constructor(i){this._platformId=i,this.isBrowser=this._platformId?Ir(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!la)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(f.Lbi))},s.\u0275prov=f.Yz7({factory:function(){return new s(f.LFG(f.Lbi))},token:s,providedIn:"root"}),s})(),Hr=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({}),s})();function Fg(s){return function(){if(null==Io&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Io=!0}))}finally{Io=Io||!1}return Io}()?s:!!s.capture}function ua(){if("object"!=typeof document||!document)return 0;if(null==ef){const s=document.createElement("div"),r=s.style;s.dir="rtl",r.width="1px",r.overflow="auto",r.visibility="hidden",r.pointerEvents="none",r.position="absolute";const i=document.createElement("div"),o=i.style;o.width="2px",o.height="1px",s.appendChild(i),document.body.appendChild(s),ef=0,0===s.scrollLeft&&(s.scrollLeft=1,ef=0===s.scrollLeft?1:2),s.parentNode.removeChild(s)}return ef}function nf(s){if(function(){if(null==Lg){const s="undefined"!=typeof document?document.head:null;Lg=!(!s||!s.createShadowRoot&&!s.attachShadow)}return Lg}()){const r=s.getRootNode?s.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&r instanceof ShadowRoot)return r}return null}function Iu(s){return s.composedPath?s.composedPath()[0]:s.target}var zn=V(7574),ca=V(3637);class Tu{constructor(r,i){this.dueTime=r,this.scheduler=i}call(r,i){return i.subscribe(new Vg(r,this.dueTime,this.scheduler))}}class Vg extends gr.L{constructor(r,i,o){super(r),this.dueTime=i,this.scheduler=o,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(r){this.clearDebounce(),this.lastValue=r,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(sf,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:r}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(r)}}clearDebounce(){const r=this.debouncedSubscription;null!==r&&(this.remove(r),r.unsubscribe(),this.debouncedSubscription=null)}}function sf(s){s.debouncedNext()}let jg=(()=>{class s{constructor(i){this._platform=i}isDisabled(i){return i.hasAttribute("disabled")}isVisible(i){return function(s){return!!(s.offsetWidth||s.offsetHeight||"function"==typeof s.getClientRects&&s.getClientRects().length)}(i)&&"visible"===getComputedStyle(i).visibility}isTabbable(i){if(!this._platform.isBrowser)return!1;const o=function(s){try{return s.frameElement}catch(r){return null}}(function(s){return s.ownerDocument&&s.ownerDocument.defaultView||window}(i));if(o&&(-1===df(o)||!this.isVisible(o)))return!1;let u=i.nodeName.toLowerCase(),h=df(i);return i.hasAttribute("contenteditable")?-1!==h:!("iframe"===u||"object"===u||this._platform.WEBKIT&&this._platform.IOS&&!function(s){let r=s.nodeName.toLowerCase(),i="input"===r&&s.type;return"text"===i||"password"===i||"select"===r||"textarea"===r}(i))&&("audio"===u?!!i.hasAttribute("controls")&&-1!==h:"video"===u?-1!==h&&(null!==h||this._platform.FIREFOX||i.hasAttribute("controls")):i.tabIndex>=0)}isFocusable(i,o){return function(s){return!function(s){return function(s){return"input"==s.nodeName.toLowerCase()}(s)&&"hidden"==s.type}(s)&&(function(s){let r=s.nodeName.toLowerCase();return"input"===r||"select"===r||"button"===r||"textarea"===r}(s)||function(s){return function(s){return"a"==s.nodeName.toLowerCase()}(s)&&s.hasAttribute("href")}(s)||s.hasAttribute("contenteditable")||al(s))}(i)&&!this.isDisabled(i)&&((null==o?void 0:o.ignoreVisibility)||this.isVisible(i))}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(Pn))},s.\u0275prov=f.Yz7({factory:function(){return new s(f.LFG(Pn))},token:s,providedIn:"root"}),s})();function al(s){if(!s.hasAttribute("tabindex")||void 0===s.tabIndex)return!1;let r=s.getAttribute("tabindex");return"-32768"!=r&&!(!r||isNaN(parseInt(r,10)))}function df(s){if(!al(s))return null;const r=parseInt(s.getAttribute("tabindex")||"",10);return isNaN(r)?-1:r}class gv{constructor(r,i,o,u,h=!1){this._element=r,this._checker=i,this._ngZone=o,this._document=u,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,h||this.attachAnchors()}get enabled(){return this._enabled}set enabled(r){this._enabled=r,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(r,this._startAnchor),this._toggleAnchorTabIndex(r,this._endAnchor))}destroy(){const r=this._startAnchor,i=this._endAnchor;r&&(r.removeEventListener("focus",this.startAnchorListener),r.parentNode&&r.parentNode.removeChild(r)),i&&(i.removeEventListener("focus",this.endAnchorListener),i.parentNode&&i.parentNode.removeChild(i)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(r){return new Promise(i=>{this._executeOnStable(()=>i(this.focusInitialElement(r)))})}focusFirstTabbableElementWhenReady(r){return new Promise(i=>{this._executeOnStable(()=>i(this.focusFirstTabbableElement(r)))})}focusLastTabbableElementWhenReady(r){return new Promise(i=>{this._executeOnStable(()=>i(this.focusLastTabbableElement(r)))})}_getRegionBoundary(r){let i=this._element.querySelectorAll(`[cdk-focus-region-${r}], [cdkFocusRegion${r}], [cdk-focus-${r}]`);for(let o=0;o<i.length;o++)i[o].hasAttribute(`cdk-focus-${r}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${r}', use 'cdkFocusRegion${r}' instead. The deprecated attribute will be removed in 8.0.0.`,i[o]):i[o].hasAttribute(`cdk-focus-region-${r}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${r}', use 'cdkFocusRegion${r}' instead. The deprecated attribute will be removed in 8.0.0.`,i[o]);return"start"==r?i.length?i[0]:this._getFirstTabbableElement(this._element):i.length?i[i.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(r){const i=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(i){if(i.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",i),!this._checker.isFocusable(i)){const o=this._getFirstTabbableElement(i);return null==o||o.focus(r),!!o}return i.focus(r),!0}return this.focusFirstTabbableElement(r)}focusFirstTabbableElement(r){const i=this._getRegionBoundary("start");return i&&i.focus(r),!!i}focusLastTabbableElement(r){const i=this._getRegionBoundary("end");return i&&i.focus(r),!!i}hasAttached(){return this._hasAttached}_getFirstTabbableElement(r){if(this._checker.isFocusable(r)&&this._checker.isTabbable(r))return r;let i=r.children||r.childNodes;for(let o=0;o<i.length;o++){let u=i[o].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(i[o]):null;if(u)return u}return null}_getLastTabbableElement(r){if(this._checker.isFocusable(r)&&this._checker.isTabbable(r))return r;let i=r.children||r.childNodes;for(let o=i.length-1;o>=0;o--){let u=i[o].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(i[o]):null;if(u)return u}return null}_createAnchor(){const r=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,r),r.classList.add("cdk-visually-hidden"),r.classList.add("cdk-focus-trap-anchor"),r.setAttribute("aria-hidden","true"),r}_toggleAnchorTabIndex(r,i){r?i.setAttribute("tabindex","0"):i.removeAttribute("tabindex")}toggleAnchors(r){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(r,this._startAnchor),this._toggleAnchorTabIndex(r,this._endAnchor))}_executeOnStable(r){this._ngZone.isStable?r():this._ngZone.onStable.pipe(aa(1)).subscribe(r)}}let mv=(()=>{class s{constructor(i,o,u){this._checker=i,this._ngZone=o,this._document=u}create(i,o=!1){return new gv(i,this._checker,this._ngZone,this._document,o)}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(jg),f.LFG(f.R0b),f.LFG(he))},s.\u0275prov=f.Yz7({factory:function(){return new s(f.LFG(jg),f.LFG(f.R0b),f.LFG(he))},token:s,providedIn:"root"}),s})();function nt(s){return 0===s.offsetX&&0===s.offsetY}function gt(s){const r=s.touches&&s.touches[0]||s.changedTouches&&s.changedTouches[0];return!(!r||-1!==r.identifier||null!=r.radiusX&&1!==r.radiusX||null!=r.radiusY&&1!==r.radiusY)}"undefined"!=typeof Element&&Element;const vt=new f.OlP("cdk-input-modality-detector-options"),Yn={ignoreKeys:[18,17,224,91,16]},As=Fg({passive:!0,capture:!0});let zg=(()=>{class s{constructor(i,o,u,h){this._platform=i,this._mostRecentTarget=null,this._modality=new Vr(null),this._lastTouchMs=0,this._onKeydown=m=>{var v,I;(null===(I=null===(v=this._options)||void 0===v?void 0:v.ignoreKeys)||void 0===I?void 0:I.some(D=>D===m.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Iu(m))},this._onMousedown=m=>{Date.now()-this._lastTouchMs<650||(this._modality.next(nt(m)?"keyboard":"mouse"),this._mostRecentTarget=Iu(m))},this._onTouchstart=m=>{gt(m)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Iu(m))},this._options=Object.assign(Object.assign({},Yn),h),this.modalityDetected=this._modality.pipe(r=>r.lift(new N0(1))),this.modalityChanged=this.modalityDetected.pipe(Ds()),i.isBrowser&&o.runOutsideAngular(()=>{u.addEventListener("keydown",this._onKeydown,As),u.addEventListener("mousedown",this._onMousedown,As),u.addEventListener("touchstart",this._onTouchstart,As)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){!this._platform.isBrowser||(document.removeEventListener("keydown",this._onKeydown,As),document.removeEventListener("mousedown",this._onMousedown,As),document.removeEventListener("touchstart",this._onTouchstart,As))}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(Pn),f.LFG(f.R0b),f.LFG(he),f.LFG(vt,8))},s.\u0275prov=f.Yz7({factory:function(){return new s(f.LFG(Pn),f.LFG(f.R0b),f.LFG(he),f.LFG(vt,8))},token:s,providedIn:"root"}),s})();const Gi=new f.OlP("cdk-focus-monitor-default-options"),Mu=Fg({passive:!0,capture:!0});let nd=(()=>{class s{constructor(i,o,u,h,m){this._ngZone=i,this._platform=o,this._inputModalityDetector=u,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new en.xQ,this._rootNodeFocusAndBlurListener=v=>{const I=Iu(v),D="focus"===v.type?this._onFocus:this._onBlur;for(let x=I;x;x=x.parentElement)D.call(this,v,x)},this._document=h,this._detectionMode=(null==m?void 0:m.detectionMode)||0}monitor(i,o=!1){const u=il(i);if(!this._platform.isBrowser||1!==u.nodeType)return(0,Xe.of)(null);const h=nf(u)||this._getDocument(),m=this._elementInfo.get(u);if(m)return o&&(m.checkChildren=!0),m.subject;const v={checkChildren:o,subject:new en.xQ,rootNode:h};return this._elementInfo.set(u,v),this._registerGlobalListeners(v),v.subject}stopMonitoring(i){const o=il(i),u=this._elementInfo.get(o);u&&(u.subject.complete(),this._setClasses(o),this._elementInfo.delete(o),this._removeGlobalListeners(u))}focusVia(i,o,u){const h=il(i);h===this._getDocument().activeElement?this._getClosestElementsInfo(h).forEach(([v,I])=>this._originChanged(v,o,I)):(this._setOrigin(o),"function"==typeof h.focus&&h.focus(u))}ngOnDestroy(){this._elementInfo.forEach((i,o)=>this.stopMonitoring(o))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(i,o,u){u?i.classList.add(o):i.classList.remove(o)}_getFocusOrigin(i){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(i)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(i){return 1===this._detectionMode||!!(null==i?void 0:i.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(i,o){this._toggleClass(i,"cdk-focused",!!o),this._toggleClass(i,"cdk-touch-focused","touch"===o),this._toggleClass(i,"cdk-keyboard-focused","keyboard"===o),this._toggleClass(i,"cdk-mouse-focused","mouse"===o),this._toggleClass(i,"cdk-program-focused","program"===o)}_setOrigin(i,o=!1){this._ngZone.runOutsideAngular(()=>{this._origin=i,this._originFromTouchInteraction="touch"===i&&o,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(i,o){const u=this._elementInfo.get(o),h=Iu(i);!u||!u.checkChildren&&o!==h||this._originChanged(o,this._getFocusOrigin(h),u)}_onBlur(i,o){const u=this._elementInfo.get(o);!u||u.checkChildren&&i.relatedTarget instanceof Node&&o.contains(i.relatedTarget)||(this._setClasses(o),this._emitOrigin(u.subject,null))}_emitOrigin(i,o){this._ngZone.run(()=>i.next(o))}_registerGlobalListeners(i){if(!this._platform.isBrowser)return;const o=i.rootNode,u=this._rootNodeFocusListenerCount.get(o)||0;u||this._ngZone.runOutsideAngular(()=>{o.addEventListener("focus",this._rootNodeFocusAndBlurListener,Mu),o.addEventListener("blur",this._rootNodeFocusAndBlurListener,Mu)}),this._rootNodeFocusListenerCount.set(o,u+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(jr(this._stopInputModalityDetector)).subscribe(h=>{this._setOrigin(h,!0)}))}_removeGlobalListeners(i){const o=i.rootNode;if(this._rootNodeFocusListenerCount.has(o)){const u=this._rootNodeFocusListenerCount.get(o);u>1?this._rootNodeFocusListenerCount.set(o,u-1):(o.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Mu),o.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Mu),this._rootNodeFocusListenerCount.delete(o))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(i,o,u){this._setClasses(i,o),this._emitOrigin(u.subject,o),this._lastFocusOrigin=o}_getClosestElementsInfo(i){const o=[];return this._elementInfo.forEach((u,h)=>{(h===i||u.checkChildren&&h.contains(i))&&o.push([h,u])}),o}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(f.R0b),f.LFG(Pn),f.LFG(zg),f.LFG(he,8),f.LFG(Gi,8))},s.\u0275prov=f.Yz7({factory:function(){return new s(f.LFG(f.R0b),f.LFG(Pn),f.LFG(zg),f.LFG(he,8),f.LFG(Gi,8))},token:s,providedIn:"root"}),s})();const gf="cdk-high-contrast-black-on-white",as="cdk-high-contrast-white-on-black",mf="cdk-high-contrast-active";let Wg=(()=>{class s{constructor(i,o){this._platform=i,this._document=o}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const i=this._document.createElement("div");i.style.backgroundColor="rgb(1,2,3)",i.style.position="absolute",this._document.body.appendChild(i);const o=this._document.defaultView||window,u=o&&o.getComputedStyle?o.getComputedStyle(i):null,h=(u&&u.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(i),h){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const i=this._document.body.classList;i.remove(mf),i.remove(gf),i.remove(as),this._hasCheckedHighContrastMode=!0;const o=this.getHighContrastMode();1===o?(i.add(mf),i.add(gf)):2===o&&(i.add(mf),i.add(as))}}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(Pn),f.LFG(he))},s.\u0275prov=f.Yz7({factory:function(){return new s(f.LFG(Pn),f.LFG(he))},token:s,providedIn:"root"}),s})();const vv=new f.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,f.f3M)(he)}});let rd=(()=>{class s{constructor(i){if(this.value="ltr",this.change=new f.vpe,i){const u=i.documentElement?i.documentElement.dir:null,h=(i.body?i.body.dir:null)||u;this.value="ltr"===h||"rtl"===h?h:"ltr"}}ngOnDestroy(){this.change.complete()}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(vv,8))},s.\u0275prov=f.Yz7({factory:function(){return new s(f.LFG(vv,8))},token:s,providedIn:"root"}),s})(),id=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({}),s})();const Zg=new f.GfV("12.2.3");var yf=V(3282);function ul(...s){return(0,yf.J)(1)((0,Xe.of)(...s))}var sd=V(4869);function Js(...s){const r=s[s.length-1];return(0,sd.K)(r)?(s.pop(),i=>ul(s,i,r)):i=>ul(s,i)}class L0{}const da="*";function vA(s,r){return{type:7,name:s,definitions:r,options:{}}}function V0(s,r=null){return{type:4,styles:r,timings:s}}function U0(s,r=null){return{type:2,steps:s,options:r}}function Kg(s){return{type:6,styles:s,offset:null}}function Ev(s,r,i){return{type:0,name:s,styles:r,options:i}}function wv(s,r,i=null){return{type:1,expr:s,animation:r,options:i}}function cl(s){Promise.resolve(null).then(s)}class xu{constructor(r=0,i=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=r+i}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}onStart(r){this._onStartFns.push(r)}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){cl(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(r=>r()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(r){this._position=this.totalTime?r*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(r){const i="start"==r?this._onStartFns:this._onDoneFns;i.forEach(o=>o()),i.length=0}}class Cv{constructor(r){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=r;let i=0,o=0,u=0;const h=this.players.length;0==h?cl(()=>this._onFinish()):this.players.forEach(m=>{m.onDone(()=>{++i==h&&this._onFinish()}),m.onDestroy(()=>{++o==h&&this._onDestroy()}),m.onStart(()=>{++u==h&&this._onStart()})}),this.totalTime=this.players.reduce((m,v)=>Math.max(m,v.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this.players.forEach(r=>r.init())}onStart(r){this._onStartFns.push(r)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(r=>r()),this._onStartFns=[])}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(r=>r.play())}pause(){this.players.forEach(r=>r.pause())}restart(){this.players.forEach(r=>r.restart())}finish(){this._onFinish(),this.players.forEach(r=>r.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(r=>r.destroy()),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}reset(){this.players.forEach(r=>r.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(r){const i=r*this.totalTime;this.players.forEach(o=>{const u=o.totalTime?Math.min(1,i/o.totalTime):1;o.setPosition(u)})}getPosition(){const r=this.players.reduce((i,o)=>null===i||o.totalTime>i.totalTime?o:i,null);return null!=r?r.getPosition():0}beforeDestroy(){this.players.forEach(r=>{r.beforeDestroy&&r.beforeDestroy()})}triggerCallback(r){const i="start"==r?this._onStartFns:this._onDoneFns;i.forEach(o=>o()),i.length=0}}function vf(){return"undefined"!=typeof window&&void 0!==window.document}function Tv(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function ha(s){switch(s.length){case 0:return new xu;case 1:return s[0];default:return new Cv(s)}}function Sv(s,r,i,o,u={},h={}){const m=[],v=[];let I=-1,D=null;if(o.forEach(x=>{const O=x.offset,j=O==I,H=j&&D||{};Object.keys(x).forEach(ee=>{let ve=ee,xe=x[ee];if("offset"!==ee)switch(ve=r.normalizePropertyName(ve,m),xe){case"!":xe=u[ee];break;case da:xe=h[ee];break;default:xe=r.normalizeStyleValue(ee,ve,xe,m)}H[ve]=xe}),j||v.push(H),D=H,I=O}),m.length){const x="\n - ";throw new Error(`Unable to animate due to the following errors:${x}${m.join(x)}`)}return v}function Yg(s,r,i,o){switch(r){case"start":s.onStart(()=>o(i&&bf(i,"start",s)));break;case"done":s.onDone(()=>o(i&&bf(i,"done",s)));break;case"destroy":s.onDestroy(()=>o(i&&bf(i,"destroy",s)))}}function bf(s,r,i){const o=i.totalTime,h=Qg(s.element,s.triggerName,s.fromState,s.toState,r||s.phaseName,null==o?s.totalTime:o,!!i.disabled),m=s._data;return null!=m&&(h._data=m),h}function Qg(s,r,i,o,u="",h=0,m){return{element:s,triggerName:r,fromState:i,toState:o,phaseName:u,totalTime:h,disabled:!!m}}function ai(s,r,i){let o;return s instanceof Map?(o=s.get(r),o||s.set(r,o=i)):(o=s[r],o||(o=s[r]=i)),o}function Ef(s){const r=s.indexOf(":");return[s.substring(1,r),s.substr(r+1)]}let Jg=(s,r)=>!1,Xg=(s,r)=>!1,od=(s,r,i)=>[];const Dv=Tv();(Dv||"undefined"!=typeof Element)&&(Jg=vf()?(s,r)=>{for(;r&&r!==document.documentElement;){if(r===s)return!0;r=r.parentNode||r.host}return!1}:(s,r)=>s.contains(r),Xg=(()=>{if(Dv||Element.prototype.matches)return(s,r)=>s.matches(r);{const s=Element.prototype,r=s.matchesSelector||s.mozMatchesSelector||s.msMatchesSelector||s.oMatchesSelector||s.webkitMatchesSelector;return r?(i,o)=>r.apply(i,[o]):Xg}})(),od=(s,r,i)=>{let o=[];if(i){const u=s.querySelectorAll(r);for(let h=0;h<u.length;h++)o.push(u[h])}else{const u=s.querySelector(r);u&&o.push(u)}return o});let Ru=null,Av=!1;function wf(s){Ru||(Ru=("undefined"!=typeof document?document.body:null)||{},Av=!!Ru.style&&"WebkitAppearance"in Ru.style);let r=!0;return Ru.style&&!function(s){return"ebkit"==s.substring(1,6)}(s)&&(r=s in Ru.style,!r&&Av&&(r="Webkit"+s.charAt(0).toUpperCase()+s.substr(1)in Ru.style)),r}const z0=Xg,em=Jg,Mv=od;function xv(s){const r={};return Object.keys(s).forEach(i=>{const o=i.replace(/([a-z])([A-Z])/g,"$1-$2");r[o]=s[i]}),r}let q0=(()=>{class s{validateStyleProperty(i){return wf(i)}matchesElement(i,o){return z0(i,o)}containsElement(i,o){return em(i,o)}query(i,o,u){return Mv(i,o,u)}computeStyle(i,o,u){return u||""}animate(i,o,u,h,m,v=[],I){return new xu(u,h)}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();class tm{}tm.NOOP=new q0;const Rv="ng-enter",nm="ng-leave",Cf="ng-trigger",rm=".ng-trigger",K0="ng-animating",Nv=".ng-animating";function Ct(s){if("number"==typeof s)return s;const r=s.match(/^(-?[\.\d]+)(m?s)/);return!r||r.length<2?0:im(parseFloat(r[1]),r[2])}function im(s,r){switch(r){case"s":return 1e3*s;default:return s}}function If(s,r,i){return s.hasOwnProperty("duration")?s:function(s,r,i){let u,h=0,m="";if("string"==typeof s){const v=s.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===v)return r.push(`The provided timing value "${s}" is invalid.`),{duration:0,delay:0,easing:""};u=im(parseFloat(v[1]),v[2]);const I=v[3];null!=I&&(h=im(parseFloat(I),v[4]));const D=v[5];D&&(m=D)}else u=s;if(!i){let v=!1,I=r.length;u<0&&(r.push("Duration values below 0 are not allowed for this animation step."),v=!0),h<0&&(r.push("Delay values below 0 are not allowed for this animation step."),v=!0),v&&r.splice(I,0,`The provided timing value "${s}" is invalid.`)}return{duration:u,delay:h,easing:m}}(s,r,i)}function li(s,r={}){return Object.keys(s).forEach(i=>{r[i]=s[i]}),r}function dl(s,r,i={}){if(r)for(let o in s)i[o]=s[o];else li(s,i);return i}function om(s,r,i){return i?r+":"+i+";":""}function So(s){let r="";for(let i=0;i<s.style.length;i++){const o=s.style.item(i);r+=om(0,o,s.style.getPropertyValue(o))}for(const i in s.style)s.style.hasOwnProperty(i)&&!i.startsWith("_")&&(r+=om(0,dk(i),s.style[i]));s.setAttribute("style",r)}function Ms(s,r,i){s.style&&(Object.keys(r).forEach(o=>{const u=Tf(o);i&&!i.hasOwnProperty(o)&&(i[o]=s.style[u]),s.style[u]=r[o]}),Tv()&&So(s))}function hl(s,r){s.style&&(Object.keys(r).forEach(i=>{const o=Tf(i);s.style[o]=""}),Tv()&&So(s))}function Nu(s){return Array.isArray(s)?1==s.length?s[0]:U0(s):s}const am=new RegExp("{{\\s*(.+?)\\s*}}","g");function CA(s){let r=[];if("string"==typeof s){let i;for(;i=am.exec(s);)r.push(i[1]);am.lastIndex=0}return r}function xs(s,r,i){const o=s.toString(),u=o.replace(am,(h,m)=>{let v=r[m];return r.hasOwnProperty(m)||(i.push(`Please provide a value for the animation param ${m}`),v=""),v.toString()});return u==o?s:u}function Ou(s){const r=[];let i=s.next();for(;!i.done;)r.push(i.value),i=s.next();return r}const lm=/-+([a-z0-9])/g;function Tf(s){return s.replace(lm,(...r)=>r[1].toUpperCase())}function dk(s){return s.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Y0(s,r){return 0===s||0===r}function kv(s,r,i){const o=Object.keys(i);if(o.length&&r.length){let h=r[0],m=[];if(o.forEach(v=>{h.hasOwnProperty(v)||m.push(v),h[v]=i[v]}),m.length)for(var u=1;u<r.length;u++){let v=r[u];m.forEach(function(I){v[I]=Pv(s,I)})}}return r}function Rs(s,r,i){switch(r.type){case 7:return s.visitTrigger(r,i);case 0:return s.visitState(r,i);case 1:return s.visitTransition(r,i);case 2:return s.visitSequence(r,i);case 3:return s.visitGroup(r,i);case 4:return s.visitAnimate(r,i);case 5:return s.visitKeyframes(r,i);case 6:return s.visitStyle(r,i);case 8:return s.visitReference(r,i);case 9:return s.visitAnimateChild(r,i);case 10:return s.visitAnimateRef(r,i);case 11:return s.visitQuery(r,i);case 12:return s.visitStagger(r,i);default:throw new Error(`Unable to resolve animation metadata node #${r.type}`)}}function Pv(s,r){return window.getComputedStyle(s)[r]}function Q0(s,r){const i=[];return"string"==typeof s?s.split(/\s*,\s*/).forEach(o=>function(s,r,i){if(":"==s[0]){const I=function(s,r){switch(s){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(i,o)=>parseFloat(o)>parseFloat(i);case":decrement":return(i,o)=>parseFloat(o)<parseFloat(i);default:return r.push(`The transition alias value "${s}" is not supported`),"* => *"}}(s,i);if("function"==typeof I)return void r.push(I);s=I}const o=s.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==o||o.length<4)return i.push(`The provided transition expression "${s}" is not supported`),r;const u=o[1],h=o[2],m=o[3];r.push(TA(u,m));"<"==h[0]&&!("*"==u&&"*"==m)&&r.push(TA(m,u))}(o,i,r)):i.push(s),i}const ad=new Set(["true","1"]),Lv=new Set(["false","0"]);function TA(s,r){const i=ad.has(s)||Lv.has(s),o=ad.has(r)||Lv.has(r);return(u,h)=>{let m="*"==s||s==u,v="*"==r||r==h;return!m&&i&&"boolean"==typeof u&&(m=u?ad.has(s):Lv.has(s)),!v&&o&&"boolean"==typeof h&&(v=h?ad.has(r):Lv.has(r)),m&&v}}const hk=new RegExp("s*:selfs*,?","g");function X0(s,r,i){return new fk(s).build(r,i)}class fk{constructor(r){this._driver=r}build(r,i){const o=new mk(i);return this._resetContextStyleTimingState(o),Rs(this,Nu(r),o)}_resetContextStyleTimingState(r){r.currentQuerySelector="",r.collectedStyles={},r.collectedStyles[""]={},r.currentTime=0}visitTrigger(r,i){let o=i.queryCount=0,u=i.depCount=0;const h=[],m=[];return"@"==r.name.charAt(0)&&i.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),r.definitions.forEach(v=>{if(this._resetContextStyleTimingState(i),0==v.type){const I=v,D=I.name;D.toString().split(/\s*,\s*/).forEach(x=>{I.name=x,h.push(this.visitState(I,i))}),I.name=D}else if(1==v.type){const I=this.visitTransition(v,i);o+=I.queryCount,u+=I.depCount,m.push(I)}else i.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:r.name,states:h,transitions:m,queryCount:o,depCount:u,options:null}}visitState(r,i){const o=this.visitStyle(r.styles,i),u=r.options&&r.options.params||null;if(o.containsDynamicStyles){const h=new Set,m=u||{};if(o.styles.forEach(v=>{if(eo(v)){const I=v;Object.keys(I).forEach(D=>{CA(I[D]).forEach(x=>{m.hasOwnProperty(x)||h.add(x)})})}}),h.size){const v=Ou(h.values());i.errors.push(`state("${r.name}", ...) must define default values for all the following style substitutions: ${v.join(", ")}`)}}return{type:0,name:r.name,style:o,options:u?{params:u}:null}}visitTransition(r,i){i.queryCount=0,i.depCount=0;const o=Rs(this,Nu(r.animation),i);return{type:1,matchers:Q0(r.expr,i.errors),animation:o,queryCount:i.queryCount,depCount:i.depCount,options:ku(r.options)}}visitSequence(r,i){return{type:2,steps:r.steps.map(o=>Rs(this,o,i)),options:ku(r.options)}}visitGroup(r,i){const o=i.currentTime;let u=0;const h=r.steps.map(m=>{i.currentTime=o;const v=Rs(this,m,i);return u=Math.max(u,i.currentTime),v});return i.currentTime=u,{type:3,steps:h,options:ku(r.options)}}visitAnimate(r,i){const o=function(s,r){let i=null;if(s.hasOwnProperty("duration"))i=s;else if("number"==typeof s)return um(If(s,r).duration,0,"");const o=s;if(o.split(/\s+/).some(h=>"{"==h.charAt(0)&&"{"==h.charAt(1))){const h=um(0,0,"");return h.dynamic=!0,h.strValue=o,h}return i=i||If(o,r),um(i.duration,i.delay,i.easing)}(r.timings,i.errors);i.currentAnimateTimings=o;let u,h=r.styles?r.styles:Kg({});if(5==h.type)u=this.visitKeyframes(h,i);else{let m=r.styles,v=!1;if(!m){v=!0;const D={};o.easing&&(D.easing=o.easing),m=Kg(D)}i.currentTime+=o.duration+o.delay;const I=this.visitStyle(m,i);I.isEmptyStep=v,u=I}return i.currentAnimateTimings=null,{type:4,timings:o,style:u,options:null}}visitStyle(r,i){const o=this._makeStyleAst(r,i);return this._validateStyleAst(o,i),o}_makeStyleAst(r,i){const o=[];Array.isArray(r.styles)?r.styles.forEach(m=>{"string"==typeof m?m==da?o.push(m):i.errors.push(`The provided style string value ${m} is not allowed.`):o.push(m)}):o.push(r.styles);let u=!1,h=null;return o.forEach(m=>{if(eo(m)){const v=m,I=v.easing;if(I&&(h=I,delete v.easing),!u)for(let D in v)if(v[D].toString().indexOf("{{")>=0){u=!0;break}}}),{type:6,styles:o,easing:h,offset:r.offset,containsDynamicStyles:u,options:null}}_validateStyleAst(r,i){const o=i.currentAnimateTimings;let u=i.currentTime,h=i.currentTime;o&&h>0&&(h-=o.duration+o.delay),r.styles.forEach(m=>{"string"!=typeof m&&Object.keys(m).forEach(v=>{if(!this._driver.validateStyleProperty(v))return void i.errors.push(`The provided animation property "${v}" is not a supported CSS property for animations`);const I=i.collectedStyles[i.currentQuerySelector],D=I[v];let x=!0;D&&(h!=u&&h>=D.startTime&&u<=D.endTime&&(i.errors.push(`The CSS property "${v}" that exists between the times of "${D.startTime}ms" and "${D.endTime}ms" is also being animated in a parallel animation between the times of "${h}ms" and "${u}ms"`),x=!1),h=D.startTime),x&&(I[v]={startTime:h,endTime:u}),i.options&&function(s,r,i){const o=r.params||{},u=CA(s);u.length&&u.forEach(h=>{o.hasOwnProperty(h)||i.push(`Unable to resolve the local animation param ${h} in the given list of values`)})}(m[v],i.options,i.errors)})})}visitKeyframes(r,i){const o={type:5,styles:[],options:null};if(!i.currentAnimateTimings)return i.errors.push("keyframes() must be placed inside of a call to animate()"),o;let h=0;const m=[];let v=!1,I=!1,D=0;const x=r.steps.map($e=>{const Ke=this._makeStyleAst($e,i);let Qe=null!=Ke.offset?Ke.offset:function(s){if("string"==typeof s)return null;let r=null;if(Array.isArray(s))s.forEach(i=>{if(eo(i)&&i.hasOwnProperty("offset")){const o=i;r=parseFloat(o.offset),delete o.offset}});else if(eo(s)&&s.hasOwnProperty("offset")){const i=s;r=parseFloat(i.offset),delete i.offset}return r}(Ke.styles),mt=0;return null!=Qe&&(h++,mt=Ke.offset=Qe),I=I||mt<0||mt>1,v=v||mt<D,D=mt,m.push(mt),Ke});I&&i.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),v&&i.errors.push("Please ensure that all keyframe offsets are in order");const O=r.steps.length;let j=0;h>0&&h<O?i.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==h&&(j=1/(O-1));const H=O-1,ee=i.currentTime,ve=i.currentAnimateTimings,xe=ve.duration;return x.forEach(($e,Ke)=>{const Qe=j>0?Ke==H?1:j*Ke:m[Ke],mt=Qe*xe;i.currentTime=ee+ve.delay+mt,ve.duration=mt,this._validateStyleAst($e,i),$e.offset=Qe,o.styles.push($e)}),o}visitReference(r,i){return{type:8,animation:Rs(this,Nu(r.animation),i),options:ku(r.options)}}visitAnimateChild(r,i){return i.depCount++,{type:9,options:ku(r.options)}}visitAnimateRef(r,i){return{type:10,animation:this.visitReference(r.animation,i),options:ku(r.options)}}visitQuery(r,i){const o=i.currentQuerySelector,u=r.options||{};i.queryCount++,i.currentQuery=r;const[h,m]=function(s){const r=!!s.split(/\s*,\s*/).find(i=>":self"==i);return r&&(s=s.replace(hk,"")),[s=s.replace(/@\*/g,rm).replace(/@\w+/g,i=>rm+"-"+i.substr(1)).replace(/:animating/g,Nv),r]}(r.selector);i.currentQuerySelector=o.length?o+" "+h:h,ai(i.collectedStyles,i.currentQuerySelector,{});const v=Rs(this,Nu(r.animation),i);return i.currentQuery=null,i.currentQuerySelector=o,{type:11,selector:h,limit:u.limit||0,optional:!!u.optional,includeSelf:m,animation:v,originalSelector:r.selector,options:ku(r.options)}}visitStagger(r,i){i.currentQuery||i.errors.push("stagger() can only be used inside of query()");const o="full"===r.timings?{duration:0,delay:0,easing:"full"}:If(r.timings,i.errors,!0);return{type:12,animation:Rs(this,Nu(r.animation),i),timings:o,options:null}}}class mk{constructor(r){this.errors=r,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function eo(s){return!Array.isArray(s)&&"object"==typeof s}function ku(s){return s?(s=li(s)).params&&(s.params=function(s){return s?li(s):null}(s.params)):s={},s}function um(s,r,i){return{duration:s,delay:r,easing:i}}function Sf(s,r,i,o,u,h,m=null,v=!1){return{type:1,element:s,keyframes:r,preStyleProps:i,postStyleProps:o,duration:u,delay:h,totalTime:u+h,easing:m,subTimeline:v}}class Df{constructor(){this._map=new Map}consume(r){let i=this._map.get(r);return i?this._map.delete(r):i=[],i}append(r,i){let o=this._map.get(r);o||this._map.set(r,o=[]),o.push(...i)}has(r){return this._map.has(r)}clear(){this._map.clear()}}const fl=new RegExp(":enter","g"),MA=new RegExp(":leave","g");function tC(s,r,i,o,u,h={},m={},v,I,D=[]){return(new Bv).buildKeyframes(s,r,i,o,u,h,m,v,I,D)}class Bv{buildKeyframes(r,i,o,u,h,m,v,I,D,x=[]){D=D||new Df;const O=new dm(r,i,D,u,h,x,[]);O.options=I,O.currentTimeline.setStyles([m],null,O.errors,I),Rs(this,o,O);const j=O.timelines.filter(H=>H.containsAnimation());if(j.length&&Object.keys(v).length){const H=j[j.length-1];H.allowOnlyTimelineStyles()||H.setStyles([v],null,O.errors,I)}return j.length?j.map(H=>H.buildKeyframes()):[Sf(i,[],[],[],0,0,"",!1)]}visitTrigger(r,i){}visitState(r,i){}visitTransition(r,i){}visitAnimateChild(r,i){const o=i.subInstructions.consume(i.element);if(o){const u=i.createSubContext(r.options),h=i.currentTimeline.currentTime,m=this._visitSubInstructions(o,u,u.options);h!=m&&i.transformIntoNewTimeline(m)}i.previousNode=r}visitAnimateRef(r,i){const o=i.createSubContext(r.options);o.transformIntoNewTimeline(),this.visitReference(r.animation,o),i.transformIntoNewTimeline(o.currentTimeline.currentTime),i.previousNode=r}_visitSubInstructions(r,i,o){let h=i.currentTimeline.currentTime;const m=null!=o.duration?Ct(o.duration):null,v=null!=o.delay?Ct(o.delay):null;return 0!==m&&r.forEach(I=>{const D=i.appendInstructionToTimeline(I,m,v);h=Math.max(h,D.duration+D.delay)}),h}visitReference(r,i){i.updateOptions(r.options,!0),Rs(this,r.animation,i),i.previousNode=r}visitSequence(r,i){const o=i.subContextCount;let u=i;const h=r.options;if(h&&(h.params||h.delay)&&(u=i.createSubContext(h),u.transformIntoNewTimeline(),null!=h.delay)){6==u.previousNode.type&&(u.currentTimeline.snapshotCurrentStyles(),u.previousNode=cm);const m=Ct(h.delay);u.delayNextStep(m)}r.steps.length&&(r.steps.forEach(m=>Rs(this,m,u)),u.currentTimeline.applyStylesToKeyframe(),u.subContextCount>o&&u.transformIntoNewTimeline()),i.previousNode=r}visitGroup(r,i){const o=[];let u=i.currentTimeline.currentTime;const h=r.options&&r.options.delay?Ct(r.options.delay):0;r.steps.forEach(m=>{const v=i.createSubContext(r.options);h&&v.delayNextStep(h),Rs(this,m,v),u=Math.max(u,v.currentTimeline.currentTime),o.push(v.currentTimeline)}),o.forEach(m=>i.currentTimeline.mergeTimelineCollectedStyles(m)),i.transformIntoNewTimeline(u),i.previousNode=r}_visitTiming(r,i){if(r.dynamic){const o=r.strValue;return If(i.params?xs(o,i.params,i.errors):o,i.errors)}return{duration:r.duration,delay:r.delay,easing:r.easing}}visitAnimate(r,i){const o=i.currentAnimateTimings=this._visitTiming(r.timings,i),u=i.currentTimeline;o.delay&&(i.incrementTime(o.delay),u.snapshotCurrentStyles());const h=r.style;5==h.type?this.visitKeyframes(h,i):(i.incrementTime(o.duration),this.visitStyle(h,i),u.applyStylesToKeyframe()),i.currentAnimateTimings=null,i.previousNode=r}visitStyle(r,i){const o=i.currentTimeline,u=i.currentAnimateTimings;!u&&o.getCurrentStyleProperties().length&&o.forwardFrame();const h=u&&u.easing||r.easing;r.isEmptyStep?o.applyEmptyStep(h):o.setStyles(r.styles,h,i.errors,i.options),i.previousNode=r}visitKeyframes(r,i){const o=i.currentAnimateTimings,u=i.currentTimeline.duration,h=o.duration,v=i.createSubContext().currentTimeline;v.easing=o.easing,r.styles.forEach(I=>{v.forwardTime((I.offset||0)*h),v.setStyles(I.styles,I.easing,i.errors,i.options),v.applyStylesToKeyframe()}),i.currentTimeline.mergeTimelineCollectedStyles(v),i.transformIntoNewTimeline(u+h),i.previousNode=r}visitQuery(r,i){const o=i.currentTimeline.currentTime,u=r.options||{},h=u.delay?Ct(u.delay):0;h&&(6===i.previousNode.type||0==o&&i.currentTimeline.getCurrentStyleProperties().length)&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=cm);let m=o;const v=i.invokeQuery(r.selector,r.originalSelector,r.limit,r.includeSelf,!!u.optional,i.errors);i.currentQueryTotal=v.length;let I=null;v.forEach((D,x)=>{i.currentQueryIndex=x;const O=i.createSubContext(r.options,D);h&&O.delayNextStep(h),D===i.element&&(I=O.currentTimeline),Rs(this,r.animation,O),O.currentTimeline.applyStylesToKeyframe(),m=Math.max(m,O.currentTimeline.currentTime)}),i.currentQueryIndex=0,i.currentQueryTotal=0,i.transformIntoNewTimeline(m),I&&(i.currentTimeline.mergeTimelineCollectedStyles(I),i.currentTimeline.snapshotCurrentStyles()),i.previousNode=r}visitStagger(r,i){const o=i.parentContext,u=i.currentTimeline,h=r.timings,m=Math.abs(h.duration),v=m*(i.currentQueryTotal-1);let I=m*i.currentQueryIndex;switch(h.duration<0?"reverse":h.easing){case"reverse":I=v-I;break;case"full":I=o.currentStaggerTime}const x=i.currentTimeline;I&&x.delayNextStep(I);const O=x.currentTime;Rs(this,r.animation,i),i.previousNode=r,o.currentStaggerTime=u.currentTime-O+(u.startTime-o.currentTimeline.startTime)}}const cm={};class dm{constructor(r,i,o,u,h,m,v,I){this._driver=r,this.element=i,this.subInstructions=o,this._enterClassName=u,this._leaveClassName=h,this.errors=m,this.timelines=v,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=cm,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=I||new hm(this._driver,i,0),v.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(r,i){if(!r)return;const o=r;let u=this.options;null!=o.duration&&(u.duration=Ct(o.duration)),null!=o.delay&&(u.delay=Ct(o.delay));const h=o.params;if(h){let m=u.params;m||(m=this.options.params={}),Object.keys(h).forEach(v=>{(!i||!m.hasOwnProperty(v))&&(m[v]=xs(h[v],m,this.errors))})}}_copyOptions(){const r={};if(this.options){const i=this.options.params;if(i){const o=r.params={};Object.keys(i).forEach(u=>{o[u]=i[u]})}}return r}createSubContext(r=null,i,o){const u=i||this.element,h=new dm(this._driver,u,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(u,o||0));return h.previousNode=this.previousNode,h.currentAnimateTimings=this.currentAnimateTimings,h.options=this._copyOptions(),h.updateOptions(r),h.currentQueryIndex=this.currentQueryIndex,h.currentQueryTotal=this.currentQueryTotal,h.parentContext=this,this.subContextCount++,h}transformIntoNewTimeline(r){return this.previousNode=cm,this.currentTimeline=this.currentTimeline.fork(this.element,r),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(r,i,o){const u={duration:null!=i?i:r.duration,delay:this.currentTimeline.currentTime+(null!=o?o:0)+r.delay,easing:""},h=new xA(this._driver,r.element,r.keyframes,r.preStyleProps,r.postStyleProps,u,r.stretchStartingKeyframe);return this.timelines.push(h),u}incrementTime(r){this.currentTimeline.forwardTime(this.currentTimeline.duration+r)}delayNextStep(r){r>0&&this.currentTimeline.delayNextStep(r)}invokeQuery(r,i,o,u,h,m){let v=[];if(u&&v.push(this.element),r.length>0){r=(r=r.replace(fl,"."+this._enterClassName)).replace(MA,"."+this._leaveClassName);let D=this._driver.query(this.element,r,1!=o);0!==o&&(D=o<0?D.slice(D.length+o,D.length):D.slice(0,o)),v.push(...D)}return!h&&0==v.length&&m.push(`\`query("${i}")\` returned zero elements. (Use \`query("${i}", { optional: true })\` if you wish to allow this.)`),v}}class hm{constructor(r,i,o,u){this._driver=r,this.element=i,this.startTime=o,this._elementTimelineStylesLookup=u,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(i),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(i,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(r){const i=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||i?(this.forwardTime(this.currentTime+r),i&&this.snapshotCurrentStyles()):this.startTime+=r}fork(r,i){return this.applyStylesToKeyframe(),new hm(this._driver,r,i||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(r){this.applyStylesToKeyframe(),this.duration=r,this._loadKeyframe()}_updateStyle(r,i){this._localTimelineStyles[r]=i,this._globalTimelineStyles[r]=i,this._styleSummary[r]={time:this.currentTime,value:i}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(r){r&&(this._previousKeyframe.easing=r),Object.keys(this._globalTimelineStyles).forEach(i=>{this._backFill[i]=this._globalTimelineStyles[i]||da,this._currentKeyframe[i]=da}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(r,i,o,u){i&&(this._previousKeyframe.easing=i);const h=u&&u.params||{},m=function(s,r){const i={};let o;return s.forEach(u=>{"*"===u?(o=o||Object.keys(r),o.forEach(h=>{i[h]=da})):dl(u,!1,i)}),i}(r,this._globalTimelineStyles);Object.keys(m).forEach(v=>{const I=xs(m[v],h,o);this._pendingStyles[v]=I,this._localTimelineStyles.hasOwnProperty(v)||(this._backFill[v]=this._globalTimelineStyles.hasOwnProperty(v)?this._globalTimelineStyles[v]:da),this._updateStyle(v,I)})}applyStylesToKeyframe(){const r=this._pendingStyles,i=Object.keys(r);0!=i.length&&(this._pendingStyles={},i.forEach(o=>{this._currentKeyframe[o]=r[o]}),Object.keys(this._localTimelineStyles).forEach(o=>{this._currentKeyframe.hasOwnProperty(o)||(this._currentKeyframe[o]=this._localTimelineStyles[o])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(r=>{const i=this._localTimelineStyles[r];this._pendingStyles[r]=i,this._updateStyle(r,i)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const r=[];for(let i in this._currentKeyframe)r.push(i);return r}mergeTimelineCollectedStyles(r){Object.keys(r._styleSummary).forEach(i=>{const o=this._styleSummary[i],u=r._styleSummary[i];(!o||u.time>o.time)&&this._updateStyle(i,u.value)})}buildKeyframes(){this.applyStylesToKeyframe();const r=new Set,i=new Set,o=1===this._keyframes.size&&0===this.duration;let u=[];this._keyframes.forEach((v,I)=>{const D=dl(v,!0);Object.keys(D).forEach(x=>{const O=D[x];"!"==O?r.add(x):O==da&&i.add(x)}),o||(D.offset=I/this.duration),u.push(D)});const h=r.size?Ou(r.values()):[],m=i.size?Ou(i.values()):[];if(o){const v=u[0],I=li(v);v.offset=0,I.offset=1,u=[v,I]}return Sf(this.element,u,h,m,this.duration,this.startTime,this.easing,!1)}}class xA extends hm{constructor(r,i,o,u,h,m,v=!1){super(r,i,m.delay),this.keyframes=o,this.preStyleProps=u,this.postStyleProps=h,this._stretchStartingKeyframe=v,this.timings={duration:m.duration,delay:m.delay,easing:m.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let r=this.keyframes,{delay:i,duration:o,easing:u}=this.timings;if(this._stretchStartingKeyframe&&i){const h=[],m=o+i,v=i/m,I=dl(r[0],!1);I.offset=0,h.push(I);const D=dl(r[0],!1);D.offset=ld(v),h.push(D);const x=r.length-1;for(let O=1;O<=x;O++){let j=dl(r[O],!1);j.offset=ld((i+j.offset*o)/m),h.push(j)}o=m,i=0,u="",r=h}return Sf(this.element,r,this.preStyleProps,this.postStyleProps,o,i,u,!0)}}function ld(s,r=3){const i=Math.pow(10,r-1);return Math.round(s*i)/i}class pl{}class cd extends pl{normalizePropertyName(r,i){return Tf(r)}normalizeStyleValue(r,i,o,u){let h="";const m=o.toString().trim();if(rC[i]&&0!==o&&"0"!==o)if("number"==typeof o)h="px";else{const v=o.match(/^[+-]?[\d\.]+([a-z]*)$/);v&&0==v[1].length&&u.push(`Please provide a CSS unit value for ${r}:${o}`)}return m+h}}const rC=(()=>function(s){const r={};return s.forEach(i=>r[i]=!0),r}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function pm(s,r,i,o,u,h,m,v,I,D,x,O,j){return{type:0,element:s,triggerName:r,isRemovalTransition:u,fromState:i,fromStyles:h,toState:o,toStyles:m,timelines:v,queriedElements:I,preStyleProps:D,postStyleProps:x,totalTime:O,errors:j}}const Af={};class jv{constructor(r,i,o){this._triggerName=r,this.ast=i,this._stateStyles=o}match(r,i,o,u){return function(s,r,i,o,u){return s.some(h=>h(r,i,o,u))}(this.ast.matchers,r,i,o,u)}buildStyles(r,i,o){const u=this._stateStyles["*"],h=this._stateStyles[r],m=u?u.buildStyles(i,o):{};return h?h.buildStyles(i,o):m}build(r,i,o,u,h,m,v,I,D,x){const O=[],j=this.ast.options&&this.ast.options.params||Af,ee=this.buildStyles(o,v&&v.params||Af,O),ve=I&&I.params||Af,xe=this.buildStyles(u,ve,O),$e=new Set,Ke=new Map,Qe=new Map,mt="void"===u,pn={params:Object.assign(Object.assign({},j),ve)},Ni=x?[]:tC(r,i,this.ast.animation,h,m,ee,xe,pn,D,O);let Oi=0;if(Ni.forEach(Ac=>{Oi=Math.max(Ac.duration+Ac.delay,Oi)}),O.length)return pm(i,this._triggerName,o,u,mt,ee,xe,[],[],Ke,Qe,Oi,O);Ni.forEach(Ac=>{const Mc=Ac.element,E2=ai(Ke,Mc,{});Ac.preStyleProps.forEach(Xp=>E2[Xp]=!0);const a0=ai(Qe,Mc,{});Ac.postStyleProps.forEach(Xp=>a0[Xp]=!0),Mc!==i&&$e.add(Mc)});const Dc=Ou($e.values());return pm(i,this._triggerName,o,u,mt,ee,xe,Ni,Dc,Ke,Qe,Oi)}}class RA{constructor(r,i,o){this.styles=r,this.defaultParams=i,this.normalizer=o}buildStyles(r,i){const o={},u=li(this.defaultParams);return Object.keys(r).forEach(h=>{const m=r[h];null!=m&&(u[h]=m)}),this.styles.styles.forEach(h=>{if("string"!=typeof h){const m=h;Object.keys(m).forEach(v=>{let I=m[v];I.length>1&&(I=xs(I,u,i));const D=this.normalizer.normalizePropertyName(v,i);I=this.normalizer.normalizeStyleValue(v,D,I,i),o[D]=I})}}),o}}class vk{constructor(r,i,o){this.name=r,this.ast=i,this._normalizer=o,this.transitionFactories=[],this.states={},i.states.forEach(u=>{this.states[u.name]=new RA(u.style,u.options&&u.options.params||{},o)}),Hv(this.states,"true","1"),Hv(this.states,"false","0"),i.transitions.forEach(u=>{this.transitionFactories.push(new jv(r,u,this.states))}),this.fallbackTransition=function(s,r,i){return new jv(s,{type:1,animation:{type:2,steps:[],options:null},matchers:[(m,v)=>!0],options:null,queryCount:0,depCount:0},r)}(r,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(r,i,o,u){return this.transitionFactories.find(m=>m.match(r,i,o,u))||null}matchStyles(r,i,o){return this.fallbackTransition.buildStyles(r,i,o)}}function Hv(s,r,i){s.hasOwnProperty(r)?s.hasOwnProperty(i)||(s[i]=s[r]):s.hasOwnProperty(i)&&(s[r]=s[i])}const NA=new Df;class aC{constructor(r,i,o){this.bodyNode=r,this._driver=i,this._normalizer=o,this._animations={},this._playersById={},this.players=[]}register(r,i){const o=[],u=X0(this._driver,i,o);if(o.length)throw new Error(`Unable to build the animation due to the following errors: ${o.join("\n")}`);this._animations[r]=u}_buildPlayer(r,i,o){const u=r.element,h=Sv(0,this._normalizer,0,r.keyframes,i,o);return this._driver.animate(u,h,r.duration,r.delay,r.easing,[],!0)}create(r,i,o={}){const u=[],h=this._animations[r];let m;const v=new Map;if(h?(m=tC(this._driver,i,h,Rv,nm,{},{},o,NA,u),m.forEach(x=>{const O=ai(v,x.element,{});x.postStyleProps.forEach(j=>O[j]=null)})):(u.push("The requested animation doesn't exist or has already been destroyed"),m=[]),u.length)throw new Error(`Unable to create the animation due to the following errors: ${u.join("\n")}`);v.forEach((x,O)=>{Object.keys(x).forEach(j=>{x[j]=this._driver.computeStyle(O,j,da)})});const D=ha(m.map(x=>{const O=v.get(x.element);return this._buildPlayer(x,{},O)}));return this._playersById[r]=D,D.onDestroy(()=>this.destroy(r)),this.players.push(D),D}destroy(r){const i=this._getPlayer(r);i.destroy(),delete this._playersById[r];const o=this.players.indexOf(i);o>=0&&this.players.splice(o,1)}_getPlayer(r){const i=this._playersById[r];if(!i)throw new Error(`Unable to find the timeline player referenced by ${r}`);return i}listen(r,i,o,u){const h=Qg(i,"","","");return Yg(this._getPlayer(r),o,h,u),()=>{}}command(r,i,o,u){if("register"==o)return void this.register(r,u[0]);if("create"==o)return void this.create(r,i,u[0]||{});const h=this._getPlayer(r);switch(o){case"play":h.play();break;case"pause":h.pause();break;case"reset":h.reset();break;case"restart":h.restart();break;case"finish":h.finish();break;case"init":h.init();break;case"setPosition":h.setPosition(parseFloat(u[0]));break;case"destroy":this.destroy(r)}}}const lC="ng-animate-queued",zi="ng-animate-disabled",uC=".ng-animate-disabled",Ek=[],$v={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},wk={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ns="__ng_removed";class Mf{constructor(r,i=""){this.namespaceId=i;const o=r&&r.hasOwnProperty("value");if(this.value=null!=(s=o?r.value:r)?s:null,o){const h=li(r);delete h.value,this.options=h}else this.options={};var s;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(r){const i=r.params;if(i){const o=this.options.params;Object.keys(i).forEach(u=>{null==o[u]&&(o[u]=i[u])})}}}const dd="void",Gv=new Mf(dd);class PA{constructor(r,i,o){this.id=r,this.hostElement=i,this._engine=o,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+r,Os(i,this._hostClassName)}listen(r,i,o,u){if(!this._triggers.hasOwnProperty(i))throw new Error(`Unable to listen on the animation trigger event "${o}" because the animation trigger "${i}" doesn't exist!`);if(null==o||0==o.length)throw new Error(`Unable to listen on the animation trigger "${i}" because the provided event is undefined!`);if("start"!=(s=o)&&"done"!=s)throw new Error(`The provided animation trigger event "${o}" for the animation trigger "${i}" is not supported!`);var s;const h=ai(this._elementListeners,r,[]),m={name:i,phase:o,callback:u};h.push(m);const v=ai(this._engine.statesByElement,r,{});return v.hasOwnProperty(i)||(Os(r,Cf),Os(r,Cf+"-"+i),v[i]=Gv),()=>{this._engine.afterFlush(()=>{const I=h.indexOf(m);I>=0&&h.splice(I,1),this._triggers[i]||delete v[i]})}}register(r,i){return!this._triggers[r]&&(this._triggers[r]=i,!0)}_getTrigger(r){const i=this._triggers[r];if(!i)throw new Error(`The provided animation trigger "${r}" has not been registered!`);return i}trigger(r,i,o,u=!0){const h=this._getTrigger(i),m=new mm(this.id,i,r);let v=this._engine.statesByElement.get(r);v||(Os(r,Cf),Os(r,Cf+"-"+i),this._engine.statesByElement.set(r,v={}));let I=v[i];const D=new Mf(o,this.id);if(!(o&&o.hasOwnProperty("value"))&&I&&D.absorbOptions(I.options),v[i]=D,I||(I=Gv),D.value!==dd&&I.value===D.value){if(!function(s,r){const i=Object.keys(s),o=Object.keys(r);if(i.length!=o.length)return!1;for(let u=0;u<i.length;u++){const h=i[u];if(!r.hasOwnProperty(h)||s[h]!==r[h])return!1}return!0}(I.params,D.params)){const ve=[],xe=h.matchStyles(I.value,I.params,ve),$e=h.matchStyles(D.value,D.params,ve);ve.length?this._engine.reportError(ve):this._engine.afterFlush(()=>{hl(r,xe),Ms(r,$e)})}return}const j=ai(this._engine.playersByElement,r,[]);j.forEach(ve=>{ve.namespaceId==this.id&&ve.triggerName==i&&ve.queued&&ve.destroy()});let H=h.matchTransition(I.value,D.value,r,D.params),ee=!1;if(!H){if(!u)return;H=h.fallbackTransition,ee=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:i,transition:H,fromState:I,toState:D,player:m,isFallbackTransition:ee}),ee||(Os(r,lC),m.onStart(()=>{hd(r,lC)})),m.onDone(()=>{let ve=this.players.indexOf(m);ve>=0&&this.players.splice(ve,1);const xe=this._engine.playersByElement.get(r);if(xe){let $e=xe.indexOf(m);$e>=0&&xe.splice($e,1)}}),this.players.push(m),j.push(m),m}deregister(r){delete this._triggers[r],this._engine.statesByElement.forEach((i,o)=>{delete i[r]}),this._elementListeners.forEach((i,o)=>{this._elementListeners.set(o,i.filter(u=>u.name!=r))})}clearElementCache(r){this._engine.statesByElement.delete(r),this._elementListeners.delete(r);const i=this._engine.playersByElement.get(r);i&&(i.forEach(o=>o.destroy()),this._engine.playersByElement.delete(r))}_signalRemovalForInnerTriggers(r,i){const o=this._engine.driver.query(r,rm,!0);o.forEach(u=>{if(u[Ns])return;const h=this._engine.fetchNamespacesByElement(u);h.size?h.forEach(m=>m.triggerLeaveAnimation(u,i,!1,!0)):this.clearElementCache(u)}),this._engine.afterFlushAnimationsDone(()=>o.forEach(u=>this.clearElementCache(u)))}triggerLeaveAnimation(r,i,o,u){const h=this._engine.statesByElement.get(r);if(h){const m=[];if(Object.keys(h).forEach(v=>{if(this._triggers[v]){const I=this.trigger(r,v,dd,u);I&&m.push(I)}}),m.length)return this._engine.markElementAsRemoved(this.id,r,!0,i),o&&ha(m).onDone(()=>this._engine.processLeaveNode(r)),!0}return!1}prepareLeaveAnimationListeners(r){const i=this._elementListeners.get(r),o=this._engine.statesByElement.get(r);if(i&&o){const u=new Set;i.forEach(h=>{const m=h.name;if(u.has(m))return;u.add(m);const I=this._triggers[m].fallbackTransition,D=o[m]||Gv,x=new Mf(dd),O=new mm(this.id,m,r);this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:m,transition:I,fromState:D,toState:x,player:O,isFallbackTransition:!0})})}}removeNode(r,i){const o=this._engine;if(r.childElementCount&&this._signalRemovalForInnerTriggers(r,i),this.triggerLeaveAnimation(r,i,!0))return;let u=!1;if(o.totalAnimations){const h=o.players.length?o.playersByQueriedElement.get(r):[];if(h&&h.length)u=!0;else{let m=r;for(;m=m.parentNode;)if(o.statesByElement.get(m)){u=!0;break}}}if(this.prepareLeaveAnimationListeners(r),u)o.markElementAsRemoved(this.id,r,!1,i);else{const h=r[Ns];(!h||h===$v)&&(o.afterFlush(()=>this.clearElementCache(r)),o.destroyInnerAnimations(r),o._onRemovalComplete(r,i))}}insertNode(r,i){Os(r,this._hostClassName)}drainQueuedTransitions(r){const i=[];return this._queue.forEach(o=>{const u=o.player;if(u.destroyed)return;const h=o.element,m=this._elementListeners.get(h);m&&m.forEach(v=>{if(v.name==o.triggerName){const I=Qg(h,o.triggerName,o.fromState.value,o.toState.value);I._data=r,Yg(o.player,v.phase,I,v.callback)}}),u.markedForDestroy?this._engine.afterFlush(()=>{u.destroy()}):i.push(o)}),this._queue=[],i.sort((o,u)=>{const h=o.transition.ast.depCount,m=u.transition.ast.depCount;return 0==h||0==m?h-m:this._engine.driver.containsElement(o.element,u.element)?1:-1})}destroy(r){this.players.forEach(i=>i.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,r)}elementContainsData(r){let i=!1;return this._elementListeners.has(r)&&(i=!0),i=!!this._queue.find(o=>o.element===r)||i,i}}class FA{constructor(r,i,o){this.bodyNode=r,this.driver=i,this._normalizer=o,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(u,h)=>{}}_onRemovalComplete(r,i){this.onRemovalComplete(r,i)}get queuedPlayers(){const r=[];return this._namespaceList.forEach(i=>{i.players.forEach(o=>{o.queued&&r.push(o)})}),r}createNamespace(r,i){const o=new PA(r,i,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,i)?this._balanceNamespaceList(o,i):(this.newHostElements.set(i,o),this.collectEnterElement(i)),this._namespaceLookup[r]=o}_balanceNamespaceList(r,i){const o=this._namespaceList.length-1;if(o>=0){let u=!1;for(let h=o;h>=0;h--)if(this.driver.containsElement(this._namespaceList[h].hostElement,i)){this._namespaceList.splice(h+1,0,r),u=!0;break}u||this._namespaceList.splice(0,0,r)}else this._namespaceList.push(r);return this.namespacesByHostElement.set(i,r),r}register(r,i){let o=this._namespaceLookup[r];return o||(o=this.createNamespace(r,i)),o}registerTrigger(r,i,o){let u=this._namespaceLookup[r];u&&u.register(i,o)&&this.totalAnimations++}destroy(r,i){if(!r)return;const o=this._fetchNamespace(r);this.afterFlush(()=>{this.namespacesByHostElement.delete(o.hostElement),delete this._namespaceLookup[r];const u=this._namespaceList.indexOf(o);u>=0&&this._namespaceList.splice(u,1)}),this.afterFlushAnimationsDone(()=>o.destroy(i))}_fetchNamespace(r){return this._namespaceLookup[r]}fetchNamespacesByElement(r){const i=new Set,o=this.statesByElement.get(r);if(o){const u=Object.keys(o);for(let h=0;h<u.length;h++){const m=o[u[h]].namespaceId;if(m){const v=this._fetchNamespace(m);v&&i.add(v)}}}return i}trigger(r,i,o,u){if(_m(i)){const h=this._fetchNamespace(r);if(h)return h.trigger(i,o,u),!0}return!1}insertNode(r,i,o,u){if(!_m(i))return;const h=i[Ns];if(h&&h.setForRemoval){h.setForRemoval=!1,h.setForMove=!0;const m=this.collectedLeaveElements.indexOf(i);m>=0&&this.collectedLeaveElements.splice(m,1)}if(r){const m=this._fetchNamespace(r);m&&m.insertNode(i,o)}u&&this.collectEnterElement(i)}collectEnterElement(r){this.collectedEnterElements.push(r)}markElementAsDisabled(r,i){i?this.disabledNodes.has(r)||(this.disabledNodes.add(r),Os(r,zi)):this.disabledNodes.has(r)&&(this.disabledNodes.delete(r),hd(r,zi))}removeNode(r,i,o,u){if(_m(i)){const h=r?this._fetchNamespace(r):null;if(h?h.removeNode(i,u):this.markElementAsRemoved(r,i,!1,u),o){const m=this.namespacesByHostElement.get(i);m&&m.id!==r&&m.removeNode(i,u)}}else this._onRemovalComplete(i,u)}markElementAsRemoved(r,i,o,u){this.collectedLeaveElements.push(i),i[Ns]={namespaceId:r,setForRemoval:u,hasAnimation:o,removedBeforeQueried:!1}}listen(r,i,o,u,h){return _m(i)?this._fetchNamespace(r).listen(i,o,u,h):()=>{}}_buildInstruction(r,i,o,u,h){return r.transition.build(this.driver,r.element,r.fromState.value,r.toState.value,o,u,r.fromState.options,r.toState.options,i,h)}destroyInnerAnimations(r){let i=this.driver.query(r,rm,!0);i.forEach(o=>this.destroyActiveAnimationsForElement(o)),0!=this.playersByQueriedElement.size&&(i=this.driver.query(r,Nv,!0),i.forEach(o=>this.finishActiveQueriedAnimationOnElement(o)))}destroyActiveAnimationsForElement(r){const i=this.playersByElement.get(r);i&&i.forEach(o=>{o.queued?o.markedForDestroy=!0:o.destroy()})}finishActiveQueriedAnimationOnElement(r){const i=this.playersByQueriedElement.get(r);i&&i.forEach(o=>o.finish())}whenRenderingDone(){return new Promise(r=>{if(this.players.length)return ha(this.players).onDone(()=>r());r()})}processLeaveNode(r){const i=r[Ns];if(i&&i.setForRemoval){if(r[Ns]=$v,i.namespaceId){this.destroyInnerAnimations(r);const o=this._fetchNamespace(i.namespaceId);o&&o.clearElementCache(r)}this._onRemovalComplete(r,i.setForRemoval)}this.driver.matchesElement(r,uC)&&this.markElementAsDisabled(r,!1),this.driver.query(r,uC,!0).forEach(o=>{this.markElementAsDisabled(o,!1)})}flush(r=-1){let i=[];if(this.newHostElements.size&&(this.newHostElements.forEach((o,u)=>this._balanceNamespaceList(o,u)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let o=0;o<this.collectedEnterElements.length;o++)Os(this.collectedEnterElements[o],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const o=[];try{i=this._flushAnimations(o,r)}finally{for(let u=0;u<o.length;u++)o[u]()}}else for(let o=0;o<this.collectedLeaveElements.length;o++)this.processLeaveNode(this.collectedLeaveElements[o]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(o=>o()),this._flushFns=[],this._whenQuietFns.length){const o=this._whenQuietFns;this._whenQuietFns=[],i.length?ha(i).onDone(()=>{o.forEach(u=>u())}):o.forEach(u=>u())}}reportError(r){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${r.join("\n")}`)}_flushAnimations(r,i){const o=new Df,u=[],h=new Map,m=[],v=new Map,I=new Map,D=new Map,x=new Set;this.disabledNodes.forEach(ct=>{x.add(ct);const It=this.driver.query(ct,".ng-animate-queued",!0);for(let Bt=0;Bt<It.length;Bt++)x.add(It[Bt])});const O=this.bodyNode,j=Array.from(this.statesByElement.keys()),H=dC(j,this.collectedEnterElements),ee=new Map;let ve=0;H.forEach((ct,It)=>{const Bt=Rv+ve++;ee.set(It,Bt),ct.forEach(cn=>Os(cn,Bt))});const xe=[],$e=new Set,Ke=new Set;for(let ct=0;ct<this.collectedLeaveElements.length;ct++){const It=this.collectedLeaveElements[ct],Bt=It[Ns];Bt&&Bt.setForRemoval&&(xe.push(It),$e.add(It),Bt.hasAnimation?this.driver.query(It,".ng-star-inserted",!0).forEach(cn=>$e.add(cn)):Ke.add(It))}const Qe=new Map,mt=dC(j,Array.from($e));mt.forEach((ct,It)=>{const Bt=nm+ve++;Qe.set(It,Bt),ct.forEach(cn=>Os(cn,Bt))}),r.push(()=>{H.forEach((ct,It)=>{const Bt=ee.get(It);ct.forEach(cn=>hd(cn,Bt))}),mt.forEach((ct,It)=>{const Bt=Qe.get(It);ct.forEach(cn=>hd(cn,Bt))}),xe.forEach(ct=>{this.processLeaveNode(ct)})});const pn=[],Ni=[];for(let ct=this._namespaceList.length-1;ct>=0;ct--)this._namespaceList[ct].drainQueuedTransitions(i).forEach(Bt=>{const cn=Bt.player,yi=Bt.element;if(pn.push(cn),this.collectedEnterElements.length){const $l=yi[Ns];if($l&&$l.setForMove)return void cn.destroy()}const Hl=!O||!this.driver.containsElement(O,yi),_o=Qe.get(yi),Ch=ee.get(yi),dr=this._buildInstruction(Bt,o,Ch,_o,Hl);if(dr.errors&&dr.errors.length)Ni.push(dr);else{if(Hl)return cn.onStart(()=>hl(yi,dr.fromStyles)),cn.onDestroy(()=>Ms(yi,dr.toStyles)),void u.push(cn);if(Bt.isFallbackTransition)return cn.onStart(()=>hl(yi,dr.fromStyles)),cn.onDestroy(()=>Ms(yi,dr.toStyles)),void u.push(cn);dr.timelines.forEach($l=>$l.stretchStartingKeyframe=!0),o.append(yi,dr.timelines),m.push({instruction:dr,player:cn,element:yi}),dr.queriedElements.forEach($l=>ai(v,$l,[]).push(cn)),dr.preStyleProps.forEach(($l,l0)=>{const rA=Object.keys($l);if(rA.length){let eg=I.get(l0);eg||I.set(l0,eg=new Set),rA.forEach(tk=>eg.add(tk))}}),dr.postStyleProps.forEach(($l,l0)=>{const rA=Object.keys($l);let eg=D.get(l0);eg||D.set(l0,eg=new Set),rA.forEach(tk=>eg.add(tk))})}});if(Ni.length){const ct=[];Ni.forEach(It=>{ct.push(`@${It.triggerName} has failed due to:\n`),It.errors.forEach(Bt=>ct.push(`- ${Bt}\n`))}),pn.forEach(It=>It.destroy()),this.reportError(ct)}const Oi=new Map,Dc=new Map;m.forEach(ct=>{const It=ct.element;o.has(It)&&(Dc.set(It,It),this._beforeAnimationBuild(ct.player.namespaceId,ct.instruction,Oi))}),u.forEach(ct=>{const It=ct.element;this._getPreviousPlayers(It,!1,ct.namespaceId,ct.triggerName,null).forEach(cn=>{ai(Oi,It,[]).push(cn),cn.destroy()})});const Ac=xe.filter(ct=>gC(ct,I,D)),Mc=new Map;qv(Mc,this.driver,Ke,D,da).forEach(ct=>{gC(ct,I,D)&&Ac.push(ct)});const a0=new Map;H.forEach((ct,It)=>{qv(a0,this.driver,new Set(ct),I,"!")}),Ac.forEach(ct=>{const It=Mc.get(ct),Bt=a0.get(ct);Mc.set(ct,Object.assign(Object.assign({},It),Bt))});const Xp=[],w2=[],C2={};m.forEach(ct=>{const{element:It,player:Bt,instruction:cn}=ct;if(o.has(It)){if(x.has(It))return Bt.onDestroy(()=>Ms(It,cn.toStyles)),Bt.disabled=!0,Bt.overrideTotalTime(cn.totalTime),void u.push(Bt);let yi=C2;if(Dc.size>1){let _o=It;const Ch=[];for(;_o=_o.parentNode;){const dr=Dc.get(_o);if(dr){yi=dr;break}Ch.push(_o)}Ch.forEach(dr=>Dc.set(dr,yi))}const Hl=this._buildAnimation(Bt.namespaceId,cn,Oi,h,a0,Mc);if(Bt.setRealPlayer(Hl),yi===C2)Xp.push(Bt);else{const _o=this.playersByElement.get(yi);_o&&_o.length&&(Bt.parentPlayer=ha(_o)),u.push(Bt)}}else hl(It,cn.fromStyles),Bt.onDestroy(()=>Ms(It,cn.toStyles)),w2.push(Bt),x.has(It)&&u.push(Bt)}),w2.forEach(ct=>{const It=h.get(ct.element);if(It&&It.length){const Bt=ha(It);ct.setRealPlayer(Bt)}}),u.forEach(ct=>{ct.parentPlayer?ct.syncPlayerEvents(ct.parentPlayer):ct.destroy()});for(let ct=0;ct<xe.length;ct++){const It=xe[ct],Bt=It[Ns];if(hd(It,nm),Bt&&Bt.hasAnimation)continue;let cn=[];if(v.size){let Hl=v.get(It);Hl&&Hl.length&&cn.push(...Hl);let _o=this.driver.query(It,Nv,!0);for(let Ch=0;Ch<_o.length;Ch++){let dr=v.get(_o[Ch]);dr&&dr.length&&cn.push(...dr)}}const yi=cn.filter(Hl=>!Hl.destroyed);yi.length?Ck(this,It,yi):this.processLeaveNode(It)}return xe.length=0,Xp.forEach(ct=>{this.players.push(ct),ct.onDone(()=>{ct.destroy();const It=this.players.indexOf(ct);this.players.splice(It,1)}),ct.play()}),Xp}elementContainsData(r,i){let o=!1;const u=i[Ns];return u&&u.setForRemoval&&(o=!0),this.playersByElement.has(i)&&(o=!0),this.playersByQueriedElement.has(i)&&(o=!0),this.statesByElement.has(i)&&(o=!0),this._fetchNamespace(r).elementContainsData(i)||o}afterFlush(r){this._flushFns.push(r)}afterFlushAnimationsDone(r){this._whenQuietFns.push(r)}_getPreviousPlayers(r,i,o,u,h){let m=[];if(i){const v=this.playersByQueriedElement.get(r);v&&(m=v)}else{const v=this.playersByElement.get(r);if(v){const I=!h||h==dd;v.forEach(D=>{D.queued||!I&&D.triggerName!=u||m.push(D)})}}return(o||u)&&(m=m.filter(v=>!(o&&o!=v.namespaceId||u&&u!=v.triggerName))),m}_beforeAnimationBuild(r,i,o){const h=i.element,m=i.isRemovalTransition?void 0:r,v=i.isRemovalTransition?void 0:i.triggerName;for(const I of i.timelines){const D=I.element,x=D!==h,O=ai(o,D,[]);this._getPreviousPlayers(D,x,m,v,i.toState).forEach(H=>{const ee=H.getRealPlayer();ee.beforeDestroy&&ee.beforeDestroy(),H.destroy(),O.push(H)})}hl(h,i.fromStyles)}_buildAnimation(r,i,o,u,h,m){const v=i.triggerName,I=i.element,D=[],x=new Set,O=new Set,j=i.timelines.map(ee=>{const ve=ee.element;x.add(ve);const xe=ve[Ns];if(xe&&xe.removedBeforeQueried)return new xu(ee.duration,ee.delay);const $e=ve!==I,Ke=function(s){const r=[];return pC(s,r),r}((o.get(ve)||Ek).map(Oi=>Oi.getRealPlayer())).filter(Oi=>!!Oi.element&&Oi.element===ve),Qe=h.get(ve),mt=m.get(ve),pn=Sv(0,this._normalizer,0,ee.keyframes,Qe,mt),Ni=this._buildPlayer(ee,pn,Ke);if(ee.subTimeline&&u&&O.add(ve),$e){const Oi=new mm(r,v,ve);Oi.setRealPlayer(Ni),D.push(Oi)}return Ni});D.forEach(ee=>{ai(this.playersByQueriedElement,ee.element,[]).push(ee),ee.onDone(()=>function(s,r,i){let o;if(s instanceof Map){if(o=s.get(r),o){if(o.length){const u=o.indexOf(i);o.splice(u,1)}0==o.length&&s.delete(r)}}else if(o=s[r],o){if(o.length){const u=o.indexOf(i);o.splice(u,1)}0==o.length&&delete s[r]}return o}(this.playersByQueriedElement,ee.element,ee))}),x.forEach(ee=>Os(ee,K0));const H=ha(j);return H.onDestroy(()=>{x.forEach(ee=>hd(ee,K0)),Ms(I,i.toStyles)}),O.forEach(ee=>{ai(u,ee,[]).push(H)}),H}_buildPlayer(r,i,o){return i.length>0?this.driver.animate(r.element,i,r.duration,r.delay,r.easing,o):new xu(r.duration,r.delay)}}class mm{constructor(r,i,o){this.namespaceId=r,this.triggerName=i,this.element=o,this._player=new xu,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(r){this._containsRealPlayer||(this._player=r,Object.keys(this._queuedCallbacks).forEach(i=>{this._queuedCallbacks[i].forEach(o=>Yg(r,i,void 0,o))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(r.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(r){this.totalTime=r}syncPlayerEvents(r){const i=this._player;i.triggerCallback&&r.onStart(()=>i.triggerCallback("start")),r.onDone(()=>this.finish()),r.onDestroy(()=>this.destroy())}_queueEvent(r,i){ai(this._queuedCallbacks,r,[]).push(i)}onDone(r){this.queued&&this._queueEvent("done",r),this._player.onDone(r)}onStart(r){this.queued&&this._queueEvent("start",r),this._player.onStart(r)}onDestroy(r){this.queued&&this._queueEvent("destroy",r),this._player.onDestroy(r)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(r){this.queued||this._player.setPosition(r)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(r){const i=this._player;i.triggerCallback&&i.triggerCallback(r)}}function _m(s){return s&&1===s.nodeType}function zv(s,r){const i=s.style.display;return s.style.display=null!=r?r:"none",i}function qv(s,r,i,o,u){const h=[];i.forEach(I=>h.push(zv(I)));const m=[];o.forEach((I,D)=>{const x={};I.forEach(O=>{const j=x[O]=r.computeStyle(D,O,u);(!j||0==j.length)&&(D[Ns]=wk,m.push(D))}),s.set(D,x)});let v=0;return i.forEach(I=>zv(I,h[v++])),m}function dC(s,r){const i=new Map;if(s.forEach(v=>i.set(v,[])),0==r.length)return i;const u=new Set(r),h=new Map;function m(v){if(!v)return 1;let I=h.get(v);if(I)return I;const D=v.parentNode;return I=i.has(D)?D:u.has(D)?1:m(D),h.set(v,I),I}return r.forEach(v=>{const I=m(v);1!==I&&i.get(I).push(v)}),i}const ls="$$classes";function Os(s,r){if(s.classList)s.classList.add(r);else{let i=s[ls];i||(i=s[ls]={}),i[r]=!0}}function hd(s,r){if(s.classList)s.classList.remove(r);else{let i=s[ls];i&&delete i[r]}}function Ck(s,r,i){ha(i).onDone(()=>s.processLeaveNode(r))}function pC(s,r){for(let i=0;i<s.length;i++){const o=s[i];o instanceof Cv?pC(o.players,r):r.push(o)}}function gC(s,r,i){const o=i.get(s);if(!o)return!1;let u=r.get(s);return u?o.forEach(h=>u.add(h)):r.set(s,o),i.delete(s),!0}class fd{constructor(r,i,o){this.bodyNode=r,this._driver=i,this._normalizer=o,this._triggerCache={},this.onRemovalComplete=(u,h)=>{},this._transitionEngine=new FA(r,i,o),this._timelineEngine=new aC(r,i,o),this._transitionEngine.onRemovalComplete=(u,h)=>this.onRemovalComplete(u,h)}registerTrigger(r,i,o,u,h){const m=r+"-"+u;let v=this._triggerCache[m];if(!v){const I=[],D=X0(this._driver,h,I);if(I.length)throw new Error(`The animation trigger "${u}" has failed to build due to the following errors:\n - ${I.join("\n - ")}`);v=function(s,r,i){return new vk(s,r,i)}(u,D,this._normalizer),this._triggerCache[m]=v}this._transitionEngine.registerTrigger(i,u,v)}register(r,i){this._transitionEngine.register(r,i)}destroy(r,i){this._transitionEngine.destroy(r,i)}onInsert(r,i,o,u){this._transitionEngine.insertNode(r,i,o,u)}onRemove(r,i,o,u){this._transitionEngine.removeNode(r,i,u||!1,o)}disableAnimations(r,i){this._transitionEngine.markElementAsDisabled(r,i)}process(r,i,o,u){if("@"==o.charAt(0)){const[h,m]=Ef(o);this._timelineEngine.command(h,i,m,u)}else this._transitionEngine.trigger(r,i,o,u)}listen(r,i,o,u,h){if("@"==o.charAt(0)){const[m,v]=Ef(o);return this._timelineEngine.listen(m,i,v,h)}return this._transitionEngine.listen(r,i,o,u,h)}flush(r=-1){this._transitionEngine.flush(r)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function mC(s,r){let i=null,o=null;return Array.isArray(r)&&r.length?(i=gd(r[0]),r.length>1&&(o=gd(r[r.length-1]))):r&&(i=gd(r)),i||o?new pd(s,i,o):null}class pd{constructor(r,i,o){this._element=r,this._startStyles=i,this._endStyles=o,this._state=0;let u=pd.initialStylesByElement.get(r);u||pd.initialStylesByElement.set(r,u={}),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&Ms(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ms(this._element,this._initialStyles),this._endStyles&&(Ms(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(pd.initialStylesByElement.delete(this._element),this._startStyles&&(hl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(hl(this._element,this._endStyles),this._endStyles=null),Ms(this._element,this._initialStyles),this._state=3)}}function gd(s){let r=null;const i=Object.keys(s);for(let o=0;o<i.length;o++){const u=i[o];Wv(u)&&(r=r||{},r[u]=s[u])}return r}function Wv(s){return"display"===s||"position"===s}pd.initialStylesByElement=new WeakMap;const ym="animation",vm="animationend";class jA{constructor(r,i,o,u,h,m,v){this._element=r,this._name=i,this._duration=o,this._delay=u,this._easing=h,this._fillMode=m,this._onDoneFn=v,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=I=>this._handleCallback(I)}apply(){(function(s,r){const i=Em(s,"").trim();let o=0;i.length&&(function(s,r){let i=0;for(let o=0;o<s.length;o++)","===s.charAt(o)&&i++;return i}(i)+1,r=`${i}, ${r}`),xf(s,"",r)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Kv(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){yC(this._element,this._name,"paused")}resume(){yC(this._element,this._name,"running")}setPosition(r){const i=vC(this._element,this._name);this._position=r*this._duration,xf(this._element,"Delay",`-${this._position}ms`,i)}getPosition(){return this._position}_handleCallback(r){const i=r._ngTestManualTimestamp||Date.now(),o=1e3*parseFloat(r.elapsedTime.toFixed(3));r.animationName==this._name&&Math.max(i-this._startTime,0)>=this._delay&&o>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Kv(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(s,r){const o=Em(s,"").split(","),u=bm(o,r);u>=0&&(o.splice(u,1),xf(s,"",o.join(",")))}(this._element,this._name))}}function yC(s,r,i){xf(s,"PlayState",i,vC(s,r))}function vC(s,r){const i=Em(s,"");return i.indexOf(",")>0?bm(i.split(","),r):bm([i],r)}function bm(s,r){for(let i=0;i<s.length;i++)if(s[i].indexOf(r)>=0)return i;return-1}function Kv(s,r,i){i?s.removeEventListener(vm,r):s.addEventListener(vm,r)}function xf(s,r,i,o){const u=ym+r;if(null!=o){const h=s.style[u];if(h.length){const m=h.split(",");m[o]=i,i=m.join(",")}}s.style[u]=i}function Em(s,r){return s.style[ym+r]||""}class EC{constructor(r,i,o,u,h,m,v,I){this.element=r,this.keyframes=i,this.animationName=o,this._duration=u,this._delay=h,this._finalStyles=v,this._specialStyles=I,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=m||"linear",this.totalTime=u+h,this._buildStyler()}onStart(r){this._onStartFns.push(r)}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(r=>r()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(r=>r()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(r){this._styler.setPosition(r)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new jA(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(r){const i="start"==r?this._onStartFns:this._onDoneFns;i.forEach(o=>o()),i.length=0}beforeDestroy(){this.init();const r={};if(this.hasStarted()){const i=this._state>=3;Object.keys(this._finalStyles).forEach(o=>{"offset"!=o&&(r[o]=i?this._finalStyles[o]:Pv(this.element,o))})}this.currentSnapshot=r}}class HA extends xu{constructor(r,i){super(),this.element=r,this._startingStyles={},this.__initialized=!1,this._styles=xv(i)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(r=>{this._startingStyles[r]=this.element.style[r]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(r=>this.element.style.setProperty(r,this._styles[r])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(r=>{const i=this._startingStyles[r];i?this.element.style.setProperty(r,i):this.element.style.removeProperty(r)}),this._startingStyles=null,super.destroy())}}class Yv{constructor(){this._count=0}validateStyleProperty(r){return wf(r)}matchesElement(r,i){return z0(r,i)}containsElement(r,i){return em(r,i)}query(r,i,o){return Mv(r,i,o)}computeStyle(r,i,o){return window.getComputedStyle(r)[i]}buildKeyframeElement(r,i,o){o=o.map(v=>xv(v));let u=`@keyframes ${i} {\n`,h="";o.forEach(v=>{h=" ";const I=parseFloat(v.offset);u+=`${h}${100*I}% {\n`,h+=" ",Object.keys(v).forEach(D=>{const x=v[D];switch(D){case"offset":return;case"easing":return void(x&&(u+=`${h}animation-timing-function: ${x};\n`));default:return void(u+=`${h}${D}: ${x};\n`)}}),u+=`${h}}\n`}),u+="}\n";const m=document.createElement("style");return m.textContent=u,m}animate(r,i,o,u,h,m=[],v){const I=m.filter(xe=>xe instanceof EC),D={};Y0(o,u)&&I.forEach(xe=>{let $e=xe.currentSnapshot;Object.keys($e).forEach(Ke=>D[Ke]=$e[Ke])});const x=function(s){let r={};return s&&(Array.isArray(s)?s:[s]).forEach(o=>{Object.keys(o).forEach(u=>{"offset"==u||"easing"==u||(r[u]=o[u])})}),r}(i=kv(r,i,D));if(0==o)return new HA(r,x);const O="gen_css_kf_"+this._count++,j=this.buildKeyframeElement(r,O,i);(function(s){var r;const i=null===(r=s.getRootNode)||void 0===r?void 0:r.call(s);return"undefined"!=typeof ShadowRoot&&i instanceof ShadowRoot?i:document.head})(r).appendChild(j);const ee=mC(r,i),ve=new EC(r,i,O,o,u,h,x,ee);return ve.onDestroy(()=>{var s;(s=j).parentNode.removeChild(s)}),ve}}class wC{constructor(r,i,o,u){this.element=r,this.keyframes=i,this.options=o,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=o.duration,this._delay=o.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const r=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,r,this.options),this._finalKeyframe=r.length?r[r.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(r,i,o){return r.animate(i,o)}onStart(r){this._onStartFns.push(r)}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(r=>r()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}setPosition(r){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=r*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const r={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(i=>{"offset"!=i&&(r[i]=this._finished?this._finalKeyframe[i]:Pv(this.element,i))}),this.currentSnapshot=r}triggerCallback(r){const i="start"==r?this._onStartFns:this._onDoneFns;i.forEach(o=>o()),i.length=0}}class CC{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Im().toString()),this._cssKeyframesDriver=new Yv}validateStyleProperty(r){return wf(r)}matchesElement(r,i){return z0(r,i)}containsElement(r,i){return em(r,i)}query(r,i,o){return Mv(r,i,o)}computeStyle(r,i,o){return window.getComputedStyle(r)[i]}overrideWebAnimationsSupport(r){this._isNativeImpl=r}animate(r,i,o,u,h,m=[],v){if(!v&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(r,i,o,u,h,m);const x={duration:o,delay:u,fill:0==u?"both":"forwards"};h&&(x.easing=h);const O={},j=m.filter(ee=>ee instanceof wC);Y0(o,u)&&j.forEach(ee=>{let ve=ee.currentSnapshot;Object.keys(ve).forEach(xe=>O[xe]=ve[xe])});const H=mC(r,i=kv(r,i=i.map(ee=>dl(ee,!1)),O));return new wC(r,i,x,H)}}function Im(){return vf()&&Element.prototype.animate||{}}let qA=(()=>{class s extends L0{constructor(i,o){super(),this._nextAnimationId=0,this._renderer=i.createRenderer(o.body,{id:"0",encapsulation:f.ifc.None,styles:[],data:{animation:[]}})}build(i){const o=this._nextAnimationId.toString();this._nextAnimationId++;const u=Array.isArray(i)?U0(i):i;return Fu(this._renderer,null,o,"register",[u]),new WA(o,this._renderer)}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(f.FYo),f.LFG(he))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();class WA extends class{}{constructor(r,i){super(),this._id=r,this._renderer=i}create(r,i){return new IC(this._id,r,i||{},this._renderer)}}class IC{constructor(r,i,o,u){this.id=r,this.element=i,this._renderer=u,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",o)}_listen(r,i){return this._renderer.listen(this.element,`@@${this.id}:${r}`,i)}_command(r,...i){return Fu(this._renderer,this.element,this.id,r,i)}onDone(r){this._listen("done",r)}onStart(r){this._listen("start",r)}onDestroy(r){this._listen("destroy",r)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(r){this._command("setPosition",r)}getPosition(){var r,i;return null!==(i=null===(r=this._renderer.engine.players[+this.id])||void 0===r?void 0:r.getPosition())&&void 0!==i?i:0}}function Fu(s,r,i,o,u){return s.setProperty(r,`@@${i}:${o}`,u)}const TC="@.disabled";let ZA=(()=>{class s{constructor(i,o,u){this.delegate=i,this.engine=o,this._zone=u,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),o.onRemovalComplete=(h,m)=>{m&&m.parentNode(h)&&m.removeChild(h.parentNode,h)}}createRenderer(i,o){const h=this.delegate.createRenderer(i,o);if(!(i&&o&&o.data&&o.data.animation)){let x=this._rendererCache.get(h);return x||(x=new Lu("",h,this.engine),this._rendererCache.set(h,x)),x}const m=o.id,v=o.id+"-"+this._currentId;this._currentId++,this.engine.register(v,i);const I=x=>{Array.isArray(x)?x.forEach(I):this.engine.registerTrigger(m,v,i,x.name,x)};return o.data.animation.forEach(I),new KA(this,v,h,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(i,o,u){i>=0&&i<this._microtaskId?this._zone.run(()=>o(u)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(h=>{const[m,v]=h;m(v)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([o,u]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(f.FYo),f.LFG(fd),f.LFG(f.R0b))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();class Lu{constructor(r,i,o){this.namespaceId=r,this.delegate=i,this.engine=o,this.destroyNode=this.delegate.destroyNode?u=>i.destroyNode(u):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(r,i){return this.delegate.createElement(r,i)}createComment(r){return this.delegate.createComment(r)}createText(r){return this.delegate.createText(r)}appendChild(r,i){this.delegate.appendChild(r,i),this.engine.onInsert(this.namespaceId,i,r,!1)}insertBefore(r,i,o,u=!0){this.delegate.insertBefore(r,i,o),this.engine.onInsert(this.namespaceId,i,r,u)}removeChild(r,i,o){this.engine.onRemove(this.namespaceId,i,this.delegate,o)}selectRootElement(r,i){return this.delegate.selectRootElement(r,i)}parentNode(r){return this.delegate.parentNode(r)}nextSibling(r){return this.delegate.nextSibling(r)}setAttribute(r,i,o,u){this.delegate.setAttribute(r,i,o,u)}removeAttribute(r,i,o){this.delegate.removeAttribute(r,i,o)}addClass(r,i){this.delegate.addClass(r,i)}removeClass(r,i){this.delegate.removeClass(r,i)}setStyle(r,i,o,u){this.delegate.setStyle(r,i,o,u)}removeStyle(r,i,o){this.delegate.removeStyle(r,i,o)}setProperty(r,i,o){"@"==i.charAt(0)&&i==TC?this.disableAnimations(r,!!o):this.delegate.setProperty(r,i,o)}setValue(r,i){this.delegate.setValue(r,i)}listen(r,i,o){return this.delegate.listen(r,i,o)}disableAnimations(r,i){this.engine.disableAnimations(r,i)}}class KA extends Lu{constructor(r,i,o,u){super(i,o,u),this.factory=r,this.namespaceId=i}setProperty(r,i,o){"@"==i.charAt(0)?"."==i.charAt(1)&&i==TC?this.disableAnimations(r,o=void 0===o||!!o):this.engine.process(this.namespaceId,r,i.substr(1),o):this.delegate.setProperty(r,i,o)}listen(r,i,o){if("@"==i.charAt(0)){const u=function(s){switch(s){case"body":return document.body;case"document":return document;case"window":return window;default:return s}}(r);let h=i.substr(1),m="";return"@"!=h.charAt(0)&&([h,m]=function(s){const r=s.indexOf(".");return[s.substring(0,r),s.substr(r+1)]}(h)),this.engine.listen(this.namespaceId,u,h,m,v=>{this.factory.scheduleListenerCallback(v._data||-1,o,v)})}return this.delegate.listen(r,i,o)}}let JA=(()=>{class s extends fd{constructor(i,o,u){super(i.body,o,u)}ngOnDestroy(){this.flush()}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(he),f.LFG(tm),f.LFG(pl))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();const qt=new f.OlP("AnimationModuleType"),Tm=[{provide:L0,useClass:qA},{provide:pl,useFactory:function(){return new cd}},{provide:fd,useClass:JA},{provide:f.FYo,useFactory:function(s,r,i){return new ZA(s,r,i)},deps:[Ks,fd,f.R0b]}],eM=[{provide:tm,useFactory:function(){return"function"==typeof Im()?new CC:new Yv}},{provide:qt,useValue:"BrowserAnimations"},...Tm],Do=[{provide:tm,useClass:q0},{provide:qt,useValue:"NoopAnimations"},...Tm];let Qv=(()=>{class s{static withConfig(i){return{ngModule:s,providers:i.disableAnimations?Do:eM}}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({providers:eM,imports:[Ka]}),s})();const xC=new f.GfV("12.2.3"),Jv=new f.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Vu,Qn=(()=>{class s{constructor(i,o,u){this._hasDoneGlobalChecks=!1,this._document=u,i._applyBodyHighContrastModeCssClasses(),this._sanityChecks=o,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const i=this._document.defaultView||window;return"object"==typeof i&&i?i:null}_checkIsEnabled(i){return!(!(0,f.X6Q)()||this._isTestEnv())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[i])}_isTestEnv(){const i=this._getWindow();return i&&(i.__karma__||i.jasmine)}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const i=this._document.createElement("div");i.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(i);const o=getComputedStyle(i);o&&"none"!==o.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(i)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&xC.full!==Zg.full&&console.warn("The Angular Material version ("+xC.full+") does not match the Angular CDK version ("+Zg.full+").\nPlease ensure the versions of these two packages exactly match.")}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(Wg),f.LFG(Jv,8),f.LFG(he))},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({imports:[[id],id]}),s})();function Xv(s){return class extends s{constructor(...r){super(...r),this._disabled=!1}get disabled(){return this._disabled}set disabled(r){this._disabled=mr(r)}}}function Pf(s,r){return class extends s{constructor(...i){super(...i),this.defaultColor=r,this.color=r}get color(){return this._color}set color(i){const o=i||this.defaultColor;o!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),o&&this._elementRef.nativeElement.classList.add(`mat-${o}`),this._color=o)}}}function RC(s){return class extends s{constructor(...r){super(...r),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(r){this._disableRipple=mr(r)}}}try{Vu="undefined"!=typeof Intl}catch(s){Vu=!1}let cM=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({imports:[[Qn],Qn]}),s})();class LC{constructor(r,i,o){this._renderer=r,this.element=i,this.config=o,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Sm={enterDuration:225,exitDuration:150},Vf=Fg({passive:!0}),VC=["mousedown","touchstart"],UC=["mouseup","mouseleave","touchend","touchcancel"];class hM{constructor(r,i,o,u){this._target=r,this._ngZone=i,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,u.isBrowser&&(this._containerElement=il(o))}fadeInRipple(r,i,o={}){const u=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),h=Object.assign(Object.assign({},Sm),o.animation);o.centered&&(r=u.left+u.width/2,i=u.top+u.height/2);const m=o.radius||function(s,r,i){const o=Math.max(Math.abs(s-i.left),Math.abs(s-i.right)),u=Math.max(Math.abs(r-i.top),Math.abs(r-i.bottom));return Math.sqrt(o*o+u*u)}(r,i,u),v=r-u.left,I=i-u.top,D=h.enterDuration,x=document.createElement("div");x.classList.add("mat-ripple-element"),x.style.left=v-m+"px",x.style.top=I-m+"px",x.style.height=2*m+"px",x.style.width=2*m+"px",null!=o.color&&(x.style.backgroundColor=o.color),x.style.transitionDuration=`${D}ms`,this._containerElement.appendChild(x),window.getComputedStyle(x).getPropertyValue("opacity"),x.style.transform="scale(1)";const O=new LC(this,x,o);return O.state=0,this._activeRipples.add(O),o.persistent||(this._mostRecentTransientRipple=O),this._runTimeoutOutsideZone(()=>{const j=O===this._mostRecentTransientRipple;O.state=1,!o.persistent&&(!j||!this._isPointerDown)&&O.fadeOut()},D),O}fadeOutRipple(r){const i=this._activeRipples.delete(r);if(r===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!i)return;const o=r.element,u=Object.assign(Object.assign({},Sm),r.config.animation);o.style.transitionDuration=`${u.exitDuration}ms`,o.style.opacity="0",r.state=2,this._runTimeoutOutsideZone(()=>{r.state=3,o.parentNode.removeChild(o)},u.exitDuration)}fadeOutAll(){this._activeRipples.forEach(r=>r.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(r=>{r.config.persistent||r.fadeOut()})}setupTriggerEvents(r){const i=il(r);!i||i===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=i,this._registerEvents(VC))}handleEvent(r){"mousedown"===r.type?this._onMousedown(r):"touchstart"===r.type?this._onTouchStart(r):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(UC),this._pointerUpEventsRegistered=!0)}_onMousedown(r){const i=nt(r),o=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!i&&!o&&(this._isPointerDown=!0,this.fadeInRipple(r.clientX,r.clientY,this._target.rippleConfig))}_onTouchStart(r){if(!this._target.rippleDisabled&&!gt(r)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const i=r.changedTouches;for(let o=0;o<i.length;o++)this.fadeInRipple(i[o].clientX,i[o].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(r=>{!r.config.persistent&&(1===r.state||r.config.terminateOnPointerUp&&0===r.state)&&r.fadeOut()}))}_runTimeoutOutsideZone(r,i=0){this._ngZone.runOutsideAngular(()=>setTimeout(r,i))}_registerEvents(r){this._ngZone.runOutsideAngular(()=>{r.forEach(i=>{this._triggerElement.addEventListener(i,this,Vf)})})}_removeTriggerEvents(){this._triggerElement&&(VC.forEach(r=>{this._triggerElement.removeEventListener(r,this,Vf)}),this._pointerUpEventsRegistered&&UC.forEach(r=>{this._triggerElement.removeEventListener(r,this,Vf)}))}}const gM=new f.OlP("mat-ripple-global-options");let Uu=(()=>{class s{constructor(i,o,u,h,m){this._elementRef=i,this._animationMode=m,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=h||{},this._rippleRenderer=new hM(this,o,i,u)}get disabled(){return this._disabled}set disabled(i){i&&this.fadeOutAllNonPersistent(),this._disabled=i,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(i){this._trigger=i,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(i,o=0,u){return"number"==typeof i?this._rippleRenderer.fadeInRipple(i,o,Object.assign(Object.assign({},this.rippleConfig),u)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),i))}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(f.SBq),f.Y36(f.R0b),f.Y36(Pn),f.Y36(gM,8),f.Y36(qt,8))},s.\u0275dir=f.lG2({type:s,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,o){2&i&&f.ekj("mat-ripple-unbounded",o.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),s})(),Bu=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({imports:[[Qn,Hr],Qn]}),s})();const _d=["*",[["mat-toolbar-row"]]],yd=["*","mat-toolbar-row"],vd=Pf(class{constructor(s){this._elementRef=s}});let bd=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275dir=f.lG2({type:s,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),s})(),Ed=(()=>{class s extends vd{constructor(i,o,u){super(i),this._platform=o,this._document=u}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(f.SBq),f.Y36(Pn),f.Y36(he))},s.\u0275cmp=f.Xpm({type:s,selectors:[["mat-toolbar"]],contentQueries:function(i,o,u){if(1&i&&f.Suo(u,bd,5),2&i){let h;f.iGM(h=f.CRH())&&(o._toolbarRows=h)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(i,o){2&i&&f.ekj("mat-toolbar-multiple-rows",o._toolbarRows.length>0)("mat-toolbar-single-row",0===o._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[f.qOj],ngContentSelectors:yd,decls:2,vars:0,template:function(i,o){1&i&&(f.F$t(_d),f.Hsn(0),f.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),s})(),wd=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({imports:[[Qn],Qn]}),s})();const tb=["mat-button",""],nb=["*"],rb=".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n",$C=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],GC=Pf(Xv(RC(class{constructor(s){this._elementRef=s}})));let Cd=(()=>{class s extends GC{constructor(i,o,u){super(i),this._focusMonitor=o,this._animationMode=u,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const h of $C)this._hasHostAttributes(h)&&this._getHostElement().classList.add(h);i.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(i,o){i?this._focusMonitor.focusVia(this._getHostElement(),i,o):this._getHostElement().focus(o)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...i){return i.some(o=>this._getHostElement().hasAttribute(o))}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(f.SBq),f.Y36(nd),f.Y36(qt,8))},s.\u0275cmp=f.Xpm({type:s,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(i,o){if(1&i&&f.Gf(Uu,5),2&i){let u;f.iGM(u=f.CRH())&&(o.ripple=u.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(i,o){2&i&&(f.uIk("disabled",o.disabled||null),f.ekj("_mat-animation-noopable","NoopAnimations"===o._animationMode)("mat-button-disabled",o.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[f.qOj],attrs:tb,ngContentSelectors:nb,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(i,o){1&i&&(f.F$t(),f.TgZ(0,"span",0),f.Hsn(1),f.qZA(),f._UZ(2,"span",1),f._UZ(3,"span",2)),2&i&&(f.xp6(2),f.ekj("mat-button-ripple-round",o.isRoundButton||o.isIconButton),f.Q6J("matRippleDisabled",o._isRippleDisabled())("matRippleCentered",o.isIconButton)("matRippleTrigger",o._getHostElement()))},directives:[Uu],styles:[rb],encapsulation:2,changeDetection:0}),s})(),ib=(()=>{class s extends Cd{constructor(i,o,u){super(o,i,u)}_haltDisabledEvents(i){this.disabled&&(i.preventDefault(),i.stopImmediatePropagation())}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(nd),f.Y36(f.SBq),f.Y36(qt,8))},s.\u0275cmp=f.Xpm({type:s,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(i,o){1&i&&f.NdJ("click",function(h){return o._haltDisabledEvents(h)}),2&i&&(f.uIk("tabindex",o.disabled?-1:o.tabIndex||0)("disabled",o.disabled||null)("aria-disabled",o.disabled.toString()),f.ekj("_mat-animation-noopable","NoopAnimations"===o._animationMode)("mat-button-disabled",o.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[f.qOj],attrs:tb,ngContentSelectors:nb,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(i,o){1&i&&(f.F$t(),f.TgZ(0,"span",0),f.Hsn(1),f.qZA(),f._UZ(2,"span",1),f._UZ(3,"span",2)),2&i&&(f.xp6(2),f.ekj("mat-button-ripple-round",o.isRoundButton||o.isIconButton),f.Q6J("matRippleDisabled",o._isRippleDisabled())("matRippleCentered",o.isIconButton)("matRippleTrigger",o._getHostElement()))},directives:[Uu],styles:[rb],encapsulation:2,changeDetection:0}),s})(),zC=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({imports:[[Bu,Qn],Qn]}),s})();var yM=V(205),Hf=V(9796),bt=V(8002),qC=V(1555),Fn=V(4402);function WC(...s){if(1===s.length){const r=s[0];if((0,Hf.k)(r))return sb(r,null);if((0,qC.K)(r)&&Object.getPrototypeOf(r)===Object.prototype){const i=Object.keys(r);return sb(i.map(o=>r[o]),i)}}if("function"==typeof s[s.length-1]){const r=s.pop();return sb(s=1===s.length&&(0,Hf.k)(s[0])?s[0]:s,null).pipe((0,bt.U)(i=>r(...i)))}return sb(s,null)}function sb(s,r){return new zn.y(i=>{const o=s.length;if(0===o)return void i.complete();const u=new Array(o);let h=0,m=0;for(let v=0;v<o;v++){const I=(0,Fn.D)(s[v]);let D=!1;i.add(I.subscribe({next:x=>{D||(D=!0,m++),u[v]=x},error:x=>i.error(x),complete:()=>{h++,(h===o||!D)&&(m===o&&i.next(r?r.reduce((x,O,j)=>(x[O]=u[j],x),{}):u),i.complete())}}))}})}var Id=V(5319),Gr=V(3342);function gl(s){return function(i){const o=new ZC(s),u=i.lift(o);return o.caught=u}}class ZC{constructor(r){this.selector=r}call(r,i){return i.subscribe(new vM(r,this.selector,this.caught))}}class vM extends Ui.Ds{constructor(r,i,o){super(r),this.selector=i,this.caught=o}error(r){if(!this.isStopped){let i;try{i=this.selector(r,this.caught)}catch(h){return void super.error(h)}this._unsubscribeAndRecycle();const o=new Ui.IY(this);this.add(o);const u=(0,Ui.ft)(i,o);u!==o&&this.add(u)}}}function KC(s){return r=>r.lift(new Pk(s))}class Pk{constructor(r){this.callback=r}call(r,i){return i.subscribe(new bM(r,this.callback))}}class bM extends gr.L{constructor(r,i){super(r),this.add(new Id.w(i))}}var YC=V(8819),Si=V(9773);function $f(s,r){return(0,Si.zg)(s,r,1)}function Ar(s,r){return function(o){return o.lift(new EM(s,r))}}class EM{constructor(r,i){this.predicate=r,this.thisArg=i}call(r,i){return i.subscribe(new Fk(r,this.predicate,this.thisArg))}}class Fk extends gr.L{constructor(r,i,o){super(r),this.predicate=i,this.thisArg=o,this.count=0}_next(r){let i;try{i=this.predicate.call(this.thisArg,r,this.count++)}catch(o){return void this.destination.error(o)}i&&this.destination.next(r)}}class QC{}class so{constructor(r){this.normalizedNames=new Map,this.lazyUpdate=null,r?this.lazyInit="string"==typeof r?()=>{this.headers=new Map,r.split("\n").forEach(i=>{const o=i.indexOf(":");if(o>0){const u=i.slice(0,o),h=u.toLowerCase(),m=i.slice(o+1).trim();this.maybeSetNormalizedName(u,h),this.headers.has(h)?this.headers.get(h).push(m):this.headers.set(h,[m])}})}:()=>{this.headers=new Map,Object.keys(r).forEach(i=>{let o=r[i];const u=i.toLowerCase();"string"==typeof o&&(o=[o]),o.length>0&&(this.headers.set(u,o),this.maybeSetNormalizedName(i,u))})}:this.headers=new Map}has(r){return this.init(),this.headers.has(r.toLowerCase())}get(r){this.init();const i=this.headers.get(r.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(r){return this.init(),this.headers.get(r.toLowerCase())||null}append(r,i){return this.clone({name:r,value:i,op:"a"})}set(r,i){return this.clone({name:r,value:i,op:"s"})}delete(r,i){return this.clone({name:r,value:i,op:"d"})}maybeSetNormalizedName(r,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,r)}init(){this.lazyInit&&(this.lazyInit instanceof so?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(r=>this.applyUpdate(r)),this.lazyUpdate=null))}copyFrom(r){r.init(),Array.from(r.headers.keys()).forEach(i=>{this.headers.set(i,r.headers.get(i)),this.normalizedNames.set(i,r.normalizedNames.get(i))})}clone(r){const i=new so;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof so?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([r]),i}applyUpdate(r){const i=r.name.toLowerCase();switch(r.op){case"a":case"s":let o=r.value;if("string"==typeof o&&(o=[o]),0===o.length)return;this.maybeSetNormalizedName(r.name,i);const u=("a"===r.op?this.headers.get(i):void 0)||[];u.push(...o),this.headers.set(i,u);break;case"d":const h=r.value;if(h){let m=this.headers.get(i);if(!m)return;m=m.filter(v=>-1===h.indexOf(v)),0===m.length?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,m)}else this.headers.delete(i),this.normalizedNames.delete(i)}}forEach(r){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>r(this.normalizedNames.get(i),this.headers.get(i)))}}class ob{encodeKey(r){return CM(r)}encodeValue(r){return CM(r)}decodeKey(r){return decodeURIComponent(r)}decodeValue(r){return decodeURIComponent(r)}}const Lk=/%(\d[a-f0-9])/gi,Vk={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function CM(s){return encodeURIComponent(s).replace(Lk,(r,i)=>{var o;return null!==(o=Vk[i])&&void 0!==o?o:r})}function XC(s){return`${s}`}class pa{constructor(r={}){if(this.updates=null,this.cloneFrom=null,this.encoder=r.encoder||new ob,r.fromString){if(r.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(s,r){const i=new Map;return s.length>0&&s.replace(/^\?/,"").split("&").forEach(u=>{const h=u.indexOf("="),[m,v]=-1==h?[r.decodeKey(u),""]:[r.decodeKey(u.slice(0,h)),r.decodeValue(u.slice(h+1))],I=i.get(m)||[];I.push(v),i.set(m,I)}),i}(r.fromString,this.encoder)}else r.fromObject?(this.map=new Map,Object.keys(r.fromObject).forEach(i=>{const o=r.fromObject[i];this.map.set(i,Array.isArray(o)?o:[o])})):this.map=null}has(r){return this.init(),this.map.has(r)}get(r){this.init();const i=this.map.get(r);return i?i[0]:null}getAll(r){return this.init(),this.map.get(r)||null}keys(){return this.init(),Array.from(this.map.keys())}append(r,i){return this.clone({param:r,value:i,op:"a"})}appendAll(r){const i=[];return Object.keys(r).forEach(o=>{const u=r[o];Array.isArray(u)?u.forEach(h=>{i.push({param:o,value:h,op:"a"})}):i.push({param:o,value:u,op:"a"})}),this.clone(i)}set(r,i){return this.clone({param:r,value:i,op:"s"})}delete(r,i){return this.clone({param:r,value:i,op:"d"})}toString(){return this.init(),this.keys().map(r=>{const i=this.encoder.encodeKey(r);return this.map.get(r).map(o=>i+"="+this.encoder.encodeValue(o)).join("&")}).filter(r=>""!==r).join("&")}clone(r){const i=new pa({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(r),i}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(r=>this.map.set(r,this.cloneFrom.map.get(r))),this.updates.forEach(r=>{switch(r.op){case"a":case"s":const i=("a"===r.op?this.map.get(r.param):void 0)||[];i.push(XC(r.value)),this.map.set(r.param,i);break;case"d":if(void 0===r.value){this.map.delete(r.param);break}{let o=this.map.get(r.param)||[];const u=o.indexOf(XC(r.value));-1!==u&&o.splice(u,1),o.length>0?this.map.set(r.param,o):this.map.delete(r.param)}}}),this.cloneFrom=this.updates=null)}}class IM{constructor(){this.map=new Map}set(r,i){return this.map.set(r,i),this}get(r){return this.map.has(r)||this.map.set(r,r.defaultValue()),this.map.get(r)}delete(r){return this.map.delete(r),this}keys(){return this.map.keys()}}function eI(s){return"undefined"!=typeof ArrayBuffer&&s instanceof ArrayBuffer}function ab(s){return"undefined"!=typeof Blob&&s instanceof Blob}function tI(s){return"undefined"!=typeof FormData&&s instanceof FormData}class ml{constructor(r,i,o,u){let h;if(this.url=i,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=r.toUpperCase(),function(s){switch(s){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||u?(this.body=void 0!==o?o:null,h=u):h=o,h&&(this.reportProgress=!!h.reportProgress,this.withCredentials=!!h.withCredentials,h.responseType&&(this.responseType=h.responseType),h.headers&&(this.headers=h.headers),h.context&&(this.context=h.context),h.params&&(this.params=h.params)),this.headers||(this.headers=new so),this.context||(this.context=new IM),this.params){const m=this.params.toString();if(0===m.length)this.urlWithParams=i;else{const v=i.indexOf("?");this.urlWithParams=i+(-1===v?"?":v<i.length-1?"&":"")+m}}else this.params=new pa,this.urlWithParams=i}serializeBody(){return null===this.body?null:eI(this.body)||ab(this.body)||tI(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof pa?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||tI(this.body)?null:ab(this.body)?this.body.type||null:eI(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof pa?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(r={}){var i;const o=r.method||this.method,u=r.url||this.url,h=r.responseType||this.responseType,m=void 0!==r.body?r.body:this.body,v=void 0!==r.withCredentials?r.withCredentials:this.withCredentials,I=void 0!==r.reportProgress?r.reportProgress:this.reportProgress;let D=r.headers||this.headers,x=r.params||this.params;const O=null!==(i=r.context)&&void 0!==i?i:this.context;return void 0!==r.setHeaders&&(D=Object.keys(r.setHeaders).reduce((j,H)=>j.set(H,r.setHeaders[H]),D)),r.setParams&&(x=Object.keys(r.setParams).reduce((j,H)=>j.set(H,r.setParams[H]),x)),new ml(o,u,m,{params:x,headers:D,context:O,reportProgress:I,responseType:h,withCredentials:v})}}var nr=(()=>((nr=nr||{})[nr.Sent=0]="Sent",nr[nr.UploadProgress=1]="UploadProgress",nr[nr.ResponseHeader=2]="ResponseHeader",nr[nr.DownloadProgress=3]="DownloadProgress",nr[nr.Response=4]="Response",nr[nr.User=5]="User",nr))();class Rm extends class{constructor(r,i=200,o="OK"){this.headers=r.headers||new so,this.status=void 0!==r.status?r.status:i,this.statusText=r.statusText||o,this.url=r.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(r={}){super(r),this.type=nr.Response,this.body=void 0!==r.body?r.body:null}clone(r={}){return new Rm({body:void 0!==r.body?r.body:this.body,headers:r.headers||this.headers,status:void 0!==r.status?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}}function ub(s,r){return{body:r,headers:s.headers,context:s.context,observe:s.observe,params:s.params,reportProgress:s.reportProgress,responseType:s.responseType,withCredentials:s.withCredentials}}let Nm=(()=>{class s{constructor(i){this.handler=i}request(i,o,u={}){let h;if(i instanceof ml)h=i;else{let I,D;I=u.headers instanceof so?u.headers:new so(u.headers),u.params&&(D=u.params instanceof pa?u.params:new pa({fromObject:u.params})),h=new ml(i,o,void 0!==u.body?u.body:null,{headers:I,context:u.context,params:D,reportProgress:u.reportProgress,responseType:u.responseType||"json",withCredentials:u.withCredentials})}const m=(0,Xe.of)(h).pipe($f(I=>this.handler.handle(I)));if(i instanceof ml||"events"===u.observe)return m;const v=m.pipe(Ar(I=>I instanceof Rm));switch(u.observe||"body"){case"body":switch(h.responseType){case"arraybuffer":return v.pipe((0,bt.U)(I=>{if(null!==I.body&&!(I.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return I.body}));case"blob":return v.pipe((0,bt.U)(I=>{if(null!==I.body&&!(I.body instanceof Blob))throw new Error("Response is not a Blob.");return I.body}));case"text":return v.pipe((0,bt.U)(I=>{if(null!==I.body&&"string"!=typeof I.body)throw new Error("Response is not a string.");return I.body}));case"json":default:return v.pipe((0,bt.U)(I=>I.body))}case"response":return v;default:throw new Error(`Unreachable: unhandled observe type ${u.observe}}`)}}delete(i,o={}){return this.request("DELETE",i,o)}get(i,o={}){return this.request("GET",i,o)}head(i,o={}){return this.request("HEAD",i,o)}jsonp(i,o){return this.request("JSONP",i,{params:(new pa).append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,o={}){return this.request("OPTIONS",i,o)}patch(i,o,u={}){return this.request("PATCH",i,ub(u,o))}post(i,o,u={}){return this.request("POST",i,ub(u,o))}put(i,o,u={}){return this.request("PUT",i,ub(u,o))}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(QC))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();const fb=["*"];function Fm(s){return Error(`Unable to find icon with the name "${s}"`)}function pI(s){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${s}".`)}function gb(s){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${s}".`)}class _l{constructor(r,i,o){this.url=r,this.svgText=i,this.options=o}}let Sd=(()=>{class s{constructor(i,o,u,h){this._httpClient=i,this._sanitizer=o,this._errorHandler=h,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=u}addSvgIcon(i,o,u){return this.addSvgIconInNamespace("",i,o,u)}addSvgIconLiteral(i,o,u){return this.addSvgIconLiteralInNamespace("",i,o,u)}addSvgIconInNamespace(i,o,u,h){return this._addSvgIconConfig(i,o,new _l(u,null,h))}addSvgIconResolver(i){return this._resolvers.push(i),this}addSvgIconLiteralInNamespace(i,o,u,h){const m=this._sanitizer.sanitize(f.q3G.HTML,u);if(!m)throw gb(u);return this._addSvgIconConfig(i,o,new _l("",m,h))}addSvgIconSet(i,o){return this.addSvgIconSetInNamespace("",i,o)}addSvgIconSetLiteral(i,o){return this.addSvgIconSetLiteralInNamespace("",i,o)}addSvgIconSetInNamespace(i,o,u){return this._addSvgIconSetConfig(i,new _l(o,null,u))}addSvgIconSetLiteralInNamespace(i,o,u){const h=this._sanitizer.sanitize(f.q3G.HTML,o);if(!h)throw gb(o);return this._addSvgIconSetConfig(i,new _l("",h,u))}registerFontClassAlias(i,o=i){return this._fontCssClassesByAlias.set(i,o),this}classNameForFontAlias(i){return this._fontCssClassesByAlias.get(i)||i}setDefaultFontSetClass(i){return this._defaultFontSetClass=i,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(i){const o=this._sanitizer.sanitize(f.q3G.RESOURCE_URL,i);if(!o)throw pI(i);const u=this._cachedIconsByUrl.get(o);return u?(0,Xe.of)(zf(u)):this._loadSvgIconFromConfig(new _l(i,null)).pipe((0,Gr.b)(h=>this._cachedIconsByUrl.set(o,h)),(0,bt.U)(h=>zf(h)))}getNamedSvgIcon(i,o=""){const u=mb(o,i);let h=this._svgIconConfigs.get(u);if(h)return this._getSvgFromConfig(h);if(h=this._getIconConfigFromResolvers(o,i),h)return this._svgIconConfigs.set(u,h),this._getSvgFromConfig(h);const m=this._iconSetConfigs.get(o);return m?this._getSvgFromIconSetConfigs(i,m):(0,yM._)(Fm(u))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(i){return i.svgText?(0,Xe.of)(zf(this._svgElementFromConfig(i))):this._loadSvgIconFromConfig(i).pipe((0,bt.U)(o=>zf(o)))}_getSvgFromIconSetConfigs(i,o){const u=this._extractIconWithNameFromAnySet(i,o);return u?(0,Xe.of)(u):WC(o.filter(m=>!m.svgText).map(m=>this._loadSvgIconSetFromConfig(m).pipe(gl(v=>{const D=`Loading icon set URL: ${this._sanitizer.sanitize(f.q3G.RESOURCE_URL,m.url)} failed: ${v.message}`;return this._errorHandler.handleError(new Error(D)),(0,Xe.of)(null)})))).pipe((0,bt.U)(()=>{const m=this._extractIconWithNameFromAnySet(i,o);if(!m)throw Fm(i);return m}))}_extractIconWithNameFromAnySet(i,o){for(let u=o.length-1;u>=0;u--){const h=o[u];if(h.svgText&&h.svgText.indexOf(i)>-1){const m=this._svgElementFromConfig(h),v=this._extractSvgIconFromSet(m,i,h.options);if(v)return v}}return null}_loadSvgIconFromConfig(i){return this._fetchIcon(i).pipe((0,Gr.b)(o=>i.svgText=o),(0,bt.U)(()=>this._svgElementFromConfig(i)))}_loadSvgIconSetFromConfig(i){return i.svgText?(0,Xe.of)(null):this._fetchIcon(i).pipe((0,Gr.b)(o=>i.svgText=o))}_extractSvgIconFromSet(i,o,u){const h=i.querySelector(`[id="${o}"]`);if(!h)return null;const m=h.cloneNode(!0);if(m.removeAttribute("id"),"svg"===m.nodeName.toLowerCase())return this._setSvgAttributes(m,u);if("symbol"===m.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(m),u);const v=this._svgElementFromString("<svg></svg>");return v.appendChild(m),this._setSvgAttributes(v,u)}_svgElementFromString(i){const o=this._document.createElement("DIV");o.innerHTML=i;const u=o.querySelector("svg");if(!u)throw Error("<svg> tag not found");return u}_toSvgElement(i){const o=this._svgElementFromString("<svg></svg>"),u=i.attributes;for(let h=0;h<u.length;h++){const{name:m,value:v}=u[h];"id"!==m&&o.setAttribute(m,v)}for(let h=0;h<i.childNodes.length;h++)i.childNodes[h].nodeType===this._document.ELEMENT_NODE&&o.appendChild(i.childNodes[h].cloneNode(!0));return o}_setSvgAttributes(i,o){return i.setAttribute("fit",""),i.setAttribute("height","100%"),i.setAttribute("width","100%"),i.setAttribute("preserveAspectRatio","xMidYMid meet"),i.setAttribute("focusable","false"),o&&o.viewBox&&i.setAttribute("viewBox",o.viewBox),i}_fetchIcon(i){var o;const{url:u,options:h}=i,m=null!==(o=null==h?void 0:h.withCredentials)&&void 0!==o&&o;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==u)throw Error(`Cannot fetch icon from URL "${u}".`);const v=this._sanitizer.sanitize(f.q3G.RESOURCE_URL,u);if(!v)throw pI(u);const I=this._inProgressUrlFetches.get(v);if(I)return I;const D=this._httpClient.get(v,{responseType:"text",withCredentials:m}).pipe(KC(()=>this._inProgressUrlFetches.delete(v)),(0,YC.B)());return this._inProgressUrlFetches.set(v,D),D}_addSvgIconConfig(i,o,u){return this._svgIconConfigs.set(mb(i,o),u),this}_addSvgIconSetConfig(i,o){const u=this._iconSetConfigs.get(i);return u?u.push(o):this._iconSetConfigs.set(i,[o]),this}_svgElementFromConfig(i){if(!i.svgElement){const o=this._svgElementFromString(i.svgText);this._setSvgAttributes(o,i.options),i.svgElement=o}return i.svgElement}_getIconConfigFromResolvers(i,o){for(let u=0;u<this._resolvers.length;u++){const h=this._resolvers[u](o,i);if(h)return mI(h)?new _l(h.url,null,h.options):new _l(h,null)}}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(Nm,8),f.LFG(Wa),f.LFG(he,8),f.LFG(f.qLn))},s.\u0275prov=f.Yz7({factory:function(){return new s(f.LFG(Nm,8),f.LFG(Wa),f.LFG(he,8),f.LFG(f.qLn))},token:s,providedIn:"root"}),s})();function zf(s){return s.cloneNode(!0)}function mb(s,r){return s+":"+r}function mI(s){return!(!s.url||!s.options)}const _b=Pf(class{constructor(s){this._elementRef=s}}),_I=new f.OlP("mat-icon-location",{providedIn:"root",factory:function(){const s=(0,f.f3M)(he),r=s?s.location:null;return{getPathname:()=>r?r.pathname+r.search:""}}}),yb=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],bI=yb.map(s=>`[${s}]`).join(", "),EI=/^url\(['"]?#(.*?)['"]?\)$/;let Lm=(()=>{class s extends _b{constructor(i,o,u,h,m){super(i),this._iconRegistry=o,this._location=h,this._errorHandler=m,this._inline=!1,this._currentIconFetch=Id.w.EMPTY,u||i.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(i){this._inline=mr(i)}get svgIcon(){return this._svgIcon}set svgIcon(i){i!==this._svgIcon&&(i?this._updateSvgIcon(i):this._svgIcon&&this._clearSvgElement(),this._svgIcon=i)}get fontSet(){return this._fontSet}set fontSet(i){const o=this._cleanupFontValue(i);o!==this._fontSet&&(this._fontSet=o,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(i){const o=this._cleanupFontValue(i);o!==this._fontIcon&&(this._fontIcon=o,this._updateFontIconClasses())}_splitIconName(i){if(!i)return["",""];const o=i.split(":");switch(o.length){case 1:return["",o[0]];case 2:return o;default:throw Error(`Invalid icon name: "${i}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const i=this._elementsWithExternalReferences;if(i&&i.size){const o=this._location.getPathname();o!==this._previousPath&&(this._previousPath=o,this._prependPathToReferences(o))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(i){this._clearSvgElement();const o=i.querySelectorAll("style");for(let h=0;h<o.length;h++)o[h].textContent+=" ";const u=this._location.getPathname();this._previousPath=u,this._cacheChildrenWithExternalReferences(i),this._prependPathToReferences(u),this._elementRef.nativeElement.appendChild(i)}_clearSvgElement(){const i=this._elementRef.nativeElement;let o=i.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();o--;){const u=i.childNodes[o];(1!==u.nodeType||"svg"===u.nodeName.toLowerCase())&&i.removeChild(u)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const i=this._elementRef.nativeElement,o=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();o!=this._previousFontSetClass&&(this._previousFontSetClass&&i.classList.remove(this._previousFontSetClass),o&&i.classList.add(o),this._previousFontSetClass=o),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&i.classList.remove(this._previousFontIconClass),this.fontIcon&&i.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(i){return"string"==typeof i?i.trim().split(" ")[0]:i}_prependPathToReferences(i){const o=this._elementsWithExternalReferences;o&&o.forEach((u,h)=>{u.forEach(m=>{h.setAttribute(m.name,`url('${i}#${m.value}')`)})})}_cacheChildrenWithExternalReferences(i){const o=i.querySelectorAll(bI),u=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let h=0;h<o.length;h++)yb.forEach(m=>{const v=o[h],I=v.getAttribute(m),D=I?I.match(EI):null;if(D){let x=u.get(v);x||(x=[],u.set(v,x)),x.push({name:m,value:D[1]})}})}_updateSvgIcon(i){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),i){const[o,u]=this._splitIconName(i);o&&(this._svgNamespace=o),u&&(this._svgName=u),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(u,o).pipe(aa(1)).subscribe(h=>this._setSvgElement(h),h=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${o}:${u}! ${h.message}`))})}}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(f.SBq),f.Y36(Sd),f.$8M("aria-hidden"),f.Y36(_I),f.Y36(f.qLn))},s.\u0275cmp=f.Xpm({type:s,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(i,o){2&i&&(f.uIk("data-mat-icon-type",o._usingFontIcon()?"font":"svg")("data-mat-icon-name",o._svgName||o.fontIcon)("data-mat-icon-namespace",o._svgNamespace||o.fontSet),f.ekj("mat-icon-inline",o.inline)("mat-icon-no-color","primary"!==o.color&&"accent"!==o.color&&"warn"!==o.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[f.qOj],ngContentSelectors:fb,decls:1,vars:0,template:function(i,o){1&i&&(f.F$t(),f.Hsn(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),s})(),wI=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({imports:[[Qn],Qn]}),s})();class jk extends gr.L{notifyNext(r,i,o,u,h){this.destination.next(i)}notifyError(r,i){this.destination.error(r)}notifyComplete(r){this.destination.complete()}}class xM extends gr.L{constructor(r,i,o){super(),this.parent=r,this.outerValue=i,this.outerIndex=o,this.index=0}_next(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)}_error(r){this.parent.notifyError(r,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var RM=V(7444);function CI(s,r,i,o,u=new xM(s,i,o)){if(!u.closed)return r instanceof zn.y?r.subscribe(u):(0,RM.s)(r)(u)}var NM=V(6693);const rr={};class OM{constructor(r){this.resultSelector=r}call(r,i){return i.subscribe(new kM(r,this.resultSelector))}}class kM extends jk{constructor(r,i){super(r),this.resultSelector=i,this.active=0,this.values=[],this.observables=[]}_next(r){this.values.push(rr),this.observables.push(r)}_complete(){const r=this.observables,i=r.length;if(0===i)this.destination.complete();else{this.active=i,this.toRespond=i;for(let o=0;o<i;o++)this.add(CI(this,r[o],void 0,o))}}notifyComplete(r){0==(this.active-=1)&&this.destination.complete()}notifyNext(r,i,o){const u=this.values,m=this.toRespond?u[o]===rr?--this.toRespond:this.toRespond:0;u[o]=i,0===m&&(this.resultSelector?this._tryResultSelector(u):this.destination.next(u.slice()))}_tryResultSelector(r){let i;try{i=this.resultSelector.apply(this,r)}catch(o){return void this.destination.error(o)}this.destination.next(i)}}const Vm=(()=>{function s(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return s.prototype=Object.create(Error.prototype),s})();function vb(s){return new zn.y(r=>{let i;try{i=s()}catch(u){return void r.error(u)}return(i?(0,Fn.D)(i):(0,Ur.c)()).subscribe(r)})}var TI=V(2441);function En(s,r){return"function"==typeof r?i=>i.pipe(En((o,u)=>(0,Fn.D)(s(o,u)).pipe((0,bt.U)((h,m)=>r(o,h,u,m))))):i=>i.lift(new FM(s))}class FM{constructor(r){this.project=r}call(r,i){return i.subscribe(new LM(r,this.project))}}class LM extends Ui.Ds{constructor(r,i){super(r),this.project=i,this.index=0}_next(r){let i;const o=this.index++;try{i=this.project(r,o)}catch(u){return void this.destination.error(u)}this._innerSub(i)}_innerSub(r){const i=this.innerSubscription;i&&i.unsubscribe();const o=new Ui.IY(this),u=this.destination;u.add(o),this.innerSubscription=(0,Ui.ft)(r,o),this.innerSubscription!==o&&u.add(this.innerSubscription)}_complete(){const{innerSubscription:r}=this;(!r||r.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(r){this.destination.next(r)}}function Dd(s,r){let i=!1;return arguments.length>=2&&(i=!0),function(u){return u.lift(new VM(s,r,i))}}class VM{constructor(r,i,o=!1){this.accumulator=r,this.seed=i,this.hasSeed=o}call(r,i){return i.subscribe(new SI(r,this.accumulator,this.seed,this.hasSeed))}}class SI extends gr.L{constructor(r,i,o,u){super(r),this.accumulator=i,this._seed=o,this.hasSeed=u,this.index=0}get seed(){return this._seed}set seed(r){this.hasSeed=!0,this._seed=r}_next(r){if(this.hasSeed)return this._tryNext(r);this.seed=r,this.destination.next(r)}_tryNext(r){const i=this.index++;let o;try{o=this.accumulator(this.seed,r,i)}catch(u){this.destination.error(u)}this.seed=o,this.destination.next(o)}}function DI(s){return function(i){return 0===s?(0,Ur.c)():i.lift(new bb(s))}}class bb{constructor(r){if(this.total=r,this.total<0)throw new Qh}call(r,i){return i.subscribe(new Eb(r,this.total))}}class Eb extends gr.L{constructor(r,i){super(r),this.total=i,this.ring=new Array,this.count=0}_next(r){const i=this.ring,o=this.total,u=this.count++;i.length<o?i.push(r):i[u%o]=r}_complete(){const r=this.destination;let i=this.count;if(i>0){const o=this.count>=this.total?this.total:this.count,u=this.ring;for(let h=0;h<o;h++){const m=i++%o;r.next(u[m])}}r.complete()}}function ks(s=Ao){return r=>r.lift(new UM(s))}class UM{constructor(r){this.errorFactory=r}call(r,i){return i.subscribe(new AI(r,this.errorFactory))}}class AI extends gr.L{constructor(r,i){super(r),this.errorFactory=i,this.hasValue=!1}_next(r){this.hasValue=!0,this.destination.next(r)}_complete(){if(this.hasValue)return this.destination.complete();{let r;try{r=this.errorFactory()}catch(i){r=i}this.destination.error(r)}}}function Ao(){return new Vm}function Ps(s=null){return r=>r.lift(new oo(s))}class oo{constructor(r){this.defaultValue=r}call(r,i){return i.subscribe(new MI(r,this.defaultValue))}}class MI extends gr.L{constructor(r,i){super(r),this.defaultValue=i,this.isEmpty=!0}_next(r){this.isEmpty=!1,this.destination.next(r)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var wb=V(4487);function Hu(s,r){const i=arguments.length>=2;return o=>o.pipe(s?Ar((u,h)=>s(u,h,o)):wb.y,aa(1),i?Ps(r):ks(()=>new Vm))}var jM=V(1307);class ga{constructor(r,i){this.id=r,this.url=i}}class qf extends ga{constructor(r,i,o="imperative",u=null){super(r,i),this.navigationTrigger=o,this.restoredState=u}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ma extends ga{constructor(r,i,o){super(r,i),this.urlAfterRedirects=o}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class xI extends ga{constructor(r,i,o){super(r,i),this.reason=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class RI extends ga{constructor(r,i,o){super(r,i),this.error=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class HM extends ga{constructor(r,i,o,u){super(r,i),this.urlAfterRedirects=o,this.state=u}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class NI extends ga{constructor(r,i,o,u){super(r,i),this.urlAfterRedirects=o,this.state=u}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class OI extends ga{constructor(r,i,o,u,h){super(r,i),this.urlAfterRedirects=o,this.state=u,this.shouldActivate=h}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Um extends ga{constructor(r,i,o,u){super(r,i),this.urlAfterRedirects=o,this.state=u}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $M extends ga{constructor(r,i,o,u){super(r,i),this.urlAfterRedirects=o,this.state=u}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cb{constructor(r){this.route=r}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ib{constructor(r){this.route=r}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Tb{constructor(r){this.snapshot=r}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bm{constructor(r){this.snapshot=r}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sb{constructor(r){this.snapshot=r}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Db{constructor(r){this.snapshot=r}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ab{constructor(r,i,o){this.routerEvent=r,this.position=i,this.anchor=o}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const zt="primary";class kI{constructor(r){this.params=r||{}}has(r){return Object.prototype.hasOwnProperty.call(this.params,r)}get(r){if(this.has(r)){const i=this.params[r];return Array.isArray(i)?i[0]:i}return null}getAll(r){if(this.has(r)){const i=this.params[r];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}}function $u(s){return new kI(s)}const Mb="ngNavigationCancelingError";function jm(s){const r=Error("NavigationCancelingError: "+s);return r[Mb]=!0,r}function zM(s,r,i){const o=i.path.split("/");if(o.length>s.length||"full"===i.pathMatch&&(r.hasChildren()||o.length<s.length))return null;const u={};for(let h=0;h<o.length;h++){const m=o[h],v=s[h];if(m.startsWith(":"))u[m.substring(1)]=v;else if(m!==v.path)return null}return{consumed:s.slice(0,o.length),posParams:u}}function Mo(s,r){const i=s?Object.keys(s):void 0,o=r?Object.keys(r):void 0;if(!i||!o||i.length!=o.length)return!1;let u;for(let h=0;h<i.length;h++)if(u=i[h],!PI(s[u],r[u]))return!1;return!0}function PI(s,r){if(Array.isArray(s)&&Array.isArray(r)){if(s.length!==r.length)return!1;const i=[...s].sort(),o=[...r].sort();return i.every((u,h)=>o[h]===u)}return s===r}function FI(s){return Array.prototype.concat.apply([],s)}function LI(s){return s.length>0?s[s.length-1]:null}function zr(s,r){for(const i in s)s.hasOwnProperty(i)&&r(s[i],i)}function xo(s){return(0,f.CqO)(s)?s:(0,f.QGY)(s)?(0,Fn.D)(Promise.resolve(s)):(0,Xe.of)(s)}const ZM={exact:function BI(s,r,i){if(!vl(s.segments,r.segments)||!Wf(s.segments,r.segments,i)||s.numberOfChildren!==r.numberOfChildren)return!1;for(const o in r.children)if(!s.children[o]||!BI(s.children[o],r.children[o],i))return!1;return!0},subset:jI},VI={exact:function(s,r){return Mo(s,r)},subset:function(s,r){return Object.keys(r).length<=Object.keys(s).length&&Object.keys(r).every(i=>PI(s[i],r[i]))},ignored:()=>!0};function UI(s,r,i){return ZM[i.paths](s.root,r.root,i.matrixParams)&&VI[i.queryParams](s.queryParams,r.queryParams)&&!("exact"===i.fragment&&s.fragment!==r.fragment)}function jI(s,r,i){return xb(s,r,r.segments,i)}function xb(s,r,i,o){if(s.segments.length>i.length){const u=s.segments.slice(0,i.length);return!(!vl(u,i)||r.hasChildren()||!Wf(u,i,o))}if(s.segments.length===i.length){if(!vl(s.segments,i)||!Wf(s.segments,i,o))return!1;for(const u in r.children)if(!s.children[u]||!jI(s.children[u],r.children[u],o))return!1;return!0}{const u=i.slice(0,s.segments.length),h=i.slice(s.segments.length);return!!(vl(s.segments,u)&&Wf(s.segments,u,o)&&s.children[zt])&&xb(s.children[zt],r,h,o)}}function Wf(s,r,i){return r.every((o,u)=>VI[i](s[u].parameters,o.parameters))}class yl{constructor(r,i,o){this.root=r,this.queryParams=i,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$u(this.queryParams)),this._queryParamMap}toString(){return Rb.serialize(this)}}class Yt{constructor(r,i){this.segments=r,this.children=i,this.parent=null,zr(i,(o,u)=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ro(this)}}class Ad{constructor(r,i){this.path=r,this.parameters=i}get parameterMap(){return this._parameterMap||(this._parameterMap=$u(this.parameters)),this._parameterMap}toString(){return kb(this)}}function vl(s,r){return s.length===r.length&&s.every((i,o)=>i.path===r[o].path)}class Hm{}class $m{parse(r){const i=new Wm(r);return new yl(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(r){var s;return`${`/${Zf(r.root,!0)}`}${function(s){const r=Object.keys(s).map(i=>{const o=s[i];return Array.isArray(o)?o.map(u=>`${_a(i)}=${_a(u)}`).join("&"):`${_a(i)}=${_a(o)}`}).filter(i=>!!i);return r.length?`?${r.join("&")}`:""}(r.queryParams)}${"string"==typeof r.fragment?`#${s=r.fragment,encodeURI(s)}`:""}`}}const Rb=new $m;function Ro(s){return s.segments.map(r=>kb(r)).join("/")}function Zf(s,r){if(!s.hasChildren())return Ro(s);if(r){const i=s.children[zt]?Zf(s.children[zt],!1):"",o=[];return zr(s.children,(u,h)=>{h!==zt&&o.push(`${h}:${Zf(u,!1)}`)}),o.length>0?`${i}(${o.join("//")})`:i}{const i=function(s,r){let i=[];return zr(s.children,(o,u)=>{u===zt&&(i=i.concat(r(o,u)))}),zr(s.children,(o,u)=>{u!==zt&&(i=i.concat(r(o,u)))}),i}(s,(o,u)=>u===zt?[Zf(s.children[zt],!1)]:[`${u}:${Zf(o,!1)}`]);return 1===Object.keys(s.children).length&&null!=s.children[zt]?`${Ro(s)}/${i[0]}`:`${Ro(s)}/(${i.join("//")})`}}function GI(s){return encodeURIComponent(s).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _a(s){return GI(s).replace(/%3B/gi,";")}function Kf(s){return GI(s).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Nb(s){return decodeURIComponent(s)}function Ob(s){return Nb(s.replace(/\+/g,"%20"))}function kb(s){return`${Kf(s.path)}${function(s){return Object.keys(s).map(r=>`;${Kf(r)}=${Kf(s[r])}`).join("")}(s.parameters)}`}const QM=/^[^\/()?;=#]+/;function Gm(s){const r=s.match(QM);return r?r[0]:""}const JM=/^[^=?&#]+/,XM=/^[^?&#]+/;class Wm{constructor(r){this.url=r,this.remaining=r}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Yt([],{}):new Yt([],this.parseChildren())}parseQueryParams(){const r={};if(this.consumeOptional("?"))do{this.parseQueryParam(r)}while(this.consumeOptional("&"));return r}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(r.length>0||Object.keys(i).length>0)&&(o[zt]=new Yt(r,i)),o}parseSegment(){const r=Gm(this.remaining);if(""===r&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(r),new Ad(Nb(r),this.parseMatrixParams())}parseMatrixParams(){const r={};for(;this.consumeOptional(";");)this.parseParam(r);return r}parseParam(r){const i=Gm(this.remaining);if(!i)return;this.capture(i);let o="";if(this.consumeOptional("=")){const u=Gm(this.remaining);u&&(o=u,this.capture(o))}r[Nb(i)]=Nb(o)}parseQueryParam(r){const i=function(s){const r=s.match(JM);return r?r[0]:""}(this.remaining);if(!i)return;this.capture(i);let o="";if(this.consumeOptional("=")){const m=function(s){const r=s.match(XM);return r?r[0]:""}(this.remaining);m&&(o=m,this.capture(o))}const u=Ob(i),h=Ob(o);if(r.hasOwnProperty(u)){let m=r[u];Array.isArray(m)||(m=[m],r[u]=m),m.push(h)}else r[u]=h}parseParens(r){const i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=Gm(this.remaining),u=this.remaining[o.length];if("/"!==u&&")"!==u&&";"!==u)throw new Error(`Cannot parse url '${this.url}'`);let h;o.indexOf(":")>-1?(h=o.substr(0,o.indexOf(":")),this.capture(h),this.capture(":")):r&&(h=zt);const m=this.parseChildren();i[h]=1===Object.keys(m).length?m[zt]:new Yt([],m),this.consumeOptional("//")}return i}peekStartsWith(r){return this.remaining.startsWith(r)}consumeOptional(r){return!!this.peekStartsWith(r)&&(this.remaining=this.remaining.substring(r.length),!0)}capture(r){if(!this.consumeOptional(r))throw new Error(`Expected "${r}".`)}}class Ln{constructor(r){this._root=r}get root(){return this._root.value}parent(r){const i=this.pathFromRoot(r);return i.length>1?i[i.length-2]:null}children(r){const i=zI(r,this._root);return i?i.children.map(o=>o.value):[]}firstChild(r){const i=zI(r,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(r){const i=Zm(r,this._root);return i.length<2?[]:i[i.length-2].children.map(u=>u.value).filter(u=>u!==r)}pathFromRoot(r){return Zm(r,this._root).map(i=>i.value)}}function zI(s,r){if(s===r.value)return r;for(const i of r.children){const o=zI(s,i);if(o)return o}return null}function Zm(s,r){if(s===r.value)return[r];for(const i of r.children){const o=Zm(s,i);if(o.length)return o.unshift(r),o}return[]}class ao{constructor(r,i){this.value=r,this.children=i}toString(){return`TreeNode(${this.value})`}}function Yf(s){const r={};return s&&s.children.forEach(i=>r[i.value.outlet]=i),r}class Pb extends Ln{constructor(r,i){super(r),this.snapshot=i,Lb(this,r)}toString(){return this.snapshot.toString()}}function Fb(s,r){const i=function(s,r){const m=new Km([],{},{},"",{},zt,r,null,s.root,-1,{});return new Md("",new ao(m,[]))}(s,r),o=new Vr([new Ad("",{})]),u=new Vr({}),h=new Vr({}),m=new Vr({}),v=new Vr(""),I=new bl(o,u,m,v,h,zt,r,i.root);return I.snapshot=i.root,new Pb(new ao(I,[]),i)}class bl{constructor(r,i,o,u,h,m,v,I){this.url=r,this.params=i,this.queryParams=o,this.fragment=u,this.data=h,this.outlet=m,this.component=v,this._futureSnapshot=I}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,bt.U)(r=>$u(r)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,bt.U)(r=>$u(r)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function WI(s,r="emptyOnly"){const i=s.pathFromRoot;let o=0;if("always"!==r)for(o=i.length-1;o>=1;){const u=i[o],h=i[o-1];if(u.routeConfig&&""===u.routeConfig.path)o--;else{if(h.component)break;o--}}return function(s){return s.reduce((r,i)=>({params:Object.assign(Object.assign({},r.params),i.params),data:Object.assign(Object.assign({},r.data),i.data),resolve:Object.assign(Object.assign({},r.resolve),i._resolvedData)}),{params:{},data:{},resolve:{}})}(i.slice(o))}class Km{constructor(r,i,o,u,h,m,v,I,D,x,O){this.url=r,this.params=i,this.queryParams=o,this.fragment=u,this.data=h,this.outlet=m,this.component=v,this.routeConfig=I,this._urlSegment=D,this._lastPathIndex=x,this._resolve=O}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=$u(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$u(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Md extends Ln{constructor(r,i){super(i),this.url=r,Lb(this,i)}toString(){return ZI(this._root)}}function Lb(s,r){r.value._routerState=s,r.children.forEach(i=>Lb(s,i))}function ZI(s){const r=s.children.length>0?` { ${s.children.map(ZI).join(", ")} } `:"";return`${s.value}${r}`}function Vb(s){if(s.snapshot){const r=s.snapshot,i=s._futureSnapshot;s.snapshot=i,Mo(r.queryParams,i.queryParams)||s.queryParams.next(i.queryParams),r.fragment!==i.fragment&&s.fragment.next(i.fragment),Mo(r.params,i.params)||s.params.next(i.params),function(s,r){if(s.length!==r.length)return!1;for(let i=0;i<s.length;++i)if(!Mo(s[i],r[i]))return!1;return!0}(r.url,i.url)||s.url.next(i.url),Mo(r.data,i.data)||s.data.next(i.data)}else s.snapshot=s._futureSnapshot,s.data.next(s._futureSnapshot.data)}function xd(s,r){return Mo(s.params,r.params)&&function(s,r){return vl(s,r)&&s.every((i,o)=>Mo(i.parameters,r[o].parameters))}(s.url,r.url)&&!(!s.parent!=!r.parent)&&(!s.parent||xd(s.parent,r.parent))}function Qf(s,r,i){if(i&&s.shouldReuseRoute(r.value,i.value.snapshot)){const o=i.value;o._futureSnapshot=r.value;const u=function(s,r,i){return r.children.map(o=>{for(const u of i.children)if(s.shouldReuseRoute(o.value,u.value.snapshot))return Qf(s,o,u);return Qf(s,o)})}(s,r,i);return new ao(o,u)}{if(s.shouldAttach(r.value)){const h=s.retrieve(r.value);if(null!==h){const m=h.route;return Ub(r,m),m}}const o=function(s){return new bl(new Vr(s.url),new Vr(s.params),new Vr(s.queryParams),new Vr(s.fragment),new Vr(s.data),s.outlet,s.component,s)}(r.value),u=r.children.map(h=>Qf(s,h));return new ao(o,u)}}function Ub(s,r){if(s.value.routeConfig!==r.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(s.children.length!==r.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");r.value._futureSnapshot=s.value;for(let i=0;i<s.children.length;++i)Ub(s.children[i],r.children[i])}function Ym(s){return"object"==typeof s&&null!=s&&!s.outlets&&!s.segmentPath}function ep(s){return"object"==typeof s&&null!=s&&s.outlets}function Bb(s,r,i,o,u){let h={};return o&&zr(o,(m,v)=>{h[v]=Array.isArray(m)?m.map(I=>`${I}`):`${m}`}),new yl(i.root===s?r:jb(i.root,s,r),h,u)}function jb(s,r,i){const o={};return zr(s.children,(u,h)=>{o[h]=u===r?i:jb(u,r,i)}),new Yt(s.segments,o)}class Hb{constructor(r,i,o){if(this.isAbsolute=r,this.numberOfDoubleDots=i,this.commands=o,r&&o.length>0&&Ym(o[0]))throw new Error("Root segment cannot have matrix parameters");const u=o.find(ep);if(u&&u!==LI(o))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $b{constructor(r,i,o){this.segmentGroup=r,this.processChildren=i,this.index=o}}function ix(s,r,i){if(s||(s=new Yt([],{})),0===s.segments.length&&s.hasChildren())return Gb(s,r,i);const o=function(s,r,i){let o=0,u=r;const h={match:!1,pathIndex:0,commandIndex:0};for(;u<s.segments.length;){if(o>=i.length)return h;const m=s.segments[u],v=i[o];if(ep(v))break;const I=`${v}`,D=o<i.length-1?i[o+1]:null;if(u>0&&void 0===I)break;if(I&&D&&"object"==typeof D&&void 0===D.outlets){if(!eT(I,D,m))return h;o+=2}else{if(!eT(I,{},m))return h;o++}u++}return{match:!0,pathIndex:u,commandIndex:o}}(s,r,i),u=i.slice(o.commandIndex);if(o.match&&o.pathIndex<s.segments.length){const h=new Yt(s.segments.slice(0,o.pathIndex),{});return h.children[zt]=new Yt(s.segments.slice(o.pathIndex),s.children),Gb(h,0,u)}return o.match&&0===u.length?new Yt(s.segments,{}):o.match&&!s.hasChildren()?JI(s,r,i):o.match?Gb(s,0,u):JI(s,r,i)}function Gb(s,r,i){if(0===i.length)return new Yt(s.segments,{});{const o=function(s){return ep(s[0])?s[0].outlets:{[zt]:s}}(i),u={};return zr(o,(h,m)=>{"string"==typeof h&&(h=[h]),null!==h&&(u[m]=ix(s.children[m],r,h))}),zr(s.children,(h,m)=>{void 0===o[m]&&(u[m]=h)}),new Yt(s.segments,u)}}function JI(s,r,i){const o=s.segments.slice(0,r);let u=0;for(;u<i.length;){const h=i[u];if(ep(h)){const I=XI(h.outlets);return new Yt(o,I)}if(0===u&&Ym(i[0])){o.push(new Ad(s.segments[r].path,tp(i[0]))),u++;continue}const m=ep(h)?h.outlets[zt]:`${h}`,v=u<i.length-1?i[u+1]:null;m&&v&&Ym(v)?(o.push(new Ad(m,tp(v))),u+=2):(o.push(new Ad(m,{})),u++)}return new Yt(o,{})}function XI(s){const r={};return zr(s,(i,o)=>{"string"==typeof i&&(i=[i]),null!==i&&(r[o]=JI(new Yt([],{}),0,i))}),r}function tp(s){const r={};return zr(s,(i,o)=>r[o]=`${i}`),r}function eT(s,r,i){return s==i.path&&Mo(r,i.parameters)}class tT{constructor(r,i,o,u){this.routeReuseStrategy=r,this.futureState=i,this.currState=o,this.forwardEvent=u}activate(r){const i=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,o,r),Vb(this.futureState.root),this.activateChildRoutes(i,o,r)}deactivateChildRoutes(r,i,o){const u=Yf(i);r.children.forEach(h=>{const m=h.value.outlet;this.deactivateRoutes(h,u[m],o),delete u[m]}),zr(u,(h,m)=>{this.deactivateRouteAndItsChildren(h,o)})}deactivateRoutes(r,i,o){const u=r.value,h=i?i.value:null;if(u===h)if(u.component){const m=o.getContext(u.outlet);m&&this.deactivateChildRoutes(r,i,m.children)}else this.deactivateChildRoutes(r,i,o);else h&&this.deactivateRouteAndItsChildren(i,o)}deactivateRouteAndItsChildren(r,i){this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,i):this.deactivateRouteAndOutlet(r,i)}detachAndStoreRouteSubtree(r,i){const o=i.getContext(r.value.outlet);if(o&&o.outlet){const u=o.outlet.detach(),h=o.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:u,route:r,contexts:h})}}deactivateRouteAndOutlet(r,i){const o=i.getContext(r.value.outlet),u=o&&r.value.component?o.children:i,h=Yf(r);for(const m of Object.keys(h))this.deactivateRouteAndItsChildren(h[m],u);o&&o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated(),o.attachRef=null,o.resolver=null,o.route=null)}activateChildRoutes(r,i,o){const u=Yf(i);r.children.forEach(h=>{this.activateRoutes(h,u[h.value.outlet],o),this.forwardEvent(new Db(h.value.snapshot))}),r.children.length&&this.forwardEvent(new Bm(r.value.snapshot))}activateRoutes(r,i,o){const u=r.value,h=i?i.value:null;if(Vb(u),u===h)if(u.component){const m=o.getOrCreateContext(u.outlet);this.activateChildRoutes(r,i,m.children)}else this.activateChildRoutes(r,i,o);else if(u.component){const m=o.getOrCreateContext(u.outlet);if(this.routeReuseStrategy.shouldAttach(u.snapshot)){const v=this.routeReuseStrategy.retrieve(u.snapshot);this.routeReuseStrategy.store(u.snapshot,null),m.children.onOutletReAttached(v.contexts),m.attachRef=v.componentRef,m.route=v.route.value,m.outlet&&m.outlet.attach(v.componentRef,v.route.value),Rd(v.route)}else{const v=function(s){for(let r=s.parent;r;r=r.parent){const i=r.routeConfig;if(i&&i._loadedConfig)return i._loadedConfig;if(i&&i.component)return null}return null}(u.snapshot),I=v?v.module.componentFactoryResolver:null;m.attachRef=null,m.route=u,m.resolver=I,m.outlet&&m.outlet.activateWith(u,I),this.activateChildRoutes(r,null,m.children)}}else this.activateChildRoutes(r,null,o)}}function Rd(s){Vb(s.value),s.children.forEach(Rd)}class zb{constructor(r,i){this.routes=r,this.module=i}}function El(s){return"function"==typeof s}function Gu(s){return s instanceof yl}const np=Symbol("INITIAL_VALUE");function Od(){return En(s=>function(...s){let r,i;return(0,sd.K)(s[s.length-1])&&(i=s.pop()),"function"==typeof s[s.length-1]&&(r=s.pop()),1===s.length&&(0,Hf.k)(s[0])&&(s=s[0]),(0,NM.n)(s,i).lift(new OM(r))}(s.map(r=>r.pipe(aa(1),Js(np)))).pipe(Dd((r,i)=>{let o=!1;return i.reduce((u,h,m)=>u!==np?u:(h===np&&(o=!0),o||!1!==h&&m!==i.length-1&&!Gu(h)?u:h),r)},np),Ar(r=>r!==np),(0,bt.U)(r=>Gu(r)?r:!0===r),aa(1)))}let qb=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=f.Xpm({type:s,selectors:[["ng-component"]],decls:1,vars:0,template:function(i,o){1&i&&f._UZ(0,"router-outlet")},directives:function(){return[sE]},encapsulation:2}),s})();function Wb(s,r=""){for(let i=0;i<s.length;i++){const o=s[i];cx(o,rT(r,o))}}function cx(s,r){s.children&&Wb(s.children,r)}function rT(s,r){return r?s||r.path?s&&!r.path?`${s}/`:!s&&r.path?r.path:`${s}/${r.path}`:"":s}function Zb(s){const r=s.children&&s.children.map(Zb),i=r?Object.assign(Object.assign({},s),{children:r}):Object.assign({},s);return!i.component&&(r||i.loadChildren)&&i.outlet&&i.outlet!==zt&&(i.component=qb),i}function qi(s){return s.outlet||zt}function iT(s,r){const i=s.filter(o=>qi(o)===r);return i.push(...s.filter(o=>qi(o)!==r)),i}const Kb={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function rp(s,r,i){var o;if(""===r.path)return"full"===r.pathMatch&&(s.hasChildren()||i.length>0)?Object.assign({},Kb):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const h=(r.matcher||zM)(i,s,r);if(!h)return Object.assign({},Kb);const m={};zr(h.posParams,(I,D)=>{m[D]=I.path});const v=h.consumed.length>0?Object.assign(Object.assign({},m),h.consumed[h.consumed.length-1].parameters):m;return{matched:!0,consumedSegments:h.consumed,lastChild:h.consumed.length,parameters:v,positionalParamSegments:null!==(o=h.posParams)&&void 0!==o?o:{}}}function Qm(s,r,i,o,u="corrected"){if(i.length>0&&function(s,r,i){return i.some(o=>ip(s,r,o)&&qi(o)!==zt)}(s,i,o)){const m=new Yt(r,function(s,r,i,o){const u={};u[zt]=o,o._sourceSegment=s,o._segmentIndexShift=r.length;for(const h of i)if(""===h.path&&qi(h)!==zt){const m=new Yt([],{});m._sourceSegment=s,m._segmentIndexShift=r.length,u[qi(h)]=m}return u}(s,r,o,new Yt(i,s.children)));return m._sourceSegment=s,m._segmentIndexShift=r.length,{segmentGroup:m,slicedSegments:[]}}if(0===i.length&&function(s,r,i){return i.some(o=>ip(s,r,o))}(s,i,o)){const m=new Yt(s.segments,function(s,r,i,o,u,h){const m={};for(const v of o)if(ip(s,i,v)&&!u[qi(v)]){const I=new Yt([],{});I._sourceSegment=s,I._segmentIndexShift="legacy"===h?s.segments.length:r.length,m[qi(v)]=I}return Object.assign(Object.assign({},u),m)}(s,r,i,o,s.children,u));return m._sourceSegment=s,m._segmentIndexShift=r.length,{segmentGroup:m,slicedSegments:i}}const h=new Yt(s.segments,s.children);return h._sourceSegment=s,h._segmentIndexShift=r.length,{segmentGroup:h,slicedSegments:i}}function ip(s,r,i){return(!(s.hasChildren()||r.length>0)||"full"!==i.pathMatch)&&""===i.path}function sT(s,r,i,o){return!!(qi(s)===o||o!==zt&&ip(r,i,s))&&("**"===s.path||rp(r,s,i).matched)}function oT(s,r,i){return 0===r.length&&!s.children[i]}class sp{constructor(r){this.segmentGroup=r||null}}class aT{constructor(r){this.urlTree=r}}function Jm(s){return new zn.y(r=>r.error(new sp(s)))}function lT(s){return new zn.y(r=>r.error(new aT(s)))}function px(s){return new zn.y(r=>r.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${s}'`)))}class cT{constructor(r,i,o,u,h){this.configLoader=i,this.urlSerializer=o,this.urlTree=u,this.config=h,this.allowRedirects=!0,this.ngModule=r.get(f.h0i)}apply(){const r=Qm(this.urlTree.root,[],[],this.config).segmentGroup,i=new Yt(r.segments,r.children);return this.expandSegmentGroup(this.ngModule,this.config,i,zt).pipe((0,bt.U)(h=>this.createUrlTree(Qb(h),this.urlTree.queryParams,this.urlTree.fragment))).pipe(gl(h=>{if(h instanceof aT)return this.allowRedirects=!1,this.match(h.urlTree);throw h instanceof sp?this.noMatchError(h):h}))}match(r){return this.expandSegmentGroup(this.ngModule,this.config,r.root,zt).pipe((0,bt.U)(u=>this.createUrlTree(Qb(u),r.queryParams,r.fragment))).pipe(gl(u=>{throw u instanceof sp?this.noMatchError(u):u}))}noMatchError(r){return new Error(`Cannot match any routes. URL Segment: '${r.segmentGroup}'`)}createUrlTree(r,i,o){const u=r.segments.length>0?new Yt([],{[zt]:r}):r;return new yl(u,i,o)}expandSegmentGroup(r,i,o,u){return 0===o.segments.length&&o.hasChildren()?this.expandChildren(r,i,o).pipe((0,bt.U)(h=>new Yt([],h))):this.expandSegment(r,o,i,o.segments,u,!0)}expandChildren(r,i,o){const u=[];for(const h of Object.keys(o.children))"primary"===h?u.unshift(h):u.push(h);return(0,Fn.D)(u).pipe($f(h=>{const m=o.children[h],v=iT(i,h);return this.expandSegmentGroup(r,v,m,h).pipe((0,bt.U)(I=>({segment:I,outlet:h})))}),Dd((h,m)=>(h[m.outlet]=m.segment,h),{}),function(s,r){const i=arguments.length>=2;return o=>o.pipe(s?Ar((u,h)=>s(u,h,o)):wb.y,DI(1),i?Ps(r):ks(()=>new Vm))}())}expandSegment(r,i,o,u,h,m){return(0,Fn.D)(o).pipe($f(v=>this.expandSegmentAgainstRoute(r,i,o,v,u,h,m).pipe(gl(D=>{if(D instanceof sp)return(0,Xe.of)(null);throw D}))),Hu(v=>!!v),gl((v,I)=>{if(v instanceof Vm||"EmptyError"===v.name){if(oT(i,u,h))return(0,Xe.of)(new Yt([],{}));throw new sp(i)}throw v}))}expandSegmentAgainstRoute(r,i,o,u,h,m,v){return sT(u,i,h,m)?void 0===u.redirectTo?this.matchSegmentAgainstRoute(r,i,u,h,m):v&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(r,i,o,u,h,m):Jm(i):Jm(i)}expandSegmentAgainstRouteUsingRedirect(r,i,o,u,h,m){return"**"===u.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(r,o,u,m):this.expandRegularSegmentAgainstRouteUsingRedirect(r,i,o,u,h,m)}expandWildCardWithParamsAgainstRouteUsingRedirect(r,i,o,u){const h=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?lT(h):this.lineralizeSegments(o,h).pipe((0,Si.zg)(m=>{const v=new Yt(m,{});return this.expandSegment(r,v,i,m,u,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(r,i,o,u,h,m){const{matched:v,consumedSegments:I,lastChild:D,positionalParamSegments:x}=rp(i,u,h);if(!v)return Jm(i);const O=this.applyRedirectCommands(I,u.redirectTo,x);return u.redirectTo.startsWith("/")?lT(O):this.lineralizeSegments(u,O).pipe((0,Si.zg)(j=>this.expandSegment(r,i,o,j.concat(h.slice(D)),m,!1)))}matchSegmentAgainstRoute(r,i,o,u,h){if("**"===o.path)return o.loadChildren?(o._loadedConfig?(0,Xe.of)(o._loadedConfig):this.configLoader.load(r.injector,o)).pipe((0,bt.U)(j=>(o._loadedConfig=j,new Yt(u,{})))):(0,Xe.of)(new Yt(u,{}));const{matched:m,consumedSegments:v,lastChild:I}=rp(i,o,u);if(!m)return Jm(i);const D=u.slice(I);return this.getChildConfig(r,o,u).pipe((0,Si.zg)(O=>{const j=O.module,H=O.routes,{segmentGroup:ee,slicedSegments:ve}=Qm(i,v,D,H),xe=new Yt(ee.segments,ee.children);if(0===ve.length&&xe.hasChildren())return this.expandChildren(j,H,xe).pipe((0,bt.U)(mt=>new Yt(v,mt)));if(0===H.length&&0===ve.length)return(0,Xe.of)(new Yt(v,{}));const $e=qi(o)===h;return this.expandSegment(j,xe,H,ve,$e?zt:h,!0).pipe((0,bt.U)(Qe=>new Yt(v.concat(Qe.segments),Qe.children)))}))}getChildConfig(r,i,o){return i.children?(0,Xe.of)(new zb(i.children,r)):i.loadChildren?void 0!==i._loadedConfig?(0,Xe.of)(i._loadedConfig):this.runCanLoadGuards(r.injector,i,o).pipe((0,Si.zg)(u=>{return u?this.configLoader.load(r.injector,i).pipe((0,bt.U)(h=>(i._loadedConfig=h,h))):(s=i,new zn.y(r=>r.error(jm(`Cannot load children because the guard of the route "path: '${s.path}'" returned false`))));var s})):(0,Xe.of)(new zb([],r))}runCanLoadGuards(r,i,o){const u=i.canLoad;if(!u||0===u.length)return(0,Xe.of)(!0);const h=u.map(m=>{const v=r.get(m);let I;if((s=v)&&El(s.canLoad))I=v.canLoad(i,o);else{if(!El(v))throw new Error("Invalid CanLoad guard");I=v(i,o)}var s;return xo(I)});return(0,Xe.of)(h).pipe(Od(),(0,Gr.b)(m=>{if(!Gu(m))return;const v=jm(`Redirecting to "${this.urlSerializer.serialize(m)}"`);throw v.url=m,v}),(0,bt.U)(m=>!0===m))}lineralizeSegments(r,i){let o=[],u=i.root;for(;;){if(o=o.concat(u.segments),0===u.numberOfChildren)return(0,Xe.of)(o);if(u.numberOfChildren>1||!u.children[zt])return px(r.redirectTo);u=u.children[zt]}}applyRedirectCommands(r,i,o){return this.applyRedirectCreatreUrlTree(i,this.urlSerializer.parse(i),r,o)}applyRedirectCreatreUrlTree(r,i,o,u){const h=this.createSegmentGroup(r,i.root,o,u);return new yl(h,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(r,i){const o={};return zr(r,(u,h)=>{if("string"==typeof u&&u.startsWith(":")){const v=u.substring(1);o[h]=i[v]}else o[h]=u}),o}createSegmentGroup(r,i,o,u){const h=this.createSegments(r,i.segments,o,u);let m={};return zr(i.children,(v,I)=>{m[I]=this.createSegmentGroup(r,v,o,u)}),new Yt(h,m)}createSegments(r,i,o,u){return i.map(h=>h.path.startsWith(":")?this.findPosParam(r,h,u):this.findOrReturn(h,o))}findPosParam(r,i,o){const u=o[i.path.substring(1)];if(!u)throw new Error(`Cannot redirect to '${r}'. Cannot find '${i.path}'.`);return u}findOrReturn(r,i){let o=0;for(const u of i){if(u.path===r.path)return i.splice(o),u;o++}return r}}function Qb(s){const r={};for(const o of Object.keys(s.children)){const h=Qb(s.children[o]);(h.segments.length>0||h.hasChildren())&&(r[o]=h)}return function(s){if(1===s.numberOfChildren&&s.children[zt]){const r=s.children[zt];return new Yt(s.segments.concat(r.segments),r.children)}return s}(new Yt(s.segments,r))}class hT{constructor(r){this.path=r,this.route=this.path[this.path.length-1]}}class Xm{constructor(r,i){this.component=r,this.route=i}}function _x(s,r,i){const o=s._root;return zu(o,r?r._root:null,i,[o.value])}function kd(s,r,i){const o=function(s){if(!s)return null;for(let r=s.parent;r;r=r.parent){const i=r.routeConfig;if(i&&i._loadedConfig)return i._loadedConfig}return null}(r);return(o?o.module.injector:i).get(s)}function zu(s,r,i,o,u={canDeactivateChecks:[],canActivateChecks:[]}){const h=Yf(r);return s.children.forEach(m=>{(function(s,r,i,o,u={canDeactivateChecks:[],canActivateChecks:[]}){const h=s.value,m=r?r.value:null,v=i?i.getContext(s.value.outlet):null;if(m&&h.routeConfig===m.routeConfig){const I=function(s,r,i){if("function"==typeof i)return i(s,r);switch(i){case"pathParamsChange":return!vl(s.url,r.url);case"pathParamsOrQueryParamsChange":return!vl(s.url,r.url)||!Mo(s.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xd(s,r)||!Mo(s.queryParams,r.queryParams);case"paramsChange":default:return!xd(s,r)}}(m,h,h.routeConfig.runGuardsAndResolvers);I?u.canActivateChecks.push(new hT(o)):(h.data=m.data,h._resolvedData=m._resolvedData),zu(s,r,h.component?v?v.children:null:i,o,u),I&&v&&v.outlet&&v.outlet.isActivated&&u.canDeactivateChecks.push(new Xm(v.outlet.component,m))}else m&&qu(r,v,u),u.canActivateChecks.push(new hT(o)),zu(s,null,h.component?v?v.children:null:i,o,u)})(m,h[m.value.outlet],i,o.concat([m.value]),u),delete h[m.value.outlet]}),zr(h,(m,v)=>qu(m,i.getContext(v),u)),u}function qu(s,r,i){const o=Yf(s),u=s.value;zr(o,(h,m)=>{qu(h,u.component?r?r.children.getContext(m):null:r,i)}),i.canDeactivateChecks.push(new Xm(u.component&&r&&r.outlet&&r.outlet.isActivated?r.outlet.component:null,u))}class Wu{}function Cx(s){return new zn.y(r=>r.error(s))}class e_{constructor(r,i,o,u,h,m){this.rootComponentType=r,this.config=i,this.urlTree=o,this.url=u,this.paramsInheritanceStrategy=h,this.relativeLinkResolution=m}recognize(){const r=Qm(this.urlTree.root,[],[],this.config.filter(m=>void 0===m.redirectTo),this.relativeLinkResolution).segmentGroup,i=this.processSegmentGroup(this.config,r,zt);if(null===i)return null;const o=new Km([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},zt,this.rootComponentType,null,this.urlTree.root,-1,{}),u=new ao(o,i),h=new Md(this.url,u);return this.inheritParamsAndData(h._root),h}inheritParamsAndData(r){const i=r.value,o=WI(i,this.paramsInheritanceStrategy);i.params=Object.freeze(o.params),i.data=Object.freeze(o.data),r.children.forEach(u=>this.inheritParamsAndData(u))}processSegmentGroup(r,i,o){return 0===i.segments.length&&i.hasChildren()?this.processChildren(r,i):this.processSegment(r,i,i.segments,o)}processChildren(r,i){const o=[];for(const h of Object.keys(i.children)){const m=i.children[h],v=iT(r,h),I=this.processSegmentGroup(v,m,h);if(null===I)return null;o.push(...I)}const u=Sx(o);return u.sort((r,i)=>r.value.outlet===zt?-1:i.value.outlet===zt?1:r.value.outlet.localeCompare(i.value.outlet)),u}processSegment(r,i,o,u){for(const h of r){const m=this.processSegmentAgainstRoute(h,i,o,u);if(null!==m)return m}return oT(i,o,u)?[]:null}processSegmentAgainstRoute(r,i,o,u){if(r.redirectTo||!sT(r,i,o,u))return null;let h,m=[],v=[];if("**"===r.path){const H=o.length>0?LI(o).parameters:{};h=new Km(o,H,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Dx(r),qi(r),r.component,r,lo(i),eE(i)+o.length,op(r))}else{const H=rp(i,r,o);if(!H.matched)return null;m=H.consumedSegments,v=o.slice(H.lastChild),h=new Km(m,H.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Dx(r),qi(r),r.component,r,lo(i),eE(i)+m.length,op(r))}const I=(s=r).children?s.children:s.loadChildren?s._loadedConfig.routes:[],{segmentGroup:D,slicedSegments:x}=Qm(i,m,v,I.filter(H=>void 0===H.redirectTo),this.relativeLinkResolution);var s;if(0===x.length&&D.hasChildren()){const H=this.processChildren(I,D);return null===H?null:[new ao(h,H)]}if(0===I.length&&0===x.length)return[new ao(h,[])];const O=qi(r)===u,j=this.processSegment(I,D,x,O?zt:u);return null===j?null:[new ao(h,j)]}}function Tx(s){const r=s.value.routeConfig;return r&&""===r.path&&void 0===r.redirectTo}function Sx(s){const r=[],i=new Set;for(const o of s){if(!Tx(o)){r.push(o);continue}const u=r.find(h=>o.value.routeConfig===h.value.routeConfig);void 0!==u?(u.children.push(...o.children),i.add(u)):r.push(o)}for(const o of i){const u=Sx(o.children);r.push(new ao(o.value,u))}return r.filter(o=>!i.has(o))}function lo(s){let r=s;for(;r._sourceSegment;)r=r._sourceSegment;return r}function eE(s){let r=s,i=r._segmentIndexShift?r._segmentIndexShift:0;for(;r._sourceSegment;)r=r._sourceSegment,i+=r._segmentIndexShift?r._segmentIndexShift:0;return i-1}function Dx(s){return s.data||{}}function op(s){return s.resolve||{}}function tE(s){return En(r=>{const i=s(r);return i?(0,Fn.D)(i).pipe((0,bt.U)(()=>r)):(0,Xe.of)(r)})}class rE extends class{shouldDetach(r){return!1}store(r,i){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,i){return r.routeConfig===i.routeConfig}}{}const t_=new f.OlP("ROUTES");class vT{constructor(r,i,o,u){this.loader=r,this.compiler=i,this.onLoadStartListener=o,this.onLoadEndListener=u}load(r,i){if(i._loader$)return i._loader$;this.onLoadStartListener&&this.onLoadStartListener(i);const u=this.loadModuleFactory(i.loadChildren).pipe((0,bt.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(i);const m=h.create(r);return new zb(FI(m.injector.get(t_,void 0,f.XFs.Self|f.XFs.Optional)).map(Zb),m)}),gl(h=>{throw i._loader$=void 0,h}));return i._loader$=new TI.c(u,()=>new en.xQ).pipe((0,jM.x)()),i._loader$}loadModuleFactory(r){return"string"==typeof r?(0,Fn.D)(this.loader.load(r)):xo(r()).pipe((0,Si.zg)(i=>i instanceof f.YKP?(0,Xe.of)(i):(0,Fn.D)(this.compiler.compileModuleAsync(i))))}}class Kk{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Fd,this.attachRef=null}}class Fd{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Kk,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}class Ox{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}function bT(s){throw s}function ET(s,r,i){return r.parse("/")}function iE(s,r){return(0,Xe.of)(null)}const kx={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Px={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ci=(()=>{class s{constructor(i,o,u,h,m,v,I,D){this.rootComponentType=i,this.urlSerializer=o,this.rootContexts=u,this.location=h,this.config=D,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new en.xQ,this.errorHandler=bT,this.malformedUriErrorHandler=ET,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:iE,afterPreactivation:iE},this.urlHandlingStrategy=new Ox,this.routeReuseStrategy=new rE,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=m.get(f.h0i),this.console=m.get(f.c2e);const j=m.get(f.R0b);this.isNgZoneEnabled=j instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(D),this.currentUrlTree=new yl(new Yt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new vT(v,I,H=>this.triggerEvent(new Cb(H)),H=>this.triggerEvent(new Ib(H))),this.routerState=Fb(this.currentUrlTree,this.rootComponentType),this.transitions=new Vr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var i;return null===(i=this.location.getState())||void 0===i?void 0:i.\u0275routerPageId}setupNavigations(i){const o=this.events;return i.pipe(Ar(u=>0!==u.id),(0,bt.U)(u=>Object.assign(Object.assign({},u),{extractedUrl:this.urlHandlingStrategy.extract(u.rawUrl)})),En(u=>{let h=!1,m=!1;return(0,Xe.of)(u).pipe((0,Gr.b)(v=>{this.currentNavigation={id:v.id,initialUrl:v.currentRawUrl,extractedUrl:v.extractedUrl,trigger:v.source,extras:v.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),En(v=>{const I=!this.navigated||v.extractedUrl.toString()!==this.browserUrlTree.toString(),D=("reload"===this.onSameUrlNavigation||I)&&this.urlHandlingStrategy.shouldProcessUrl(v.rawUrl);if(r_(v.source)&&(this.browserUrlTree=v.rawUrl),D)return(0,Xe.of)(v).pipe(En(x=>{const O=this.transitions.getValue();return o.next(new qf(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),O!==this.transitions.getValue()?Ur.E:Promise.resolve(x)}),function(s,r,i,o){return En(u=>function(s,r,i,o,u){return new cT(s,r,i,o,u).apply()}(s,r,i,u.extractedUrl,o).pipe((0,bt.U)(h=>Object.assign(Object.assign({},u),{urlAfterRedirects:h}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Gr.b)(x=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:x.urlAfterRedirects})}),function(s,r,i,o,u){return(0,Si.zg)(h=>function(s,r,i,o,u="emptyOnly",h="legacy"){try{const m=new e_(s,r,i,o,u,h).recognize();return null===m?Cx(new Wu):(0,Xe.of)(m)}catch(m){return Cx(m)}}(s,r,h.urlAfterRedirects,i(h.urlAfterRedirects),o,u).pipe((0,bt.U)(m=>Object.assign(Object.assign({},h),{targetSnapshot:m}))))}(this.rootComponentType,this.config,x=>this.serializeUrl(x),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Gr.b)(x=>{"eager"===this.urlUpdateStrategy&&(x.extras.skipLocationChange||this.setBrowserUrl(x.urlAfterRedirects,x),this.browserUrlTree=x.urlAfterRedirects);const O=new HM(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);o.next(O)}));if(I&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:O,extractedUrl:j,source:H,restoredState:ee,extras:ve}=v,xe=new qf(O,this.serializeUrl(j),H,ee);o.next(xe);const $e=Fb(j,this.rootComponentType).snapshot;return(0,Xe.of)(Object.assign(Object.assign({},v),{targetSnapshot:$e,urlAfterRedirects:j,extras:Object.assign(Object.assign({},ve),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=v.rawUrl,this.browserUrlTree=v.urlAfterRedirects,v.resolve(null),Ur.E}),tE(v=>{const{targetSnapshot:I,id:D,extractedUrl:x,rawUrl:O,extras:{skipLocationChange:j,replaceUrl:H}}=v;return this.hooks.beforePreactivation(I,{navigationId:D,appliedUrlTree:x,rawUrlTree:O,skipLocationChange:!!j,replaceUrl:!!H})}),(0,Gr.b)(v=>{const I=new NI(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(I)}),(0,bt.U)(v=>Object.assign(Object.assign({},v),{guards:_x(v.targetSnapshot,v.currentSnapshot,this.rootContexts)})),function(s,r){return(0,Si.zg)(i=>{const{targetSnapshot:o,currentSnapshot:u,guards:{canActivateChecks:h,canDeactivateChecks:m}}=i;return 0===m.length&&0===h.length?(0,Xe.of)(Object.assign(Object.assign({},i),{guardsResult:!0})):function(s,r,i,o){return(0,Fn.D)(s).pipe((0,Si.zg)(u=>function(s,r,i,o,u){const h=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!h||0===h.length)return(0,Xe.of)(!0);const m=h.map(v=>{const I=kd(v,r,u);let D;if(function(s){return s&&El(s.canDeactivate)}(I))D=xo(I.canDeactivate(s,r,i,o));else{if(!El(I))throw new Error("Invalid CanDeactivate guard");D=xo(I(s,r,i,o))}return D.pipe(Hu())});return(0,Xe.of)(m).pipe(Od())}(u.component,u.route,i,r,o)),Hu(u=>!0!==u,!0))}(m,o,u,s).pipe((0,Si.zg)(v=>v&&function(s){return"boolean"==typeof s}(v)?function(s,r,i,o){return(0,Fn.D)(r).pipe($f(u=>ul(function(s,r){return null!==s&&r&&r(new Tb(s)),(0,Xe.of)(!0)}(u.route.parent,o),function(s,r){return null!==s&&r&&r(new Sb(s)),(0,Xe.of)(!0)}(u.route,o),function(s,r,i){const o=r[r.length-1],h=r.slice(0,r.length-1).reverse().map(m=>function(s){const r=s.routeConfig?s.routeConfig.canActivateChild:null;return r&&0!==r.length?{node:s,guards:r}:null}(m)).filter(m=>null!==m).map(m=>vb(()=>{const v=m.guards.map(I=>{const D=kd(I,m.node,i);let x;if(function(s){return s&&El(s.canActivateChild)}(D))x=xo(D.canActivateChild(o,s));else{if(!El(D))throw new Error("Invalid CanActivateChild guard");x=xo(D(o,s))}return x.pipe(Hu())});return(0,Xe.of)(v).pipe(Od())}));return(0,Xe.of)(h).pipe(Od())}(s,u.path,i),function(s,r,i){const o=r.routeConfig?r.routeConfig.canActivate:null;if(!o||0===o.length)return(0,Xe.of)(!0);const u=o.map(h=>vb(()=>{const m=kd(h,r,i);let v;if(function(s){return s&&El(s.canActivate)}(m))v=xo(m.canActivate(r,s));else{if(!El(m))throw new Error("Invalid CanActivate guard");v=xo(m(r,s))}return v.pipe(Hu())}));return(0,Xe.of)(u).pipe(Od())}(s,u.route,i))),Hu(u=>!0!==u,!0))}(o,h,s,r):(0,Xe.of)(v)),(0,bt.U)(v=>Object.assign(Object.assign({},i),{guardsResult:v})))})}(this.ngModule.injector,v=>this.triggerEvent(v)),(0,Gr.b)(v=>{if(Gu(v.guardsResult)){const D=jm(`Redirecting to "${this.serializeUrl(v.guardsResult)}"`);throw D.url=v.guardsResult,D}const I=new OI(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot,!!v.guardsResult);this.triggerEvent(I)}),Ar(v=>!!v.guardsResult||(this.restoreHistory(v),this.cancelNavigationTransition(v,""),!1)),tE(v=>{if(v.guards.canActivateChecks.length)return(0,Xe.of)(v).pipe((0,Gr.b)(I=>{const D=new Um(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);this.triggerEvent(D)}),En(I=>{let D=!1;return(0,Xe.of)(I).pipe(function(s,r){return(0,Si.zg)(i=>{const{targetSnapshot:o,guards:{canActivateChecks:u}}=i;if(!u.length)return(0,Xe.of)(i);let h=0;return(0,Fn.D)(u).pipe($f(m=>function(s,r,i,o){return function(s,r,i,o){const u=Object.keys(s);if(0===u.length)return(0,Xe.of)({});const h={};return(0,Fn.D)(u).pipe((0,Si.zg)(m=>function(s,r,i,o){const u=kd(s,r,o);return xo(u.resolve?u.resolve(r,i):u(r,i))}(s[m],r,i,o).pipe((0,Gr.b)(v=>{h[m]=v}))),DI(1),(0,Si.zg)(()=>Object.keys(h).length===u.length?(0,Xe.of)(h):Ur.E))}(s._resolve,s,r,o).pipe((0,bt.U)(h=>(s._resolvedData=h,s.data=Object.assign(Object.assign({},s.data),WI(s,i).resolve),null)))}(m.route,o,s,r)),(0,Gr.b)(()=>h++),DI(1),(0,Si.zg)(m=>h===u.length?(0,Xe.of)(i):Ur.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Gr.b)({next:()=>D=!0,complete:()=>{D||(this.restoreHistory(I),this.cancelNavigationTransition(I,"At least one route resolver didn't emit any value."))}}))}),(0,Gr.b)(I=>{const D=new $M(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);this.triggerEvent(D)}))}),tE(v=>{const{targetSnapshot:I,id:D,extractedUrl:x,rawUrl:O,extras:{skipLocationChange:j,replaceUrl:H}}=v;return this.hooks.afterPreactivation(I,{navigationId:D,appliedUrlTree:x,rawUrlTree:O,skipLocationChange:!!j,replaceUrl:!!H})}),(0,bt.U)(v=>{const I=function(s,r,i){const o=Qf(s,r._root,i?i._root:void 0);return new Pb(o,r)}(this.routeReuseStrategy,v.targetSnapshot,v.currentRouterState);return Object.assign(Object.assign({},v),{targetRouterState:I})}),(0,Gr.b)(v=>{this.currentUrlTree=v.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,v.rawUrl),this.routerState=v.targetRouterState,"deferred"===this.urlUpdateStrategy&&(v.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,v),this.browserUrlTree=v.urlAfterRedirects)}),((s,r,i)=>(0,bt.U)(o=>(new tT(r,o.targetRouterState,o.currentRouterState,i).activate(s),o)))(this.rootContexts,this.routeReuseStrategy,v=>this.triggerEvent(v)),(0,Gr.b)({next(){h=!0},complete(){h=!0}}),KC(()=>{if(!h&&!m){const v=`Navigation ID ${u.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(u),this.cancelNavigationTransition(u,v)):this.cancelNavigationTransition(u,v)}this.currentNavigation=null}),gl(v=>{if(m=!0,function(s){return s&&s[Mb]}(v)){const I=Gu(v.url);I||(this.navigated=!0,this.restoreHistory(u,!0));const D=new xI(u.id,this.serializeUrl(u.extractedUrl),v.message);o.next(D),I?setTimeout(()=>{const x=this.urlHandlingStrategy.merge(v.url,this.rawUrlTree),O={skipLocationChange:u.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||r_(u.source)};this.scheduleNavigation(x,"imperative",null,O,{resolve:u.resolve,reject:u.reject,promise:u.promise})},0):u.resolve(!1)}else{this.restoreHistory(u,!0);const I=new RI(u.id,this.serializeUrl(u.extractedUrl),v);o.next(I);try{u.resolve(this.errorHandler(v))}catch(D){u.reject(D)}}return Ur.E}))}))}resetRootComponentType(i){this.rootComponentType=i,this.routerState.root.component=this.rootComponentType}getTransition(){const i=this.transitions.value;return i.urlAfterRedirects=this.browserUrlTree,i}setTransition(i){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),i))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(i=>{const o=this.extractLocationChangeInfoFromEvent(i);this.shouldScheduleNavigation(this.lastLocationChangeInfo,o)&&setTimeout(()=>{const{source:u,state:h,urlTree:m}=o,v={replaceUrl:!0};if(h){const I=Object.assign({},h);delete I.navigationId,delete I.\u0275routerPageId,0!==Object.keys(I).length&&(v.state=I)}this.scheduleNavigation(m,u,h,v)},0),this.lastLocationChangeInfo=o}))}extractLocationChangeInfoFromEvent(i){var o;return{source:"popstate"===i.type?"popstate":"hashchange",urlTree:this.parseUrl(i.url),state:(null===(o=i.state)||void 0===o?void 0:o.navigationId)?i.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(i,o){if(!i)return!0;const u=o.urlTree.toString()===i.urlTree.toString();return o.transitionId!==i.transitionId||!u||!("hashchange"===o.source&&"popstate"===i.source||"popstate"===o.source&&"hashchange"===i.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(i){this.events.next(i)}resetConfig(i){Wb(i),this.config=i.map(Zb),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(i,o={}){const{relativeTo:u,queryParams:h,fragment:m,queryParamsHandling:v,preserveFragment:I}=o,D=u||this.routerState.root,x=I?this.currentUrlTree.fragment:m;let O=null;switch(v){case"merge":O=Object.assign(Object.assign({},this.currentUrlTree.queryParams),h);break;case"preserve":O=this.currentUrlTree.queryParams;break;default:O=h||null}return null!==O&&(O=this.removeEmptyProps(O)),function(s,r,i,o,u){if(0===i.length)return Bb(r.root,r.root,r,o,u);const h=function(s){if("string"==typeof s[0]&&1===s.length&&"/"===s[0])return new Hb(!0,0,s);let r=0,i=!1;const o=s.reduce((u,h,m)=>{if("object"==typeof h&&null!=h){if(h.outlets){const v={};return zr(h.outlets,(I,D)=>{v[D]="string"==typeof I?I.split("/"):I}),[...u,{outlets:v}]}if(h.segmentPath)return[...u,h.segmentPath]}return"string"!=typeof h?[...u,h]:0===m?(h.split("/").forEach((v,I)=>{0==I&&"."===v||(0==I&&""===v?i=!0:".."===v?r++:""!=v&&u.push(v))}),u):[...u,h]},[]);return new Hb(i,r,o)}(i);if(h.toRoot())return Bb(r.root,new Yt([],{}),r,o,u);const m=function(s,r,i){if(s.isAbsolute)return new $b(r.root,!0,0);if(-1===i.snapshot._lastPathIndex){const h=i.snapshot._urlSegment;return new $b(h,h===r.root,0)}const o=Ym(s.commands[0])?0:1;return function(s,r,i){let o=s,u=r,h=i;for(;h>u;){if(h-=u,o=o.parent,!o)throw new Error("Invalid number of '../'");u=o.segments.length}return new $b(o,!1,u-h)}(i.snapshot._urlSegment,i.snapshot._lastPathIndex+o,s.numberOfDoubleDots)}(h,r,s),v=m.processChildren?Gb(m.segmentGroup,m.index,h.commands):ix(m.segmentGroup,m.index,h.commands);return Bb(m.segmentGroup,v,r,o,u)}(D,this.currentUrlTree,i,O,null!=x?x:null)}navigateByUrl(i,o={skipLocationChange:!1}){const u=Gu(i)?i:this.parseUrl(i),h=this.urlHandlingStrategy.merge(u,this.rawUrlTree);return this.scheduleNavigation(h,"imperative",null,o)}navigate(i,o={skipLocationChange:!1}){return function(s){for(let r=0;r<s.length;r++){const i=s[r];if(null==i)throw new Error(`The requested path contains ${i} segment at index ${r}`)}}(i),this.navigateByUrl(this.createUrlTree(i,o),o)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){let o;try{o=this.urlSerializer.parse(i)}catch(u){o=this.malformedUriErrorHandler(u,this.urlSerializer,i)}return o}isActive(i,o){let u;if(u=!0===o?Object.assign({},kx):!1===o?Object.assign({},Px):o,Gu(i))return UI(this.currentUrlTree,i,u);const h=this.parseUrl(i);return UI(this.currentUrlTree,h,u)}removeEmptyProps(i){return Object.keys(i).reduce((o,u)=>{const h=i[u];return null!=h&&(o[u]=h),o},{})}processNavigations(){this.navigations.subscribe(i=>{this.navigated=!0,this.lastSuccessfulId=i.id,this.currentPageId=i.targetPageId,this.events.next(new ma(i.id,this.serializeUrl(i.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,i.resolve(!0)},i=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(i,o,u,h,m){var v,I;if(this.disposed)return Promise.resolve(!1);const D=this.getTransition(),x=r_(o)&&D&&!r_(D.source),H=(this.lastSuccessfulId===D.id||this.currentNavigation?D.rawUrl:D.urlAfterRedirects).toString()===i.toString();if(x&&H)return Promise.resolve(!0);let ee,ve,xe;m?(ee=m.resolve,ve=m.reject,xe=m.promise):xe=new Promise((Qe,mt)=>{ee=Qe,ve=mt});const $e=++this.navigationId;let Ke;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(u=this.location.getState()),Ke=u&&u.\u0275routerPageId?u.\u0275routerPageId:h.replaceUrl||h.skipLocationChange?null!==(v=this.browserPageId)&&void 0!==v?v:0:(null!==(I=this.browserPageId)&&void 0!==I?I:0)+1):Ke=0,this.setTransition({id:$e,targetPageId:Ke,source:o,restoredState:u,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:i,extras:h,resolve:ee,reject:ve,promise:xe,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),xe.catch(Qe=>Promise.reject(Qe))}setBrowserUrl(i,o){const u=this.urlSerializer.serialize(i),h=Object.assign(Object.assign({},o.extras.state),this.generateNgRouterState(o.id,o.targetPageId));this.location.isCurrentPathEqualTo(u)||o.extras.replaceUrl?this.location.replaceState(u,"",h):this.location.go(u,"",h)}restoreHistory(i,o=!1){var u,h;if("computed"===this.canceledNavigationResolution){const m=this.currentPageId-i.targetPageId;"popstate"!==i.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)||0===m?this.currentUrlTree===(null===(h=this.currentNavigation)||void 0===h?void 0:h.finalUrl)&&0===m&&(this.resetState(i),this.browserUrlTree=i.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(m)}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=i.currentRouterState,this.currentUrlTree=i.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(i,o){const u=new xI(i.id,this.serializeUrl(i.extractedUrl),o);this.triggerEvent(u),i.resolve(!1)}generateNgRouterState(i,o){return"computed"===this.canceledNavigationResolution?{navigationId:i,\u0275routerPageId:o}:{navigationId:i}}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(f.DyG),f.LFG(Hm),f.LFG(Fd),f.LFG(Je),f.LFG(f.zs3),f.LFG(f.v3s),f.LFG(f.Sil),f.LFG(void 0))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();function r_(s){return"imperative"!==s}let ap=(()=>{class s{constructor(i,o,u,h,m){this.router=i,this.route=o,this.commands=[],this.onChanges=new en.xQ,null==u&&h.setAttribute(m.nativeElement,"tabindex","0")}ngOnChanges(i){this.onChanges.next(this)}set routerLink(i){this.commands=null!=i?Array.isArray(i)?i:[i]:[]}onClick(){const i={skipLocationChange:ya(this.skipLocationChange),replaceUrl:ya(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ya(this.preserveFragment)})}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(ci),f.Y36(bl),f.$8M("tabindex"),f.Y36(f.Qsj),f.Y36(f.SBq))},s.\u0275dir=f.lG2({type:s,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(i,o){1&i&&f.NdJ("click",function(){return o.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[f.TTD]}),s})(),wl=(()=>{class s{constructor(i,o,u){this.router=i,this.route=o,this.locationStrategy=u,this.commands=[],this.onChanges=new en.xQ,this.subscription=i.events.subscribe(h=>{h instanceof ma&&this.updateTargetUrlAndHref()})}set routerLink(i){this.commands=null!=i?Array.isArray(i)?i:[i]:[]}ngOnChanges(i){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(i,o,u,h,m){if(0!==i||o||u||h||m||"string"==typeof this.target&&"_self"!=this.target)return!0;const v={skipLocationChange:ya(this.skipLocationChange),replaceUrl:ya(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,v),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ya(this.preserveFragment)})}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(ci),f.Y36(bl),f.Y36(pe))},s.\u0275dir=f.lG2({type:s,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(i,o){1&i&&f.NdJ("click",function(h){return o.onClick(h.button,h.ctrlKey,h.shiftKey,h.altKey,h.metaKey)}),2&i&&(f.Ikx("href",o.href,f.LSH),f.uIk("target",o.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[f.TTD]}),s})();function ya(s){return""===s||!!s}let sE=(()=>{class s{constructor(i,o,u,h,m){this.parentContexts=i,this.location=o,this.resolver=u,this.changeDetector=m,this.activated=null,this._activatedRoute=null,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.name=h||zt,i.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const i=this.parentContexts.getContext(this.name);i&&i.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const i=this.activated;return this.activated=null,this._activatedRoute=null,i}attach(i,o){this.activated=i,this._activatedRoute=o,this.location.insert(i.hostView)}deactivate(){if(this.activated){const i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,o){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=i;const m=(o=o||this.resolver).resolveComponentFactory(i._futureSnapshot.routeConfig.component),v=this.parentContexts.getOrCreateContext(this.name).children,I=new Yk(i,v,this.location.injector);this.activated=this.location.createComponent(m,this.location.length,I),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(Fd),f.Y36(f.s_b),f.Y36(f._Vd),f.$8M("name"),f.Y36(f.sBO))},s.\u0275dir=f.lG2({type:s,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),s})();class Yk{constructor(r,i,o){this.route=r,this.childContexts=i,this.parent=o}get(r,i){return r===bl?this.route:r===Fd?this.childContexts:this.parent.get(r,i)}}class wT{}class CT{preload(r,i){return(0,Xe.of)(null)}}let IT=(()=>{class s{constructor(i,o,u,h,m){this.router=i,this.injector=h,this.preloadingStrategy=m,this.loader=new vT(o,u,D=>i.triggerEvent(new Cb(D)),D=>i.triggerEvent(new Ib(D)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ar(i=>i instanceof ma),$f(()=>this.preload())).subscribe(()=>{})}preload(){const i=this.injector.get(f.h0i);return this.processRoutes(i,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,o){const u=[];for(const h of o)if(h.loadChildren&&!h.canLoad&&h._loadedConfig){const m=h._loadedConfig;u.push(this.processRoutes(m.module,m.routes))}else h.loadChildren&&!h.canLoad?u.push(this.preloadConfig(i,h)):h.children&&u.push(this.processRoutes(i,h.children));return(0,Fn.D)(u).pipe((0,yf.J)(),(0,bt.U)(h=>{}))}preloadConfig(i,o){return this.preloadingStrategy.preload(o,()=>(o._loadedConfig?(0,Xe.of)(o._loadedConfig):this.loader.load(i.injector,o)).pipe((0,Si.zg)(h=>(o._loadedConfig=h,this.processRoutes(h.module,h.routes)))))}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(ci),f.LFG(f.v3s),f.LFG(f.Sil),f.LFG(f.zs3),f.LFG(wT))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})(),oE=(()=>{class s{constructor(i,o,u={}){this.router=i,this.viewportScroller=o,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(i=>{i instanceof qf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof ma&&(this.lastId=i.id,this.scheduleScrollEvent(i,this.router.parseUrl(i.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(i=>{i instanceof Ab&&(i.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(i.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,o){this.router.triggerEvent(new Ab(i,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(ci),f.LFG(Ua),f.LFG(void 0))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();const Zu=new f.OlP("ROUTER_CONFIGURATION"),TT=new f.OlP("ROUTER_FORROOT_GUARD"),Jk=[Je,{provide:Hm,useClass:$m},{provide:ci,useFactory:function(s,r,i,o,u,h,m,v={},I,D){const x=new ci(null,s,r,i,o,u,h,FI(m));return I&&(x.urlHandlingStrategy=I),D&&(x.routeReuseStrategy=D),function(s,r){s.errorHandler&&(r.errorHandler=s.errorHandler),s.malformedUriErrorHandler&&(r.malformedUriErrorHandler=s.malformedUriErrorHandler),s.onSameUrlNavigation&&(r.onSameUrlNavigation=s.onSameUrlNavigation),s.paramsInheritanceStrategy&&(r.paramsInheritanceStrategy=s.paramsInheritanceStrategy),s.relativeLinkResolution&&(r.relativeLinkResolution=s.relativeLinkResolution),s.urlUpdateStrategy&&(r.urlUpdateStrategy=s.urlUpdateStrategy)}(v,x),v.enableTracing&&x.events.subscribe(O=>{var j,H;null===(j=console.group)||void 0===j||j.call(console,`Router Event: ${O.constructor.name}`),console.log(O.toString()),console.log(O),null===(H=console.groupEnd)||void 0===H||H.call(console)}),x},deps:[Hm,Fd,Je,f.zs3,f.v3s,f.Sil,t_,Zu,[class{},new f.FiY],[class{},new f.FiY]]},Fd,{provide:bl,useFactory:function(s){return s.routerState.root},deps:[ci]},{provide:f.v3s,useClass:f.EAV},IT,CT,class{preload(r,i){return i().pipe(gl(()=>(0,Xe.of)(null)))}},{provide:Zu,useValue:{enableTracing:!1}}];function Ux(){return new f.PXZ("Router",ci)}let Ld=(()=>{class s{constructor(i,o){}static forRoot(i,o){return{ngModule:s,providers:[Jk,up(i),{provide:TT,useFactory:Hx,deps:[[ci,new f.FiY,new f.tp0]]},{provide:Zu,useValue:o||{}},{provide:pe,useFactory:jx,deps:[re,[new f.tBr(be),new f.FiY],Zu]},{provide:oE,useFactory:Bx,deps:[ci,Ua,Zu]},{provide:wT,useExisting:o&&o.preloadingStrategy?o.preloadingStrategy:CT},{provide:f.PXZ,multi:!0,useFactory:Ux},[DT,{provide:f.ip1,multi:!0,useFactory:Gx,deps:[DT]},{provide:AT,useFactory:i_,deps:[DT]},{provide:f.tb,multi:!0,useExisting:AT}]]}}static forChild(i){return{ngModule:s,providers:[up(i)]}}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(TT,8),f.LFG(ci,8))},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({}),s})();function Bx(s,r,i){return i.scrollOffset&&r.setOffset(i.scrollOffset),new oE(s,r,i)}function jx(s,r,i={}){return i.useHash?new Ve(s,r):new We(s,r)}function Hx(s){return"guarded"}function up(s){return[{provide:f.deG,multi:!0,useValue:s},{provide:t_,multi:!0,useValue:s}]}let DT=(()=>{class s{constructor(i){this.injector=i,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new en.xQ}appInitializer(){return this.injector.get(B,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let o=null;const u=new Promise(v=>o=v),h=this.injector.get(ci),m=this.injector.get(Zu);return"disabled"===m.initialNavigation?(h.setUpLocationChangeListener(),o(!0)):"enabled"===m.initialNavigation||"enabledBlocking"===m.initialNavigation?(h.hooks.afterPreactivation=()=>this.initNavigation?(0,Xe.of)(null):(this.initNavigation=!0,o(!0),this.resultOfPreactivationDone),h.initialNavigation()):o(!0),u})}bootstrapListener(i){const o=this.injector.get(Zu),u=this.injector.get(IT),h=this.injector.get(oE),m=this.injector.get(ci),v=this.injector.get(f.z2F);i===v.components[0]&&(("enabledNonBlocking"===o.initialNavigation||void 0===o.initialNavigation)&&m.initialNavigation(),u.setUpPreloading(),h.init(),m.resetRootComponentType(v.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(f.zs3))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();function Gx(s){return s.appInitializer.bind(s)}function i_(s){return s.bootstrapListener.bind(s)}const AT=new f.OlP("Router Initializer");let MT=(()=>{class s{constructor(){this.menuClicked=!1}ngOnInit(){}openCloseMenu(){this.menuClicked=!this.menuClicked}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=f.Xpm({type:s,selectors:[["app-topbar"]],decls:14,vars:0,consts:[[1,"topbar",2,"margin","0"],["mat-icon-button","","aria-label","Example icon-button with menu icon",1,"example-icon",3,"click"],[1,"spacer"],["mat-button","","routerLink","/login",1,"menu_btn"],["mat-button","","routerLink","/registro",1,"menu_btn"],["mat-button","","routerLink","/",1,"menu_btn"]],template:function(i,o){1&i&&(f.TgZ(0,"p",0),f.TgZ(1,"mat-toolbar"),f.TgZ(2,"button",1),f.NdJ("click",function(){return o.openCloseMenu()}),f.TgZ(3,"mat-icon"),f._uU(4,"menu"),f.qZA(),f.qZA(),f.TgZ(5,"span"),f._uU(6,"Wine SPA"),f.qZA(),f._UZ(7,"span",2),f.TgZ(8,"button",3),f._uU(9,"Login"),f.qZA(),f.TgZ(10,"button",4),f._uU(11,"Registro"),f.qZA(),f.TgZ(12,"button",5),f._uU(13,"Home"),f.qZA(),f.qZA(),f.qZA())},directives:[Ed,Cd,Lm,ap],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto}.menu_btn[_ngcontent-%COMP%]{color:#bebebe;font-size:1rem}"]}),s})();const aE=new Set;let Yu,Wx=(()=>{class s{constructor(i){this._platform=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):RT}matchMedia(i){return this._platform.WEBKIT&&function(s){if(!aE.has(s))try{Yu||(Yu=document.createElement("style"),Yu.setAttribute("type","text/css"),document.head.appendChild(Yu)),Yu.sheet&&(Yu.sheet.insertRule(`@media ${s} {.fx-query-test{ }}`,0),aE.add(s))}catch(r){console.error(r)}}(i),this._matchMedia(i)}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(Pn))},s.\u0275prov=f.Yz7({factory:function(){return new s(f.LFG(Pn))},token:s,providedIn:"root"}),s})();function RT(s){return{matches:"all"===s||""===s,media:s,addListener:()=>{},removeListener:()=>{}}}var s_=V(9105);function Cl(s,r,i,o){return(0,s_.m)(i)&&(o=i,i=void 0),o?Cl(s,r,i).pipe((0,bt.U)(u=>(0,Hf.k)(u)?o(...u):o(u))):new zn.y(u=>{ln(s,r,function(m){u.next(arguments.length>1?Array.prototype.slice.call(arguments):m)},u,i)})}function ln(s,r,i,o,u){let h;if(function(s){return s&&"function"==typeof s.addEventListener&&"function"==typeof s.removeEventListener}(s)){const m=s;s.addEventListener(r,i,u),h=()=>m.removeEventListener(r,i,u)}else if(function(s){return s&&"function"==typeof s.on&&"function"==typeof s.off}(s)){const m=s;s.on(r,i),h=()=>m.off(r,i)}else if(function(s){return s&&"function"==typeof s.addListener&&"function"==typeof s.removeListener}(s)){const m=s;s.addListener(r,i),h=()=>m.removeListener(r,i)}else{if(!s||!s.length)throw new TypeError("Invalid event target");for(let m=0,v=s.length;m<v;m++)ln(s[m],r,i,o,u)}o.add(h)}var eP=V(6465),Fs=V(6102);new class extends Fs.v{flush(r){this.active=!0,this.scheduled=void 0;const{actions:i}=this;let o,u=-1,h=i.length;r=r||i.shift();do{if(o=r.execute(r.state,r.delay))break}while(++u<h&&(r=i.shift()));if(this.active=!1,o){for(;++u<h&&(r=i.shift());)r.unsubscribe();throw o}}}(class extends eP.o{constructor(r,i){super(r,i),this.scheduler=r,this.work=i}requestAsyncId(r,i,o=0){return null!==o&&o>0?super.requestAsyncId(r,i,o):(r.actions.push(this),r.scheduled||(r.scheduled=requestAnimationFrame(()=>r.flush(null))))}recycleAsyncId(r,i,o=0){if(null!==o&&o>0||null===o&&this.delay>0)return super.recycleAsyncId(r,i,o);0===r.actions.length&&(cancelAnimationFrame(i),r.scheduled=void 0)}});V(4581);class Yx{constructor(r){this.durationSelector=r}call(r,i){return i.subscribe(new Qx(r,this.durationSelector))}}class Qx extends Ui.Ds{constructor(r,i){super(r),this.durationSelector=i,this.hasValue=!1}_next(r){if(this.value=r,this.hasValue=!0,!this.throttled){let i;try{const{durationSelector:u}=this;i=u(r)}catch(u){return this.destination.error(u)}const o=(0,Ui.ft)(i,new Ui.IY(this));!o||o.closed?this.clearThrottle():this.add(this.throttled=o)}}clearThrottle(){const{value:r,hasValue:i,throttled:o}=this;o&&(this.remove(o),this.throttled=void 0,o.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(r))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var us=V(6561);function uo(s){const{index:r,period:i,subscriber:o}=s;if(o.next(r),!o.closed){if(-1===i)return o.complete();s.index=r+1,this.schedule(s,i)}}function o_(s,r=ca.P){return function(s){return function(i){return i.lift(new Yx(s))}}(()=>function(s=0,r,i){let o=-1;return(0,us.k)(r)?o=Number(r)<1?1:Number(r):(0,sd.K)(r)&&(i=r),(0,sd.K)(i)||(i=ca.P),new zn.y(u=>{const h=(0,us.k)(s)?s:+s-i.now();return i.schedule(uo,h,{index:0,period:o,subscriber:u})})}(s,r))}function dp(){return s=>s.lift(new OT)}class OT{call(r,i){return i.subscribe(new dE(r))}}class dE extends gr.L{constructor(r){super(r),this.hasPrev=!1}_next(r){let i;this.hasPrev?i=[this.prev,r]:this.hasPrev=!0,this.prev=r,i&&this.destination.next(i)}}var Ud=V(7771),co=V(6136),Jx=V(8858);class Ju extends en.xQ{constructor(r=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY,o){super(),this.scheduler=o,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=r<1?1:r,this._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(r){if(!this.isStopped){const i=this._events;i.push(r),i.length>this._bufferSize&&i.shift()}super.next(r)}nextTimeWindow(r){this.isStopped||(this._events.push(new Xx(this._getNow(),r)),this._trimBufferThenGetEvents()),super.next(r)}_subscribe(r){const i=this._infiniteTimeWindow,o=i?this._events:this._trimBufferThenGetEvents(),u=this.scheduler,h=o.length;let m;if(this.closed)throw new ra.N;if(this.isStopped||this.hasError?m=Id.w.EMPTY:(this.observers.push(r),m=new Jx.W(this,r)),u&&r.add(r=new co.ht(r,u)),i)for(let v=0;v<h&&!r.closed;v++)r.next(o[v]);else for(let v=0;v<h&&!r.closed;v++)r.next(o[v].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),m}_getNow(){return(this.scheduler||Ud.c).now()}_trimBufferThenGetEvents(){const r=this._getNow(),i=this._bufferSize,o=this._windowTime,u=this._events,h=u.length;let m=0;for(;m<h&&!(r-u[m].time<o);)m++;return h>i&&(m=Math.max(m,h-i)),m>0&&u.splice(0,m),u}}class Xx{constructor(r,i){this.time=r,this.value=i}}function hp(s,r,i){let o;return o=s&&"object"==typeof s?s:{bufferSize:s,windowTime:r,refCount:!1,scheduler:i},u=>u.lift(function({bufferSize:s=Number.POSITIVE_INFINITY,windowTime:r=Number.POSITIVE_INFINITY,refCount:i,scheduler:o}){let u,m,h=0,v=!1,I=!1;return function(x){let O;h++,!u||v?(v=!1,u=new Ju(s,r,o),O=u.subscribe(this),m=x.subscribe({next(j){u.next(j)},error(j){v=!0,u.error(j)},complete(){I=!0,m=void 0,u.complete()}}),I&&(m=void 0)):O=u.subscribe(this),this.add(()=>{h--,O.unsubscribe(),O=void 0,m&&!I&&i&&0===h&&(m.unsubscribe(),m=void 0,u=void 0)})}}(o))}let _E=(()=>{class s{constructor(i,o,u){this._ngZone=i,this._platform=o,this._scrolled=new en.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=u}register(i){this.scrollContainers.has(i)||this.scrollContainers.set(i,i.elementScrolled().subscribe(()=>this._scrolled.next(i)))}deregister(i){const o=this.scrollContainers.get(i);o&&(o.unsubscribe(),this.scrollContainers.delete(i))}scrolled(i=20){return this._platform.isBrowser?new zn.y(o=>{this._globalSubscription||this._addGlobalListener();const u=i>0?this._scrolled.pipe(o_(i)).subscribe(o):this._scrolled.subscribe(o);return this._scrolledCount++,()=>{u.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Xe.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((i,o)=>this.deregister(o)),this._scrolled.complete()}ancestorScrolled(i,o){const u=this.getAncestorScrollContainers(i);return this.scrolled(o).pipe(Ar(h=>!h||u.indexOf(h)>-1))}getAncestorScrollContainers(i){const o=[];return this.scrollContainers.forEach((u,h)=>{this._scrollableContainsElement(h,i)&&o.push(h)}),o}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(i,o){let u=il(o),h=i.getElementRef().nativeElement;do{if(u==h)return!0}while(u=u.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Cl(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(f.R0b),f.LFG(Pn),f.LFG(he,8))},s.\u0275prov=f.Yz7({factory:function(){return new s(f.LFG(f.R0b),f.LFG(Pn),f.LFG(he,8))},token:s,providedIn:"root"}),s})(),No=(()=>{class s{constructor(i,o,u,h){this.elementRef=i,this.scrollDispatcher=o,this.ngZone=u,this.dir=h,this._destroyed=new en.xQ,this._elementScrolled=new zn.y(m=>this.ngZone.runOutsideAngular(()=>Cl(this.elementRef.nativeElement,"scroll").pipe(jr(this._destroyed)).subscribe(m)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(i){const o=this.elementRef.nativeElement,u=this.dir&&"rtl"==this.dir.value;null==i.left&&(i.left=u?i.end:i.start),null==i.right&&(i.right=u?i.start:i.end),null!=i.bottom&&(i.top=o.scrollHeight-o.clientHeight-i.bottom),u&&0!=ua()?(null!=i.left&&(i.right=o.scrollWidth-o.clientWidth-i.left),2==ua()?i.left=i.right:1==ua()&&(i.left=i.right?-i.right:i.right)):null!=i.right&&(i.left=o.scrollWidth-o.clientWidth-i.right),this._applyScrollToOptions(i)}_applyScrollToOptions(i){const o=this.elementRef.nativeElement;!function(){if(null==ji){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ji=!1,ji;if("scrollBehavior"in document.documentElement.style)ji=!0;else{const s=Element.prototype.scrollTo;ji=!!s&&!/\{\s*\[native code\]\s*\}/.test(s.toString())}}return ji}()?(null!=i.top&&(o.scrollTop=i.top),null!=i.left&&(o.scrollLeft=i.left)):o.scrollTo(i)}measureScrollOffset(i){const o="left",u="right",h=this.elementRef.nativeElement;if("top"==i)return h.scrollTop;if("bottom"==i)return h.scrollHeight-h.clientHeight-h.scrollTop;const m=this.dir&&"rtl"==this.dir.value;return"start"==i?i=m?u:o:"end"==i&&(i=m?o:u),m&&2==ua()?i==o?h.scrollWidth-h.clientWidth-h.scrollLeft:h.scrollLeft:m&&1==ua()?i==o?h.scrollLeft+h.scrollWidth-h.clientWidth:-h.scrollLeft:i==o?h.scrollLeft:h.scrollWidth-h.clientWidth-h.scrollLeft}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(f.SBq),f.Y36(_E),f.Y36(f.R0b),f.Y36(rd,8))},s.\u0275dir=f.lG2({type:s,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),s})(),PT=(()=>{class s{constructor(i,o,u){this._platform=i,this._change=new en.xQ,this._changeListener=h=>{this._change.next(h)},this._document=u,o.runOutsideAngular(()=>{if(i.isBrowser){const h=this._getWindow();h.addEventListener("resize",this._changeListener),h.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const i=this._getWindow();i.removeEventListener("resize",this._changeListener),i.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const i={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),i}getViewportRect(){const i=this.getViewportScrollPosition(),{width:o,height:u}=this.getViewportSize();return{top:i.top,left:i.left,bottom:i.top+u,right:i.left+o,height:u,width:o}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const i=this._document,o=this._getWindow(),u=i.documentElement,h=u.getBoundingClientRect();return{top:-h.top||i.body.scrollTop||o.scrollY||u.scrollTop||0,left:-h.left||i.body.scrollLeft||o.scrollX||u.scrollLeft||0}}change(i=20){return i>0?this._change.pipe(o_(i)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const i=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:i.innerWidth,height:i.innerHeight}:{width:0,height:0}}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(Pn),f.LFG(f.R0b),f.LFG(he,8))},s.\u0275prov=f.Yz7({factory:function(){return new s(f.LFG(Pn),f.LFG(f.R0b),f.LFG(he,8))},token:s,providedIn:"root"}),s})(),u_=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({}),s})();var c_=V(6682);function LT(s){return r=>r.lift(new oR(s))}class oR{constructor(r){this.value=r}call(r,i){return i.subscribe(new aR(r,this.value))}}class aR extends gr.L{constructor(r,i){super(r),this.value=i}_next(r){this.destination.next(this.value)}}const d_=["*"];function lR(s,r){if(1&s){const i=f.EpF();f.TgZ(0,"div",2),f.NdJ("click",function(){return f.CHM(i),f.oxw()._onBackdropClicked()}),f.qZA()}if(2&s){const i=f.oxw();f.ekj("mat-drawer-shown",i._isShowingBackdrop())}}function uR(s,r){1&s&&(f.TgZ(0,"mat-drawer-content"),f.Hsn(1,2),f.qZA())}const yE=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],cR=["mat-drawer","mat-drawer-content","*"];function dR(s,r){if(1&s){const i=f.EpF();f.TgZ(0,"div",2),f.NdJ("click",function(){return f.CHM(i),f.oxw()._onBackdropClicked()}),f.qZA()}if(2&s){const i=f.oxw();f.ekj("mat-drawer-shown",i._isShowingBackdrop())}}function VT(s,r){1&s&&(f.TgZ(0,"mat-sidenav-content",3),f.Hsn(1,2),f.qZA())}const vE=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],hR=["mat-sidenav","mat-sidenav-content","*"],fR=".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n",UT={transformDrawer:vA("transform",[Ev("open, open-instant",Kg({transform:"none",visibility:"visible"})),Ev("void",Kg({"box-shadow":"none",visibility:"hidden"})),wv("void => open-instant",V0("0ms")),wv("void <=> open, open-instant => void",V0("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},pR=new f.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),bE=new f.OlP("MAT_DRAWER_CONTAINER");let h_=(()=>{class s extends No{constructor(i,o,u,h,m){super(u,h,m),this._changeDetectorRef=i,this._container=o}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(f.sBO),f.Y36((0,f.Gpc)(()=>BT)),f.Y36(f.SBq),f.Y36(_E),f.Y36(f.R0b))},s.\u0275cmp=f.Xpm({type:s,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(i,o){2&i&&f.Udp("margin-left",o._container._contentMargins.left,"px")("margin-right",o._container._contentMargins.right,"px")},features:[f.qOj],ngContentSelectors:d_,decls:1,vars:0,template:function(i,o){1&i&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),s})(),Bd=(()=>{class s{constructor(i,o,u,h,m,v,I){this._elementRef=i,this._focusTrapFactory=o,this._focusMonitor=u,this._platform=h,this._ngZone=m,this._doc=v,this._container=I,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new en.xQ,this._animationEnd=new en.xQ,this._animationState="void",this.openedChange=new f.vpe(!0),this._openedStream=this.openedChange.pipe(Ar(D=>D),(0,bt.U)(()=>{})),this.openedStart=this._animationStarted.pipe(Ar(D=>D.fromState!==D.toState&&0===D.toState.indexOf("open")),LT(void 0)),this._closedStream=this.openedChange.pipe(Ar(D=>!D),(0,bt.U)(()=>{})),this.closedStart=this._animationStarted.pipe(Ar(D=>D.fromState!==D.toState&&"void"===D.toState),LT(void 0)),this._destroyed=new en.xQ,this.onPositionChanged=new f.vpe,this._modeChanged=new en.xQ,this.openedChange.subscribe(D=>{D?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus()}),this._ngZone.runOutsideAngular(()=>{Cl(this._elementRef.nativeElement,"keydown").pipe(Ar(D=>27===D.keyCode&&!this.disableClose&&!function(s,...r){return r.length?r.some(i=>s[i]):s.altKey||s.shiftKey||s.ctrlKey||s.metaKey}(D)),jr(this._destroyed)).subscribe(D=>this._ngZone.run(()=>{this.close(),D.stopPropagation(),D.preventDefault()}))}),this._animationEnd.pipe(Ds((D,x)=>D.fromState===x.fromState&&D.toState===x.toState)).subscribe(D=>{const{fromState:x,toState:O}=D;(0===O.indexOf("open")&&"void"===x||"void"===O&&0===x.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(i){(i="end"===i?"end":"start")!=this._position&&(this._position=i,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(i){this._mode=i,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(i){this._disableClose=mr(i)}get autoFocus(){const i=this._autoFocus;return null==i?"side"!==this.mode:i}set autoFocus(i){this._autoFocus=mr(i)}get opened(){return this._opened}set opened(i){this.toggle(mr(i))}_takeFocus(){!this.autoFocus||!this._focusTrap||this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()})}_restoreFocus(){!this.autoFocus||(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,this._openedVia):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null,this._openedVia=null)}_isFocusWithinDrawer(){var i;const o=null===(i=this._doc)||void 0===i?void 0:i.activeElement;return!!o&&this._elementRef.nativeElement.contains(o)}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(i){return this.toggle(!0,i)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0)}toggle(i=!this.opened,o){return this._setOpen(i,!i&&this._isFocusWithinDrawer(),o)}_setOpen(i,o,u="program"){return this._opened=i,i?(this._animationState=this._enableAnimations?"open":"open-instant",this._openedVia=u):(this._animationState="void",o&&this._restoreFocus()),this._updateFocusTrapState(),new Promise(h=>{this.openedChange.pipe(aa(1)).subscribe(m=>h(m?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_animationStartListener(i){this._animationStarted.next(i)}_animationDoneListener(i){this._animationEnd.next(i)}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(f.SBq),f.Y36(mv),f.Y36(nd),f.Y36(Pn),f.Y36(f.R0b),f.Y36(he,8),f.Y36(bE,8))},s.\u0275cmp=f.Xpm({type:s,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(i,o){1&i&&f.WFA("@transform.start",function(h){return o._animationStartListener(h)})("@transform.done",function(h){return o._animationDoneListener(h)}),2&i&&(f.uIk("align",null),f.d8E("@transform",o._animationState),f.ekj("mat-drawer-end","end"===o.position)("mat-drawer-over","over"===o.mode)("mat-drawer-push","push"===o.mode)("mat-drawer-side","side"===o.mode)("mat-drawer-opened",o.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:d_,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(i,o){1&i&&(f.F$t(),f.TgZ(0,"div",0),f.Hsn(1),f.qZA())},directives:[No],encapsulation:2,data:{animation:[UT.transformDrawer]},changeDetection:0}),s})(),BT=(()=>{class s{constructor(i,o,u,h,m,v=!1,I){this._dir=i,this._element=o,this._ngZone=u,this._changeDetectorRef=h,this._animationMode=I,this._drawers=new f.n_E,this.backdropClick=new f.vpe,this._destroyed=new en.xQ,this._doCheckSubject=new en.xQ,this._contentMargins={left:null,right:null},this._contentMarginChanges=new en.xQ,i&&i.change.pipe(jr(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),m.change().pipe(jr(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=v}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(i){this._autosize=mr(i)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(i){this._backdropOverride=null==i?null:mr(i)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(Js(this._allDrawers),jr(this._destroyed)).subscribe(i=>{this._drawers.reset(i.filter(o=>!o._container||o._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Js(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(i=>{this._watchDrawerToggle(i),this._watchDrawerPosition(i),this._watchDrawerMode(i)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(function(s,r=ca.P){return i=>i.lift(new Tu(s,r))}(10),jr(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(i=>i.open())}close(){this._drawers.forEach(i=>i.close())}updateContentMargins(){let i=0,o=0;if(this._left&&this._left.opened)if("side"==this._left.mode)i+=this._left._getWidth();else if("push"==this._left.mode){const u=this._left._getWidth();i+=u,o-=u}if(this._right&&this._right.opened)if("side"==this._right.mode)o+=this._right._getWidth();else if("push"==this._right.mode){const u=this._right._getWidth();o+=u,i-=u}i=i||null,o=o||null,(i!==this._contentMargins.left||o!==this._contentMargins.right)&&(this._contentMargins={left:i,right:o},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(i){i._animationStarted.pipe(Ar(o=>o.fromState!==o.toState),jr(this._drawers.changes)).subscribe(o=>{"open-instant"!==o.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==i.mode&&i.openedChange.pipe(jr(this._drawers.changes)).subscribe(()=>this._setContainerClass(i.opened))}_watchDrawerPosition(i){!i||i.onPositionChanged.pipe(jr(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(aa(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(i){i&&i._modeChanged.pipe(jr((0,c_.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(i){const o=this._element.nativeElement.classList,u="mat-drawer-container-has-open";i?o.add(u):o.remove(u)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(i=>{"end"==i.position?this._end=i:this._start=i}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(i=>i&&!i.disableClose&&this._canHaveBackdrop(i)).forEach(i=>i._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(i){return"side"!==i.mode||!!this._backdropOverride}_isDrawerOpen(i){return null!=i&&i.opened}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(rd,8),f.Y36(f.SBq),f.Y36(f.R0b),f.Y36(f.sBO),f.Y36(PT),f.Y36(pR),f.Y36(qt,8))},s.\u0275cmp=f.Xpm({type:s,selectors:[["mat-drawer-container"]],contentQueries:function(i,o,u){if(1&i&&(f.Suo(u,h_,5),f.Suo(u,Bd,5)),2&i){let h;f.iGM(h=f.CRH())&&(o._content=h.first),f.iGM(h=f.CRH())&&(o._allDrawers=h)}},viewQuery:function(i,o){if(1&i&&f.Gf(h_,5),2&i){let u;f.iGM(u=f.CRH())&&(o._userContent=u.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(i,o){2&i&&f.ekj("mat-drawer-container-explicit-backdrop",o._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[f._Bn([{provide:bE,useExisting:s}])],ngContentSelectors:cR,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,o){1&i&&(f.F$t(yE),f.YNc(0,lR,1,2,"div",0),f.Hsn(1),f.Hsn(2,1),f.YNc(3,uR,2,0,"mat-drawer-content",1)),2&i&&(f.Q6J("ngIf",o.hasBackdrop),f.xp6(3),f.Q6J("ngIf",!o._content))},directives:[Ei,h_],styles:[fR],encapsulation:2,changeDetection:0}),s})(),EE=(()=>{class s extends h_{constructor(i,o,u,h,m){super(i,o,u,h,m)}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(f.sBO),f.Y36((0,f.Gpc)(()=>jd)),f.Y36(f.SBq),f.Y36(_E),f.Y36(f.R0b))},s.\u0275cmp=f.Xpm({type:s,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(i,o){2&i&&f.Udp("margin-left",o._container._contentMargins.left,"px")("margin-right",o._container._contentMargins.right,"px")},features:[f.qOj],ngContentSelectors:d_,decls:1,vars:0,template:function(i,o){1&i&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),s})(),wE=(()=>{class s extends Bd{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(i){this._fixedInViewport=mr(i)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(i){this._fixedTopGap=Ti(i)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(i){this._fixedBottomGap=Ti(i)}}return s.\u0275fac=function(){let r;return function(o){return(r||(r=f.n5z(s)))(o||s)}}(),s.\u0275cmp=f.Xpm({type:s,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(i,o){2&i&&(f.uIk("align",null),f.Udp("top",o.fixedInViewport?o.fixedTopGap:null,"px")("bottom",o.fixedInViewport?o.fixedBottomGap:null,"px"),f.ekj("mat-drawer-end","end"===o.position)("mat-drawer-over","over"===o.mode)("mat-drawer-push","push"===o.mode)("mat-drawer-side","side"===o.mode)("mat-drawer-opened",o.opened)("mat-sidenav-fixed",o.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[f.qOj],ngContentSelectors:d_,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(i,o){1&i&&(f.F$t(),f.TgZ(0,"div",0),f.Hsn(1),f.qZA())},directives:[No],encapsulation:2,data:{animation:[UT.transformDrawer]},changeDetection:0}),s})(),jd=(()=>{class s extends BT{}return s.\u0275fac=function(){let r;return function(o){return(r||(r=f.n5z(s)))(o||s)}}(),s.\u0275cmp=f.Xpm({type:s,selectors:[["mat-sidenav-container"]],contentQueries:function(i,o,u){if(1&i&&(f.Suo(u,EE,5),f.Suo(u,wE,5)),2&i){let h;f.iGM(h=f.CRH())&&(o._content=h.first),f.iGM(h=f.CRH())&&(o._allDrawers=h)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(i,o){2&i&&f.ekj("mat-drawer-container-explicit-backdrop",o._backdropOverride)},exportAs:["matSidenavContainer"],features:[f._Bn([{provide:bE,useExisting:s}]),f.qOj],ngContentSelectors:hR,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],["cdkScrollable","",4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"],["cdkScrollable",""]],template:function(i,o){1&i&&(f.F$t(vE),f.YNc(0,dR,1,2,"div",0),f.Hsn(1),f.Hsn(2,1),f.YNc(3,VT,2,0,"mat-sidenav-content",1)),2&i&&(f.Q6J("ngIf",o.hasBackdrop),f.xp6(3),f.Q6J("ngIf",!o._content))},directives:[Ei,EE,No],styles:[fR],encapsulation:2,changeDetection:0}),s})(),aP=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({imports:[[Cs,Qn,Hr,u_],u_,Qn]}),s})();const jT=["*"];let mR=(()=>{class s{constructor(i){this.media=i,this.opened=!0,this.mediaMatch=this.media.matchMedia("(max-width: 60em)")}ngOnDestroy(){}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(Wx))},s.\u0275cmp=f.Xpm({type:s,selectors:[["app-sidenav"]],inputs:{opened:"opened"},ngContentSelectors:jT,decls:13,vars:4,consts:[[1,"sidenav__container"],[1,"sidenav__side",3,"mode","opened","openedChange"],["mat-button","","routerLink","/noExiste",1,"sidenav_btn"],[1,"copyright"]],template:function(i,o){1&i&&(f.F$t(),f.TgZ(0,"mat-sidenav-container",0),f.TgZ(1,"mat-sidenav",1),f.NdJ("openedChange",function(h){return o.opened=h}),f.TgZ(2,"a",2),f._uU(3,"Opcion 1"),f.qZA(),f.TgZ(4,"a",2),f._uU(5,"Opcion 2"),f.qZA(),f.TgZ(6,"a",2),f._uU(7,"Opcion 3"),f.qZA(),f.TgZ(8,"p",3),f._uU(9," Esta pagina fue dise\xf1ada y programada por Federico Tocco para entrega del Trabajo Final del curso de Angular de la UTN. Todos los derechos reservados "),f.qZA(),f.qZA(),f.TgZ(10,"mat-sidenav-content"),f.TgZ(11,"div"),f.Hsn(12),f.qZA(),f.qZA(),f.qZA()),2&i&&(f.xp6(1),f.Q6J("mode",o.mediaMatch.matches?"over":"side")("opened",o.opened),f.xp6(10),f.Tol(o.opened?"content content__onOpen":"content content__onClose"))},directives:[jd,wE,ib,wl,EE],styles:[".sidenav__container[_ngcontent-%COMP%]{width:100%;background-color:#000;color:#000}.sidenav__side[_ngcontent-%COMP%]{padding:.8rem 0;min-width:14rem;width:20rem}@media (max-width: 70em){.sidenav__side[_ngcontent-%COMP%]{width:14rem}}@media (max-width: 60em){.sidenav__side[_ngcontent-%COMP%]{width:100%;height:40%;transform:translateY(-100%)}}.sidenav_btn[_ngcontent-%COMP%]{width:100%;padding:.3rem 0}.content[_ngcontent-%COMP%]{transition:all .9s .04s;height:calc(100vh - 160px);overflow-y:scroll}.content__onOpen[_ngcontent-%COMP%]{padding:3rem 2rem}.content__onClose[_ngcontent-%COMP%]{padding:3rem 5rem}@media (max-width: 90em){.content__onClose[_ngcontent-%COMP%]{padding:3rem 1rem}}.copyright[_ngcontent-%COMP%]{color:#fff;line-height:1.3;font-weight:300;font-size:.7rem;position:absolute;top:90%;right:50%;text-align:center;transform:translate(50%);width:85%}@media (max-width: 60em){.copyright[_ngcontent-%COMP%]{top:75%}}"]}),s})(),_R=(()=>{class s{constructor(){this.title="tpFinal"}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=f.Xpm({type:s,selectors:[["app-root"]],decls:4,vars:1,consts:[["topbar",""],[3,"opened"]],template:function(i,o){if(1&i&&(f._UZ(0,"app-topbar",null,0),f.TgZ(2,"app-sidenav",1),f._UZ(3,"router-outlet"),f.qZA()),2&i){const u=f.MAs(1);f.xp6(2),f.Q6J("opened",u.menuClicked)}},directives:[MT,mR,sE],styles:[""]}),s})(),qT=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({imports:[[cM,Qn],cM,Qn]}),s})();const TE=["*",[["mat-card-footer"]]],SR=["*","mat-card-footer"];let AR=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275dir=f.lG2({type:s,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),s})(),YT=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275dir=f.lG2({type:s,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),s})(),SE=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275dir=f.lG2({type:s,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),s})(),MR=(()=>{class s{constructor(){this.align="start"}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275dir=f.lG2({type:s,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(i,o){2&i&&f.ekj("mat-card-actions-align-end","end"===o.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),s})(),xR=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275dir=f.lG2({type:s,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),s})(),NR=(()=>{class s{constructor(i){this._animationMode=i}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(qt,8))},s.\u0275cmp=f.Xpm({type:s,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(i,o){2&i&&f.ekj("_mat-animation-noopable","NoopAnimations"===o._animationMode)},exportAs:["matCard"],ngContentSelectors:SR,decls:2,vars:0,template:function(i,o){1&i&&(f.F$t(TE),f.Hsn(0),f.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),s})(),DE=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({imports:[[Qn],Qn]}),s})();function kR(s,r){if(1&s&&(f.O4$(),f._UZ(0,"circle",3)),2&s){const i=f.oxw();f.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+i._spinnerAnimationLabel)("stroke-dashoffset",i._getStrokeDashOffset(),"px")("stroke-dasharray",i._getStrokeCircumference(),"px")("stroke-width",i._getCircleStrokeWidth(),"%"),f.uIk("r",i._getCircleRadius())}}function QT(s,r){if(1&s&&(f.O4$(),f._UZ(0,"circle",3)),2&s){const i=f.oxw();f.Udp("stroke-dashoffset",i._getStrokeDashOffset(),"px")("stroke-dasharray",i._getStrokeCircumference(),"px")("stroke-width",i._getCircleStrokeWidth(),"%"),f.uIk("r",i._getCircleRadius())}}function PR(s,r){if(1&s&&(f.O4$(),f._UZ(0,"circle",3)),2&s){const i=f.oxw();f.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+i._spinnerAnimationLabel)("stroke-dashoffset",i._getStrokeDashOffset(),"px")("stroke-dasharray",i._getStrokeCircumference(),"px")("stroke-width",i._getCircleStrokeWidth(),"%"),f.uIk("r",i._getCircleRadius())}}function FR(s,r){if(1&s&&(f.O4$(),f._UZ(0,"circle",3)),2&s){const i=f.oxw();f.Udp("stroke-dashoffset",i._getStrokeDashOffset(),"px")("stroke-dasharray",i._getStrokeCircumference(),"px")("stroke-width",i._getCircleStrokeWidth(),"%"),f.uIk("r",i._getCircleRadius())}}const JT=".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:currentColor;stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n",VR=Pf(class{constructor(s){this._elementRef=s}},"primary"),XT=new f.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});class ko extends VR{constructor(r,i,o,u,h){super(r),this._document=o,this._diameter=100,this._value=0,this._fallbackAnimation=!1,this.mode="determinate";const m=ko._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),m.has(o.head)||m.set(o.head,new Set([100])),this._fallbackAnimation=i.EDGE||i.TRIDENT,this._noopAnimations="NoopAnimations"===u&&!!h&&!h._forceAnimations,h&&(h.diameter&&(this.diameter=h.diameter),h.strokeWidth&&(this.strokeWidth=h.strokeWidth))}get diameter(){return this._diameter}set diameter(r){this._diameter=Ti(r),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(r){this._strokeWidth=Ti(r)}get value(){return"determinate"===this.mode?this._value:0}set value(r){this._value=Math.max(0,Math.min(100,Ti(r)))}ngOnInit(){const r=this._elementRef.nativeElement;this._styleRoot=nf(r)||this._document.head,this._attachStyleNode(),r.classList.add(`mat-progress-spinner-indeterminate${this._fallbackAnimation?"-fallback":""}-animation`)}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const r=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${r} ${r}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._getStrokeCircumference():null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const r=this._styleRoot,i=this._diameter,o=ko._diameters;let u=o.get(r);if(!u||!u.has(i)){const h=this._document.createElement("style");h.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),h.textContent=this._getAnimationText(),r.appendChild(h),u||(u=new Set,o.set(r,u)),u.add(i)}}_getAnimationText(){const r=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*r).replace(/END_VALUE/g,""+.2*r).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}ko.\u0275fac=function(r){return new(r||ko)(f.Y36(f.SBq),f.Y36(Pn),f.Y36(he,8),f.Y36(qt,8),f.Y36(XT))},ko.\u0275cmp=f.Xpm({type:ko,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(r,i){2&r&&(f.uIk("aria-valuemin","determinate"===i.mode?0:null)("aria-valuemax","determinate"===i.mode?100:null)("aria-valuenow","determinate"===i.mode?i.value:null)("mode",i.mode),f.Udp("width",i.diameter,"px")("height",i.diameter,"px"),f.ekj("_mat-animation-noopable",i._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[f.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(r,i){1&r&&(f.O4$(),f.TgZ(0,"svg",0),f.YNc(1,kR,1,9,"circle",1),f.YNc(2,QT,1,7,"circle",2),f.qZA()),2&r&&(f.Udp("width",i.diameter,"px")("height",i.diameter,"px"),f.Q6J("ngSwitch","indeterminate"===i.mode),f.uIk("viewBox",i._getViewBox()),f.xp6(1),f.Q6J("ngSwitchCase",!0),f.xp6(1),f.Q6J("ngSwitchCase",!1))},directives:[ni,Tn],styles:[JT],encapsulation:2,changeDetection:0}),ko._diameters=new WeakMap;let eS=(()=>{class s extends ko{constructor(i,o,u,h,m){super(i,o,u,h,m),this.mode="indeterminate"}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(f.SBq),f.Y36(Pn),f.Y36(he,8),f.Y36(qt,8),f.Y36(XT))},s.\u0275cmp=f.Xpm({type:s,selectors:[["mat-spinner"]],hostAttrs:["role","progressbar","mode","indeterminate",1,"mat-spinner","mat-progress-spinner"],hostVars:6,hostBindings:function(i,o){2&i&&(f.Udp("width",o.diameter,"px")("height",o.diameter,"px"),f.ekj("_mat-animation-noopable",o._noopAnimations))},inputs:{color:"color"},features:[f.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(i,o){1&i&&(f.O4$(),f.TgZ(0,"svg",0),f.YNc(1,PR,1,9,"circle",1),f.YNc(2,FR,1,7,"circle",2),f.qZA()),2&i&&(f.Udp("width",o.diameter,"px")("height",o.diameter,"px"),f.Q6J("ngSwitch","indeterminate"===o.mode),f.uIk("viewBox",o._getViewBox()),f.xp6(1),f.Q6J("ngSwitchCase",!0),f.xp6(1),f.Q6J("ngSwitchCase",!1))},directives:[ni,Tn],styles:[JT],encapsulation:2,changeDetection:0}),s})(),tS=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({imports:[[Qn,Cs],Qn]}),s})(),ME=(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=f.Xpm({type:s,selectors:[["app-not-found"]],decls:12,vars:0,consts:[[1,"notFound"],[1,"notFound__icon"],["xmlns","http://www.w3.org/2000/svg","width","192","height","192","fill","#de7c7c","viewBox","0 0 256 256"],["width","256","height","256","fill","none"],["x1","160","y1","96","x2","96","y2","160","fill","none","stroke","#de7c7c","stroke-linecap","round","stroke-linejoin","round","stroke-width","16"],["x1","160","y1","160","x2","96","y2","96","fill","none","stroke","#de7c7c","stroke-linecap","round","stroke-linejoin","round","stroke-width","16"],["x","40","y","40","width","176","height","176","rx","8","stroke-width","16","stroke","#de7c7c","stroke-linecap","round","stroke-linejoin","round","fill","none"],[1,"notFound__description"],[1,"notFound__code"],[1,"notFound__p"]],template:function(i,o){1&i&&(f.TgZ(0,"div",0),f.TgZ(1,"div",1),f.O4$(),f.TgZ(2,"svg",2),f._UZ(3,"rect",3),f._UZ(4,"line",4),f._UZ(5,"line",5),f._UZ(6,"rect",6),f.qZA(),f.qZA(),f.kcU(),f.TgZ(7,"div",7),f.TgZ(8,"h4",8),f._uU(9,"Error 404"),f.qZA(),f.TgZ(10,"p",9),f._uU(11,"Ups... El elemento que intenta buscar no existe"),f.qZA(),f.qZA(),f.qZA())},styles:[".notFound[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.notFound__code[_ngcontent-%COMP%]{font-size:2.4rem;color:#de7c7c;font-weight:500;margin-bottom:2rem}.notFound__p[_ngcontent-%COMP%]{font-size:1.2rem;color:#fff}.notFound__description[_ngcontent-%COMP%]{margin-left:.7rem}"]}),s})();var _r=V(9126),cs=V(9958),BR=(V(6300),V(4486)),Oe=V(8239),xE=V(5452),RE=V(6034),Xu=V(300),tn=V(4685),ec=function(s,r){return(ec=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(i[u]=o[u])})(s,r)};function f_(s){var r="function"==typeof Symbol&&Symbol.iterator,i=r&&s[r],o=0;if(i)return i.call(s);if(s&&"number"==typeof s.length)return{next:function(){return s&&o>=s.length&&(s=void 0),{value:s&&s[o++],done:!s}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}var rt,Po="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},tc=tc||{},Ft=Po||self;function p_(){}function nS(s){var r=typeof s;return"array"==(r="object"!=r?r:s?Array.isArray(s)?"array":r:"null")||"object"==r&&"number"==typeof s.length}function nc(s){var r=typeof s;return"object"==r&&null!=s||"function"==r}var g_="closure_uid_"+(1e9*Math.random()>>>0),OE=0;function kE(s,r,i){return s.call.apply(s.bind,arguments)}function HR(s,r,i){if(!s)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),s.apply(r,u)}}return function(){return s.apply(r,arguments)}}function qr(s,r,i){return(qr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?kE:HR).apply(null,arguments)}function m_(s,r){var i=Array.prototype.slice.call(arguments,1);return function(){var o=i.slice();return o.push.apply(o,arguments),s.apply(this,o)}}function Wr(s,r){function i(){}i.prototype=r.prototype,s.Z=r.prototype,s.prototype=new i,s.prototype.constructor=s,s.Vb=function(o,u,h){for(var m=Array(arguments.length-2),v=2;v<arguments.length;v++)m[v-2]=arguments[v];return r.prototype[u].apply(o,m)}}function ba(){this.s=this.s,this.o=this.o}var rS={};ba.prototype.s=!1,ba.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var s=function(s){return Object.prototype.hasOwnProperty.call(s,g_)&&s[g_]||(s[g_]=++OE)}(this);delete rS[s]}},ba.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var FE=Array.prototype.indexOf?function(s,r){return Array.prototype.indexOf.call(s,r,void 0)}:function(s,r){if("string"==typeof s)return"string"!=typeof r||1!=r.length?-1:s.indexOf(r,0);for(var i=0;i<s.length;i++)if(i in s&&s[i]===r)return i;return-1},LE=Array.prototype.forEach?function(s,r,i){Array.prototype.forEach.call(s,r,i)}:function(s,r,i){for(var o=s.length,u="string"==typeof s?s.split(""):s,h=0;h<o;h++)h in u&&r.call(i,u[h],h,s)};function sS(s){return Array.prototype.concat.apply([],arguments)}function __(s){var r=s.length;if(0<r){for(var i=Array(r),o=0;o<r;o++)i[o]=s[o];return i}return[]}function _p(s){return/^[\s\xa0]*$/.test(s)}var Wi,oS=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]};function di(s,r){return-1!=s.indexOf(r)}function y_(s,r){return s<r?-1:s>r?1:0}e:{var hi=Ft.navigator;if(hi){var rc=hi.userAgent;if(rc){Wi=rc;break e}}Wi=""}function VE(s,r,i){for(var o in s)r.call(i,s[o],o,s)}function aS(s){var r={};for(var i in s)r[i]=s[i];return r}var $R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $d(s,r){for(var i,o,u=1;u<arguments.length;u++){for(i in o=arguments[u])s[i]=o[i];for(var h=0;h<$R.length;h++)i=$R[h],Object.prototype.hasOwnProperty.call(o,i)&&(s[i]=o[i])}}function UE(s){return UE[" "](s),s}UE[" "]=p_;var sc,s,GR=di(Wi,"Opera"),ic=di(Wi,"Trident")||di(Wi,"MSIE"),lS=di(Wi,"Edge"),jE=lS||ic,v_=di(Wi,"Gecko")&&!(di(Wi.toLowerCase(),"webkit")&&!di(Wi,"Edge"))&&!(di(Wi,"Trident")||di(Wi,"MSIE"))&&!di(Wi,"Edge"),uS=di(Wi.toLowerCase(),"webkit")&&!di(Wi,"Edge");function HE(){var s=Ft.document;return s?s.documentMode:void 0}e:{var yp="",cS=(s=Wi,v_?/rv:([^\);]+)(\)|;)/.exec(s):lS?/Edge\/([\d\.]+)/.exec(s):ic?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s):uS?/WebKit\/(\S+)/.exec(s):GR?/(?:Version)[ \/]?(\S+)/.exec(s):void 0);if(cS&&(yp=cS?cS[1]:""),ic){var b_=HE();if(null!=b_&&b_>parseFloat(yp)){sc=String(b_);break e}}sc=yp}var zR={};function dS(){return r=zR,Object.prototype.hasOwnProperty.call(r,9)?r[9]:r[9]=function(){for(var s=0,r=oS(String(sc)).split("."),i=oS("9").split("."),o=Math.max(r.length,i.length),u=0;0==s&&u<o;u++){var h=r[u]||"",m=i[u]||"";do{if(h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],m=/(\d*)(\D*)(.*)/.exec(m)||["","","",""],0==h[0].length&&0==m[0].length)break;s=y_(0==h[1].length?0:parseInt(h[1],10),0==m[1].length?0:parseInt(m[1],10))||y_(0==h[2].length,0==m[2].length)||y_(h[2],m[2]),h=h[3],m=m[3]}while(0==s)}return 0<=s}();var r}var qR=Ft.document&&ic&&(HE()||parseInt(sc,10))||void 0,GE=function(){if(!Ft.addEventListener||!Object.defineProperty)return!1;var s=!1,r=Object.defineProperty({},"passive",{get:function(){s=!0}});try{Ft.addEventListener("test",p_,r),Ft.removeEventListener("test",p_,r)}catch(i){}return s}();function Mr(s,r){this.type=s,this.g=this.target=r,this.defaultPrevented=!1}function vp(s,r){if(Mr.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var i=this.type=s.type,o=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=r,r=s.relatedTarget){if(v_){e:{try{UE(r.nodeName);var u=!0;break e}catch(h){}u=!1}u||(r=null)}}else"mouseover"==i?r=s.fromElement:"mouseout"==i&&(r=s.toElement);this.relatedTarget=r,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType="string"==typeof s.pointerType?s.pointerType:WR[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&vp.Z.h.call(this)}}Mr.prototype.h=function(){this.defaultPrevented=!0},Wr(vp,Mr);var WR={2:"touch",3:"pen",4:"mouse"};vp.prototype.h=function(){vp.Z.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var zd="closure_listenable_"+(1e6*Math.random()|0),hS=0;function fS(s,r,i,o,u){this.listener=s,this.proxy=null,this.src=r,this.type=i,this.capture=!!o,this.ia=u,this.key=++hS,this.ca=this.fa=!1}function E_(s){s.ca=!0,s.listener=null,s.proxy=null,s.src=null,s.ia=null}function bp(s){this.src=s,this.g={},this.h=0}function w_(s,r){var i=r.type;if(i in s.g){var h,o=s.g[i],u=FE(o,r);(h=0<=u)&&Array.prototype.splice.call(o,u,1),h&&(E_(r),0==s.g[i].length&&(delete s.g[i],s.h--))}}function zE(s,r,i,o){for(var u=0;u<s.length;++u){var h=s[u];if(!h.ca&&h.listener==r&&h.capture==!!i&&h.ia==o)return u}return-1}bp.prototype.add=function(s,r,i,o,u){var h=s.toString();(s=this.g[h])||(s=this.g[h]=[],this.h++);var m=zE(s,r,o,u);return-1<m?(r=s[m],i||(r.fa=!1)):((r=new fS(r,this.src,h,!!o,u)).fa=i,s.push(r)),r};var qE="closure_lm_"+(1e6*Math.random()|0),C_={};function pS(s,r,i,o,u){if(o&&o.once)return ZE(s,r,i,o,u);if(Array.isArray(r)){for(var h=0;h<r.length;h++)pS(s,r[h],i,o,u);return null}return i=yS(i),s&&s[zd]?s.N(r,i,nc(o)?!!o.capture:!!o,u):WE(s,r,i,!1,o,u)}function WE(s,r,i,o,u,h){if(!r)throw Error("Invalid event type");var m=nc(u)?!!u.capture:!!u,v=I_(s);if(v||(s[qE]=v=new bp(s)),(i=v.add(r,i,o,m,h)).proxy)return i;if(o=function(){var r=ZR;return function s(i){return r.call(s.src,s.listener,i)}}(),i.proxy=o,o.src=s,o.listener=i,s.addEventListener)GE||(u=m),void 0===u&&(u=!1),s.addEventListener(r.toString(),o,u);else if(s.attachEvent)s.attachEvent(mS(r.toString()),o);else{if(!s.addListener||!s.removeListener)throw Error("addEventListener and attachEvent are unavailable.");s.addListener(o)}return i}function ZE(s,r,i,o,u){if(Array.isArray(r)){for(var h=0;h<r.length;h++)ZE(s,r[h],i,o,u);return null}return i=yS(i),s&&s[zd]?s.O(r,i,nc(o)?!!o.capture:!!o,u):WE(s,r,i,!0,o,u)}function KE(s,r,i,o,u){if(Array.isArray(r))for(var h=0;h<r.length;h++)KE(s,r[h],i,o,u);else o=nc(o)?!!o.capture:!!o,i=yS(i),s&&s[zd]?(s=s.i,(r=String(r).toString())in s.g&&-1<(i=zE(h=s.g[r],i,o,u))&&(E_(h[i]),Array.prototype.splice.call(h,i,1),0==h.length&&(delete s.g[r],s.h--))):s&&(s=I_(s))&&(r=s.g[r.toString()],s=-1,r&&(s=zE(r,i,o,u)),(i=-1<s?r[s]:null)&&YE(i))}function YE(s){if("number"!=typeof s&&s&&!s.ca){var r=s.src;if(r&&r[zd])w_(r.i,s);else{var i=s.type,o=s.proxy;r.removeEventListener?r.removeEventListener(i,o,s.capture):r.detachEvent?r.detachEvent(mS(i),o):r.addListener&&r.removeListener&&r.removeListener(o),(i=I_(r))?(w_(i,s),0==i.h&&(i.src=null,r[qE]=null)):E_(s)}}}function mS(s){return s in C_?C_[s]:C_[s]="on"+s}function ZR(s,r){if(s.ca)s=!0;else{r=new vp(r,this);var i=s.listener,o=s.ia||s.src;s.fa&&YE(s),s=i.call(o,r)}return s}function I_(s){return(s=s[qE])instanceof bp?s:null}var _S="__closure_events_fn_"+(1e9*Math.random()>>>0);function yS(s){return"function"==typeof s?s:(s[_S]||(s[_S]=function(r){return s.handleEvent(r)}),s[_S])}function Zr(){ba.call(this),this.i=new bp(this),this.P=this,this.I=null}function fi(s,r){var i,o=s.I;if(o)for(i=[];o;o=o.I)i.push(o);if(s=s.P,o=r.type||r,"string"==typeof r)r=new Mr(r,s);else if(r instanceof Mr)r.target=r.target||s;else{var u=r;$d(r=new Mr(o,s),u)}if(u=!0,i)for(var h=i.length-1;0<=h;h--){var m=r.g=i[h];u=QE(m,o,!0,r)&&u}if(u=QE(m=r.g=s,o,!0,r)&&u,u=QE(m,o,!1,r)&&u,i)for(h=0;h<i.length;h++)u=QE(m=r.g=i[h],o,!1,r)&&u}function QE(s,r,i,o){if(!(r=s.i.g[String(r)]))return!0;r=r.concat();for(var u=!0,h=0;h<r.length;++h){var m=r[h];if(m&&!m.ca&&m.capture==i){var v=m.listener,I=m.ia||m.src;m.fa&&w_(s.i,m),u=!1!==v.call(I,o)&&u}}return u&&!o.defaultPrevented}Wr(Zr,ba),Zr.prototype[zd]=!0,Zr.prototype.removeEventListener=function(s,r,i,o){KE(this,s,r,i,o)},Zr.prototype.M=function(){if(Zr.Z.M.call(this),this.i){var r,s=this.i;for(r in s.g){for(var i=s.g[r],o=0;o<i.length;o++)E_(i[o]);delete s.g[r],s.h--}}this.I=null},Zr.prototype.N=function(s,r,i,o){return this.i.add(String(s),r,!1,i,o)},Zr.prototype.O=function(s,r,i,o){return this.i.add(String(s),r,!0,i,o)};var vS=Ft.JSON.stringify;function gP(){var s=YR,r=null;return s.g&&(r=s.g,s.g=s.g.next,s.g||(s.h=null),r.next=null),r}var ES,mP=function(){function s(){this.h=this.g=null}return s.prototype.add=function(r,i){var o=KR.get();o.set(r,i),this.h?this.h.next=o:this.g=o,this.h=o},s}(),KR=new(function(){function s(r,i){this.i=r,this.j=i,this.h=0,this.g=null}return s.prototype.get=function(){var r;return 0<this.h?(this.h--,this.g=(r=this.g).next,r.next=null):r=this.i(),r},s}())(function(){return new _P},function(s){return s.reset()}),_P=function(){function s(){this.next=this.g=this.h=null}return s.prototype.set=function(r,i){this.h=r,this.g=i,this.next=null},s.prototype.reset=function(){this.next=this.g=this.h=null},s}();function yP(s){Ft.setTimeout(function(){throw s},0)}function bS(s,r){ES||function(){var s=Ft.Promise.resolve(void 0);ES=function(){s.then(bP)}}(),wS||(ES(),wS=!0),YR.add(s,r)}var wS=!1,YR=new mP;function bP(){for(var s;s=gP();){try{s.h.call(s.g)}catch(i){yP(i)}var r=KR;r.j(s),100>r.h&&(r.h++,s.next=r.g,r.g=s)}wS=!1}function T_(s,r){Zr.call(this),this.h=s||1,this.g=r||Ft,this.j=qr(this.kb,this),this.l=Date.now()}function JE(s){s.da=!1,s.S&&(s.g.clearTimeout(s.S),s.S=null)}function XE(s,r,i){if("function"==typeof s)i&&(s=qr(s,i));else{if(!s||"function"!=typeof s.handleEvent)throw Error("Invalid listener argument");s=qr(s.handleEvent,s)}return 2147483647<Number(r)?-1:Ft.setTimeout(s,r||0)}function QR(s){s.g=XE(function(){s.g=null,s.i&&(s.i=!1,QR(s))},s.j);var r=s.h;s.h=null,s.m.apply(null,r)}Wr(T_,Zr),(rt=T_.prototype).da=!1,rt.S=null,rt.kb=function(){if(this.da){var s=Date.now()-this.l;0<s&&s<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-s):(this.S&&(this.g.clearTimeout(this.S),this.S=null),fi(this,"tick"),this.da&&(JE(this),this.start()))}},rt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},rt.M=function(){T_.Z.M.call(this),JE(this),delete this.g};var EP=function(s){function r(i,o){var u=s.call(this)||this;return u.m=i,u.j=o,u.h=null,u.i=!1,u.g=null,u}return function(s,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=s}ec(s,r),s.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}(r,s),r.prototype.l=function(i){this.h=arguments,this.g?this.i=!0:QR(this)},r.prototype.M=function(){s.prototype.M.call(this),this.g&&(Ft.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},r}(ba);function S_(s){ba.call(this),this.h=s,this.g={}}Wr(S_,ba);var CS=[];function IS(s,r,i,o){Array.isArray(i)||(i&&(CS[0]=i.toString()),i=CS);for(var u=0;u<i.length;u++){var h=pS(r,i[u],o||s.handleEvent,!1,s.h||s);if(!h)break;s.g[h.key]=h}}function TS(s){VE(s.g,function(r,i){this.g.hasOwnProperty(i)&&YE(r)},s),s.g={}}function ew(){this.g=!0}function Ep(s,r,i,o){s.info(function(){return"XMLHTTP TEXT ("+r+"): "+function(s,r){if(!s.g)return r;if(!r)return null;try{var i=JSON.parse(r);if(i)for(s=0;s<i.length;s++)if(Array.isArray(i[s])){var o=i[s];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var h=u[0];if("noop"!=h&&"stop"!=h&&"close"!=h)for(var m=1;m<u.length;m++)u[m]=""}}}return vS(i)}catch(v){return r}}(s,i)+(o?" "+o:"")})}S_.prototype.M=function(){S_.Z.M.call(this),TS(this)},S_.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ew.prototype.Aa=function(){this.g=!1},ew.prototype.info=function(){};var oc={},D_=null;function Ea(){return D_=D_||new Zr}function tw(s){Mr.call(this,oc.Ma,s)}function wp(s){var r=Ea();fi(r,new tw(r,s))}function SS(s,r){Mr.call(this,oc.STAT_EVENT,s),this.stat=r}function Kr(s){var r=Ea();fi(r,new SS(r,s))}function nw(s,r){Mr.call(this,oc.Na,s),this.size=r}function qd(s,r){if("function"!=typeof s)throw Error("Fn must not be null and must be a function");return Ft.setTimeout(function(){s()},r)}oc.Ma="serverreachability",Wr(tw,Mr),oc.STAT_EVENT="statevent",Wr(SS,Mr),oc.Na="timingevent",Wr(nw,Mr);var Cp={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},XR={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function A_(){}function rw(){}A_.prototype.h=null;var iw,M_={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function DS(){Mr.call(this,"d")}function AS(){Mr.call(this,"c")}function sw(){}function Tl(s,r,i,o){this.l=s,this.j=r,this.m=i,this.X=o||1,this.V=new S_(this),this.P=TP,this.W=new T_(s=jE?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new MS}function MS(){this.i=null,this.g="",this.h=!1}Wr(DS,Mr),Wr(AS,Mr),Wr(sw,A_),sw.prototype.g=function(){return new XMLHttpRequest},sw.prototype.i=function(){return{}},iw=new sw;var TP=45e3,xS={},Wd={};function ow(s,r,i){s.K=1,s.v=Dp(Ca(r)),s.s=i,s.U=!0,eN(s,null)}function eN(s,r){s.F=Date.now(),Zd(s),s.A=Ca(s.v);var i=s.A,o=s.X;Array.isArray(o)||(o=[String(o)]),FS(i.h,"t",o),s.C=0,i=s.l.H,s.h=new MS,s.g=bN(s.l,i?r:null,!s.s),0<s.O&&(s.L=new EP(qr(s.Ia,s,s.g),s.O)),IS(s.V,s.g,"readystatechange",s.gb),r=s.H?aS(s.H):{},s.s?(s.u||(s.u="POST"),r["Content-Type"]="application/x-www-form-urlencoded",s.g.ea(s.A,s.u,s.s,r)):(s.u="GET",s.g.ea(s.A,s.u,null,r)),wp(1),function(s,r,i,o,u,h){s.info(function(){if(s.g)if(h)for(var m="",v=h.split("&"),I=0;I<v.length;I++){var D=v[I].split("=");if(1<D.length){var x=D[0];D=D[1];var O=x.split("_");m=2<=O.length&&"type"==O[1]?m+(x+"=")+D+"&":m+(x+"=redacted&")}}else m=null;else m=h;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+r+"\n"+i+"\n"+m})}(s.j,s.u,s.A,s.m,s.X,s.s)}function tN(s){return!!s.g&&"GET"==s.u&&2!=s.K&&s.l.Ba}function RS(s,r,i){for(var u,o=!0;!s.I&&s.C<i.length;){if((u=SP(s,i))==Wd){4==r&&(s.o=4,Kr(14),o=!1),Ep(s.j,s.m,null,"[Incomplete Response]");break}if(u==xS){s.o=4,Kr(15),Ep(s.j,s.m,i,"[Invalid Chunk]"),o=!1;break}Ep(s.j,s.m,u,null),lc(s,u)}tN(s)&&u!=Wd&&u!=xS&&(s.h.g="",s.C=0),4!=r||0!=i.length||s.h.h||(s.o=1,Kr(16),o=!1),s.i=s.i&&o,o?0<i.length&&!s.aa&&(s.aa=!0,(r=s.l).g==s&&r.$&&!r.L&&(r.h.info("Great, no buffering proxy detected. Bytes received: "+i.length),ir(r),r.L=!0,Kr(11))):(Ep(s.j,s.m,i,"[Invalid Chunked Response]"),ac(s),x_(s))}function SP(s,r){var i=s.C,o=r.indexOf("\n",i);return-1==o?Wd:(i=Number(r.substring(i,o)),isNaN(i)?xS:(o+=1)+i>r.length?Wd:(r=r.substr(o,i),s.C=o+i,r))}function Zd(s){s.Y=Date.now()+s.P,NS(s,s.P)}function NS(s,r){if(null!=s.B)throw Error("WatchDog timer not null");s.B=qd(qr(s.eb,s),r)}function aw(s){s.B&&(Ft.clearTimeout(s.B),s.B=null)}function x_(s){0==s.l.G||s.I||ZS(s.l,s)}function ac(s){aw(s);var r=s.L;r&&"function"==typeof r.na&&r.na(),s.L=null,JE(s.W),TS(s.V),s.g&&(r=s.g,s.g=null,r.abort(),r.na())}function lc(s,r){try{var i=s.l;if(0!=i.G&&(i.g==s||pw(i.i,s)))if(i.I=s.N,!s.J&&pw(i.i,s)&&3==i.G){try{var o=i.Ca.g.parse(r)}catch(xe){o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0])e:if(i.u)i.ta=u[1],0<i.ta-i.U&&37500>u[2]&&i.N&&0==i.A&&!i.v&&(i.v=qd(qr(i.ab,i),6e3));else{if(i.g){if(!(i.g.F+3e3<s.F))break e;U_(i),xp(i)}V_(i),Kr(18)}if(1>=fw(i.i)&&i.ka){try{i.ka()}catch(xe){}i.ka=void 0}}else Fo(i,11)}else if((s.J||i.g==s)&&U_(i),!_p(r))for(u=i.Ca.g.parse(r),r=0;r<u.length;r++){var h=u[r];if(i.U=h[0],h=h[1],2==i.G)if("c"==h[0]){i.J=h[1],i.la=h[2];var m=h[3];null!=m&&(i.ma=m,i.h.info("VER="+i.ma));var v=h[4];null!=v&&(i.za=v,i.h.info("SVER="+i.za));var I=h[5];null!=I&&"number"==typeof I&&0<I&&(i.K=o=1.5*I,i.h.info("backChannelRequestTimeoutMs_="+o)),o=i;var D=s.g;if(D){var x=D.g?D.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(x){var O=o.i;!O.g&&(di(x,"spdy")||di(x,"quic")||di(x,"h2"))&&(O.j=O.l,O.g=new Set,O.h&&(VS(O,O.h),O.h=null))}if(o.D){var j=D.g?D.g.getResponseHeader("X-HTTP-Session-Id"):null;j&&(o.sa=j,Mn(o.F,o.D,j))}}i.G=3,i.j&&i.j.xa(),i.$&&(i.O=Date.now()-s.F,i.h.info("Handshake RTT: "+i.O+"ms"));var H=s;if((o=i).oa=vN(o,o.H?o.la:null,o.W),H.J){gw(o.i,H);var ee=H,ve=o.K;ve&&ee.setTimeout(ve),ee.B&&(aw(ee),Zd(ee)),o.g=H}else L_(o);0<i.l.length&&th(i)}else"stop"!=h[0]&&"close"!=h[0]||Fo(i,7);else 3==i.G&&("stop"==h[0]||"close"==h[0]?"stop"==h[0]?Fo(i,7):Ew(i):"noop"!=h[0]&&i.j&&i.j.wa(h),i.A=0)}wp(4)}catch(xe){}}function lw(s,r){if(s.forEach&&"function"==typeof s.forEach)s.forEach(r,void 0);else if(nS(s)||"string"==typeof s)LE(s,r,void 0);else{if(s.T&&"function"==typeof s.T)var i=s.T();else if(s.R&&"function"==typeof s.R)i=void 0;else if(nS(s)||"string"==typeof s){i=[];for(var o=s.length,u=0;u<o;u++)i.push(u)}else for(u in i=[],o=0,s)i[o++]=u;u=(o=function(s){if(s.R&&"function"==typeof s.R)return s.R();if("string"==typeof s)return s.split("");if(nS(s)){for(var r=[],i=s.length,o=0;o<i;o++)r.push(s[o]);return r}for(o in r=[],i=0,s)r[i++]=s[o];return r}(s)).length;for(var h=0;h<u;h++)r.call(void 0,o[h],i&&i[h],s)}}function Kd(s,r){this.h={},this.g=[],this.i=0;var i=arguments.length;if(1<i){if(i%2)throw Error("Uneven number of arguments");for(var o=0;o<i;o+=2)this.set(arguments[o],arguments[o+1])}else if(s)if(s instanceof Kd)for(i=s.T(),o=0;o<i.length;o++)this.set(i[o],s.get(i[o]));else for(o in s)this.set(o,s[o])}function Tp(s){if(s.i!=s.g.length){for(var r=0,i=0;r<s.g.length;){var o=s.g[r];uc(s.h,o)&&(s.g[i++]=o),r++}s.g.length=i}if(s.i!=s.g.length){var u={};for(i=r=0;r<s.g.length;)uc(u,o=s.g[r])||(s.g[i++]=o,u[o]=1),r++;s.g.length=i}}function uc(s,r){return Object.prototype.hasOwnProperty.call(s,r)}(rt=Tl.prototype).setTimeout=function(s){this.P=s},rt.gb=function(s){s=s.target;var r=this.L;r&&3==Dl(s)?r.l():this.Ia(s)},rt.Ia=function(s){try{if(s==this.g)e:{var r=Dl(this.g),i=this.g.Da(),o=this.g.ba();if(!(3>r)&&(3!=r||jE||this.g&&(this.h.h||this.g.ga()||vw(this.g)))){this.I||4!=r||7==i||wp(8==i||0>=o?3:2),aw(this);var u=this.g.ba();this.N=u;t:if(tN(this)){var h=vw(this.g);s="";var m=h.length,v=4==Dl(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ac(this),x_(this);var I="";break t}this.h.i=new Ft.TextDecoder}for(i=0;i<m;i++)this.h.h=!0,s+=this.h.i.decode(h[i],{stream:v&&i==m-1});h.splice(0,m),this.h.g+=s,this.C=0,I=this.h.g}else I=this.g.ga();if(this.i=200==u,function(s,r,i,o,u,h,m){s.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+r+"\n"+i+"\n"+h+" "+m})}(this.j,this.u,this.A,this.m,this.X,r,u),this.i){if(this.$&&!this.J){t:{if(this.g){var D,x=this.g;if((D=x.g?x.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_p(D)){var O=D;break t}}O=null}if(!(u=O)){this.i=!1,this.o=3,Kr(12),ac(this),x_(this);break e}Ep(this.j,this.m,u,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,lc(this,u)}this.U?(RS(this,r,I),jE&&this.i&&3==r&&(IS(this.V,this.W,"tick",this.fb),this.W.start())):(Ep(this.j,this.m,I,null),lc(this,I)),4==r&&ac(this),this.i&&!this.I&&(4==r?ZS(this.l,this):(this.i=!1,Zd(this)))}else 400==u&&0<I.indexOf("Unknown SID")?(this.o=3,Kr(12)):(this.o=0,Kr(13)),ac(this),x_(this)}}}catch(j){}},rt.fb=function(){if(this.g){var s=Dl(this.g),r=this.g.ga();this.C<r.length&&(aw(this),RS(this,s,r),this.i&&4!=s&&Zd(this))}},rt.cancel=function(){this.I=!0,ac(this)},rt.eb=function(){this.B=null;var s=Date.now();0<=s-this.Y?(function(s,r){s.info(function(){return"TIMEOUT: "+r})}(this.j,this.A),2!=this.K&&(wp(3),Kr(17)),ac(this),this.o=2,x_(this)):NS(this,this.Y-s)},(rt=Kd.prototype).R=function(){Tp(this);for(var s=[],r=0;r<this.g.length;r++)s.push(this.h[this.g[r]]);return s},rt.T=function(){return Tp(this),this.g.concat()},rt.get=function(s,r){return uc(this.h,s)?this.h[s]:r},rt.set=function(s,r){uc(this.h,s)||(this.i++,this.g.push(s)),this.h[s]=r},rt.forEach=function(s,r){for(var i=this.T(),o=0;o<i.length;o++){var u=i[o],h=this.get(u);s.call(r,h,u,this)}};var Zi=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function wa(s,r){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,s instanceof wa){this.g=void 0!==r?r:s.g,R_(this,s.j),this.s=s.s,Yd(this,s.i),Sp(this,s.m),this.l=s.l,r=s.h;var i=new N_;i.i=r.i,r.g&&(i.g=new Kd(r.g),i.h=r.h),uw(this,i),this.o=s.o}else s&&(i=String(s).match(Zi))?(this.g=!!r,R_(this,i[1]||"",!0),this.s=Ap(i[2]||""),Yd(this,i[3]||"",!0),Sp(this,i[4]),this.l=Ap(i[5]||"",!0),uw(this,i[6]||"",!0),this.o=Ap(i[7]||"")):(this.g=!!r,this.h=new N_(null,this.g))}function Ca(s){return new wa(s)}function R_(s,r,i){s.j=i?Ap(r,!0):r,s.j&&(s.j=s.j.replace(/:$/,""))}function Yd(s,r,i){s.i=i?Ap(r,!0):r}function Sp(s,r){if(r){if(r=Number(r),isNaN(r)||0>r)throw Error("Bad port number "+r);s.m=r}else s.m=null}function uw(s,r,i){r instanceof N_?(s.h=r,function(s,r){r&&!s.j&&(Sl(s),s.i=null,s.g.forEach(function(i,o){var u=o.toLowerCase();o!=u&&(aN(this,o),FS(this,u,i))},s)),s.j=r}(s.h,s.g)):(i||(r=cc(r,ho)),s.h=new N_(r,s.g))}function Mn(s,r,i){s.h.set(r,i)}function Dp(s){return Mn(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function Ap(s,r){return s?r?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function cc(s,r,i){return"string"==typeof s?(s=encodeURI(s).replace(r,kS),i&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function kS(s){return"%"+((s=s.charCodeAt(0))>>4&15).toString(16)+(15&s).toString(16)}wa.prototype.toString=function(){var s=[],r=this.j;r&&s.push(cc(r,cw,!0),":");var i=this.i;return(i||"file"==r)&&(s.push("//"),(r=this.s)&&s.push(cc(r,cw,!0),"@"),s.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(i=this.m)&&s.push(":",String(i))),(i=this.l)&&(this.i&&"/"!=i.charAt(0)&&s.push("/"),s.push(cc(i,"/"==i.charAt(0)?sN:dw,!0))),(i=this.h.toString())&&s.push("?",i),(i=this.o)&&s.push("#",cc(i,oN)),s.join("")};var cw=/[#\/\?@]/g,dw=/[#\?:]/g,sN=/[#\?]/g,ho=/[#\?@]/g,oN=/#/g;function N_(s,r){this.h=this.g=null,this.i=s||null,this.j=!!r}function Sl(s){s.g||(s.g=new Kd,s.h=0,s.i&&function(s,r){if(s){s=s.split("&");for(var i=0;i<s.length;i++){var o=s[i].indexOf("="),u=null;if(0<=o){var h=s[i].substring(0,o);u=s[i].substring(o+1)}else h=s[i];r(h,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(s.i,function(r,i){s.add(decodeURIComponent(r.replace(/\+/g," ")),i)}))}function aN(s,r){Sl(s),r=Qd(s,r),uc(s.g.h,r)&&(s.i=null,s.h-=s.g.get(r).length,uc((s=s.g).h,r)&&(delete s.h[r],s.i--,s.g.length>2*s.i&&Tp(s)))}function PS(s,r){return Sl(s),r=Qd(s,r),uc(s.g.h,r)}function FS(s,r,i){aN(s,r),0<i.length&&(s.i=null,s.g.set(Qd(s,r),__(i)),s.h+=i.length)}function Qd(s,r){return r=String(r),s.j&&(r=r.toLowerCase()),r}(rt=N_.prototype).add=function(s,r){Sl(this),this.i=null,s=Qd(this,s);var i=this.g.get(s);return i||this.g.set(s,i=[]),i.push(r),this.h+=1,this},rt.forEach=function(s,r){Sl(this),this.g.forEach(function(i,o){LE(i,function(u){s.call(r,u,o,this)},this)},this)},rt.T=function(){Sl(this);for(var s=this.g.R(),r=this.g.T(),i=[],o=0;o<r.length;o++)for(var u=s[o],h=0;h<u.length;h++)i.push(r[o]);return i},rt.R=function(s){Sl(this);var r=[];if("string"==typeof s)PS(this,s)&&(r=sS(r,this.g.get(Qd(this,s))));else{s=this.g.R();for(var i=0;i<s.length;i++)r=sS(r,s[i])}return r},rt.set=function(s,r){return Sl(this),this.i=null,PS(this,s=Qd(this,s))&&(this.h-=this.g.get(s).length),this.g.set(s,[r]),this.h+=1,this},rt.get=function(s,r){return s&&0<(s=this.R(s)).length?String(s[0]):r},rt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var s=[],r=this.g.T(),i=0;i<r.length;i++){var o=r[i],u=encodeURIComponent(String(o));o=this.R(o);for(var h=0;h<o.length;h++){var m=u;""!==o[h]&&(m+="="+encodeURIComponent(String(o[h]))),s.push(m)}}return this.i=s.join("&")};var lN=function(r,i){this.h=r,this.g=i};function hw(s){this.l=s||uN,s=Ft.PerformanceNavigationTiming?0<(s=Ft.performance.getEntriesByType("navigation")).length&&("hq"==s[0].nextHopProtocol||"h2"==s[0].nextHopProtocol):!!(Ft.g&&Ft.g.Ea&&Ft.g.Ea()&&Ft.g.Ea().Zb),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var uN=10;function LS(s){return!!s.h||!!s.g&&s.g.size>=s.j}function fw(s){return s.h?1:s.g?s.g.size:0}function pw(s,r){return s.h?s.h==r:!!s.g&&s.g.has(r)}function VS(s,r){s.g?s.g.add(r):s.h=r}function gw(s,r){s.h&&s.h==r?s.h=null:s.g&&s.g.has(r)&&s.g.delete(r)}function mw(s){var r,i;if(null!=s.h)return s.i.concat(s.h.D);if(null!=s.g&&0!==s.g.size){var o=s.i;try{for(var u=f_(s.g.values()),h=u.next();!h.done;h=u.next())o=o.concat(h.value.D)}catch(v){r={error:v}}finally{try{h&&!h.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return o}return __(s.i)}function _w(){}function cN(){this.g=new _w}function US(s,r,i){var o=i||"";try{lw(s,function(u,h){var m=u;nc(u)&&(m=vS(u)),r.push(o+h+"="+encodeURIComponent(m))})}catch(u){throw r.push(o+"type="+encodeURIComponent("_badmap")),u}}function Jd(s,r,i,o,u){try{r.onload=null,r.onerror=null,r.onabort=null,r.ontimeout=null,u(o)}catch(h){}}function Xd(s){this.l=s.$b||null,this.j=s.ib||!1}function O_(s,r){Zr.call(this),this.D=s,this.u=r,this.m=void 0,this.readyState=yw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}hw.prototype.cancel=function(){var s,r;if(this.i=mw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var i=f_(this.g.values()),o=i.next();!o.done;o=i.next())o.value.cancel()}catch(h){s={error:h}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(s)throw s.error}}this.g.clear()}},_w.prototype.stringify=function(s){return Ft.JSON.stringify(s,void 0)},_w.prototype.parse=function(s){return Ft.JSON.parse(s,void 0)},Wr(Xd,A_),Xd.prototype.g=function(){return new O_(this.l,this.j)},Xd.prototype.i=function(s){return function(){return s}}({}),Wr(O_,Zr);var yw=0;function dN(s){s.j.read().then(s.Sa.bind(s)).catch(s.ha.bind(s))}function k_(s){s.readyState=4,s.l=null,s.j=null,s.A=null,P_(s)}function P_(s){s.onreadystatechange&&s.onreadystatechange.call(s)}(rt=O_.prototype).open=function(s,r){if(this.readyState!=yw)throw this.abort(),Error("Error reopening a connection");this.C=s,this.B=r,this.readyState=1,P_(this)},rt.send=function(s){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var r={headers:this.v,method:this.C,credentials:this.m,cache:void 0};s&&(r.body=s),(this.D||Ft).fetch(new Request(this.B,r)).then(this.Va.bind(this),this.ha.bind(this))},rt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,k_(this)),this.readyState=yw},rt.Va=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,P_(this)),this.g&&(this.readyState=3,P_(this),this.g)))if("arraybuffer"===this.responseType)s.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ft.ReadableStream&&"body"in s){if(this.j=s.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;dN(this)}else s.text().then(this.Ua.bind(this),this.ha.bind(this))},rt.Sa=function(s){if(this.g){if(this.u&&s.value)this.response.push(s.value);else if(!this.u){var r=s.value?s.value:new Uint8Array(0);(r=this.A.decode(r,{stream:!s.done}))&&(this.response=this.responseText+=r)}s.done?k_(this):P_(this),3==this.readyState&&dN(this)}},rt.Ua=function(s){this.g&&(this.response=this.responseText=s,k_(this))},rt.Ta=function(s){this.g&&(this.response=s,k_(this))},rt.ha=function(){this.g&&k_(this)},rt.setRequestHeader=function(s,r){this.v.append(s,r)},rt.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},rt.getAllResponseHeaders=function(){if(!this.h)return"";for(var s=[],r=this.h.entries(),i=r.next();!i.done;)s.push((i=i.value)[0]+": "+i[1]),i=r.next();return s.join("\r\n")},Object.defineProperty(O_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(s){this.m=s?"include":"same-origin"}});var BS=Ft.JSON.parse;function Jn(s){Zr.call(this),this.headers=new Kd,this.u=s||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=jS,this.K=this.L=!1}Wr(Jn,Zr);var jS="",hN=/^https?$/i,fN=["POST","PUT"];function HS(s){return"content-type"==s.toLowerCase()}function gN(s,r){s.h=!1,s.g&&(s.l=!0,s.g.abort(),s.l=!1),s.j=r,s.m=5,mN(s),eh(s)}function mN(s){s.D||(s.D=!0,fi(s,"complete"),fi(s,"error"))}function $S(s){if(s.h&&void 0!==tc&&(!s.C[1]||4!=Dl(s)||2!=s.ba()))if(s.v&&4==Dl(s))XE(s.Fa,0,s);else if(fi(s,"readystatechange"),4==Dl(s)){s.h=!1;try{var o,r=s.ba();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break e;default:i=!1}if(!(o=i)){var u;if(u=0===r){var h=String(s.H).match(Zi)[1]||null;if(!h&&Ft.self&&Ft.self.location){var m=Ft.self.location.protocol;h=m.substr(0,m.length-1)}u=!hN.test(h?h.toLowerCase():"")}o=u}if(o)fi(s,"complete"),fi(s,"success");else{s.m=6;try{var v=2<Dl(s)?s.g.statusText:""}catch(I){v=""}s.j=v+" ["+s.ba()+"]",mN(s)}}finally{eh(s)}}}function eh(s,r){if(s.g){yr(s);var i=s.g,o=s.C[0]?p_:null;s.g=null,s.C=null,r||fi(s,"ready");try{i.onreadystatechange=o}catch(u){}}}function yr(s){s.g&&s.K&&(s.g.ontimeout=null),s.A&&(Ft.clearTimeout(s.A),s.A=null)}function Dl(s){return s.g?s.g.readyState:0}function vw(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.J){case jS:case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch(r){return null}}function bw(s,r,i){e:{for(o in i){var o=!1;break e}o=!0}o||(i=function(s){var r="";return VE(s,function(i,o){r+=o,r+=":",r+=i,r+="\r\n"}),r}(i),"string"==typeof s?null!=i&&encodeURIComponent(String(i)):Mn(s,r,i))}function Al(s,r,i){return i&&i.internalChannelParams&&i.internalChannelParams[s]||r}function zS(s){this.za=0,this.l=[],this.h=new ew,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Al("failFast",!1,s),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Al("baseRetryDelayMs",5e3,s),this.$a=Al("retryDelaySeedMs",1e4,s),this.Ya=Al("forwardChannelMaxRetries",2,s),this.ra=Al("forwardChannelRequestTimeoutMs",2e4,s),this.qa=s&&s.xmlHttpFactory||void 0,this.Ba=s&&s.Yb||!1,this.K=void 0,this.H=s&&s.supportsCrossDomainXhr||!1,this.J="",this.i=new hw(s&&s.concurrentRequestLimit),this.Ca=new cN,this.ja=s&&s.fastHandshake||!1,this.Ra=s&&s.Wb||!1,s&&s.Aa&&this.h.Aa(),s&&s.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&s&&s.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!s||!1!==s.Xb}function Ew(s){if(Ml(s),3==s.G){var r=s.V++,i=Ca(s.F);Mn(i,"SID",s.J),Mn(i,"RID",r),Mn(i,"TYPE","terminate"),xl(s,i),(r=new Tl(s,s.h,r,void 0)).K=2,r.v=Dp(Ca(i)),i=!1,Ft.navigator&&Ft.navigator.sendBeacon&&(i=Ft.navigator.sendBeacon(r.v.toString(),"")),!i&&Ft.Image&&((new Image).src=r.v,i=!0),i||(r.g=bN(r.l,null),r.g.ea(r.v)),r.F=Date.now(),Zd(r)}KS(s)}function xp(s){s.g&&(ir(s),s.g.cancel(),s.g=null)}function Ml(s){xp(s),s.u&&(Ft.clearTimeout(s.u),s.u=null),U_(s),s.i.cancel(),s.m&&("number"==typeof s.m&&Ft.clearTimeout(s.m),s.m=null)}function F_(s,r){s.l.push(new lN(s.Za++,r)),3==s.G&&th(s)}function th(s){LS(s.i)||s.m||(s.m=!0,bS(s.Ha,s),s.C=0)}function qS(s,r){var i;i=r?r.m:s.V++;var o=Ca(s.F);Mn(o,"SID",s.J),Mn(o,"RID",i),Mn(o,"AID",s.U),xl(s,o),s.o&&s.s&&bw(o,s.o,s.s),i=new Tl(s,s.h,i,s.C+1),null===s.o&&(i.H=s.s),r&&(s.l=r.D.concat(s.l)),r=WS(s,i,1e3),i.setTimeout(Math.round(.5*s.ra)+Math.round(.5*s.ra*Math.random())),VS(s.i,i),ow(i,o,r)}function xl(s,r){s.j&&lw({},function(i,o){Mn(r,o,i)})}function WS(s,r,i){i=Math.min(s.l.length,i);var o=s.j?qr(s.j.Oa,s.j,s):null;e:for(var u=s.l,h=-1;;){var m=["count="+i];-1==h?0<i?m.push("ofs="+(h=u[0].h)):h=0:m.push("ofs="+h);for(var v=!0,I=0;I<i;I++){var D=u[I].h,x=u[I].g;if(0>(D-=h))h=Math.max(0,u[I].h-100),v=!1;else try{US(x,m,"req"+D+"_")}catch(O){o&&o(x)}}if(v){o=m.join("&");break e}}return s=s.l.splice(0,i),r.D=s,o}function L_(s){s.g||s.u||(s.Y=1,bS(s.Ga,s),s.A=0)}function V_(s){return!(s.g||s.u||3<=s.A||(s.Y++,s.u=qd(qr(s.Ga,s),yN(s,s.A)),s.A++,0))}function ir(s){null!=s.B&&(Ft.clearTimeout(s.B),s.B=null)}function _N(s){s.g=new Tl(s,s.h,"rpc",s.Y),null===s.o&&(s.g.H=s.s),s.g.O=0;var r=Ca(s.oa);Mn(r,"RID","rpc"),Mn(r,"SID",s.J),Mn(r,"CI",s.N?"0":"1"),Mn(r,"AID",s.U),xl(s,r),Mn(r,"TYPE","xmlhttp"),s.o&&s.s&&bw(r,s.o,s.s),s.K&&s.g.setTimeout(s.K);var i=s.g;s=s.la,i.K=1,i.v=Dp(Ca(r)),i.s=null,i.U=!0,eN(i,s)}function U_(s){null!=s.v&&(Ft.clearTimeout(s.v),s.v=null)}function ZS(s,r){var i=null;if(s.g==r){U_(s),ir(s),s.g=null;var o=2}else{if(!pw(s.i,r))return;i=r.D,gw(s.i,r),o=1}if(s.I=r.N,0!=s.G)if(r.i)if(1==o){i=r.s?r.s.length:0,r=Date.now()-r.F;var u=s.C;fi(o=Ea(),new nw(o,i,r,u)),th(s)}else L_(s);else if(3==(u=r.o)||0==u&&0<s.I||!(1==o&&function(s,r){return!(fw(s.i)>=s.i.j-(s.m?1:0)||(s.m?(s.l=r.D.concat(s.l),0):1==s.G||2==s.G||s.C>=(s.Xa?0:s.Ya)||(s.m=qd(qr(s.Ha,s,r),yN(s,s.C)),s.C++,0)))}(s,r)||2==o&&V_(s)))switch(i&&0<i.length&&(r=s.i,r.i=r.i.concat(i)),u){case 1:Fo(s,5);break;case 4:Fo(s,10);break;case 3:Fo(s,6);break;default:Fo(s,2)}}function yN(s,r){var i=s.Pa+Math.floor(Math.random()*s.$a);return s.j||(i*=2),i*r}function Fo(s,r){if(s.h.info("Error code "+r),2==r){var i=null;s.j&&(i=null);var o=qr(s.jb,s);i||(i=new wa("//www.google.com/images/cleardot.gif"),Ft.location&&"http"==Ft.location.protocol||R_(i,"https"),Dp(i)),function(s,r){var i=new ew;if(Ft.Image){var o=new Image;o.onload=m_(Jd,i,o,"TestLoadImage: loaded",!0,r),o.onerror=m_(Jd,i,o,"TestLoadImage: error",!1,r),o.onabort=m_(Jd,i,o,"TestLoadImage: abort",!1,r),o.ontimeout=m_(Jd,i,o,"TestLoadImage: timeout",!1,r),Ft.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=s}else r(!1)}(i.toString(),o)}else Kr(2);s.G=0,s.j&&s.j.va(r),KS(s),Ml(s)}function KS(s){s.G=0,s.I=-1,s.j&&((0!=mw(s.i).length||0!=s.l.length)&&(s.i.i.length=0,__(s.l),s.l.length=0),s.j.ua())}function vN(s,r,i){var o=function(s){return s instanceof wa?Ca(s):new wa(s,void 0)}(i);if(""!=o.i)r&&Yd(o,r+"."+o.i),Sp(o,o.m);else{var u=Ft.location;o=function(s,r,i,o){var u=new wa(null,void 0);return s&&R_(u,s),r&&Yd(u,r),i&&Sp(u,i),o&&(u.l=o),u}(u.protocol,r?r+"."+u.hostname:u.hostname,+u.port,i)}return s.aa&&VE(s.aa,function(h,m){Mn(o,m,h)}),i=s.sa,(r=s.D)&&i&&Mn(o,r,i),Mn(o,"VER",s.ma),xl(s,o),o}function bN(s,r,i){if(r&&!s.H)throw Error("Can't create secondary domain capable XhrIo object.");return(r=new Jn(i&&s.Ba&&!s.qa?new Xd({ib:!0}):s.qa)).L=s.H,r}function EN(){}function B_(){if(ic&&!(10<=Number(qR)))throw Error("Environmental error: no available transport.")}function ds(s,r){Zr.call(this),this.g=new zS(r),this.l=s,this.h=r&&r.messageUrlParams||null,s=r&&r.messageHeaders||null,r&&r.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.s=s,s=r&&r.initMessageHeaders||null,r&&r.messageContentType&&(s?s["X-WebChannel-Content-Type"]=r.messageContentType:s={"X-WebChannel-Content-Type":r.messageContentType}),r&&r.ya&&(s?s["X-WebChannel-Client-Profile"]=r.ya:s={"X-WebChannel-Client-Profile":r.ya}),this.g.P=s,(s=r&&r.httpHeadersOverwriteParam)&&!_p(s)&&(this.g.o=s),this.A=r&&r.supportsCrossDomainXhr||!1,this.v=r&&r.sendRawJson||!1,(r=r&&r.httpSessionIdParam)&&!_p(r)&&(this.g.D=r,null!==(s=this.h)&&r in s&&r in(s=this.h)&&delete s[r]),this.j=new nh(this)}function YS(s){DS.call(this);var r=s.__sm__;if(r){e:{for(var i in r){s=i;break e}s=void 0}(this.i=s)&&(s=this.i,r=null!==r&&s in r?r[s]:void 0),this.data=r}else this.data=s}function QS(){AS.call(this),this.status=1}function nh(s){this.g=s}(rt=Jn.prototype).ea=function(s,r,i,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+s);r=r?r.toUpperCase():"GET",this.H=s,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():iw.g(),this.C=function(s){return s.h||(s.h=s.i())}(this.u?this.u:iw),this.g.onreadystatechange=qr(this.Fa,this);try{this.F=!0,this.g.open(r,String(s),!0),this.F=!1}catch(h){return void gN(this,h)}s=i||"";var u=new Kd(this.headers);o&&lw(o,function(h,m){u.set(m,h)}),o=function(s){e:{for(var r=HS,i=s.length,o="string"==typeof s?s.split(""):s,u=0;u<i;u++)if(u in o&&r.call(void 0,o[u],u,s)){r=u;break e}r=-1}return 0>r?null:"string"==typeof s?s.charAt(r):s[r]}(u.T()),i=Ft.FormData&&s instanceof Ft.FormData,!(0<=FE(fN,r))||o||i||u.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),u.forEach(function(h,m){this.g.setRequestHeader(m,h)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{yr(this),0<this.B&&((this.K=function(s){return ic&&dS()&&"number"==typeof s.timeout&&void 0!==s.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=qr(this.pa,this)):this.A=XE(this.pa,this.B,this)),this.v=!0,this.g.send(s),this.v=!1}catch(h){gN(this,h)}},rt.pa=function(){void 0!==tc&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,fi(this,"timeout"),this.abort(8))},rt.abort=function(s){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=s||7,fi(this,"complete"),fi(this,"abort"),eh(this))},rt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),eh(this,!0)),Jn.Z.M.call(this)},rt.Fa=function(){this.s||(this.F||this.v||this.l?$S(this):this.cb())},rt.cb=function(){$S(this)},rt.ba=function(){try{return 2<Dl(this)?this.g.status:-1}catch(s){return-1}},rt.ga=function(){try{return this.g?this.g.responseText:""}catch(s){return""}},rt.Qa=function(s){if(this.g){var r=this.g.responseText;return s&&0==r.indexOf(s)&&(r=r.substring(s.length)),BS(r)}},rt.Da=function(){return this.m},rt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(rt=zS.prototype).ma=8,rt.G=1,rt.hb=function(s){try{this.h.info("Origin Trials invoked: "+s)}catch(r){}},rt.Ha=function(s){if(this.m)if(this.m=null,1==this.G){if(!s){this.V=Math.floor(1e5*Math.random()),s=this.V++;var r=new Tl(this,this.h,s,void 0),i=this.s;if(this.P&&(i?$d(i=aS(i),this.P):i=this.P),null===this.o&&(r.H=i),this.ja)e:{for(var o=0,u=0;u<this.l.length;u++){var h=this.l[u];if(void 0===(h="__data__"in h.g&&"string"==typeof(h=h.g.__data__)?h.length:void 0))break;if(4096<(o+=h)){o=u;break e}if(4096===o||u===this.l.length-1){o=u+1;break e}}o=1e3}else o=1e3;o=WS(this,r,o),Mn(u=Ca(this.F),"RID",s),Mn(u,"CVER",22),this.D&&Mn(u,"X-HTTP-Session-Id",this.D),xl(this,u),this.o&&i&&bw(u,this.o,i),VS(this.i,r),this.Ra&&Mn(u,"TYPE","init"),this.ja?(Mn(u,"$req",o),Mn(u,"SID","null"),r.$=!0,ow(r,u,null)):ow(r,u,o),this.G=2}}else 3==this.G&&(s?qS(this,s):0==this.l.length||LS(this.i)||qS(this))},rt.Ga=function(){if(this.u=null,_N(this),this.$&&!(this.L||null==this.g||0>=this.O)){var s=2*this.O;this.h.info("BP detection timer enabled: "+s),this.B=qd(qr(this.bb,this),s)}},rt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Kr(10),xp(this),_N(this))},rt.ab=function(){null!=this.v&&(this.v=null,xp(this),V_(this),Kr(19))},rt.jb=function(s){s?(this.h.info("Successfully pinged google.com"),Kr(2)):(this.h.info("Failed to ping google.com"),Kr(1))},(rt=EN.prototype).xa=function(){},rt.wa=function(){},rt.va=function(){},rt.ua=function(){},rt.Oa=function(){},B_.prototype.g=function(s,r){return new ds(s,r)},Wr(ds,Zr),ds.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var s=this.g,r=this.l,i=this.h||void 0;s.Wa&&(s.h.info("Origin Trials enabled."),bS(qr(s.hb,s,r))),Kr(0),s.W=r,s.aa=i||{},s.N=s.X,s.F=vN(s,null,s.W),th(s)},ds.prototype.close=function(){Ew(this.g)},ds.prototype.u=function(s){if("string"==typeof s){var r={};r.__data__=s,F_(this.g,r)}else this.v?((r={}).__data__=vS(s),F_(this.g,r)):F_(this.g,s)},ds.prototype.M=function(){this.g.j=null,delete this.j,Ew(this.g),delete this.g,ds.Z.M.call(this)},Wr(YS,DS),Wr(QS,AS),Wr(nh,EN),nh.prototype.xa=function(){fi(this.g,"a")},nh.prototype.wa=function(s){fi(this.g,new YS(s))},nh.prototype.va=function(s){fi(this.g,new QS(s))},nh.prototype.ua=function(){fi(this.g,"b")},B_.prototype.createWebChannel=B_.prototype.g,ds.prototype.send=ds.prototype.u,ds.prototype.open=ds.prototype.m,ds.prototype.close=ds.prototype.close,Cp.NO_ERROR=0,Cp.TIMEOUT=8,Cp.HTTP_ERROR=6,XR.COMPLETE="complete",rw.EventType=M_,M_.OPEN="a",M_.CLOSE="b",M_.ERROR="c",M_.MESSAGE="d",Zr.prototype.listen=Zr.prototype.N,Jn.prototype.listenOnce=Jn.prototype.O,Jn.prototype.getLastError=Jn.prototype.La,Jn.prototype.getLastErrorCode=Jn.prototype.Da,Jn.prototype.getStatus=Jn.prototype.ba,Jn.prototype.getResponseJson=Jn.prototype.Qa,Jn.prototype.getResponseText=Jn.prototype.ga,Jn.prototype.send=Jn.prototype.ea;var j_=Cp,XS=XR,CN=oc,eD_PROXY=10,eD_NOPROXY=11,tD=Xd,Rp=rw,nD=Jn;class _n{constructor(r){this.uid=r}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(r){return r.uid===this.uid}}_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");let rh="9.0.0";const Rl=new Xu.Yd("@firebase/firestore");function Cw(){return Rl.logLevel}function He(s,...r){if(Rl.logLevel<=Xu.in.DEBUG){const i=r.map(Iw);Rl.debug(`Firestore (${rh}): ${s}`,...i)}}function sr(s,...r){if(Rl.logLevel<=Xu.in.ERROR){const i=r.map(Iw);Rl.error(`Firestore (${rh}): ${s}`,...i)}}function Np(s,...r){if(Rl.logLevel<=Xu.in.WARN){const i=r.map(Iw);Rl.warn(`Firestore (${rh}): ${s}`,...i)}}function Iw(s){if("string"==typeof s)return s;try{return JSON.stringify(s)}catch(i){return s}}function st(s="Unexpected state"){const r=`FIRESTORE (${rh}) INTERNAL ASSERTION FAILED: `+s;throw sr(r),new Error(r)}function Tt(s,r){s||st()}function Ze(s,r){return s}const Te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends Error{constructor(r,i){super(i),this.code=r,this.message=i,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Yr{constructor(){this.promise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}}class H_{constructor(r,i){this.user=i,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${r}`}}class TN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(r,i){r.enqueueRetryable(()=>i(_n.UNAUTHENTICATED))}shutdown(){}}class SN{constructor(r){this.token=r,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(r,i){this.changeListener=i,r.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class DN{constructor(r){this.t=r,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(r,i){var o=this;let u=this.i;const h=I=>this.i!==u?(u=this.i,i(I)):Promise.resolve();let m=new Yr;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new Yr,r.enqueueRetryable(()=>h(this.currentUser))};const v=I=>{r.enqueueRetryable((0,Oe.Z)(function*(){He("FirebaseCredentialsProvider","Auth detected"),o.auth=I,o.auth.addAuthTokenListener(o.o),yield m.promise,yield h(o.currentUser)}))};this.t.onInit(I=>v(I)),setTimeout(()=>{if(!this.auth){const I=this.t.getImmediate({optional:!0});I?v(I):(He("FirebaseCredentialsProvider","Auth not yet detected"),m.resolve(),m=new Yr)}},0),r.enqueueRetryable((0,Oe.Z)(function*(){0===o.i&&(yield m.promise,yield h(o.currentUser))}))}getToken(){const r=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(o=>this.i!==r?(He("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Tt("string"==typeof o.accessToken),new H_(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const r=this.auth&&this.auth.getUid();return Tt(null===r||"string"==typeof r),new _n(r)}}class RP{constructor(r,i,o){this.h=r,this.l=i,this.m=o,this.type="FirstParty",this.user=_n.FIRST_PARTY}get authHeaders(){const r={"X-Goog-AuthUser":this.l},i=this.h.auth.getAuthHeaderValueForFirstParty([]);return i&&(r.Authorization=i),this.m&&(r["X-Goog-Iam-Authorization-Token"]=this.m),r}}class AN{constructor(r,i,o){this.h=r,this.l=i,this.m=o}getToken(){return Promise.resolve(new RP(this.h,this.l,this.m))}start(r,i){r.enqueueRetryable(()=>i(_n.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hs{constructor(r,i){this.previousValue=r,i&&(i.sequenceNumberHandler=o=>this.g(o),this.p=o=>i.writeSequenceNumber(o))}g(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.p&&this.p(r),r}}function MN(s){const r="undefined"!=typeof self&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(r&&"function"==typeof r.getRandomValues)r.getRandomValues(i);else for(let o=0;o<s;o++)i[o]=Math.floor(256*Math.random());return i}hs.T=-1;class Ls{static I(){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/r.length)*r.length;let o="";for(;o.length<20;){const u=MN(40);for(let h=0;h<u.length;++h)o.length<20&&u[h]<i&&(o+=r.charAt(u[h]%r.length))}return o}}function nn(s,r){return s<r?-1:s>r?1:0}function dc(s,r,i){return s.length===r.length&&s.every((o,u)=>i(o,r[u]))}function rD(s){return s+"\0"}class vr{constructor(r,i){if(this.seconds=r,this.nanoseconds=i,i<0)throw new Fe(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new Fe(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(r<-62135596800)throw new Fe(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r);if(r>=253402300800)throw new Fe(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r)}static now(){return vr.fromMillis(Date.now())}static fromDate(r){return vr.fromMillis(r.getTime())}static fromMillis(r){const i=Math.floor(r/1e3),o=Math.floor(1e6*(r-1e3*i));return new vr(i,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(r){return this.seconds===r.seconds?nn(this.nanoseconds,r.nanoseconds):nn(this.seconds,r.seconds)}isEqual(r){return r.seconds===this.seconds&&r.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ut{constructor(r){this.timestamp=r}static fromTimestamp(r){return new Ut(r)}static min(){return new Ut(new vr(0,0))}compareTo(r){return this.timestamp._compareTo(r.timestamp)}isEqual(r){return this.timestamp.isEqual(r.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Tw(s){let r=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&r++;return r}function Ia(s,r){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&r(i,s[i])}function $_(s){for(const r in s)if(Object.prototype.hasOwnProperty.call(s,r))return!1;return!0}class hc{constructor(r,i,o){void 0===i?i=0:i>r.length&&st(),void 0===o?o=r.length-i:o>r.length-i&&st(),this.segments=r,this.offset=i,this.len=o}get length(){return this.len}isEqual(r){return 0===hc.comparator(this,r)}child(r){const i=this.segments.slice(this.offset,this.limit());return r instanceof hc?r.forEach(o=>{i.push(o)}):i.push(r),this.construct(i)}limit(){return this.offset+this.length}popFirst(r){return this.construct(this.segments,this.offset+(r=void 0===r?1:r),this.length-r)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(r){return this.segments[this.offset+r]}isEmpty(){return 0===this.length}isPrefixOf(r){if(r.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==r.get(i))return!1;return!0}isImmediateParentOf(r){if(this.length+1!==r.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==r.get(i))return!1;return!0}forEach(r){for(let i=this.offset,o=this.limit();i<o;i++)r(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(r,i){const o=Math.min(r.length,i.length);for(let u=0;u<o;u++){const h=r.get(u),m=i.get(u);if(h<m)return-1;if(h>m)return 1}return r.length<i.length?-1:r.length>i.length?1:0}}class rn extends hc{construct(r,i,o){return new rn(r,i,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...r){const i=[];for(const o of r){if(o.indexOf("//")>=0)throw new Fe(Te.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);i.push(...o.split("/").filter(u=>u.length>0))}return new rn(i)}static emptyPath(){return new rn([])}}const G_=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xr extends hc{construct(r,i,o){return new xr(r,i,o)}static isValidIdentifier(r){return G_.test(r)}canonicalString(){return this.toArray().map(r=>(r=r.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xr.isValidIdentifier(r)||(r="`"+r+"`"),r)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new xr(["__name__"])}static fromServerFormat(r){const i=[];let o="",u=0;const h=()=>{if(0===o.length)throw new Fe(Te.INVALID_ARGUMENT,`Invalid field path (${r}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(o),o=""};let m=!1;for(;u<r.length;){const v=r[u];if("\\"===v){if(u+1===r.length)throw new Fe(Te.INVALID_ARGUMENT,"Path has trailing escape character: "+r);const I=r[u+1];if("\\"!==I&&"."!==I&&"`"!==I)throw new Fe(Te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+r);o+=I,u+=2}else"`"===v?(m=!m,u++):"."!==v||m?(o+=v,u++):(h(),u++)}if(h(),m)throw new Fe(Te.INVALID_ARGUMENT,"Unterminated ` in path: "+r);return new xr(i)}static emptyPath(){return new xr([])}}class fc{constructor(r){this.fields=r,r.sort(xr.comparator)}covers(r){for(const i of this.fields)if(i.isPrefixOf(r))return!0;return!1}isEqual(r){return dc(this.fields,r.fields,(i,o)=>i.isEqual(o))}}class Rr{constructor(r){this.binaryString=r}static fromBase64String(r){const i=atob(r);return new Rr(i)}static fromUint8Array(r){const i=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(r);return new Rr(i)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const i=new Uint8Array(r.length);for(let o=0;o<r.length;o++)i[o]=r.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(r){return nn(this.binaryString,r.binaryString)}isEqual(r){return this.binaryString===r.binaryString}}Rr.EMPTY_BYTE_STRING=new Rr("");const iD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nl(s){if(Tt(!!s),"string"==typeof s){let r=0;const i=iD.exec(s);if(Tt(!!i),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),r=Number(u)}const o=new Date(s);return{seconds:Math.floor(o.getTime()/1e3),nanos:r}}return{seconds:or(s.seconds),nanos:or(s.nanos)}}function or(s){return"number"==typeof s?s:"string"==typeof s?Number(s):0}function ih(s){return"string"==typeof s?Rr.fromBase64String(s):Rr.fromUint8Array(s)}function Op(s){var r,i;return"server_timestamp"===(null===(i=((null===(r=null==s?void 0:s.mapValue)||void 0===r?void 0:r.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function sD(s){const r=s.mapValue.fields.__previous_value__;return Op(r)?sD(r):r}function br(s){const r=Nl(s.mapValue.fields.__local_write_time__.timestampValue);return new vr(r.seconds,r.nanos)}function fo(s){return null==s}function pc(s){return 0===s&&1/s==-1/0}function Sw(s){return"number"==typeof s&&Number.isInteger(s)&&!pc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}class ot{constructor(r){this.path=r}static fromPath(r){return new ot(rn.fromString(r))}static fromName(r){return new ot(rn.fromString(r).popFirst(5))}hasCollectionId(r){return this.path.length>=2&&this.path.get(this.path.length-2)===r}isEqual(r){return null!==r&&0===rn.comparator(this.path,r.path)}toString(){return this.path.toString()}static comparator(r,i){return rn.comparator(r.path,i.path)}static isDocumentKey(r){return r.length%2==0}static fromSegments(r){return new ot(new rn(r.slice()))}}function Ta(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Op(s)?4:10:st()}function po(s,r){const i=Ta(s);if(i!==Ta(r))return!1;switch(i){case 0:return!0;case 1:return s.booleanValue===r.booleanValue;case 4:return br(s).isEqual(br(r));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Nl(o.timestampValue),m=Nl(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(s,r);case 5:return s.stringValue===r.stringValue;case 6:return u=r,ih(s.bytesValue).isEqual(ih(u.bytesValue));case 7:return s.referenceValue===r.referenceValue;case 8:return function(o,u){return or(o.geoPointValue.latitude)===or(u.geoPointValue.latitude)&&or(o.geoPointValue.longitude)===or(u.geoPointValue.longitude)}(s,r);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return or(o.integerValue)===or(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=or(o.doubleValue),m=or(u.doubleValue);return h===m?pc(h)===pc(m):isNaN(h)&&isNaN(m)}return!1}(s,r);case 9:return dc(s.arrayValue.values||[],r.arrayValue.values||[],po);case 10:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Tw(h)!==Tw(m))return!1;for(const v in h)if(h.hasOwnProperty(v)&&(void 0===m[v]||!po(h[v],m[v])))return!1;return!0}(s,r);default:return st()}var u}function Ol(s,r){return void 0!==(s.values||[]).find(i=>po(i,r))}function sh(s,r){const i=Ta(s),o=Ta(r);if(i!==o)return nn(i,o);switch(i){case 0:return 0;case 1:return nn(s.booleanValue,r.booleanValue);case 2:return function(u,h){const m=or(u.integerValue||u.doubleValue),v=or(h.integerValue||h.doubleValue);return m<v?-1:m>v?1:m===v?0:isNaN(m)?isNaN(v)?0:-1:1}(s,r);case 3:return oD(s.timestampValue,r.timestampValue);case 4:return oD(br(s),br(r));case 5:return nn(s.stringValue,r.stringValue);case 6:return function(u,h){const m=ih(u),v=ih(h);return m.compareTo(v)}(s.bytesValue,r.bytesValue);case 7:return function(u,h){const m=u.split("/"),v=h.split("/");for(let I=0;I<m.length&&I<v.length;I++){const D=nn(m[I],v[I]);if(0!==D)return D}return nn(m.length,v.length)}(s.referenceValue,r.referenceValue);case 8:return function(u,h){const m=nn(or(u.latitude),or(h.latitude));return 0!==m?m:nn(or(u.longitude),or(h.longitude))}(s.geoPointValue,r.geoPointValue);case 9:return function(u,h){const m=u.values||[],v=h.values||[];for(let I=0;I<m.length&&I<v.length;++I){const D=sh(m[I],v[I]);if(D)return D}return nn(m.length,v.length)}(s.arrayValue,r.arrayValue);case 10:return function(u,h){const m=u.fields||{},v=Object.keys(m),I=h.fields||{},D=Object.keys(I);v.sort(),D.sort();for(let x=0;x<v.length&&x<D.length;++x){const O=nn(v[x],D[x]);if(0!==O)return O;const j=sh(m[v[x]],I[D[x]]);if(0!==j)return j}return nn(v.length,D.length)}(s.mapValue,r.mapValue);default:throw st()}}function oD(s,r){if("string"==typeof s&&"string"==typeof r&&s.length===r.length)return nn(s,r);const i=Nl(s),o=Nl(r),u=nn(i.seconds,o.seconds);return 0!==u?u:nn(i.nanos,o.nanos)}function Dw(s){return Aw(s)}function Aw(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(o){const u=Nl(o);return`time(${u.seconds},${u.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?ih(s.bytesValue).toBase64():"referenceValue"in s?ot.fromName(s.referenceValue).toString():"geoPointValue"in s?`geo(${(r=s.geoPointValue).latitude},${r.longitude})`:"arrayValue"in s?function(o){let u="[",h=!0;for(const m of o.values||[])h?h=!1:u+=",",u+=Aw(m);return u+"]"}(s.arrayValue):"mapValue"in s?function(o){const u=Object.keys(o.fields||{}).sort();let h="{",m=!0;for(const v of u)m?m=!1:h+=",",h+=`${v}:${Aw(o.fields[v])}`;return h+"}"}(s.mapValue):st();var r}function kp(s,r){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${r.path.canonicalString()}`}}function Mw(s){return!!s&&"integerValue"in s}function xw(s){return!!s&&"arrayValue"in s}function aD(s){return!!s&&"nullValue"in s}function Sa(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function kl(s){return!!s&&"mapValue"in s}function gc(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&"object"==typeof s.timestampValue)return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const r={mapValue:{fields:{}}};return Ia(s.mapValue.fields,(i,o)=>r.mapValue.fields[i]=gc(o)),r}if(s.arrayValue){const r={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)r.arrayValue.values[i]=gc(s.arrayValue.values[i]);return r}return Object.assign({},s)}class pi{constructor(r){this.value=r}static empty(){return new pi({mapValue:{}})}field(r){if(r.isEmpty())return this.value;{let i=this.value;for(let o=0;o<r.length-1;++o)if(i=(i.mapValue.fields||{})[r.get(o)],!kl(i))return null;return i=(i.mapValue.fields||{})[r.lastSegment()],i||null}}set(r,i){this.getFieldsMap(r.popLast())[r.lastSegment()]=gc(i)}setAll(r){let i=xr.emptyPath(),o={},u=[];r.forEach((m,v)=>{if(!i.isImmediateParentOf(v)){const I=this.getFieldsMap(i);this.applyChanges(I,o,u),o={},u=[],i=v.popLast()}m?o[v.lastSegment()]=gc(m):u.push(v.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,o,u)}delete(r){const i=this.field(r.popLast());kl(i)&&i.mapValue.fields&&delete i.mapValue.fields[r.lastSegment()]}isEqual(r){return po(this.value,r.value)}getFieldsMap(r){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let o=0;o<r.length;++o){let u=i.mapValue.fields[r.get(o)];kl(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[r.get(o)]=u),i=u}return i.mapValue.fields}applyChanges(r,i,o){Ia(i,(u,h)=>r[u]=h);for(const u of o)delete r[u]}clone(){return new pi(gc(this.value))}}function lD(s){const r=[];return Ia(s.fields,(i,o)=>{const u=new xr([i]);if(kl(o)){const h=lD(o.mapValue).fields;if(0===h.length)r.push(u);else for(const m of h)r.push(u.child(m))}else r.push(u)}),new fc(r)}class xn{constructor(r,i,o,u,h){this.key=r,this.documentType=i,this.version=o,this.data=u,this.documentState=h}static newInvalidDocument(r){return new xn(r,0,Ut.min(),pi.empty(),0)}static newFoundDocument(r,i,o){return new xn(r,1,i,o,0)}static newNoDocument(r,i){return new xn(r,2,i,pi.empty(),0)}static newUnknownDocument(r,i){return new xn(r,3,i,pi.empty(),2)}convertToFoundDocument(r,i){return this.version=r,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(r){return this.version=r,this.documentType=2,this.data=pi.empty(),this.documentState=0,this}convertToUnknownDocument(r){return this.version=r,this.documentType=3,this.data=pi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(r){return r instanceof xn&&this.key.isEqual(r.key)&&this.version.isEqual(r.version)&&this.documentType===r.documentType&&this.documentState===r.documentState&&this.data.isEqual(r.data)}clone(){return new xn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Rw{constructor(r,i=null,o=[],u=[],h=null,m=null,v=null){this.path=r,this.collectionGroup=i,this.orderBy=o,this.filters=u,this.limit=h,this.startAt=m,this.endAt=v,this.A=null}}function uD(s,r=null,i=[],o=[],u=null,h=null,m=null){return new Rw(s,r,i,o,u,h,m)}function oh(s){const r=Ze(s);if(null===r.A){let i=r.path.canonicalString();null!==r.collectionGroup&&(i+="|cg:"+r.collectionGroup),i+="|f:",i+=r.filters.map(o=>function(s){return s.field.canonicalString()+s.op.toString()+Dw(s.value)}(o)).join(","),i+="|ob:",i+=r.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),fo(r.limit)||(i+="|l:",i+=r.limit),r.startAt&&(i+="|lb:",i+=Fp(r.startAt)),r.endAt&&(i+="|ub:",i+=Fp(r.endAt)),r.A=i}return r.A}function z_(s,r){if(s.limit!==r.limit||s.orderBy.length!==r.orderBy.length)return!1;for(let u=0;u<s.orderBy.length;u++)if(!Nw(s.orderBy[u],r.orderBy[u]))return!1;if(s.filters.length!==r.filters.length)return!1;for(let u=0;u<s.filters.length;u++)if((i=s.filters[u]).op!==(o=r.filters[u]).op||!i.field.isEqual(o.field)||!po(i.value,o.value))return!1;var i,o;return s.collectionGroup===r.collectionGroup&&!!s.path.isEqual(r.path)&&!!fD(s.startAt,r.startAt)&&fD(s.endAt,r.endAt)}function q_(s){return ot.isDocumentKey(s.path)&&null===s.collectionGroup&&0===s.filters.length}class Mi extends class{}{constructor(r,i,o){super(),this.field=r,this.op=i,this.value=o}static create(r,i,o){return r.isKeyField()?"in"===i||"not-in"===i?this.R(r,i,o):new Pp(r,i,o):"array-contains"===i?new RN(r,o):"in"===i?new NN(r,o):"not-in"===i?new ON(r,o):"array-contains-any"===i?new dD(r,o):new Mi(r,i,o)}static R(r,i,o){return"in"===i?new ah(r,o):new W_(r,o)}matches(r){const i=r.data.field(this.field);return"!="===this.op?null!==i&&this.P(sh(i,this.value)):null!==i&&Ta(this.value)===Ta(i)&&this.P(sh(i,this.value))}P(r){switch(this.op){case"<":return r<0;case"<=":return r<=0;case"==":return 0===r;case"!=":return 0!==r;case">":return r>0;case">=":return r>=0;default:return st()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Pp extends Mi{constructor(r,i,o){super(r,i,o),this.key=ot.fromName(o.referenceValue)}matches(r){const i=ot.comparator(r.key,this.key);return this.P(i)}}class ah extends Mi{constructor(r,i){super(r,"in",i),this.keys=mc(0,i)}matches(r){return this.keys.some(i=>i.isEqual(r.key))}}class W_ extends Mi{constructor(r,i){super(r,"not-in",i),this.keys=mc(0,i)}matches(r){return!this.keys.some(i=>i.isEqual(r.key))}}function mc(s,r){var i;return((null===(i=r.arrayValue)||void 0===i?void 0:i.values)||[]).map(o=>ot.fromName(o.referenceValue))}class RN extends Mi{constructor(r,i){super(r,"array-contains",i)}matches(r){const i=r.data.field(this.field);return xw(i)&&Ol(i.arrayValue,this.value)}}class NN extends Mi{constructor(r,i){super(r,"in",i)}matches(r){const i=r.data.field(this.field);return null!==i&&Ol(this.value.arrayValue,i)}}class ON extends Mi{constructor(r,i){super(r,"not-in",i)}matches(r){if(Ol(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=r.data.field(this.field);return null!==i&&!Ol(this.value.arrayValue,i)}}class dD extends Mi{constructor(r,i){super(r,"array-contains-any",i)}matches(r){const i=r.data.field(this.field);return!(!xw(i)||!i.arrayValue.values)&&i.arrayValue.values.some(o=>Ol(this.value.arrayValue,o))}}class lh{constructor(r,i){this.position=r,this.before=i}}function Fp(s){return`${s.before?"b":"a"}:${s.position.map(r=>Dw(r)).join(",")}`}class _c{constructor(r,i="asc"){this.field=r,this.dir=i}}function Nw(s,r){return s.dir===r.dir&&s.field.isEqual(r.field)}function hD(s,r,i){let o=0;for(let u=0;u<s.position.length;u++){const h=r[u],m=s.position[u];if(o=h.field.isKeyField()?ot.comparator(ot.fromName(m.referenceValue),i.key):sh(m,i.data.field(h.field)),"desc"===h.dir&&(o*=-1),0!==o)break}return s.before?o<=0:o<0}function fD(s,r){if(null===s)return null===r;if(null===r||s.before!==r.before||s.position.length!==r.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!po(s.position[i],r.position[i]))return!1;return!0}class Lo{constructor(r,i=null,o=[],u=[],h=null,m="F",v=null,I=null){this.path=r,this.collectionGroup=i,this.explicitOrderBy=o,this.filters=u,this.limit=h,this.limitType=m,this.startAt=v,this.endAt=I,this.V=null,this.S=null}}function Pl(s,r,i,o,u,h,m,v){return new Lo(s,r,i,o,u,h,m,v)}function Fl(s){return new Lo(s)}function Z_(s){return!fo(s.limit)&&"F"===s.limitType}function K_(s){return!fo(s.limit)&&"L"===s.limitType}function pD(s){return s.explicitOrderBy.length>0?s.explicitOrderBy[0].field:null}function gD(s){for(const r of s.filters)if(r.v())return r.field;return null}function mD(s){return null!==s.collectionGroup}function Lp(s){const r=Ze(s);if(null===r.V){r.V=[];const i=gD(r),o=pD(r);if(null!==i&&null===o)i.isKeyField()||r.V.push(new _c(i)),r.V.push(new _c(xr.keyField(),"asc"));else{let u=!1;for(const h of r.explicitOrderBy)r.V.push(h),h.field.isKeyField()&&(u=!0);if(!u){const h=r.explicitOrderBy.length>0?r.explicitOrderBy[r.explicitOrderBy.length-1].dir:"asc";r.V.push(new _c(xr.keyField(),h))}}}return r.V}function Vs(s){const r=Ze(s);if(!r.S)if("F"===r.limitType)r.S=uD(r.path,r.collectionGroup,Lp(r),r.filters,r.limit,r.startAt,r.endAt);else{const i=[];for(const h of Lp(r))i.push(new _c(h.field,"desc"===h.dir?"asc":"desc"));const o=r.endAt?new lh(r.endAt.position,!r.endAt.before):null,u=r.startAt?new lh(r.startAt.position,!r.startAt.before):null;r.S=uD(r.path,r.collectionGroup,i,r.filters,r.limit,o,u)}return r.S}function _D(s,r,i){return new Lo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),r,i,s.startAt,s.endAt)}function Y_(s,r){return z_(Vs(s),Vs(r))&&s.limitType===r.limitType}function kN(s){return`${oh(Vs(s))}|lt:${s.limitType}`}function yD(s){return`Query(target=${function(s){let r=s.path.canonicalString();return null!==s.collectionGroup&&(r+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(r+=`, filters: [${s.filters.map(i=>{return`${(o=i).field.canonicalString()} ${o.op} ${Dw(o.value)}`;var o}).join(", ")}]`),fo(s.limit)||(r+=", limit: "+s.limit),s.orderBy.length>0&&(r+=`, orderBy: [${s.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),s.startAt&&(r+=", startAt: "+Fp(s.startAt)),s.endAt&&(r+=", endAt: "+Fp(s.endAt)),`Target(${r})`}(Vs(s))}; limitType=${s.limitType})`}function Q_(s,r){return r.isFoundDocument()&&function(i,o){const u=o.key.path;return null!==i.collectionGroup?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(u):ot.isDocumentKey(i.path)?i.path.isEqual(u):i.path.isImmediateParentOf(u)}(s,r)&&function(i,o){for(const u of i.explicitOrderBy)if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(s,r)&&function(i,o){for(const u of i.filters)if(!u.matches(o))return!1;return!0}(s,r)&&(o=r,!((i=s).startAt&&!hD(i.startAt,Lp(i),o)||i.endAt&&hD(i.endAt,Lp(i),o)));var i,o}function vD(s){return(r,i)=>{let o=!1;for(const u of Lp(s)){const h=NP(u,r,i);if(0!==h)return h;o=o||u.field.isKeyField()}return 0}}function NP(s,r,i){const o=s.field.isKeyField()?ot.comparator(r.key,i.key):function(u,h,m){const v=h.data.field(u),I=m.data.field(u);return null!==v&&null!==I?sh(v,I):st()}(s.field,r,i);switch(s.dir){case"asc":return o;case"desc":return-1*o;default:return st()}}function PN(s,r){if(s.D){if(isNaN(r))return{doubleValue:"NaN"};if(r===1/0)return{doubleValue:"Infinity"};if(r===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pc(r)?"-0":r}}function FN(s){return{integerValue:""+s}}function LN(s,r){return Sw(r)?FN(r):PN(s,r)}class a{constructor(){this._=void 0}}function l(s,r,i){return s instanceof g?function(o,u){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&(h.fields.__previous_value__=u),{mapValue:h}}(i,r):s instanceof _?b(s,r):s instanceof w?S(s,r):function(o,u){const h=d(o,u),m=R(h)+R(o.C);return Mw(h)&&Mw(o.C)?FN(m):PN(o.N,m)}(s,r)}function c(s,r,i){return s instanceof _?b(s,r):s instanceof w?S(s,r):i}function d(s,r){return s instanceof M?Mw(i=r)||(o=i)&&"doubleValue"in o?r:{integerValue:0}:null;var o,i}class g extends a{}class _ extends a{constructor(r){super(),this.elements=r}}function b(s,r){const i=k(r);for(const o of s.elements)i.some(u=>po(u,o))||i.push(o);return{arrayValue:{values:i}}}class w extends a{constructor(r){super(),this.elements=r}}function S(s,r){let i=k(r);for(const o of s.elements)i=i.filter(u=>!po(u,o));return{arrayValue:{values:i}}}class M extends a{constructor(r,i){super(),this.N=r,this.C=i}}function R(s){return or(s.integerValue||s.doubleValue)}function k(s){return xw(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class F{constructor(r,i){this.field=r,this.transform=i}}class J{constructor(r,i){this.version=r,this.transformResults=i}}class fe{constructor(r,i){this.updateTime=r,this.exists=i}static none(){return new fe}static exists(r){return new fe(void 0,r)}static updateTime(r){return new fe(r)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(r){return this.exists===r.exists&&(this.updateTime?!!r.updateTime&&this.updateTime.isEqual(r.updateTime):!r.updateTime)}}function ce(s,r){return void 0!==s.updateTime?r.isFoundDocument()&&r.version.isEqual(s.updateTime):void 0===s.exists||s.exists===r.isFoundDocument()}class Le{}function Re(s,r,i){s instanceof gi?function(o,u,h){const m=o.value.clone(),v=vc(o.fieldTransforms,u,h.transformResults);m.setAll(v),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(s,r,i):s instanceof Us?function(o,u,h){if(!ce(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=vc(o.fieldTransforms,u,h.transformResults),v=u.data;v.setAll(yc(o)),v.setAll(m),u.convertToFoundDocument(h.version,v).setHasCommittedMutations()}(s,r,i):r.convertToNoDocument(i.version).setHasCommittedMutations()}function ut(s,r,i){var u;s instanceof gi?function(o,u,h){if(!ce(o.precondition,u))return;const m=o.value.clone(),v=bc(o.fieldTransforms,h,u);m.setAll(v),u.convertToFoundDocument(ar(u),m).setHasLocalMutations()}(s,r,i):s instanceof Us?function(o,u,h){if(!ce(o.precondition,u))return;const m=bc(o.fieldTransforms,h,u),v=u.data;v.setAll(yc(o)),v.setAll(m),u.convertToFoundDocument(ar(u),v).setHasLocalMutations()}(s,r,i):ce(s.precondition,u=r)&&u.convertToNoDocument(Ut.min())}function St(s,r){let i=null;for(const o of s.fieldTransforms){const u=r.data.field(o.field),h=d(o.transform,u||null);null!=h&&(null==i&&(i=pi.empty()),i.set(o.field,h))}return i||null}function Wt(s,r){return s.type===r.type&&!!s.key.isEqual(r.key)&&!!s.precondition.isEqual(r.precondition)&&(o=r.fieldTransforms,!!(void 0===(i=s.fieldTransforms)&&void 0===o||i&&o&&dc(i,o,(u,h)=>function(s,r){return s.field.isEqual(r.field)&&(o=r.transform,(i=s.transform)instanceof _&&o instanceof _||i instanceof w&&o instanceof w?dc(i.elements,o.elements,po):i instanceof M&&o instanceof M?po(i.C,o.C):i instanceof g&&o instanceof g);var i,o}(u,h))))&&(0===s.type?s.value.isEqual(r.value):1!==s.type||s.data.isEqual(r.data)&&s.fieldMask.isEqual(r.fieldMask));var i,o}function ar(s){return s.isFoundDocument()?s.version:Ut.min()}class gi extends Le{constructor(r,i,o,u=[]){super(),this.key=r,this.value=i,this.precondition=o,this.fieldTransforms=u,this.type=0}}class Us extends Le{constructor(r,i,o,u,h=[]){super(),this.key=r,this.data=i,this.fieldMask=o,this.precondition=u,this.fieldTransforms=h,this.type=1}}function yc(s){const r=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const o=s.data.field(i);r.set(i,o)}}),r}function vc(s,r,i){const o=new Map;Tt(s.length===i.length);for(let u=0;u<i.length;u++){const h=s[u],m=h.transform,v=r.data.field(h.field);o.set(h.field,c(m,v,i[u]))}return o}function bc(s,r,i){const o=new Map;for(const u of s){const h=u.transform,m=i.data.field(u.field);o.set(u.field,l(h,m,r))}return o}class Ec extends Le{constructor(r,i){super(),this.key=r,this.precondition=i,this.type=2,this.fieldTransforms=[]}}class Vp extends Le{constructor(r,i){super(),this.key=r,this.precondition=i,this.type=3,this.fieldTransforms=[]}}class Ow{constructor(r){this.count=r}}var qn,Qt;function OP(s){switch(s){case Te.OK:return st();case Te.CANCELLED:case Te.UNKNOWN:case Te.DEADLINE_EXCEEDED:case Te.RESOURCE_EXHAUSTED:case Te.INTERNAL:case Te.UNAVAILABLE:case Te.UNAUTHENTICATED:return!1;case Te.INVALID_ARGUMENT:case Te.NOT_FOUND:case Te.ALREADY_EXISTS:case Te.PERMISSION_DENIED:case Te.FAILED_PRECONDITION:case Te.ABORTED:case Te.OUT_OF_RANGE:case Te.UNIMPLEMENTED:case Te.DATA_LOSS:return!0;default:return st()}}function kP(s){if(void 0===s)return sr("GRPC error has no .code"),Te.UNKNOWN;switch(s){case qn.OK:return Te.OK;case qn.CANCELLED:return Te.CANCELLED;case qn.UNKNOWN:return Te.UNKNOWN;case qn.DEADLINE_EXCEEDED:return Te.DEADLINE_EXCEEDED;case qn.RESOURCE_EXHAUSTED:return Te.RESOURCE_EXHAUSTED;case qn.INTERNAL:return Te.INTERNAL;case qn.UNAVAILABLE:return Te.UNAVAILABLE;case qn.UNAUTHENTICATED:return Te.UNAUTHENTICATED;case qn.INVALID_ARGUMENT:return Te.INVALID_ARGUMENT;case qn.NOT_FOUND:return Te.NOT_FOUND;case qn.ALREADY_EXISTS:return Te.ALREADY_EXISTS;case qn.PERMISSION_DENIED:return Te.PERMISSION_DENIED;case qn.FAILED_PRECONDITION:return Te.FAILED_PRECONDITION;case qn.ABORTED:return Te.ABORTED;case qn.OUT_OF_RANGE:return Te.OUT_OF_RANGE;case qn.UNIMPLEMENTED:return Te.UNIMPLEMENTED;case qn.DATA_LOSS:return Te.DATA_LOSS;default:return st()}}(Qt=qn||(qn={}))[Qt.OK=0]="OK",Qt[Qt.CANCELLED=1]="CANCELLED",Qt[Qt.UNKNOWN=2]="UNKNOWN",Qt[Qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qt[Qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qt[Qt.NOT_FOUND=5]="NOT_FOUND",Qt[Qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qt[Qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qt[Qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qt[Qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qt[Qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qt[Qt.ABORTED=10]="ABORTED",Qt[Qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qt[Qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qt[Qt.INTERNAL=13]="INTERNAL",Qt[Qt.UNAVAILABLE=14]="UNAVAILABLE",Qt[Qt.DATA_LOSS=15]="DATA_LOSS";class Qr{constructor(r,i){this.comparator=r,this.root=i||xi.EMPTY}insert(r,i){return new Qr(this.comparator,this.root.insert(r,i,this.comparator).copy(null,null,xi.BLACK,null,null))}remove(r){return new Qr(this.comparator,this.root.remove(r,this.comparator).copy(null,null,xi.BLACK,null,null))}get(r){let i=this.root;for(;!i.isEmpty();){const o=this.comparator(r,i.key);if(0===o)return i.value;o<0?i=i.left:o>0&&(i=i.right)}return null}indexOf(r){let i=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(r,o.key);if(0===u)return i+o.left.size;u<0?o=o.left:(i+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(r){return this.root.inorderTraversal(r)}forEach(r){this.inorderTraversal((i,o)=>(r(i,o),!1))}toString(){const r=[];return this.inorderTraversal((i,o)=>(r.push(`${i}:${o}`),!1)),`{${r.join(", ")}}`}reverseTraversal(r){return this.root.reverseTraversal(r)}getIterator(){return new bD(this.root,null,this.comparator,!1)}getIteratorFrom(r){return new bD(this.root,r,this.comparator,!1)}getReverseIterator(){return new bD(this.root,null,this.comparator,!0)}getReverseIteratorFrom(r){return new bD(this.root,r,this.comparator,!0)}}class bD{constructor(r,i,o,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!r.isEmpty();)if(h=i?o(r.key,i):1,u&&(h*=-1),h<0)r=this.isReverse?r.left:r.right;else{if(0===h){this.nodeStack.push(r);break}this.nodeStack.push(r),r=this.isReverse?r.right:r.left}}getNext(){let r=this.nodeStack.pop();const i={key:r.key,value:r.value};if(this.isReverse)for(r=r.left;!r.isEmpty();)this.nodeStack.push(r),r=r.right;else for(r=r.right;!r.isEmpty();)this.nodeStack.push(r),r=r.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const r=this.nodeStack[this.nodeStack.length-1];return{key:r.key,value:r.value}}}class xi{constructor(r,i,o,u,h){this.key=r,this.value=i,this.color=null!=o?o:xi.RED,this.left=null!=u?u:xi.EMPTY,this.right=null!=h?h:xi.EMPTY,this.size=this.left.size+1+this.right.size}copy(r,i,o,u,h){return new xi(null!=r?r:this.key,null!=i?i:this.value,null!=o?o:this.color,null!=u?u:this.left,null!=h?h:this.right)}isEmpty(){return!1}inorderTraversal(r){return this.left.inorderTraversal(r)||r(this.key,this.value)||this.right.inorderTraversal(r)}reverseTraversal(r){return this.right.reverseTraversal(r)||r(this.key,this.value)||this.left.reverseTraversal(r)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(r,i,o){let u=this;const h=o(r,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(r,i,o),null):0===h?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(r,i,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return xi.EMPTY;let r=this;return r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.removeMin(),null),r.fixUp()}remove(r,i){let o,u=this;if(i(r,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(r,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===i(r,u.key)){if(u.right.isEmpty())return xi.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(r,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let r=this;return r.right.isRed()&&!r.left.isRed()&&(r=r.rotateLeft()),r.left.isRed()&&r.left.left.isRed()&&(r=r.rotateRight()),r.left.isRed()&&r.right.isRed()&&(r=r.colorFlip()),r}moveRedLeft(){let r=this.colorFlip();return r.right.left.isRed()&&(r=r.copy(null,null,null,null,r.right.rotateRight()),r=r.rotateLeft(),r=r.colorFlip()),r}moveRedRight(){let r=this.colorFlip();return r.left.left.isRed()&&(r=r.rotateRight(),r=r.colorFlip()),r}rotateLeft(){const r=this.copy(null,null,xi.RED,null,this.right.left);return this.right.copy(null,null,this.color,r,null)}rotateRight(){const r=this.copy(null,null,xi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,r)}colorFlip(){const r=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,r,i)}checkMaxDepth(){const r=this.check();return Math.pow(2,r)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw st();const r=this.left.check();if(r!==this.right.check())throw st();return r+(this.isRed()?0:1)}}xi.EMPTY=null,xi.RED=!0,xi.BLACK=!1,xi.EMPTY=new class{constructor(){this.size=0}get key(){throw st()}get value(){throw st()}get color(){throw st()}get left(){throw st()}get right(){throw st()}copy(s,r,i,o,u){return this}insert(s,r,i){return new xi(s,r)}remove(s,r){return this}isEmpty(){return!0}inorderTraversal(s){return!1}reverseTraversal(s){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class lr{constructor(r){this.comparator=r,this.data=new Qr(this.comparator)}has(r){return null!==this.data.get(r)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(r){return this.data.indexOf(r)}forEach(r){this.data.inorderTraversal((i,o)=>(r(i),!1))}forEachInRange(r,i){const o=this.data.getIteratorFrom(r[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,r[1])>=0)return;i(u.key)}}forEachWhile(r,i){let o;for(o=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();o.hasNext();)if(!r(o.getNext().key))return}firstAfterOrEqual(r){const i=this.data.getIteratorFrom(r);return i.hasNext()?i.getNext().key:null}getIterator(){return new PP(this.data.getIterator())}getIteratorFrom(r){return new PP(this.data.getIteratorFrom(r))}add(r){return this.copy(this.data.remove(r).insert(r,!0))}delete(r){return this.has(r)?this.copy(this.data.remove(r)):this}isEmpty(){return this.data.isEmpty()}unionWith(r){let i=this;return i.size<r.size&&(i=r,r=this),r.forEach(o=>{i=i.add(o)}),i}isEqual(r){if(!(r instanceof lr)||this.size!==r.size)return!1;const i=this.data.getIterator(),o=r.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=o.getNext().key;if(0!==this.comparator(u,h))return!1}return!0}toArray(){const r=[];return this.forEach(i=>{r.push(i)}),r}toString(){const r=[];return this.forEach(i=>r.push(i)),"SortedSet("+r.toString()+")"}copy(r){const i=new lr(this.comparator);return i.data=r,i}}class PP{constructor(r){this.iter=r}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const F2=new Qr(ot.comparator);function Vo(){return F2}const L2=new Qr(ot.comparator);function VN(){return L2}const V2=new Qr(ot.comparator);function FP(){return V2}const U2=new lr(ot.comparator);function yn(...s){let r=U2;for(const i of s)r=r.add(i);return r}const B2=new lr(nn);function ED(){return B2}class kw{constructor(r,i,o,u,h){this.snapshotVersion=r,this.targetChanges=i,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(r,i){const o=new Map;return o.set(r,Pw.createSynthesizedTargetChangeForCurrentChange(r,i)),new kw(Ut.min(),o,ED(),Vo(),yn())}}class Pw{constructor(r,i,o,u,h){this.resumeToken=r,this.current=i,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(r,i){return new Pw(Rr.EMPTY_BYTE_STRING,i,yn(),yn(),yn())}}class wD{constructor(r,i,o,u){this.k=r,this.removedTargetIds=i,this.key=o,this.$=u}}class LP{constructor(r,i){this.targetId=r,this.O=i}}class VP{constructor(r,i,o=Rr.EMPTY_BYTE_STRING,u=null){this.state=r,this.targetIds=i,this.resumeToken=o,this.cause=u}}class UP{constructor(){this.F=0,this.M=jP(),this.L=Rr.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(r){r.approximateByteSize()>0&&(this.U=!0,this.L=r)}W(){let r=yn(),i=yn(),o=yn();return this.M.forEach((u,h)=>{switch(h){case 0:r=r.add(u);break;case 2:i=i.add(u);break;case 1:o=o.add(u);break;default:st()}}),new Pw(this.L,this.B,r,i,o)}G(){this.U=!1,this.M=jP()}H(r,i){this.U=!0,this.M=this.M.insert(r,i)}J(r){this.U=!0,this.M=this.M.remove(r)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class j2{constructor(r){this.tt=r,this.et=new Map,this.nt=Vo(),this.st=BP(),this.it=new lr(nn)}rt(r){for(const i of r.k)r.$&&r.$.isFoundDocument()?this.ot(i,r.$):this.at(i,r.key,r.$);for(const i of r.removedTargetIds)this.at(i,r.key,r.$)}ct(r){this.forEachTarget(r,i=>{const o=this.ut(i);switch(r.state){case 0:this.ht(i)&&o.j(r.resumeToken);break;case 1:o.X(),o.q||o.G(),o.j(r.resumeToken);break;case 2:o.X(),o.q||this.removeTarget(i);break;case 3:this.ht(i)&&(o.Z(),o.j(r.resumeToken));break;case 4:this.ht(i)&&(this.lt(i),o.j(r.resumeToken));break;default:st()}})}forEachTarget(r,i){r.targetIds.length>0?r.targetIds.forEach(i):this.et.forEach((o,u)=>{this.ht(u)&&i(u)})}ft(r){const i=r.targetId,o=r.O.count,u=this.dt(i);if(u){const h=u.target;if(q_(h))if(0===o){const m=new ot(h.path);this.at(i,m,xn.newNoDocument(m,Ut.min()))}else Tt(1===o);else this.wt(i)!==o&&(this.lt(i),this.it=this.it.add(i))}}_t(r){const i=new Map;this.et.forEach((h,m)=>{const v=this.dt(m);if(v){if(h.current&&q_(v.target)){const I=new ot(v.target.path);null!==this.nt.get(I)||this.gt(m,I)||this.at(m,I,xn.newNoDocument(I,r))}h.K&&(i.set(m,h.W()),h.G())}});let o=yn();this.st.forEach((h,m)=>{let v=!0;m.forEachWhile(I=>{const D=this.dt(I);return!D||2===D.purpose||(v=!1,!1)}),v&&(o=o.add(h))});const u=new kw(r,i,this.it,this.nt,o);return this.nt=Vo(),this.st=BP(),this.it=new lr(nn),u}ot(r,i){if(!this.ht(r))return;const o=this.gt(r,i.key)?2:0;this.ut(r).H(i.key,o),this.nt=this.nt.insert(i.key,i),this.st=this.st.insert(i.key,this.yt(i.key).add(r))}at(r,i,o){if(!this.ht(r))return;const u=this.ut(r);this.gt(r,i)?u.H(i,1):u.J(i),this.st=this.st.insert(i,this.yt(i).delete(r)),o&&(this.nt=this.nt.insert(i,o))}removeTarget(r){this.et.delete(r)}wt(r){const i=this.ut(r).W();return this.tt.getRemoteKeysForTarget(r).size+i.addedDocuments.size-i.removedDocuments.size}Y(r){this.ut(r).Y()}ut(r){let i=this.et.get(r);return i||(i=new UP,this.et.set(r,i)),i}yt(r){let i=this.st.get(r);return i||(i=new lr(nn),this.st=this.st.insert(r,i)),i}ht(r){const i=null!==this.dt(r);return i||He("WatchChangeAggregator","Detected inactive target",r),i}dt(r){const i=this.et.get(r);return i&&i.q?null:this.tt.Et(r)}lt(r){this.et.set(r,new UP),this.tt.getRemoteKeysForTarget(r).forEach(i=>{this.at(r,i,null)})}gt(r,i){return this.tt.getRemoteKeysForTarget(r).has(i)}}function BP(){return new Qr(ot.comparator)}function jP(){return new Qr(ot.comparator)}const H2={asc:"ASCENDING",desc:"DESCENDING"},$2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class G2{constructor(r,i){this.databaseId=r,this.D=i}}function Fw(s,r){return s.D?`${new Date(1e3*r.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+r.nanoseconds).slice(-9)}Z`:{seconds:""+r.seconds,nanos:r.nanoseconds}}function HP(s,r){return s.D?r.toBase64():r.toUint8Array()}function z2(s,r){return Fw(s,r.toTimestamp())}function mi(s){return Tt(!!s),Ut.fromTimestamp(function(r){const i=Nl(r);return new vr(i.seconds,i.nanos)}(s))}function UN(s,r){return(i=s,new rn(["projects",i.projectId,"databases",i.database])).child("documents").child(r).canonicalString();var i}function $P(s){const r=rn.fromString(s);return Tt(tF(r)),r}function Lw(s,r){return UN(s.databaseId,r.path)}function Ll(s,r){const i=$P(r);if(i.get(1)!==s.databaseId.projectId)throw new Fe(Te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new Fe(Te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ot(zP(i))}function BN(s,r){return UN(s.databaseId,r)}function GP(s){const r=$P(s);return 4===r.length?rn.emptyPath():zP(r)}function Vw(s){return new rn(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function zP(s){return Tt(s.length>4&&"documents"===s.get(4)),s.popFirst(5)}function qP(s,r,i){return{name:Lw(s,r),fields:i.value.mapValue.fields}}function WP(s,r,i){const o=Ll(s,r.name),u=mi(r.updateTime),h=new pi({mapValue:{fields:r.fields}}),m=xn.newFoundDocument(o,u,h);return i&&m.setHasCommittedMutations(),i?m.setHasCommittedMutations():m}function CD(s,r){let i;if(r instanceof gi)i={update:qP(s,r.key,r.value)};else if(r instanceof Ec)i={delete:Lw(s,r.key)};else if(r instanceof Us)i={update:qP(s,r.key,r.data),updateMask:eU(r.fieldMask)};else{if(!(r instanceof Vp))return st();i={verify:Lw(s,r.key)}}return r.fieldTransforms.length>0&&(i.updateTransforms=r.fieldTransforms.map(o=>function(u,h){const m=h.transform;if(m instanceof g)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof _)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof w)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof M)return{fieldPath:h.field.canonicalString(),increment:m.C};throw st()}(0,o))),r.precondition.isNone||(i.currentDocument=void 0!==(u=r.precondition).updateTime?{updateTime:z2(s,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:st()),i;var u}function ZP(s,r){const i=r.currentDocument?void 0!==(u=r.currentDocument).updateTime?fe.updateTime(mi(u.updateTime)):void 0!==u.exists?fe.exists(u.exists):fe.none():fe.none(),o=r.updateTransforms?r.updateTransforms.map(u=>function(h,m){let v=null;"setToServerValue"in m?(Tt("REQUEST_TIME"===m.setToServerValue),v=new g):"appendMissingElements"in m?v=new _(m.appendMissingElements.values||[]):"removeAllFromArray"in m?v=new w(m.removeAllFromArray.values||[]):"increment"in m?v=new M(h,m.increment):st();const I=xr.fromServerFormat(m.fieldPath);return new F(I,v)}(s,u)):[];var u;if(r.update){const u=Ll(s,r.update.name),h=new pi({mapValue:{fields:r.update.fields}});if(r.updateMask){const m=new fc((r.updateMask.fieldPaths||[]).map(D=>xr.fromServerFormat(D)));return new Us(u,h,m,i,o)}return new gi(u,h,i,o)}if(r.delete){const u=Ll(s,r.delete);return new Ec(u,i)}if(r.verify){const u=Ll(s,r.verify);return new Vp(u,i)}return st()}function KP(s,r){return{documents:[BN(s,r.path)]}}function YP(s,r){const i={structuredQuery:{}},o=r.path;null!==r.collectionGroup?(i.parent=BN(s,o),i.structuredQuery.from=[{collectionId:r.collectionGroup,allDescendants:!0}]):(i.parent=BN(s,o.popLast()),i.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(v){if(0===v.length)return;const I=v.map(D=>function(x){if("=="===x.op){if(Sa(x.value))return{unaryFilter:{field:J_(x.field),op:"IS_NAN"}};if(aD(x.value))return{unaryFilter:{field:J_(x.field),op:"IS_NULL"}}}else if("!="===x.op){if(Sa(x.value))return{unaryFilter:{field:J_(x.field),op:"IS_NOT_NAN"}};if(aD(x.value))return{unaryFilter:{field:J_(x.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:J_(x.field),op:Q2(x.op),value:x.value}}}(D));return 1===I.length?I[0]:{compositeFilter:{op:"AND",filters:I}}}(r.filters);u&&(i.structuredQuery.where=u);const h=function(v){if(0!==v.length)return v.map(I=>{return{field:J_((D=I).field),direction:Y2(D.dir)};var D})}(r.orderBy);h&&(i.structuredQuery.orderBy=h);const m=(I=r.limit,s.D||fo(I)?I:{value:I});var I;return null!==m&&(i.structuredQuery.limit=m),r.startAt&&(i.structuredQuery.startAt=XP(r.startAt)),r.endAt&&(i.structuredQuery.endAt=XP(r.endAt)),i}function QP(s){let r=GP(s.parent);const i=s.structuredQuery,o=i.from?i.from.length:0;let u=null;if(o>0){Tt(1===o);const x=i.from[0];x.allDescendants?u=x.collectionId:r=r.child(x.collectionId)}let h=[];i.where&&(h=JP(i.where));let m=[];i.orderBy&&(m=i.orderBy.map(x=>{return new _c(X_((O=x).field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction));var O}));let v=null;i.limit&&(v=function(x){let O;return O="object"==typeof x?x.value:x,fo(O)?null:O}(i.limit));let I=null;i.startAt&&(I=eF(i.startAt));let D=null;return i.endAt&&(D=eF(i.endAt)),Pl(r,u,m,h,v,"F",I,D)}function JP(s){return s?void 0!==s.unaryFilter?[X2(s)]:void 0!==s.fieldFilter?[J2(s)]:void 0!==s.compositeFilter?s.compositeFilter.filters.map(r=>JP(r)).reduce((r,i)=>r.concat(i)):st():[]}function XP(s){return{before:s.before,values:s.position}}function eF(s){return new lh(s.values||[],!!s.before)}function Y2(s){return H2[s]}function Q2(s){return $2[s]}function J_(s){return{fieldPath:s.canonicalString()}}function X_(s){return xr.fromServerFormat(s.fieldPath)}function J2(s){return Mi.create(X_(s.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return st()}}(s.fieldFilter.op),s.fieldFilter.value)}function X2(s){switch(s.unaryFilter.op){case"IS_NAN":const r=X_(s.unaryFilter.field);return Mi.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=X_(s.unaryFilter.field);return Mi.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=X_(s.unaryFilter.field);return Mi.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=X_(s.unaryFilter.field);return Mi.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return st()}}function eU(s){const r=[];return s.fields.forEach(i=>r.push(i.canonicalString())),{fieldPaths:r}}function tF(s){return s.length>=4&&"projects"===s.get(0)&&"databases"===s.get(2)}function Aa(s){let r="";for(let i=0;i<s.length;i++)r.length>0&&(r=nF(r)),r=tU(s.get(i),r);return nF(r)}function tU(s,r){let i=r;const o=s.length;for(let u=0;u<o;u++){const h=s.charAt(u);switch(h){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=h}}return i}function nF(s){return s+"\x01\x01"}function wc(s){const r=s.length;if(Tt(r>=2),2===r)return Tt("\x01"===s.charAt(0)&&"\x01"===s.charAt(1)),rn.emptyPath();const i=r-2,o=[];let u="";for(let h=0;h<r;){const m=s.indexOf("\x01",h);switch((m<0||m>i)&&st(),s.charAt(m+1)){case"\x01":const v=s.substring(h,m);let I;0===u.length?I=v:(u+=v,I=u,u=""),o.push(I);break;case"\x10":u+=s.substring(h,m),u+="\0";break;case"\x11":u+=s.substring(h,m+1);break;default:st()}h=m+2}return new rn(o)}class nU{constructor(r,i){this.seconds=r,this.nanoseconds=i}}class go{constructor(r,i,o){this.ownerId=r,this.allowTabSynchronization=i,this.leaseTimestampMs=o}}go.store="owner",go.key="owner";class uh{constructor(r,i,o){this.userId=r,this.lastAcknowledgedBatchId=i,this.lastStreamToken=o}}uh.store="mutationQueues",uh.keyPath="userId";class Un{constructor(r,i,o,u,h){this.userId=r,this.batchId=i,this.localWriteTimeMs=o,this.baseMutations=u,this.mutations=h}}Un.store="mutations",Un.keyPath="batchId",Un.userMutationsIndex="userMutationsIndex",Un.userMutationsKeyPath=["userId","batchId"];class Ki{constructor(){}static prefixForUser(r){return[r]}static prefixForPath(r,i){return[r,Aa(i)]}static key(r,i,o){return[r,Aa(i),o]}}Ki.store="documentMutations",Ki.PLACEHOLDER=new Ki;class rU{constructor(r,i){this.path=r,this.readTime=i}}class iU{constructor(r,i){this.path=r,this.version=i}}class ur{constructor(r,i,o,u,h,m){this.unknownDocument=r,this.noDocument=i,this.document=o,this.hasCommittedMutations=u,this.readTime=h,this.parentPath=m}}ur.store="remoteDocuments",ur.readTimeIndex="readTimeIndex",ur.readTimeIndexPath="readTime",ur.collectionReadTimeIndex="collectionReadTimeIndex",ur.collectionReadTimeIndexPath=["parentPath","readTime"];class Vl{constructor(r){this.byteSize=r}}Vl.store="remoteDocumentGlobal",Vl.key="remoteDocumentGlobalKey";class Bs{constructor(r,i,o,u,h,m,v){this.targetId=r,this.canonicalId=i,this.readTime=o,this.resumeToken=u,this.lastListenSequenceNumber=h,this.lastLimboFreeSnapshotVersion=m,this.query=v}}Bs.store="targets",Bs.keyPath="targetId",Bs.queryTargetsIndexName="queryTargetsIndex",Bs.queryTargetsKeyPath=["canonicalId","targetId"];class Ri{constructor(r,i,o){this.targetId=r,this.path=i,this.sequenceNumber=o}}Ri.store="targetDocuments",Ri.keyPath=["targetId","path"],Ri.documentTargetsIndex="documentTargetsIndex",Ri.documentTargetsKeyPath=["path","targetId"];class mo{constructor(r,i,o,u){this.highestTargetId=r,this.highestListenSequenceNumber=i,this.lastRemoteSnapshotVersion=o,this.targetCount=u}}mo.key="targetGlobalKey",mo.store="targetGlobal";class Up{constructor(r,i){this.collectionId=r,this.parent=i}}Up.store="collectionParents",Up.keyPath=["collectionId","parent"];class Cc{constructor(r,i,o,u){this.clientId=r,this.updateTimeMs=i,this.networkEnabled=o,this.inForeground=u}}Cc.store="clientMetadata",Cc.keyPath="clientId";class ey{constructor(r,i,o){this.bundleId=r,this.createTime=i,this.version=o}}ey.store="bundles",ey.keyPath="bundleId";class ty{constructor(r,i,o){this.name=r,this.readTime=i,this.bundledQuery=o}}ty.store="namedQueries",ty.keyPath="name";const sU=[uh.store,Un.store,Ki.store,ur.store,Bs.store,go.store,mo.store,Ri.store,Cc.store,Vl.store,Up.store,ey.store,ty.store],rF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(r){this.onCommittedListeners.push(r)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(r=>r())}}class Pe{constructor(r){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,r(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(r){return this.next(void 0,r)}next(r,i){return this.callbackAttached&&st(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(r,this.result):new Pe((o,u)=>{this.nextCallback=h=>{this.wrapSuccess(r,h).next(o,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(o,u)}})}toPromise(){return new Promise((r,i)=>{this.next(r,i)})}wrapUserFunction(r){try{const i=r();return i instanceof Pe?i:Pe.resolve(i)}catch(i){return Pe.reject(i)}}wrapSuccess(r,i){return r?this.wrapUserFunction(()=>r(i)):Pe.resolve(i)}wrapFailure(r,i){return r?this.wrapUserFunction(()=>r(i)):Pe.reject(i)}static resolve(r){return new Pe((i,o)=>{i(r)})}static reject(r){return new Pe((i,o)=>{o(r)})}static waitFor(r){return new Pe((i,o)=>{let u=0,h=0,m=!1;r.forEach(v=>{++u,v.next(()=>{++h,m&&h===u&&i()},I=>o(I))}),m=!0,h===u&&i()})}static or(r){let i=Pe.resolve(!1);for(const o of r)i=i.next(u=>u?Pe.resolve(u):o());return i}static forEach(r,i){const o=[];return r.forEach((u,h)=>{o.push(i.call(this,u,h))}),this.waitFor(o)}}class ID{constructor(r,i){this.action=r,this.transaction=i,this.aborted=!1,this.Tt=new Yr,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{i.error?this.Tt.reject(new Uw(r,i.error)):this.Tt.resolve()},this.transaction.onerror=o=>{const u=jN(o.target.error);this.Tt.reject(new Uw(r,u))}}static open(r,i,o,u){try{return new ID(i,r.transaction(u,o))}catch(h){throw new Uw(i,h)}}get It(){return this.Tt.promise}abort(r){r&&this.Tt.reject(r),this.aborted||(He("SimpleDb","Aborting transaction:",r?r.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(r){const i=this.transaction.objectStore(r);return new aU(i)}}class Ma{constructor(r,i,o){this.name=r,this.version=i,this.At=o,12.2===Ma.Rt((0,tn.z$)())&&sr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(r){return He("SimpleDb","Removing database:",r),jp(window.indexedDB.deleteDatabase(r)).toPromise()}static Pt(){if("undefined"==typeof indexedDB)return!1;if(Ma.bt())return!0;const r=(0,tn.z$)(),i=Ma.Rt(r),o=0<i&&i<10,u=Ma.vt(r),h=0<u&&u<4.5;return!(r.indexOf("MSIE ")>0||r.indexOf("Trident/")>0||r.indexOf("Edge/")>0||o||h)}static bt(){var r;return"undefined"!=typeof process&&"YES"===(null===(r=process.env)||void 0===r?void 0:r.Vt)}static St(r,i){return r.store(i)}static Rt(r){const i=r.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static vt(r){const i=r.match(/Android ([\d.]+)/i),o=i?i[1].split(".").slice(0,2).join("."):"-1";return Number(o)}Dt(r){var i=this;return(0,Oe.Z)(function*(){return i.db||(He("SimpleDb","Opening database:",i.name),i.db=yield new Promise((o,u)=>{const h=indexedDB.open(i.name,i.version);h.onsuccess=m=>{o(m.target.result)},h.onblocked=()=>{u(new Uw(r,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},h.onerror=m=>{const v=m.target.error;u("VersionError"===v.name?new Fe(Te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Uw(r,v))},h.onupgradeneeded=m=>{He("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',m.oldVersion),i.At.Ct(m.target.result,h.transaction,m.oldVersion,i.version).next(()=>{He("SimpleDb","Database upgrade to version "+i.version+" complete")})}})),i.Nt&&(i.db.onversionchange=o=>i.Nt(o)),i.db})()}xt(r){this.Nt=r,this.db&&(this.db.onversionchange=i=>r(i))}runTransaction(r,i,o,u){var h=this;return(0,Oe.Z)(function*(){const m="readonly"===i;let v=0;for(;;){++v;try{h.db=yield h.Dt(r);const I=ID.open(h.db,r,m?"readonly":"readwrite",o),D=u(I).catch(x=>(I.abort(x),Pe.reject(x))).toPromise();return D.catch(()=>{}),yield I.It,D}catch(I){const D="FirebaseError"!==I.name&&v<3;if(He("SimpleDb","Transaction failed with error:",I.message,"Retrying:",D),h.close(),!D)return Promise.reject(I)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class oU{constructor(r){this.kt=r,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(r){this.kt=r}done(){this.$t=!0}Mt(r){this.Ot=r}delete(){return jp(this.kt.delete())}}class Uw extends Fe{constructor(r,i){super(Te.UNAVAILABLE,`IndexedDB transaction '${r}' failed: ${i}`),this.name="IndexedDbTransactionError"}}function Bp(s){return"IndexedDbTransactionError"===s.name}class aU{constructor(r){this.store=r}put(r,i){let o;return void 0!==i?(He("SimpleDb","PUT",this.store.name,r,i),o=this.store.put(i,r)):(He("SimpleDb","PUT",this.store.name,"<auto-key>",r),o=this.store.put(r)),jp(o)}add(r){return He("SimpleDb","ADD",this.store.name,r,r),jp(this.store.add(r))}get(r){return jp(this.store.get(r)).next(i=>(void 0===i&&(i=null),He("SimpleDb","GET",this.store.name,r,i),i))}delete(r){return He("SimpleDb","DELETE",this.store.name,r),jp(this.store.delete(r))}count(){return He("SimpleDb","COUNT",this.store.name),jp(this.store.count())}Lt(r,i){const o=this.cursor(this.options(r,i)),u=[];return this.Bt(o,(h,m)=>{u.push(m)}).next(()=>u)}Ut(r,i){He("SimpleDb","DELETE ALL",this.store.name);const o=this.options(r,i);o.qt=!1;const u=this.cursor(o);return this.Bt(u,(h,m,v)=>v.delete())}Kt(r,i){let o;i?o=r:(o={},i=r);const u=this.cursor(o);return this.Bt(u,i)}jt(r){const i=this.cursor({});return new Pe((o,u)=>{i.onerror=h=>{const m=jN(h.target.error);u(m)},i.onsuccess=h=>{const m=h.target.result;m?r(m.primaryKey,m.value).next(v=>{v?m.continue():o()}):o()}})}Bt(r,i){const o=[];return new Pe((u,h)=>{r.onerror=m=>{h(m.target.error)},r.onsuccess=m=>{const v=m.target.result;if(!v)return void u();const I=new oU(v),D=i(v.primaryKey,v.value,I);if(D instanceof Pe){const x=D.catch(O=>(I.done(),Pe.reject(O)));o.push(x)}I.isDone?u():null===I.Ft?v.continue():v.continue(I.Ft)}}).next(()=>Pe.waitFor(o))}options(r,i){let o;return void 0!==r&&("string"==typeof r?o=r:i=r),{index:o,range:i}}cursor(r){let i="next";if(r.reverse&&(i="prev"),r.index){const o=this.store.index(r.index);return r.qt?o.openKeyCursor(r.range,i):o.openCursor(r.range,i)}return this.store.openCursor(r.range,i)}}function jp(s){return new Pe((r,i)=>{s.onsuccess=o=>{r(o.target.result)},s.onerror=o=>{const u=jN(o.target.error);i(u)}})}let sF=!1;function jN(s){const r=Ma.Rt((0,tn.z$)());if(r>=12.2&&r<13){const i="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(i)>=0){const o=new Fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return sF||(sF=!0,setTimeout(()=>{throw o},0)),o}}return s}class oF extends iF{constructor(r,i){super(),this.Qt=r,this.currentSequenceNumber=i}}function js(s,r){const i=Ze(s);return Ma.St(i.Qt,r)}class HN{constructor(r,i,o,u){this.batchId=r,this.localWriteTime=i,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(r,i){const o=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(r.key)&&Re(h,r,o[u])}}applyToLocalView(r){for(const i of this.baseMutations)i.key.isEqual(r.key)&&ut(i,r,this.localWriteTime);for(const i of this.mutations)i.key.isEqual(r.key)&&ut(i,r,this.localWriteTime)}applyToLocalDocumentSet(r){this.mutations.forEach(i=>{const o=r.get(i.key),u=o;this.applyToLocalView(u),o.isValidDocument()||u.convertToNoDocument(Ut.min())})}keys(){return this.mutations.reduce((r,i)=>r.add(i.key),yn())}isEqual(r){return this.batchId===r.batchId&&dc(this.mutations,r.mutations,(i,o)=>Wt(i,o))&&dc(this.baseMutations,r.baseMutations,(i,o)=>Wt(i,o))}}class $N{constructor(r,i,o,u){this.batch=r,this.commitVersion=i,this.mutationResults=o,this.docVersions=u}static from(r,i,o){Tt(r.mutations.length===o.length);let u=FP();const h=r.mutations;for(let m=0;m<h.length;m++)u=u.insert(h[m].key,o[m].version);return new $N(r,i,o,u)}}class ch{constructor(r,i,o,u,h=Ut.min(),m=Ut.min(),v=Rr.EMPTY_BYTE_STRING){this.target=r,this.targetId=i,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=v}withSequenceNumber(r){return new ch(this.target,this.targetId,this.purpose,r,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(r,i){return new ch(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,r)}withLastLimboFreeSnapshotVersion(r){return new ch(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,r,this.resumeToken)}}class aF{constructor(r){this.Wt=r}}function GN(s,r){if(r.document)return WP(s.Wt,r.document,!!r.hasCommittedMutations);if(r.noDocument){const i=ot.fromSegments(r.noDocument.path),o=ry(r.noDocument.readTime),u=xn.newNoDocument(i,o);return r.hasCommittedMutations?u.setHasCommittedMutations():u}if(r.unknownDocument){const i=ot.fromSegments(r.unknownDocument.path),o=ry(r.unknownDocument.version);return xn.newUnknownDocument(i,o)}return st()}function lF(s,r,i){const o=zN(i),u=r.key.path.popLast().toArray();if(r.isFoundDocument()){const h={name:Lw(v=s.Wt,(I=r).key),fields:I.data.value.mapValue.fields,updateTime:Fw(v,I.version.toTimestamp())};return new ur(null,null,h,r.hasCommittedMutations,o,u)}var v,I;if(r.isNoDocument()){const h=r.key.path.toArray(),m=ny(r.version),v=r.hasCommittedMutations;return new ur(null,new rU(h,m),null,v,o,u)}if(r.isUnknownDocument()){const h=r.key.path.toArray(),m=ny(r.version);return new ur(new iU(h,m),null,null,!0,o,u)}return st()}function zN(s){const r=s.toTimestamp();return[r.seconds,r.nanoseconds]}function uF(s){const r=new vr(s[0],s[1]);return Ut.fromTimestamp(r)}function ny(s){const r=s.toTimestamp();return new nU(r.seconds,r.nanoseconds)}function ry(s){const r=new vr(s.seconds,s.nanoseconds);return Ut.fromTimestamp(r)}function iy(s,r){const i=(r.baseMutations||[]).map(h=>ZP(s.Wt,h));for(let h=0;h<r.mutations.length-1;++h){const m=r.mutations[h];h+1<r.mutations.length&&void 0!==r.mutations[h+1].transform&&(m.updateTransforms=r.mutations[h+1].transform.fieldTransforms,r.mutations.splice(h+1,1),++h)}const o=r.mutations.map(h=>ZP(s.Wt,h)),u=vr.fromMillis(r.localWriteTimeMs);return new HN(r.batchId,u,i,o)}function Bw(s){const r=ry(s.readTime),i=void 0!==s.lastLimboFreeSnapshotVersion?ry(s.lastLimboFreeSnapshotVersion):Ut.min();let o;var u;return void 0!==s.query.documents?(Tt(1===(u=s.query).documents.length),o=Vs(Fl(GP(u.documents[0])))):o=Vs(QP(s.query)),new ch(o,s.targetId,0,s.lastListenSequenceNumber,r,i,Rr.fromBase64String(s.resumeToken))}function cF(s,r){const i=ny(r.snapshotVersion),o=ny(r.lastLimboFreeSnapshotVersion);let u;u=q_(r.target)?KP(s.Wt,r.target):YP(s.Wt,r.target);const h=r.resumeToken.toBase64();return new Bs(r.targetId,oh(r.target),i,h,r.sequenceNumber,o,u)}function qN(s){const r=QP({parent:s.parent,structuredQuery:s.structuredQuery});return"LAST"===s.limitType?_D(r,r.limit,"L"):r}class lU{getBundleMetadata(r,i){return dF(r).get(i).next(o=>{if(o)return{id:(u=o).bundleId,createTime:ry(u.createTime),version:u.version};var u})}saveBundleMetadata(r,i){return dF(r).put({bundleId:(o=i).id,createTime:ny(mi(o.createTime)),version:o.version});var o}getNamedQuery(r,i){return hF(r).get(i).next(o=>{if(o)return{name:(u=o).name,query:qN(u.bundledQuery),readTime:ry(u.readTime)};var u})}saveNamedQuery(r,i){return hF(r).put({name:(o=i).name,readTime:ny(mi(o.readTime)),bundledQuery:o.bundledQuery});var o}}function dF(s){return js(s,ey.store)}function hF(s){return js(s,ty.store)}class uU{constructor(){this.Gt=new WN}addToCollectionParentIndex(r,i){return this.Gt.add(i),Pe.resolve()}getCollectionParents(r,i){return Pe.resolve(this.Gt.getEntries(i))}}class WN{constructor(){this.index={}}add(r){const i=r.lastSegment(),o=r.popLast(),u=this.index[i]||new lr(rn.comparator),h=!u.has(o);return this.index[i]=u.add(o),h}has(r){const i=r.lastSegment(),o=r.popLast(),u=this.index[i];return u&&u.has(o)}getEntries(r){return(this.index[r]||new lr(rn.comparator)).toArray()}}class cU{constructor(){this.zt=new WN}addToCollectionParentIndex(r,i){if(!this.zt.has(i)){const o=i.lastSegment(),u=i.popLast();r.addOnCommittedListener(()=>{this.zt.add(i)});const h={collectionId:o,parent:Aa(u)};return fF(r).put(h)}return Pe.resolve()}getCollectionParents(r,i){const o=[],u=IDBKeyRange.bound([i,""],[rD(i),""],!1,!0);return fF(r).Lt(u).next(h=>{for(const m of h){if(m.collectionId!==i)break;o.push(wc(m.parent))}return o})}}function fF(s){return js(s,Up.store)}const pF={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Hs{constructor(r,i,o){this.cacheSizeCollectionThreshold=r,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=o}static withCacheSize(r){return new Hs(r,Hs.DEFAULT_COLLECTION_PERCENTILE,Hs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function gF(s,r,i){const o=s.store(Un.store),u=s.store(Ki.store),h=[],m=IDBKeyRange.only(i.batchId);let v=0;const I=o.Kt({range:m},(x,O,j)=>(v++,j.delete()));h.push(I.next(()=>{Tt(1===v)}));const D=[];for(const x of i.mutations){const O=Ki.key(r,x.key.path,i.batchId);h.push(u.delete(O)),D.push(x.key)}return Pe.waitFor(h).next(()=>D)}function TD(s){if(!s)return 0;let r;if(s.document)r=s.document;else if(s.unknownDocument)r=s.unknownDocument;else{if(!s.noDocument)throw st();r=s.noDocument}return JSON.stringify(r).length}Hs.DEFAULT_COLLECTION_PERCENTILE=10,Hs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hs.DEFAULT=new Hs(41943040,Hs.DEFAULT_COLLECTION_PERCENTILE,Hs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hs.DISABLED=new Hs(-1,0,0);class ZN{constructor(r,i,o,u){this.userId=r,this.N=i,this.Ht=o,this.referenceDelegate=u,this.Jt={}}static Yt(r,i,o,u){Tt(""!==r.uid);const h=r.isAuthenticated()?r.uid:"";return new ZN(h,i,o,u)}checkEmpty(r){let i=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return dh(r).Kt({index:Un.userMutationsIndex,range:o},(u,h,m)=>{i=!1,m.done()}).next(()=>i)}addMutationBatch(r,i,o,u){const h=sy(r),m=dh(r);return m.add({}).next(v=>{Tt("number"==typeof v);const I=new HN(v,i,o,u),D=function(j,H,ee){const ve=ee.baseMutations.map($e=>CD(j.Wt,$e)),xe=ee.mutations.map($e=>CD(j.Wt,$e));return new Un(H,ee.batchId,ee.localWriteTime.toMillis(),ve,xe)}(this.N,this.userId,I),x=[];let O=new lr((j,H)=>nn(j.canonicalString(),H.canonicalString()));for(const j of u){const H=Ki.key(this.userId,j.key.path,v);O=O.add(j.key.path.popLast()),x.push(m.put(D)),x.push(h.put(H,Ki.PLACEHOLDER))}return O.forEach(j=>{x.push(this.Ht.addToCollectionParentIndex(r,j))}),r.addOnCommittedListener(()=>{this.Jt[v]=I.keys()}),Pe.waitFor(x).next(()=>I)})}lookupMutationBatch(r,i){return dh(r).get(i).next(o=>o?(Tt(o.userId===this.userId),iy(this.N,o)):null)}Xt(r,i){return this.Jt[i]?Pe.resolve(this.Jt[i]):this.lookupMutationBatch(r,i).next(o=>{if(o){const u=o.keys();return this.Jt[i]=u,u}return null})}getNextMutationBatchAfterBatchId(r,i){const o=i+1,u=IDBKeyRange.lowerBound([this.userId,o]);let h=null;return dh(r).Kt({index:Un.userMutationsIndex,range:u},(m,v,I)=>{v.userId===this.userId&&(Tt(v.batchId>=o),h=iy(this.N,v)),I.done()}).next(()=>h)}getHighestUnacknowledgedBatchId(r){const i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return dh(r).Kt({index:Un.userMutationsIndex,range:i,reverse:!0},(u,h,m)=>{o=h.batchId,m.done()}).next(()=>o)}getAllMutationBatches(r){const i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return dh(r).Lt(Un.userMutationsIndex,i).next(o=>o.map(u=>iy(this.N,u)))}getAllMutationBatchesAffectingDocumentKey(r,i){const o=Ki.prefixForPath(this.userId,i.path),u=IDBKeyRange.lowerBound(o),h=[];return sy(r).Kt({range:u},(m,v,I)=>{const[D,x,O]=m,j=wc(x);if(D===this.userId&&i.path.isEqual(j))return dh(r).get(O).next(H=>{if(!H)throw st();Tt(H.userId===this.userId),h.push(iy(this.N,H))});I.done()}).next(()=>h)}getAllMutationBatchesAffectingDocumentKeys(r,i){let o=new lr(nn);const u=[];return i.forEach(h=>{const m=Ki.prefixForPath(this.userId,h.path),v=IDBKeyRange.lowerBound(m),I=sy(r).Kt({range:v},(D,x,O)=>{const[j,H,ee]=D,ve=wc(H);j===this.userId&&h.path.isEqual(ve)?o=o.add(ee):O.done()});u.push(I)}),Pe.waitFor(u).next(()=>this.Zt(r,o))}getAllMutationBatchesAffectingQuery(r,i){const o=i.path,u=o.length+1,h=Ki.prefixForPath(this.userId,o),m=IDBKeyRange.lowerBound(h);let v=new lr(nn);return sy(r).Kt({range:m},(I,D,x)=>{const[O,j,H]=I,ee=wc(j);O===this.userId&&o.isPrefixOf(ee)?ee.length===u&&(v=v.add(H)):x.done()}).next(()=>this.Zt(r,v))}Zt(r,i){const o=[],u=[];return i.forEach(h=>{u.push(dh(r).get(h).next(m=>{if(null===m)throw st();Tt(m.userId===this.userId),o.push(iy(this.N,m))}))}),Pe.waitFor(u).next(()=>o)}removeMutationBatch(r,i){return gF(r.Qt,this.userId,i).next(o=>(r.addOnCommittedListener(()=>{this.te(i.batchId)}),Pe.forEach(o,u=>this.referenceDelegate.markPotentiallyOrphaned(r,u))))}te(r){delete this.Jt[r]}performConsistencyCheck(r){return this.checkEmpty(r).next(i=>{if(!i)return Pe.resolve();const o=IDBKeyRange.lowerBound(Ki.prefixForUser(this.userId)),u=[];return sy(r).Kt({range:o},(h,m,v)=>{if(h[0]===this.userId){const I=wc(h[1]);u.push(I)}else v.done()}).next(()=>{Tt(0===u.length)})})}containsKey(r,i){return mF(r,this.userId,i)}ee(r){return _F(r).get(this.userId).next(i=>i||new uh(this.userId,-1,""))}}function mF(s,r,i){const o=Ki.prefixForPath(r,i.path),u=o[1],h=IDBKeyRange.lowerBound(o);let m=!1;return sy(s).Kt({range:h,qt:!0},(v,I,D)=>{const[x,O,j]=v;x===r&&O===u&&(m=!0),D.done()}).next(()=>m)}function dh(s){return js(s,Un.store)}function sy(s){return js(s,Ki.store)}function _F(s){return js(s,uh.store)}class Hp{constructor(r){this.ne=r}next(){return this.ne+=2,this.ne}static se(){return new Hp(0)}static ie(){return new Hp(-1)}}class dU{constructor(r,i){this.referenceDelegate=r,this.N=i}allocateTargetId(r){return this.re(r).next(i=>{const o=new Hp(i.highestTargetId);return i.highestTargetId=o.next(),this.oe(r,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(r){return this.re(r).next(i=>Ut.fromTimestamp(new vr(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(r){return this.re(r).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(r,i,o){return this.re(r).next(u=>(u.highestListenSequenceNumber=i,o&&(u.lastRemoteSnapshotVersion=o.toTimestamp()),i>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=i),this.oe(r,u)))}addTargetData(r,i){return this.ae(r,i).next(()=>this.re(r).next(o=>(o.targetCount+=1,this.ce(i,o),this.oe(r,o))))}updateTargetData(r,i){return this.ae(r,i)}removeTargetData(r,i){return this.removeMatchingKeysForTargetId(r,i.targetId).next(()=>oy(r).delete(i.targetId)).next(()=>this.re(r)).next(o=>(Tt(o.targetCount>0),o.targetCount-=1,this.oe(r,o)))}removeTargets(r,i,o){let u=0;const h=[];return oy(r).Kt((m,v)=>{const I=Bw(v);I.sequenceNumber<=i&&null===o.get(I.targetId)&&(u++,h.push(this.removeTargetData(r,I)))}).next(()=>Pe.waitFor(h)).next(()=>u)}forEachTarget(r,i){return oy(r).Kt((o,u)=>{const h=Bw(u);i(h)})}re(r){return yF(r).get(mo.key).next(i=>(Tt(null!==i),i))}oe(r,i){return yF(r).put(mo.key,i)}ae(r,i){return oy(r).put(cF(this.N,i))}ce(r,i){let o=!1;return r.targetId>i.highestTargetId&&(i.highestTargetId=r.targetId,o=!0),r.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=r.sequenceNumber,o=!0),o}getTargetCount(r){return this.re(r).next(i=>i.targetCount)}getTargetData(r,i){const o=oh(i),u=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let h=null;return oy(r).Kt({range:u,index:Bs.queryTargetsIndexName},(m,v,I)=>{const D=Bw(v);z_(i,D.target)&&(h=D,I.done())}).next(()=>h)}addMatchingKeys(r,i,o){const u=[],h=hh(r);return i.forEach(m=>{const v=Aa(m.path);u.push(h.put(new Ri(o,v))),u.push(this.referenceDelegate.addReference(r,o,m))}),Pe.waitFor(u)}removeMatchingKeys(r,i,o){const u=hh(r);return Pe.forEach(i,h=>{const m=Aa(h.path);return Pe.waitFor([u.delete([o,m]),this.referenceDelegate.removeReference(r,o,h)])})}removeMatchingKeysForTargetId(r,i){const o=hh(r),u=IDBKeyRange.bound([i],[i+1],!1,!0);return o.delete(u)}getMatchingKeysForTargetId(r,i){const o=IDBKeyRange.bound([i],[i+1],!1,!0),u=hh(r);let h=yn();return u.Kt({range:o,qt:!0},(m,v,I)=>{const D=wc(m[1]),x=new ot(D);h=h.add(x)}).next(()=>h)}containsKey(r,i){const o=Aa(i.path),u=IDBKeyRange.bound([o],[rD(o)],!1,!0);let h=0;return hh(r).Kt({index:Ri.documentTargetsIndex,qt:!0,range:u},([m,v],I,D)=>{0!==m&&(h++,D.done())}).next(()=>h>0)}Et(r,i){return oy(r).get(i).next(o=>o?Bw(o):null)}}function oy(s){return js(s,Bs.store)}function yF(s){return js(s,mo.store)}function hh(s){return js(s,Ri.store)}function $p(s){return KN.apply(this,arguments)}function KN(){return(KN=(0,Oe.Z)(function*(s){if(s.code!==Te.FAILED_PRECONDITION||s.message!==rF)throw s;He("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function vF([s,r],[i,o]){const u=nn(s,i);return 0===u?nn(r,o):u}class hU{constructor(r){this.ue=r,this.buffer=new lr(vF),this.he=0}le(){return++this.he}fe(r){const i=[r,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(i);else{const o=this.buffer.last();vF(i,o)<0&&(this.buffer=this.buffer.delete(o).add(i))}}get maxValue(){return this.buffer.last()[0]}}class fU{constructor(r,i){this.garbageCollector=r,this.asyncQueue=i,this.de=!1,this.we=null}start(r){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(r)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(r){var i=this;const o=this.de?3e5:6e4;He("LruGarbageCollector",`Garbage collection scheduled in ${o}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",o,(0,Oe.Z)(function*(){i.we=null,i.de=!0;try{yield r.collectGarbage(i.garbageCollector)}catch(u){Bp(u)?He("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",u):yield $p(u)}yield i._e(r)}))}}class pU{constructor(r,i){this.me=r,this.params=i}calculateTargetCount(r,i){return this.me.ge(r).next(o=>Math.floor(i/100*o))}nthSequenceNumber(r,i){if(0===i)return Pe.resolve(hs.T);const o=new hU(i);return this.me.forEachTarget(r,u=>o.fe(u.sequenceNumber)).next(()=>this.me.ye(r,u=>o.fe(u))).next(()=>o.maxValue)}removeTargets(r,i,o){return this.me.removeTargets(r,i,o)}removeOrphanedDocuments(r,i){return this.me.removeOrphanedDocuments(r,i)}collect(r,i){return-1===this.params.cacheSizeCollectionThreshold?(He("LruGarbageCollector","Garbage collection skipped; disabled"),Pe.resolve(pF)):this.getCacheSize(r).next(o=>o<this.params.cacheSizeCollectionThreshold?(He("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pF):this.pe(r,i))}getCacheSize(r){return this.me.getCacheSize(r)}pe(r,i){let o,u,h,m,v,I,D;const x=Date.now();return this.calculateTargetCount(r,this.params.percentileToCollect).next(O=>(O>this.params.maximumSequenceNumbersToCollect?(He("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),u=this.params.maximumSequenceNumbersToCollect):u=O,m=Date.now(),this.nthSequenceNumber(r,u))).next(O=>(o=O,v=Date.now(),this.removeTargets(r,o,i))).next(O=>(h=O,I=Date.now(),this.removeOrphanedDocuments(r,o))).next(O=>(D=Date.now(),Cw()<=Xu.in.DEBUG&&He("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${m-x}ms\n\tDetermined least recently used ${u} in `+(v-m)+`ms\n\tRemoved ${h} targets in `+(I-v)+`ms\n\tRemoved ${O} documents in `+(D-I)+`ms\nTotal Duration: ${D-x}ms`),Pe.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:O})))}}class gU{constructor(r,i){this.db=r,this.garbageCollector=new pU(this,i)}ge(r){const i=this.Ee(r);return this.db.getTargetCache().getTargetCount(r).next(o=>i.next(u=>o+u))}Ee(r){let i=0;return this.ye(r,o=>{i++}).next(()=>i)}forEachTarget(r,i){return this.db.getTargetCache().forEachTarget(r,i)}ye(r,i){return this.Te(r,(o,u)=>i(u))}addReference(r,i,o){return SD(r,o)}removeReference(r,i,o){return SD(r,o)}removeTargets(r,i,o){return this.db.getTargetCache().removeTargets(r,i,o)}markPotentiallyOrphaned(r,i){return SD(r,i)}Ie(r,i){return function(o,u){let h=!1;return _F(o).jt(m=>mF(o,m,u).next(v=>(v&&(h=!0),Pe.resolve(!v)))).next(()=>h)}(r,i)}removeOrphanedDocuments(r,i){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let h=0;return this.Te(r,(m,v)=>{if(v<=i){const I=this.Ie(r,m).next(D=>{if(!D)return h++,o.getEntry(r,m).next(()=>(o.removeEntry(m),hh(r).delete([0,Aa(m.path)])))});u.push(I)}}).next(()=>Pe.waitFor(u)).next(()=>o.apply(r)).next(()=>h)}removeTarget(r,i){const o=i.withSequenceNumber(r.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(r,o)}updateLimboDocument(r,i){return SD(r,i)}Te(r,i){const o=hh(r);let u,h=hs.T;return o.Kt({index:Ri.documentTargetsIndex},([m,v],{path:I,sequenceNumber:D})=>{0===m?(h!==hs.T&&i(new ot(wc(u)),h),h=D,u=I):h=hs.T}).next(()=>{h!==hs.T&&i(new ot(wc(u)),h)})}getCacheSize(r){return this.db.getRemoteDocumentCache().getSize(r)}}function SD(s,r){return hh(s).put((o=s.currentSequenceNumber,new Ri(0,Aa(r.path),o)));var o}class ay{constructor(r,i){this.mapKeyFn=r,this.equalsFn=i,this.inner={}}get(r){const i=this.mapKeyFn(r),o=this.inner[i];if(void 0!==o)for(const[u,h]of o)if(this.equalsFn(u,r))return h}has(r){return void 0!==this.get(r)}set(r,i){const o=this.mapKeyFn(r),u=this.inner[o];if(void 0!==u){for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],r))return void(u[h]=[r,i]);u.push([r,i])}else this.inner[o]=[[r,i]]}delete(r){const i=this.mapKeyFn(r),o=this.inner[i];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],r))return 1===o.length?delete this.inner[i]:o.splice(u,1),!0;return!1}forEach(r){Ia(this.inner,(i,o)=>{for(const[u,h]of o)r(u,h)})}isEmpty(){return $_(this.inner)}}class bF{constructor(){this.changes=new ay(r=>r.toString(),(r,i)=>r.isEqual(i)),this.changesApplied=!1}getReadTime(r){const i=this.changes.get(r);return i?i.readTime:Ut.min()}addEntry(r,i){this.assertNotApplied(),this.changes.set(r.key,{document:r,readTime:i})}removeEntry(r,i=null){this.assertNotApplied(),this.changes.set(r,{document:xn.newInvalidDocument(r),readTime:i})}getEntry(r,i){this.assertNotApplied();const o=this.changes.get(i);return void 0!==o?Pe.resolve(o.document):this.getFromCache(r,i)}getEntries(r,i){return this.getAllFromCache(r,i)}apply(r){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(r)}assertNotApplied(){}}class mU{constructor(r,i){this.N=r,this.Ht=i}addEntry(r,i,o){return fh(r).put(DD(i),o)}removeEntry(r,i){const o=fh(r),u=DD(i);return o.delete(u)}updateMetadata(r,i){return this.getMetadata(r).next(o=>(o.byteSize+=i,this.Ae(r,o)))}getEntry(r,i){return fh(r).get(DD(i)).next(o=>this.Re(i,o))}Pe(r,i){return fh(r).get(DD(i)).next(o=>({document:this.Re(i,o),size:TD(o)}))}getEntries(r,i){let o=Vo();return this.be(r,i,(u,h)=>{const m=this.Re(u,h);o=o.insert(u,m)}).next(()=>o)}ve(r,i){let o=Vo(),u=new Qr(ot.comparator);return this.be(r,i,(h,m)=>{const v=this.Re(h,m);o=o.insert(h,v),u=u.insert(h,TD(m))}).next(()=>({documents:o,Ve:u}))}be(r,i,o){if(i.isEmpty())return Pe.resolve();const u=IDBKeyRange.bound(i.first().path.toArray(),i.last().path.toArray()),h=i.getIterator();let m=h.getNext();return fh(r).Kt({range:u},(v,I,D)=>{const x=ot.fromSegments(v);for(;m&&ot.comparator(m,x)<0;)o(m,null),m=h.getNext();m&&m.isEqual(x)&&(o(m,I),m=h.hasNext()?h.getNext():null),m?D.Mt(m.path.toArray()):D.done()}).next(()=>{for(;m;)o(m,null),m=h.hasNext()?h.getNext():null})}getDocumentsMatchingQuery(r,i,o){let u=Vo();const h=i.path.length+1,m={};if(o.isEqual(Ut.min())){const v=i.path.toArray();m.range=IDBKeyRange.lowerBound(v)}else{const v=i.path.toArray(),I=zN(o);m.range=IDBKeyRange.lowerBound([v,I],!0),m.index=ur.collectionReadTimeIndex}return fh(r).Kt(m,(v,I,D)=>{if(v.length!==h)return;const x=GN(this.N,I);i.path.isPrefixOf(x.key.path)?Q_(i,x)&&(u=u.insert(x.key,x)):D.done()}).next(()=>u)}newChangeBuffer(r){return new _U(this,!!r&&r.trackRemovals)}getSize(r){return this.getMetadata(r).next(i=>i.byteSize)}getMetadata(r){return EF(r).get(Vl.key).next(i=>(Tt(!!i),i))}Ae(r,i){return EF(r).put(Vl.key,i)}Re(r,i){if(i){const o=GN(this.N,i);if(!o.isNoDocument()||!o.version.isEqual(Ut.min()))return o}return xn.newInvalidDocument(r)}}class _U extends bF{constructor(r,i){super(),this.Se=r,this.trackRemovals=i,this.De=new ay(o=>o.toString(),(o,u)=>o.isEqual(u))}applyChanges(r){const i=[];let o=0,u=new lr((h,m)=>nn(h.canonicalString(),m.canonicalString()));return this.changes.forEach((h,m)=>{const v=this.De.get(h);if(m.document.isValidDocument()){const I=lF(this.Se.N,m.document,this.getReadTime(h));u=u.add(h.path.popLast()),o+=TD(I)-v,i.push(this.Se.addEntry(r,h,I))}else if(o-=v,this.trackRemovals){const I=lF(this.Se.N,xn.newNoDocument(h,Ut.min()),this.getReadTime(h));i.push(this.Se.addEntry(r,h,I))}else i.push(this.Se.removeEntry(r,h))}),u.forEach(h=>{i.push(this.Se.Ht.addToCollectionParentIndex(r,h))}),i.push(this.Se.updateMetadata(r,o)),Pe.waitFor(i)}getFromCache(r,i){return this.Se.Pe(r,i).next(o=>(this.De.set(i,o.size),o.document))}getAllFromCache(r,i){return this.Se.ve(r,i).next(({documents:o,Ve:u})=>(u.forEach((h,m)=>{this.De.set(h,m)}),o))}}function EF(s){return js(s,Vl.store)}function fh(s){return js(s,ur.store)}function DD(s){return s.path.toArray()}class yU{constructor(r){this.N=r}Ct(r,i,o,u){Tt(o<u&&o>=0&&u<=11);const h=new ID("createOrUpgrade",i);var v;o<1&&u>=1&&(r.createObjectStore(go.store),(v=r).createObjectStore(uh.store,{keyPath:uh.keyPath}),v.createObjectStore(Un.store,{keyPath:Un.keyPath,autoIncrement:!0}).createIndex(Un.userMutationsIndex,Un.userMutationsKeyPath,{unique:!0}),v.createObjectStore(Ki.store),wF(r),function(v){v.createObjectStore(ur.store)}(r));let m=Pe.resolve();return o<3&&u>=3&&(0!==o&&(function(v){v.deleteObjectStore(Ri.store),v.deleteObjectStore(Bs.store),v.deleteObjectStore(mo.store)}(r),wF(r)),m=m.next(()=>function(v){const I=v.store(mo.store),D=new mo(0,0,Ut.min().toTimestamp(),0);return I.put(mo.key,D)}(h))),o<4&&u>=4&&(0!==o&&(m=m.next(()=>function(v,I){return I.store(Un.store).Lt().next(D=>{v.deleteObjectStore(Un.store),v.createObjectStore(Un.store,{keyPath:Un.keyPath,autoIncrement:!0}).createIndex(Un.userMutationsIndex,Un.userMutationsKeyPath,{unique:!0});const x=I.store(Un.store),O=D.map(j=>x.put(j));return Pe.waitFor(O)})}(r,h))),m=m.next(()=>{!function(v){v.createObjectStore(Cc.store,{keyPath:Cc.keyPath})}(r)})),o<5&&u>=5&&(m=m.next(()=>this.Ce(h))),o<6&&u>=6&&(m=m.next(()=>(function(v){v.createObjectStore(Vl.store)}(r),this.Ne(h)))),o<7&&u>=7&&(m=m.next(()=>this.xe(h))),o<8&&u>=8&&(m=m.next(()=>this.ke(r,h))),o<9&&u>=9&&(m=m.next(()=>{(function(v){v.objectStoreNames.contains("remoteDocumentChanges")&&v.deleteObjectStore("remoteDocumentChanges")})(r),function(v){const I=v.objectStore(ur.store);I.createIndex(ur.readTimeIndex,ur.readTimeIndexPath,{unique:!1}),I.createIndex(ur.collectionReadTimeIndex,ur.collectionReadTimeIndexPath,{unique:!1})}(i)})),o<10&&u>=10&&(m=m.next(()=>this.$e(h))),o<11&&u>=11&&(m=m.next(()=>{(function(v){v.createObjectStore(ey.store,{keyPath:ey.keyPath})})(r),function(v){v.createObjectStore(ty.store,{keyPath:ty.keyPath})}(r)})),m}Ne(r){let i=0;return r.store(ur.store).Kt((o,u)=>{i+=TD(u)}).next(()=>{const o=new Vl(i);return r.store(Vl.store).put(Vl.key,o)})}Ce(r){const i=r.store(uh.store),o=r.store(Un.store);return i.Lt().next(u=>Pe.forEach(u,h=>{const m=IDBKeyRange.bound([h.userId,-1],[h.userId,h.lastAcknowledgedBatchId]);return o.Lt(Un.userMutationsIndex,m).next(v=>Pe.forEach(v,I=>{Tt(I.userId===h.userId);const D=iy(this.N,I);return gF(r,h.userId,D).next(()=>{})}))}))}xe(r){const i=r.store(Ri.store),o=r.store(ur.store);return r.store(mo.store).get(mo.key).next(u=>{const h=[];return o.Kt((m,v)=>{const I=new rn(m),D=[0,Aa(I)];h.push(i.get(D).next(x=>x?Pe.resolve():i.put(new Ri(0,Aa(I),u.highestListenSequenceNumber))))}).next(()=>Pe.waitFor(h))})}ke(r,i){r.createObjectStore(Up.store,{keyPath:Up.keyPath});const o=i.store(Up.store),u=new WN,h=m=>{if(u.add(m)){const v=m.lastSegment(),I=m.popLast();return o.put({collectionId:v,parent:Aa(I)})}};return i.store(ur.store).Kt({qt:!0},(m,v)=>{const I=new rn(m);return h(I.popLast())}).next(()=>i.store(Ki.store).Kt({qt:!0},([m,v,I],D)=>{const x=wc(v);return h(x.popLast())}))}$e(r){const i=r.store(Bs.store);return i.Kt((o,u)=>{const h=Bw(u),m=cF(this.N,h);return i.put(m)})}}function wF(s){s.createObjectStore(Ri.store,{keyPath:Ri.keyPath}).createIndex(Ri.documentTargetsIndex,Ri.documentTargetsKeyPath,{unique:!0}),s.createObjectStore(Bs.store,{keyPath:Bs.keyPath}).createIndex(Bs.queryTargetsIndexName,Bs.queryTargetsKeyPath,{unique:!0}),s.createObjectStore(mo.store)}const YN="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class QN{constructor(r,i,o,u,h,m,v,I,D,x){if(this.allowTabSynchronization=r,this.persistenceKey=i,this.clientId=o,this.Oe=h,this.window=m,this.document=v,this.Fe=D,this.Me=x,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=O=>Promise.resolve(),!QN.Pt())throw new Fe(Te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new gU(this,u),this.We=i+"main",this.N=new aF(I),this.Ge=new Ma(this.We,11,new yU(this.N)),this.ze=new dU(this.referenceDelegate,this.N),this.Ht=new cU,this.He=new mU(this.N,this.Ht),this.Je=new lU,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===x&&sr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Fe(Te.FAILED_PRECONDITION,YN);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",r=>this.ze.getHighestSequenceNumber(r))}).then(r=>{this.Le=new hs(r,this.Fe)}).then(()=>{this.Be=!0}).catch(r=>(this.Ge&&this.Ge.close(),Promise.reject(r)))}nn(r){var i=this;return this.Qe=function(){var o=(0,Oe.Z)(function*(u){if(i.started)return r(u)});return function(u){return o.apply(this,arguments)}}(),r(this.isPrimary)}setDatabaseDeletedListener(r){this.Ge.xt(function(){var i=(0,Oe.Z)(function*(o){null===o.newVersion&&(yield r())});return function(o){return i.apply(this,arguments)}}())}setNetworkEnabled(r){var i=this;this.networkEnabled!==r&&(this.networkEnabled=r,this.Oe.enqueueAndForget((0,Oe.Z)(function*(){i.started&&(yield i.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",r=>AD(r).put(new Cc(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(r).next(i=>{i||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(r)).next(i=>this.isPrimary&&!i?this.on(r).next(()=>!1):!!i&&this.an(r).next(()=>!0))).catch(r=>{if(Bp(r))return He("IndexedDbPersistence","Failed to extend owner lease: ",r),this.isPrimary;if(!this.allowTabSynchronization)throw r;return He("IndexedDbPersistence","Releasing owner lease after error during lease refresh",r),!1}).then(r=>{this.isPrimary!==r&&this.Oe.enqueueRetryable(()=>this.Qe(r)),this.isPrimary=r})}sn(r){return jw(r).get(go.key).next(i=>Pe.resolve(this.cn(i)))}un(r){return AD(r).delete(this.clientId)}hn(){var r=this;return(0,Oe.Z)(function*(){if(r.isPrimary&&!r.ln(r.je,18e5)){r.je=Date.now();const i=yield r.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const u=js(o,Cc.store);return u.Lt().next(h=>{const m=r.fn(h,18e5),v=h.filter(I=>-1===m.indexOf(I));return Pe.forEach(v,I=>u.delete(I.clientId)).next(()=>v)})}).catch(()=>[]);if(r.Ye)for(const o of i)r.Ye.removeItem(r.dn(o.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(r){return!!r&&r.ownerId===this.clientId}rn(r){return this.Me?Pe.resolve(!0):jw(r).get(go.key).next(i=>{if(null!==i&&this.ln(i.leaseTimestampMs,5e3)&&!this.wn(i.ownerId)){if(this.cn(i)&&this.networkEnabled)return!0;if(!this.cn(i)){if(!i.allowTabSynchronization)throw new Fe(Te.FAILED_PRECONDITION,YN);return!1}}return!(!this.networkEnabled||!this.inForeground)||AD(r).Lt().next(o=>void 0===this.fn(o,5e3).find(u=>{if(this.clientId!==u.clientId){const m=!this.inForeground&&u.inForeground,v=this.networkEnabled===u.networkEnabled;if(!this.networkEnabled&&u.networkEnabled||m&&v)return!0}return!1}))}).next(i=>(this.isPrimary!==i&&He("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){var r=this;return(0,Oe.Z)(function*(){r.Be=!1,r._n(),r.Ke&&(r.Ke.cancel(),r.Ke=null),r.mn(),r.gn(),yield r.Ge.runTransaction("shutdown","readwrite",[go.store,Cc.store],i=>{const o=new oF(i,hs.T);return r.on(o).next(()=>r.un(o))}),r.Ge.close(),r.yn()})()}fn(r,i){return r.filter(o=>this.ln(o.updateTimeMs,i)&&!this.wn(o.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",r=>AD(r).Lt().next(i=>this.fn(i,18e5).map(o=>o.clientId)))}get started(){return this.Be}getMutationQueue(r){return ZN.Yt(r,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(r,i,o){let h;return He("IndexedDbPersistence","Starting transaction:",r),this.Ge.runTransaction(r,"readonly"===i?"readonly":"readwrite",sU,m=>(h=new oF(m,this.Le?this.Le.next():hs.T),"readwrite-primary"===i?this.sn(h).next(v=>!!v||this.rn(h)).next(v=>{if(!v)throw sr(`Failed to obtain primary lease for action '${r}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Fe(Te.FAILED_PRECONDITION,rF);return o(h)}).next(v=>this.an(h).next(()=>v)):this.En(h).next(()=>o(h)))).then(m=>(h.raiseOnCommittedEvent(),m))}En(r){return jw(r).get(go.key).next(i=>{if(null!==i&&this.ln(i.leaseTimestampMs,5e3)&&!this.wn(i.ownerId)&&!this.cn(i)&&!(this.Me||this.allowTabSynchronization&&i.allowTabSynchronization))throw new Fe(Te.FAILED_PRECONDITION,YN)})}an(r){const i=new go(this.clientId,this.allowTabSynchronization,Date.now());return jw(r).put(go.key,i)}static Pt(){return Ma.Pt()}on(r){const i=jw(r);return i.get(go.key).next(o=>this.cn(o)?(He("IndexedDbPersistence","Releasing primary lease."),i.delete(go.key)):Pe.resolve())}ln(r,i){const o=Date.now();return!(r<o-i||r>o&&(sr(`Detected an update time that is in the future: ${r} > ${o}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var r;"function"==typeof(null===(r=this.window)||void 0===r?void 0:r.addEventListener)&&(this.Ue=()=>{this._n(),(0,tn.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(r){var i;try{const o=null!==(null===(i=this.Ye)||void 0===i?void 0:i.getItem(this.dn(r)));return He("IndexedDbPersistence",`Client '${r}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return sr("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(r){sr("Failed to set zombie client id.",r)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(r){}}dn(r){return`firestore_zombie_${this.persistenceKey}_${r}`}}function jw(s){return js(s,go.store)}function AD(s){return js(s,Cc.store)}function JN(s,r){let i=s.projectId;return s.isDefaultDatabase||(i+="."+s.database),"firestore/"+r+"/"+i+"/"}class vU{constructor(r,i){this.progress=r,this.Tn=i}}class CF{constructor(r,i,o){this.He=r,this.In=i,this.Ht=o}An(r,i){return this.In.getAllMutationBatchesAffectingDocumentKey(r,i).next(o=>this.Rn(r,i,o))}Rn(r,i,o){return this.He.getEntry(r,i).next(u=>{for(const h of o)h.applyToLocalView(u);return u})}Pn(r,i){r.forEach((o,u)=>{for(const h of i)h.applyToLocalView(u)})}bn(r,i){return this.He.getEntries(r,i).next(o=>this.vn(r,o).next(()=>o))}vn(r,i){return this.In.getAllMutationBatchesAffectingDocumentKeys(r,i).next(o=>this.Pn(i,o))}getDocumentsMatchingQuery(r,i,o){return ot.isDocumentKey((u=i).path)&&null===u.collectionGroup&&0===u.filters.length?this.Vn(r,i.path):mD(i)?this.Sn(r,i,o):this.Dn(r,i,o);var u}Vn(r,i){return this.An(r,new ot(i)).next(o=>{let u=VN();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}Sn(r,i,o){const u=i.collectionGroup;let h=VN();return this.Ht.getCollectionParents(r,u).next(m=>Pe.forEach(m,v=>{const I=(D=i,x=v.child(u),new Lo(x,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt));var D,x;return this.Dn(r,I,o).next(D=>{D.forEach((x,O)=>{h=h.insert(x,O)})})}).next(()=>h))}Dn(r,i,o){let u,h;return this.He.getDocumentsMatchingQuery(r,i,o).next(m=>(u=m,this.In.getAllMutationBatchesAffectingQuery(r,i))).next(m=>(h=m,this.Cn(r,h,u).next(v=>{u=v;for(const I of h)for(const D of I.mutations){const x=D.key;let O=u.get(x);null==O&&(O=xn.newInvalidDocument(x),u=u.insert(x,O)),ut(D,O,I.localWriteTime),O.isFoundDocument()||(u=u.remove(x))}}))).next(()=>(u.forEach((m,v)=>{Q_(i,v)||(u=u.remove(m))}),u))}Cn(r,i,o){let u=yn();for(const m of i)for(const v of m.mutations)v instanceof Us&&null===o.get(v.key)&&(u=u.add(v.key));let h=o;return this.He.getEntries(r,u).next(m=>(m.forEach((v,I)=>{I.isFoundDocument()&&(h=h.insert(v,I))}),h))}}class XN{constructor(r,i,o,u){this.targetId=r,this.fromCache=i,this.Nn=o,this.xn=u}static kn(r,i){let o=yn(),u=yn();for(const h of i.docChanges)switch(h.type){case 0:o=o.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new XN(r,i.fromCache,o,u)}}class IF{$n(r){this.On=r}getDocumentsMatchingQuery(r,i,o,u){return 0===(h=i).filters.length&&null===h.limit&&null==h.startAt&&null==h.endAt&&(0===h.explicitOrderBy.length||1===h.explicitOrderBy.length&&h.explicitOrderBy[0].field.isKeyField())||o.isEqual(Ut.min())?this.Fn(r,i):this.On.bn(r,u).next(h=>{const m=this.Mn(i,h);return(Z_(i)||K_(i))&&this.Ln(i.limitType,m,u,o)?this.Fn(r,i):(Cw()<=Xu.in.DEBUG&&He("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),yD(i)),this.On.getDocumentsMatchingQuery(r,i,o).next(v=>(m.forEach(I=>{v=v.insert(I.key,I)}),v)))});var h}Mn(r,i){let o=new lr(vD(r));return i.forEach((u,h)=>{Q_(r,h)&&(o=o.add(h))}),o}Ln(r,i,o,u){if(o.size!==i.size)return!0;const h="F"===r?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}Fn(r,i){return Cw()<=Xu.in.DEBUG&&He("QueryEngine","Using full collection scan to execute query:",yD(i)),this.On.getDocumentsMatchingQuery(r,i,Ut.min())}}class bU{constructor(r,i,o,u){this.persistence=r,this.Bn=i,this.N=u,this.Un=new Qr(nn),this.qn=new ay(h=>oh(h),z_),this.Kn=Ut.min(),this.In=r.getMutationQueue(o),this.jn=r.getRemoteDocumentCache(),this.ze=r.getTargetCache(),this.Qn=new CF(this.jn,this.In,this.persistence.getIndexManager()),this.Je=r.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(r){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>r.collect(i,this.Un))}}function TF(s,r,i,o){return new bU(s,r,i,o)}function SF(s,r){return eO.apply(this,arguments)}function eO(){return(eO=(0,Oe.Z)(function*(s,r){const i=Ze(s);let o=i.In,u=i.Qn;const h=yield i.persistence.runTransaction("Handle user change","readonly",m=>{let v;return i.In.getAllMutationBatches(m).next(I=>(v=I,o=i.persistence.getMutationQueue(r),u=new CF(i.jn,o,i.persistence.getIndexManager()),o.getAllMutationBatches(m))).next(I=>{const D=[],x=[];let O=yn();for(const j of v){D.push(j.batchId);for(const H of j.mutations)O=O.add(H.key)}for(const j of I){x.push(j.batchId);for(const H of j.mutations)O=O.add(H.key)}return u.bn(m,O).next(j=>({Wn:j,removedBatchIds:D,addedBatchIds:x}))})});return i.In=o,i.Qn=u,i.Bn.$n(i.Qn),h})).apply(this,arguments)}function EU(s,r){const i=Ze(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=r.batch.keys(),h=i.jn.newChangeBuffer({trackRemovals:!0});return function(m,v,I,D){const x=I.batch,O=x.keys();let j=Pe.resolve();return O.forEach(H=>{j=j.next(()=>D.getEntry(v,H)).next(ee=>{const ve=I.docVersions.get(H);Tt(null!==ve),ee.version.compareTo(ve)<0&&(x.applyToRemoteDocument(ee,I),ee.isValidDocument()&&D.addEntry(ee,I.commitVersion))})}),j.next(()=>m.In.removeMutationBatch(v,x))}(i,o,r,h).next(()=>h.apply(o)).next(()=>i.In.performConsistencyCheck(o)).next(()=>i.Qn.bn(o,u))})}function DF(s){const r=Ze(s);return r.persistence.runTransaction("Get last remote snapshot version","readonly",i=>r.ze.getLastRemoteSnapshotVersion(i))}function wU(s,r){const i=Ze(s),o=r.snapshotVersion;let u=i.Un;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const m=i.jn.newChangeBuffer({trackRemovals:!0});u=i.Un;const v=[];r.targetChanges.forEach((D,x)=>{const O=u.get(x);if(!O)return;v.push(i.ze.removeMatchingKeys(h,D.removedDocuments,x).next(()=>i.ze.addMatchingKeys(h,D.addedDocuments,x)));const j=D.resumeToken;if(j.approximateByteSize()>0){const H=O.withResumeToken(j,o).withSequenceNumber(h.currentSequenceNumber);u=u.insert(x,H),ee=O,xe=D,Tt((ve=H).resumeToken.approximateByteSize()>0),(0===ee.resumeToken.approximateByteSize()||ve.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=3e8||xe.addedDocuments.size+xe.modifiedDocuments.size+xe.removedDocuments.size>0)&&v.push(i.ze.updateTargetData(h,H))}var ee,ve,xe});let I=Vo();if(r.documentUpdates.forEach((D,x)=>{r.resolvedLimboDocuments.has(D)&&v.push(i.persistence.referenceDelegate.updateLimboDocument(h,D))}),v.push(AF(h,m,r.documentUpdates,o,void 0).next(D=>{I=D})),!o.isEqual(Ut.min())){const D=i.ze.getLastRemoteSnapshotVersion(h).next(x=>i.ze.setTargetsMetadata(h,h.currentSequenceNumber,o));v.push(D)}return Pe.waitFor(v).next(()=>m.apply(h)).next(()=>i.Qn.vn(h,I)).next(()=>I)}).then(h=>(i.Un=u,h))}function AF(s,r,i,o,u){let h=yn();return i.forEach(m=>h=h.add(m)),r.getEntries(s,h).next(m=>{let v=Vo();return i.forEach((I,D)=>{const x=m.get(I),O=(null==u?void 0:u.get(I))||o;D.isNoDocument()&&D.version.isEqual(Ut.min())?(r.removeEntry(I,O),v=v.insert(I,D)):!x.isValidDocument()||D.version.compareTo(x.version)>0||0===D.version.compareTo(x.version)&&x.hasPendingWrites?(r.addEntry(D,O),v=v.insert(I,D)):He("LocalStore","Ignoring outdated watch update for ",I,". Current version:",x.version," Watch version:",D.version)}),v})}function CU(s,r){const i=Ze(s);return i.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===r&&(r=-1),i.In.getNextMutationBatchAfterBatchId(o,r)))}function ly(s,r){const i=Ze(s);return i.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return i.ze.getTargetData(o,r).next(h=>h?(u=h,Pe.resolve(u)):i.ze.allocateTargetId(o).next(m=>(u=new ch(r,m,0,o.currentSequenceNumber),i.ze.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=i.Un.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Un=i.Un.insert(o.targetId,o),i.qn.set(r,o.targetId)),o})}function uy(s,r,i){return tO.apply(this,arguments)}function tO(){return(tO=(0,Oe.Z)(function*(s,r,i){const o=Ze(s),u=o.Un.get(r),h=i?"readwrite":"readwrite-primary";try{i||(yield o.persistence.runTransaction("Release target",h,m=>o.persistence.referenceDelegate.removeTarget(m,u)))}catch(m){if(!Bp(m))throw m;He("LocalStore",`Failed to update sequence numbers for target ${r}: ${m}`)}o.Un=o.Un.remove(r),o.qn.delete(u.target)})).apply(this,arguments)}function MD(s,r,i){const o=Ze(s);let u=Ut.min(),h=yn();return o.persistence.runTransaction("Execute query","readonly",m=>function(v,I,D){const x=Ze(v),O=x.qn.get(D);return void 0!==O?Pe.resolve(x.Un.get(O)):x.ze.getTargetData(I,D)}(o,m,Vs(r)).next(v=>{if(v)return u=v.lastLimboFreeSnapshotVersion,o.ze.getMatchingKeysForTargetId(m,v.targetId).next(I=>{h=I})}).next(()=>o.Bn.getDocumentsMatchingQuery(m,r,i?u:Ut.min(),i?h:yn())).next(v=>({documents:v,Gn:h})))}function MF(s,r){const i=Ze(s),o=Ze(i.ze),u=i.Un.get(r);return u?Promise.resolve(u.target):i.persistence.runTransaction("Get target data","readonly",h=>o.Et(h,r).next(m=>m?m.target:null))}function xF(s){const r=Ze(s);return r.persistence.runTransaction("Get new document changes","readonly",i=>function(o,u,h){const m=Ze(o);let v=Vo(),I=zN(h);const D=fh(u),x=IDBKeyRange.lowerBound(I,!0);return D.Kt({index:ur.readTimeIndex,range:x},(O,j)=>{const H=GN(m.N,j);v=v.insert(H.key,H),I=j.readTime}).next(()=>({Tn:v,readTime:uF(I)}))}(r.jn,i,r.Kn)).then(({Tn:i,readTime:o})=>(r.Kn=o,i))}function nO(){return(nO=(0,Oe.Z)(function*(s){const r=Ze(s);return r.persistence.runTransaction("Synchronize last document change read time","readonly",i=>function(o){const u=fh(o);let h=Ut.min();return u.Kt({index:ur.readTimeIndex,reverse:!0},(m,v,I)=>{v.readTime&&(h=uF(v.readTime)),I.done()}).next(()=>h)}(i)).then(i=>{r.Kn=i})})).apply(this,arguments)}function rO(){return(rO=(0,Oe.Z)(function*(s,r,i,o){const u=Ze(s);let h=yn(),m=Vo(),v=FP();for(const x of i){const O=r.zn(x.metadata.name);x.document&&(h=h.add(O)),m=m.insert(O,r.Hn(x)),v=v.insert(O,r.Jn(x.metadata.readTime))}const I=u.jn.newChangeBuffer({trackRemovals:!0}),D=yield ly(u,(x=o,Vs(Fl(rn.fromString(`__bundle__/docs/${x}`)))));var x;return u.persistence.runTransaction("Apply bundle documents","readwrite",x=>AF(x,I,m,Ut.min(),v).next(O=>(I.apply(x),O)).next(O=>u.ze.removeMatchingKeysForTargetId(x,D.targetId).next(()=>u.ze.addMatchingKeys(x,h,D.targetId)).next(()=>u.Qn.vn(x,O)).next(()=>O)))})).apply(this,arguments)}function SU(s,r){return iO.apply(this,arguments)}function iO(){return(iO=(0,Oe.Z)(function*(s,r,i=yn()){const o=yield ly(s,Vs(qN(r.bundledQuery))),u=Ze(s);return u.persistence.runTransaction("Save named query","readwrite",h=>{const m=mi(r.readTime);if(o.snapshotVersion.compareTo(m)>=0)return u.Je.saveNamedQuery(h,r);const v=o.withResumeToken(Rr.EMPTY_BYTE_STRING,m);return u.Un=u.Un.insert(v.targetId,v),u.ze.updateTargetData(h,v).next(()=>u.ze.removeMatchingKeysForTargetId(h,o.targetId)).next(()=>u.ze.addMatchingKeys(h,i,o.targetId)).next(()=>u.Je.saveNamedQuery(h,r))})})).apply(this,arguments)}class DU{constructor(r){this.N=r,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(r,i){return Pe.resolve(this.Yn.get(i))}saveBundleMetadata(r,i){var o;return this.Yn.set(i.id,{id:(o=i).id,version:o.version,createTime:mi(o.createTime)}),Pe.resolve()}getNamedQuery(r,i){return Pe.resolve(this.Xn.get(i))}saveNamedQuery(r,i){return this.Xn.set(i.name,{name:(o=i).name,query:qN(o.bundledQuery),readTime:mi(o.readTime)}),Pe.resolve();var o}}class sO{constructor(){this.Zn=new lr(_i.ts),this.es=new lr(_i.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(r,i){const o=new _i(r,i);this.Zn=this.Zn.add(o),this.es=this.es.add(o)}ss(r,i){r.forEach(o=>this.addReference(o,i))}removeReference(r,i){this.rs(new _i(r,i))}os(r,i){r.forEach(o=>this.removeReference(o,i))}cs(r){const i=new ot(new rn([])),o=new _i(i,r),u=new _i(i,r+1),h=[];return this.es.forEachInRange([o,u],m=>{this.rs(m),h.push(m.key)}),h}us(){this.Zn.forEach(r=>this.rs(r))}rs(r){this.Zn=this.Zn.delete(r),this.es=this.es.delete(r)}hs(r){const i=new ot(new rn([])),o=new _i(i,r),u=new _i(i,r+1);let h=yn();return this.es.forEachInRange([o,u],m=>{h=h.add(m.key)}),h}containsKey(r){const i=new _i(r,0),o=this.Zn.firstAfterOrEqual(i);return null!==o&&r.isEqual(o.key)}}class _i{constructor(r,i){this.key=r,this.ls=i}static ts(r,i){return ot.comparator(r.key,i.key)||nn(r.ls,i.ls)}static ns(r,i){return nn(r.ls,i.ls)||ot.comparator(r.key,i.key)}}class AU{constructor(r,i){this.Ht=r,this.referenceDelegate=i,this.In=[],this.fs=1,this.ds=new lr(_i.ts)}checkEmpty(r){return Pe.resolve(0===this.In.length)}addMutationBatch(r,i,o,u){const h=this.fs;this.fs++;const m=new HN(h,i,o,u);this.In.push(m);for(const v of u)this.ds=this.ds.add(new _i(v.key,h)),this.Ht.addToCollectionParentIndex(r,v.key.path.popLast());return Pe.resolve(m)}lookupMutationBatch(r,i){return Pe.resolve(this.ws(i))}getNextMutationBatchAfterBatchId(r,i){const u=this._s(i+1),h=u<0?0:u;return Pe.resolve(this.In.length>h?this.In[h]:null)}getHighestUnacknowledgedBatchId(){return Pe.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(r){return Pe.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(r,i){const o=new _i(i,0),u=new _i(i,Number.POSITIVE_INFINITY),h=[];return this.ds.forEachInRange([o,u],m=>{const v=this.ws(m.ls);h.push(v)}),Pe.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(r,i){let o=new lr(nn);return i.forEach(u=>{const h=new _i(u,0),m=new _i(u,Number.POSITIVE_INFINITY);this.ds.forEachInRange([h,m],v=>{o=o.add(v.ls)})}),Pe.resolve(this.gs(o))}getAllMutationBatchesAffectingQuery(r,i){const o=i.path,u=o.length+1;let h=o;ot.isDocumentKey(h)||(h=h.child(""));const m=new _i(new ot(h),0);let v=new lr(nn);return this.ds.forEachWhile(I=>{const D=I.key.path;return!!o.isPrefixOf(D)&&(D.length===u&&(v=v.add(I.ls)),!0)},m),Pe.resolve(this.gs(v))}gs(r){const i=[];return r.forEach(o=>{const u=this.ws(o);null!==u&&i.push(u)}),i}removeMutationBatch(r,i){Tt(0===this.ys(i.batchId,"removed")),this.In.shift();let o=this.ds;return Pe.forEach(i.mutations,u=>{const h=new _i(u.key,i.batchId);return o=o.delete(h),this.referenceDelegate.markPotentiallyOrphaned(r,u.key)}).next(()=>{this.ds=o})}te(r){}containsKey(r,i){const o=new _i(i,0),u=this.ds.firstAfterOrEqual(o);return Pe.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(r){return Pe.resolve()}ys(r,i){return this._s(r)}_s(r){return 0===this.In.length?0:r-this.In[0].batchId}ws(r){const i=this._s(r);return i<0||i>=this.In.length?null:this.In[i]}}class MU{constructor(r,i){this.Ht=r,this.ps=i,this.docs=new Qr(ot.comparator),this.size=0}addEntry(r,i,o){const u=i.key,h=this.docs.get(u),m=h?h.size:0,v=this.ps(i);return this.docs=this.docs.insert(u,{document:i.clone(),size:v,readTime:o}),this.size+=v-m,this.Ht.addToCollectionParentIndex(r,u.path.popLast())}removeEntry(r){const i=this.docs.get(r);i&&(this.docs=this.docs.remove(r),this.size-=i.size)}getEntry(r,i){const o=this.docs.get(i);return Pe.resolve(o?o.document.clone():xn.newInvalidDocument(i))}getEntries(r,i){let o=Vo();return i.forEach(u=>{const h=this.docs.get(u);o=o.insert(u,h?h.document.clone():xn.newInvalidDocument(u))}),Pe.resolve(o)}getDocumentsMatchingQuery(r,i,o){let u=Vo();const h=new ot(i.path.child("")),m=this.docs.getIteratorFrom(h);for(;m.hasNext();){const{key:v,value:{document:I,readTime:D}}=m.getNext();if(!i.path.isPrefixOf(v.path))break;D.compareTo(o)<=0||Q_(i,I)&&(u=u.insert(I.key,I.clone()))}return Pe.resolve(u)}Es(r,i){return Pe.forEach(this.docs,o=>i(o))}newChangeBuffer(r){return new xU(this)}getSize(r){return Pe.resolve(this.size)}}class xU extends bF{constructor(r){super(),this.Se=r}applyChanges(r){const i=[];return this.changes.forEach((o,u)=>{u.document.isValidDocument()?i.push(this.Se.addEntry(r,u.document,this.getReadTime(o))):this.Se.removeEntry(o)}),Pe.waitFor(i)}getFromCache(r,i){return this.Se.getEntry(r,i)}getAllFromCache(r,i){return this.Se.getEntries(r,i)}}class RU{constructor(r){this.persistence=r,this.Ts=new ay(i=>oh(i),z_),this.lastRemoteSnapshotVersion=Ut.min(),this.highestTargetId=0,this.Is=0,this.As=new sO,this.targetCount=0,this.Rs=Hp.se()}forEachTarget(r,i){return this.Ts.forEach((o,u)=>i(u)),Pe.resolve()}getLastRemoteSnapshotVersion(r){return Pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(r){return Pe.resolve(this.Is)}allocateTargetId(r){return this.highestTargetId=this.Rs.next(),Pe.resolve(this.highestTargetId)}setTargetsMetadata(r,i,o){return o&&(this.lastRemoteSnapshotVersion=o),i>this.Is&&(this.Is=i),Pe.resolve()}ae(r){this.Ts.set(r.target,r);const i=r.targetId;i>this.highestTargetId&&(this.Rs=new Hp(i),this.highestTargetId=i),r.sequenceNumber>this.Is&&(this.Is=r.sequenceNumber)}addTargetData(r,i){return this.ae(i),this.targetCount+=1,Pe.resolve()}updateTargetData(r,i){return this.ae(i),Pe.resolve()}removeTargetData(r,i){return this.Ts.delete(i.target),this.As.cs(i.targetId),this.targetCount-=1,Pe.resolve()}removeTargets(r,i,o){let u=0;const h=[];return this.Ts.forEach((m,v)=>{v.sequenceNumber<=i&&null===o.get(v.targetId)&&(this.Ts.delete(m),h.push(this.removeMatchingKeysForTargetId(r,v.targetId)),u++)}),Pe.waitFor(h).next(()=>u)}getTargetCount(r){return Pe.resolve(this.targetCount)}getTargetData(r,i){const o=this.Ts.get(i)||null;return Pe.resolve(o)}addMatchingKeys(r,i,o){return this.As.ss(i,o),Pe.resolve()}removeMatchingKeys(r,i,o){this.As.os(i,o);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach(m=>{h.push(u.markPotentiallyOrphaned(r,m))}),Pe.waitFor(h)}removeMatchingKeysForTargetId(r,i){return this.As.cs(i),Pe.resolve()}getMatchingKeysForTargetId(r,i){const o=this.As.hs(i);return Pe.resolve(o)}containsKey(r,i){return Pe.resolve(this.As.containsKey(i))}}class NU{constructor(r,i){this.Ps={},this.Le=new hs(0),this.Be=!1,this.Be=!0,this.referenceDelegate=r(this),this.ze=new RU(this),this.Ht=new uU,this.He=new MU(this.Ht,o=>this.referenceDelegate.bs(o)),this.N=new aF(i),this.Je=new DU(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(r){let i=this.Ps[r.toKey()];return i||(i=new AU(this.Ht,this.referenceDelegate),this.Ps[r.toKey()]=i),i}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(r,i,o){He("MemoryPersistence","Starting transaction:",r);const u=new OU(this.Le.next());return this.referenceDelegate.vs(),o(u).next(h=>this.referenceDelegate.Vs(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}Ss(r,i){return Pe.or(Object.values(this.Ps).map(o=>()=>o.containsKey(r,i)))}}class OU extends iF{constructor(r){super(),this.currentSequenceNumber=r}}class oO{constructor(r){this.persistence=r,this.Ds=new sO,this.Cs=null}static Ns(r){return new oO(r)}get xs(){if(this.Cs)return this.Cs;throw st()}addReference(r,i,o){return this.Ds.addReference(o,i),this.xs.delete(o.toString()),Pe.resolve()}removeReference(r,i,o){return this.Ds.removeReference(o,i),this.xs.add(o.toString()),Pe.resolve()}markPotentiallyOrphaned(r,i){return this.xs.add(i.toString()),Pe.resolve()}removeTarget(r,i){this.Ds.cs(i.targetId).forEach(u=>this.xs.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(r,i.targetId).next(u=>{u.forEach(h=>this.xs.add(h.toString()))}).next(()=>o.removeTargetData(r,i))}vs(){this.Cs=new Set}Vs(r){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Pe.forEach(this.xs,o=>{const u=ot.fromPath(o);return this.ks(r,u).next(h=>{h||i.removeEntry(u)})}).next(()=>(this.Cs=null,i.apply(r)))}updateLimboDocument(r,i){return this.ks(r,i).next(o=>{o?this.xs.delete(i.toString()):this.xs.add(i.toString())})}bs(r){return 0}ks(r,i){return Pe.or([()=>Pe.resolve(this.Ds.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(r,i),()=>this.persistence.Ss(r,i)])}}function RF(s,r){return`firestore_clients_${s}_${r}`}function NF(s,r,i){let o=`firestore_mutations_${s}_${i}`;return r.isAuthenticated()&&(o+=`_${r.uid}`),o}function aO(s,r){return`firestore_targets_${s}_${r}`}class xD{constructor(r,i,o,u){this.user=r,this.batchId=i,this.state=o,this.error=u}static $s(r,i,o){const u=JSON.parse(o);let h,m="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return m&&u.error&&(m="string"==typeof u.error.message&&"string"==typeof u.error.code,m&&(h=new Fe(u.error.code,u.error.message))),m?new xD(r,i,u.state,h):(sr("SharedClientState",`Failed to parse mutation state for ID '${i}': ${o}`),null)}Os(){const r={state:this.state,updateTimeMs:Date.now()};return this.error&&(r.error={code:this.error.code,message:this.error.message}),JSON.stringify(r)}}class Hw{constructor(r,i,o){this.targetId=r,this.state=i,this.error=o}static $s(r,i){const o=JSON.parse(i);let u,h="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return h&&o.error&&(h="string"==typeof o.error.message&&"string"==typeof o.error.code,h&&(u=new Fe(o.error.code,o.error.message))),h?new Hw(r,o.state,u):(sr("SharedClientState",`Failed to parse target state for ID '${r}': ${i}`),null)}Os(){const r={state:this.state,updateTimeMs:Date.now()};return this.error&&(r.error={code:this.error.code,message:this.error.message}),JSON.stringify(r)}}class RD{constructor(r,i){this.clientId=r,this.activeTargetIds=i}static $s(r,i){const o=JSON.parse(i);let u="object"==typeof o&&o.activeTargetIds instanceof Array,h=ED();for(let m=0;u&&m<o.activeTargetIds.length;++m)u=Sw(o.activeTargetIds[m]),h=h.add(o.activeTargetIds[m]);return u?new RD(r,h):(sr("SharedClientState",`Failed to parse client data for instance '${r}': ${i}`),null)}}class lO{constructor(r,i){this.clientId=r,this.onlineState=i}static $s(r){const i=JSON.parse(r);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new lO(i.clientId,i.onlineState):(sr("SharedClientState",`Failed to parse online state: ${r}`),null)}}class uO{constructor(){this.activeTargetIds=ED()}Fs(r){this.activeTargetIds=this.activeTargetIds.add(r)}Ms(r){this.activeTargetIds=this.activeTargetIds.delete(r)}Os(){const r={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(r)}}class cO{constructor(r,i,o,u,h){this.window=r,this.Oe=i,this.persistenceKey=o,this.Ls=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new Qr(nn),this.started=!1,this.Ks=[];const m=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=h,this.js=RF(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new uO),this.Ws=new RegExp(`^firestore_clients_${m}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${m}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${m}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(v){return`firestore_bundle_loaded_${v}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static Pt(r){return!(!r||!r.localStorage)}start(){var r=this;return(0,Oe.Z)(function*(){const i=yield r.syncEngine.pn();for(const u of i){if(u===r.Ls)continue;const h=r.getItem(RF(r.persistenceKey,u));if(h){const m=RD.$s(u,h);m&&(r.qs=r.qs.insert(m.clientId,m))}}r.Ys();const o=r.storage.getItem(r.Hs);if(o){const u=r.Xs(o);u&&r.Zs(u)}for(const u of r.Ks)r.Us(u);r.Ks=[],r.window.addEventListener("pagehide",()=>r.shutdown()),r.started=!0})()}writeSequenceNumber(r){this.setItem(this.Qs,JSON.stringify(r))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(r){let i=!1;return this.qs.forEach((o,u)=>{u.activeTargetIds.has(r)&&(i=!0)}),i}addPendingMutation(r){this.ei(r,"pending")}updateMutationState(r,i,o){this.ei(r,i,o),this.ni(r)}addLocalQueryTarget(r){let i="not-current";if(this.isActiveQueryTarget(r)){const o=this.storage.getItem(aO(this.persistenceKey,r));if(o){const u=Hw.$s(r,o);u&&(i=u.state)}}return this.si.Fs(r),this.Ys(),i}removeLocalQueryTarget(r){this.si.Ms(r),this.Ys()}isLocalQueryTarget(r){return this.si.activeTargetIds.has(r)}clearQueryState(r){this.removeItem(aO(this.persistenceKey,r))}updateQueryState(r,i,o){this.ii(r,i,o)}handleUserChange(r,i,o){i.forEach(u=>{this.ni(u)}),this.currentUser=r,o.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(r){this.ri(r)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(r){const i=this.storage.getItem(r);return He("SharedClientState","READ",r,i),i}setItem(r,i){He("SharedClientState","SET",r,i),this.storage.setItem(r,i)}removeItem(r){He("SharedClientState","REMOVE",r),this.storage.removeItem(r)}Us(r){var i=this;const o=r;if(o.storageArea===this.storage){if(He("SharedClientState","EVENT",o.key,o.newValue),o.key===this.js)return void sr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,Oe.Z)(function*(){if(i.started){if(null!==o.key)if(i.Ws.test(o.key)){if(null==o.newValue){const u=i.ai(o.key);return i.ci(u,null)}{const u=i.ui(o.key,o.newValue);if(u)return i.ci(u.clientId,u)}}else if(i.Gs.test(o.key)){if(null!==o.newValue){const u=i.hi(o.key,o.newValue);if(u)return i.li(u)}}else if(i.zs.test(o.key)){if(null!==o.newValue){const u=i.fi(o.key,o.newValue);if(u)return i.di(u)}}else if(o.key===i.Hs){if(null!==o.newValue){const u=i.Xs(o.newValue);if(u)return i.Zs(u)}}else if(o.key===i.Qs){const u=function(h){let m=hs.T;if(null!=h)try{const v=JSON.parse(h);Tt("number"==typeof v),m=v}catch(v){sr("SharedClientState","Failed to read sequence number from WebStorage",v)}return m}(o.newValue);u!==hs.T&&i.sequenceNumberHandler(u)}else if(o.key===i.Js)return i.syncEngine.wi()}else i.Ks.push(o)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(r,i,o){const u=new xD(this.currentUser,r,i,o),h=NF(this.persistenceKey,this.currentUser,r);this.setItem(h,u.Os())}ni(r){const i=NF(this.persistenceKey,this.currentUser,r);this.removeItem(i)}ri(r){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:r}))}ii(r,i,o){const u=aO(this.persistenceKey,r),h=new Hw(r,i,o);this.setItem(u,h.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(r){const i=this.Ws.exec(r);return i?i[1]:null}ui(r,i){const o=this.ai(r);return RD.$s(o,i)}hi(r,i){const o=this.Gs.exec(r),u=Number(o[1]);return xD.$s(new _n(void 0!==o[2]?o[2]:null),u,i)}fi(r,i){const o=this.zs.exec(r),u=Number(o[1]);return Hw.$s(u,i)}Xs(r){return lO.$s(r)}li(r){var i=this;return(0,Oe.Z)(function*(){if(r.user.uid===i.currentUser.uid)return i.syncEngine._i(r.batchId,r.state,r.error);He("SharedClientState",`Ignoring mutation for non-active user ${r.user.uid}`)})()}di(r){return this.syncEngine.mi(r.targetId,r.state,r.error)}ci(r,i){const o=i?this.qs.insert(r,i):this.qs.remove(r),u=this.ti(this.qs),h=this.ti(o),m=[],v=[];return h.forEach(I=>{u.has(I)||m.push(I)}),u.forEach(I=>{h.has(I)||v.push(I)}),this.syncEngine.gi(m,v).then(()=>{this.qs=o})}Zs(r){this.qs.get(r.clientId)&&this.onlineStateHandler(r.onlineState)}ti(r){let i=ED();return r.forEach((o,u)=>{i=i.unionWith(u.activeTargetIds)}),i}}class OF{constructor(){this.yi=new uO,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(r){}updateMutationState(r,i,o){}addLocalQueryTarget(r){return this.yi.Fs(r),this.pi[r]||"not-current"}updateQueryState(r,i,o){this.pi[r]=i}removeLocalQueryTarget(r){this.yi.Ms(r)}isLocalQueryTarget(r){return this.yi.activeTargetIds.has(r)}clearQueryState(r){delete this.pi[r]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(r){return this.yi.activeTargetIds.has(r)}start(){return this.yi=new uO,Promise.resolve()}handleUserChange(r,i,o){}setOnlineState(r){}shutdown(){}writeSequenceNumber(r){}notifyBundleLoaded(){}}class kU{Ei(r){}shutdown(){}}class kF{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.Pi=[],this.bi()}Ei(r){this.Pi.push(r)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}bi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){He("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const r of this.Pi)r(0)}Ri(){He("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const r of this.Pi)r(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const PU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class FU{constructor(r){this.vi=r.vi,this.Vi=r.Vi}Si(r){this.Di=r}Ci(r){this.Ni=r}onMessage(r){this.xi=r}close(){this.Vi()}send(r){this.vi(r)}ki(){this.Di()}$i(r){this.Ni(r)}Oi(r){this.xi(r)}}class LU extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId,this.Fi=(r.ssl?"https":"http")+"://"+r.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(r,i,o,u){const h=this.Bi(r,i);He("RestConnection","Sending: ",h,o);const m={};return this.Ui(m,u),this.qi(r,h,m,o).then(v=>(He("RestConnection","Received: ",v),v),v=>{throw Np("RestConnection",`${r} failed with error: `,v,"url: ",h,"request:",o),v})}Ki(r,i,o,u){return this.Li(r,i,o,u)}Ui(r,i){if(r["X-Goog-Api-Client"]="gl-js/ fire/"+rh,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),i)for(const o in i.authHeaders)i.authHeaders.hasOwnProperty(o)&&(r[o]=i.authHeaders[o])}Bi(r,i){return`${this.Fi}/v1/${i}:${PU[r]}`}}{constructor(r){super(r),this.forceLongPolling=r.forceLongPolling,this.autoDetectLongPolling=r.autoDetectLongPolling,this.useFetchStreams=r.useFetchStreams}qi(r,i,o,u){return new Promise((h,m)=>{const v=new nD;v.listenOnce(XS.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case j_.NO_ERROR:const D=v.getResponseJson();He("Connection","XHR received:",JSON.stringify(D)),h(D);break;case j_.TIMEOUT:He("Connection",'RPC "'+r+'" timed out'),m(new Fe(Te.DEADLINE_EXCEEDED,"Request time out"));break;case j_.HTTP_ERROR:const x=v.getStatus();if(He("Connection",'RPC "'+r+'" failed with status:',x,"response text:",v.getResponseText()),x>0){const O=v.getResponseJson().error;if(O&&O.status&&O.message){const j=function(H){const ee=H.toLowerCase().replace(/_/g,"-");return Object.values(Te).indexOf(ee)>=0?ee:Te.UNKNOWN}(O.status);m(new Fe(j,O.message))}else m(new Fe(Te.UNKNOWN,"Server responded with status "+v.getStatus()))}else m(new Fe(Te.UNAVAILABLE,"Connection failed."));break;default:st()}}finally{He("Connection",'RPC "'+r+'" completed.')}});const I=JSON.stringify(u);v.send(i,"POST",I,o,15)})}ji(r,i){const o=[this.Fi,"/","google.firestore.v1.Firestore","/",r,"/channel"],u=new B_,h=Ea(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new tD({})),this.Ui(m.initMessageHeaders,i),(0,tn.uI)()||(0,tn.b$)()||(0,tn.d)()||(0,tn.w1)()||(0,tn.Mn)()||(0,tn.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const v=o.join("");He("Connection","Creating WebChannel: "+v,m);const I=u.createWebChannel(v,m);let D=!1,x=!1;const O=new FU({vi:H=>{x?He("Connection","Not sending because WebChannel is closed:",H):(D||(He("Connection","Opening WebChannel transport."),I.open(),D=!0),He("Connection","WebChannel sending:",H),I.send(H))},Vi:()=>I.close()}),j=(H,ee,ve)=>{H.listen(ee,xe=>{try{ve(xe)}catch($e){setTimeout(()=>{throw $e},0)}})};return j(I,Rp.EventType.OPEN,()=>{x||He("Connection","WebChannel transport opened.")}),j(I,Rp.EventType.CLOSE,()=>{x||(x=!0,He("Connection","WebChannel transport closed"),O.$i())}),j(I,Rp.EventType.ERROR,H=>{x||(x=!0,Np("Connection","WebChannel transport errored:",H),O.$i(new Fe(Te.UNAVAILABLE,"The operation could not be completed")))}),j(I,Rp.EventType.MESSAGE,H=>{var ee;if(!x){const ve=H.data[0];Tt(!!ve);const xe=ve,$e=xe.error||(null===(ee=xe[0])||void 0===ee?void 0:ee.error);if($e){He("Connection","WebChannel received error:",$e);const Ke=$e.status;let Qe=function(pn){const Ni=qn[pn];if(void 0!==Ni)return kP(Ni)}(Ke),mt=$e.message;void 0===Qe&&(Qe=Te.INTERNAL,mt="Unknown error status: "+Ke+" with message "+$e.message),x=!0,O.$i(new Fe(Qe,mt)),I.close()}else He("Connection","WebChannel received:",ve),O.Oi(ve)}}),j(h,CN.STAT_EVENT,H=>{H.stat===eD_PROXY?He("Connection","Detected buffering proxy"):H.stat===eD_NOPROXY&&He("Connection","Detected no buffering proxy")}),setTimeout(()=>{O.ki()},0),O}}function PF(){return"undefined"!=typeof window?window:null}function ND(){return"undefined"!=typeof document?document:null}function $w(s){return new G2(s,!0)}class dO{constructor(r,i,o=1e3,u=1.5,h=6e4){this.Oe=r,this.timerId=i,this.Qi=o,this.Wi=u,this.Gi=h,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(r){this.cancel();const i=Math.floor(this.zi+this.Zi()),o=Math.max(0,Date.now()-this.Ji),u=Math.max(0,i-o);u>0&&He("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.zi} ms, delay with jitter: ${i} ms, last attempt: ${o} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,u,()=>(this.Ji=Date.now(),r())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class FF{constructor(r,i,o,u,h,m){this.Oe=r,this.er=o,this.nr=u,this.credentialsProvider=h,this.listener=m,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new dO(r,i)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var r=this;return(0,Oe.Z)(function*(){r.ar()&&(yield r.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(r){this._r(),this.stream.send(r)}dr(){var r=this;return(0,Oe.Z)(function*(){if(r.cr())return r.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(r,i){var o=this;return(0,Oe.Z)(function*(){o._r(),o.rr.cancel(),o.sr++,3!==r?o.rr.reset():i&&i.code===Te.RESOURCE_EXHAUSTED?(sr(i.toString()),sr("Using maximum backoff delay to prevent overloading the backend."),o.rr.Yi()):i&&i.code===Te.UNAUTHENTICATED&&o.credentialsProvider.invalidateToken(),null!==o.stream&&(o.mr(),o.stream.close(),o.stream=null),o.state=r,yield o.listener.Ci(i)})()}mr(){}auth(){this.state=1;const r=this.gr(this.sr),i=this.sr;this.credentialsProvider.getToken().then(o=>{this.sr===i&&this.yr(o)},o=>{r(()=>{const u=new Fe(Te.UNKNOWN,"Fetching auth token failed: "+o.message);return this.pr(u)})})}yr(r){const i=this.gr(this.sr);this.stream=this.Er(r),this.stream.Si(()=>{i(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(o=>{i(()=>this.pr(o))}),this.stream.onMessage(o=>{i(()=>this.onMessage(o))})}ur(){var r=this;this.state=4,this.rr.Xi((0,Oe.Z)(function*(){r.state=0,r.start()}))}pr(r){return He("PersistentStream",`close with error: ${r}`),this.stream=null,this.close(3,r)}gr(r){return i=>{this.Oe.enqueueAndForget(()=>this.sr===r?i():(He("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class VU extends FF{constructor(r,i,o,u,h){super(r,"listen_stream_connection_backoff","listen_stream_idle",i,o,h),this.N=u}Er(r){return this.nr.ji("Listen",r)}onMessage(r){this.rr.reset();const i=function(s,r){let i;if("targetChange"in r){const o="NO_CHANGE"===(I=r.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===I?1:"REMOVE"===I?2:"CURRENT"===I?3:"RESET"===I?4:st(),u=r.targetChange.targetIds||[],h=function(I,D){return I.D?(Tt(void 0===D||"string"==typeof D),Rr.fromBase64String(D||"")):(Tt(void 0===D||D instanceof Uint8Array),Rr.fromUint8Array(D||new Uint8Array))}(s,r.targetChange.resumeToken),m=r.targetChange.cause,v=m&&function(I){const D=void 0===I.code?Te.UNKNOWN:kP(I.code);return new Fe(D,I.message||"")}(m);i=new VP(o,u,h,v||null)}else if("documentChange"in r){const o=r.documentChange,u=Ll(s,o.document.name),h=mi(o.document.updateTime),m=new pi({mapValue:{fields:o.document.fields}}),v=xn.newFoundDocument(u,h,m);i=new wD(o.targetIds||[],o.removedTargetIds||[],v.key,v)}else if("documentDelete"in r){const o=r.documentDelete,u=Ll(s,o.document),h=o.readTime?mi(o.readTime):Ut.min(),m=xn.newNoDocument(u,h);i=new wD([],o.removedTargetIds||[],m.key,m)}else if("documentRemove"in r){const o=r.documentRemove,u=Ll(s,o.document);i=new wD([],o.removedTargetIds||[],u,null)}else{if(!("filter"in r))return st();{const o=r.filter,h=new Ow(o.count||0);i=new LP(o.targetId,h)}}var I;return i}(this.N,r),o=function(u){if(!("targetChange"in u))return Ut.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ut.min():h.readTime?mi(h.readTime):Ut.min()}(r);return this.listener.Tr(i,o)}Ir(r){const i={};i.database=Vw(this.N),i.addTarget=function(u,h){let m;const v=h.target;return m=q_(v)?{documents:KP(u,v)}:{query:YP(u,v)},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0?m.resumeToken=HP(u,h.resumeToken):h.snapshotVersion.compareTo(Ut.min())>0&&(m.readTime=Fw(u,h.snapshotVersion.toTimestamp())),m}(this.N,r);const o=function(s,r){const i=function(o,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return st()}}(0,r.purpose);return null==i?null:{"goog-listen-tags":i}}(0,r);o&&(i.labels=o),this.wr(i)}Ar(r){const i={};i.database=Vw(this.N),i.removeTarget=r,this.wr(i)}}class UU extends FF{constructor(r,i,o,u,h){super(r,"write_stream_connection_backoff","write_stream_idle",i,o,h),this.N=u,this.Rr=!1}get Pr(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.br([])}Er(r){return this.nr.ji("Write",r)}onMessage(r){if(Tt(!!r.streamToken),this.lastStreamToken=r.streamToken,this.Rr){this.rr.reset();const i=function(s,r){return s&&s.length>0?(Tt(void 0!==r),s.map(i=>function(o,u){let h=mi(o.updateTime?o.updateTime:u);return h.isEqual(Ut.min())&&(h=mi(u)),new J(h,o.transformResults||[])}(i,r))):[]}(r.writeResults,r.commitTime),o=mi(r.commitTime);return this.listener.vr(o,i)}return Tt(!r.writeResults||0===r.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const r={};r.database=Vw(this.N),this.wr(r)}br(r){const i={streamToken:this.lastStreamToken,writes:r.map(o=>CD(this.N,o))};this.wr(i)}}class BU extends class{}{constructor(r,i,o){super(),this.credentials=r,this.nr=i,this.N=o,this.Dr=!1}Cr(){if(this.Dr)throw new Fe(Te.FAILED_PRECONDITION,"The client has already been terminated.")}Li(r,i,o){return this.Cr(),this.credentials.getToken().then(u=>this.nr.Li(r,i,o,u)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Te.UNAUTHENTICATED&&this.credentials.invalidateToken(),u):new Fe(Te.UNKNOWN,u.toString())})}Ki(r,i,o){return this.Cr(),this.credentials.getToken().then(u=>this.nr.Ki(r,i,o,u)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Te.UNAUTHENTICATED&&this.credentials.invalidateToken(),u):new Fe(Te.UNKNOWN,u.toString())})}terminate(){this.Dr=!0}}class jU{constructor(r,i){this.asyncQueue=r,this.onlineStateHandler=i,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(r){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${r.toString()}`),this.Fr("Offline")))}set(r){this.Br(),this.Nr=0,"Online"===r&&(this.$r=!1),this.Fr(r)}Fr(r){r!==this.state&&(this.state=r,this.onlineStateHandler(r))}Mr(r){const i=`Could not reach Cloud Firestore backend. ${r}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(sr(i),this.$r=!1):He("OnlineStateTracker",i)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class HU{constructor(r,i,o,u,h){var m=this;this.localStore=r,this.datastore=i,this.asyncQueue=o,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=h,this.Qr.Ei(v=>{o.enqueueAndForget((0,Oe.Z)(function*(){var I;ph(m)&&(He("RemoteStore","Restarting streams for network reachability change."),yield(I=(0,Oe.Z)(function*(D){const x=Ze(D);x.Kr.add(4),yield cy(x),x.Wr.set("Unknown"),x.Kr.delete(4),yield Gw(x)}),function(D){return I.apply(this,arguments)})(m))}))}),this.Wr=new jU(o,u)}}function Gw(s){return hO.apply(this,arguments)}function hO(){return(hO=(0,Oe.Z)(function*(s){if(ph(s))for(const r of s.jr)yield r(!0)})).apply(this,arguments)}function cy(s){return fO.apply(this,arguments)}function fO(){return(fO=(0,Oe.Z)(function*(s){for(const r of s.jr)yield r(!1)})).apply(this,arguments)}function OD(s,r){const i=Ze(s);i.qr.has(r.targetId)||(i.qr.set(r.targetId,r),mO(i)?gO(i):hy(i).cr()&&pO(i,r))}function zw(s,r){const i=Ze(s),o=hy(i);i.qr.delete(r),o.cr()&&LF(i,r),0===i.qr.size&&(o.cr()?o.lr():ph(i)&&i.Wr.set("Unknown"))}function pO(s,r){s.Gr.Y(r.targetId),hy(s).Ir(r)}function LF(s,r){s.Gr.Y(r),hy(s).Ar(r)}function gO(s){s.Gr=new j2({getRemoteKeysForTarget:r=>s.remoteSyncer.getRemoteKeysForTarget(r),Et:r=>s.qr.get(r)||null}),hy(s).start(),s.Wr.Or()}function mO(s){return ph(s)&&!hy(s).ar()&&s.qr.size>0}function ph(s){return 0===Ze(s).Kr.size}function VF(s){s.Gr=void 0}function $U(s){return _O.apply(this,arguments)}function _O(){return(_O=(0,Oe.Z)(function*(s){s.qr.forEach((r,i)=>{pO(s,r)})})).apply(this,arguments)}function GU(s,r){return yO.apply(this,arguments)}function yO(){return(yO=(0,Oe.Z)(function*(s,r){VF(s),mO(s)?(s.Wr.Lr(r),gO(s)):s.Wr.set("Unknown")})).apply(this,arguments)}function zU(s,r,i){return vO.apply(this,arguments)}function vO(){return(vO=(0,Oe.Z)(function*(s,r,i){if(s.Wr.set("Online"),r instanceof VP&&2===r.state&&r.cause)try{yield(o=(0,Oe.Z)(function*(u,h){const m=h.cause;for(const v of h.targetIds)u.qr.has(v)&&(yield u.remoteSyncer.rejectListen(v,m),u.qr.delete(v),u.Gr.removeTarget(v))}),function(u,h){return o.apply(this,arguments)})(s,r)}catch(o){He("RemoteStore","Failed to remove targets %s: %s ",r.targetIds.join(","),o),yield kD(s,o)}else if(r instanceof wD?s.Gr.rt(r):r instanceof LP?s.Gr.ft(r):s.Gr.ct(r),!i.isEqual(Ut.min()))try{const o=yield DF(s.localStore);i.compareTo(o)>=0&&(yield function(u,h){const m=u.Gr._t(h);return m.targetChanges.forEach((v,I)=>{if(v.resumeToken.approximateByteSize()>0){const D=u.qr.get(I);D&&u.qr.set(I,D.withResumeToken(v.resumeToken,h))}}),m.targetMismatches.forEach(v=>{const I=u.qr.get(v);if(!I)return;u.qr.set(v,I.withResumeToken(Rr.EMPTY_BYTE_STRING,I.snapshotVersion)),LF(u,v);const D=new ch(I.target,v,1,I.sequenceNumber);pO(u,D)}),u.remoteSyncer.applyRemoteEvent(m)}(s,i))}catch(o){He("RemoteStore","Failed to raise snapshot:",o),yield kD(s,o)}var o})).apply(this,arguments)}function kD(s,r,i){return bO.apply(this,arguments)}function bO(){return(bO=(0,Oe.Z)(function*(s,r,i){if(!Bp(r))throw r;s.Kr.add(1),yield cy(s),s.Wr.set("Offline"),i||(i=()=>DF(s.localStore)),s.asyncQueue.enqueueRetryable((0,Oe.Z)(function*(){He("RemoteStore","Retrying IndexedDB access"),yield i(),s.Kr.delete(1),yield Gw(s)}))})).apply(this,arguments)}function UF(s,r){return r().catch(i=>kD(s,i,r))}function dy(s){return EO.apply(this,arguments)}function EO(){return(EO=(0,Oe.Z)(function*(s){const r=Ze(s),i=gh(r);let o=r.Ur.length>0?r.Ur[r.Ur.length-1].batchId:-1;for(;qU(r);)try{const u=yield CU(r.localStore,o);if(null===u){0===r.Ur.length&&i.lr();break}o=u.batchId,WU(r,u)}catch(u){yield kD(r,u)}BF(r)&&jF(r)})).apply(this,arguments)}function qU(s){return ph(s)&&s.Ur.length<10}function WU(s,r){s.Ur.push(r);const i=gh(s);i.cr()&&i.Pr&&i.br(r.mutations)}function BF(s){return ph(s)&&!gh(s).ar()&&s.Ur.length>0}function jF(s){gh(s).start()}function ZU(s){return wO.apply(this,arguments)}function wO(){return(wO=(0,Oe.Z)(function*(s){gh(s).Sr()})).apply(this,arguments)}function KU(s){return CO.apply(this,arguments)}function CO(){return(CO=(0,Oe.Z)(function*(s){const r=gh(s);for(const i of s.Ur)r.br(i.mutations)})).apply(this,arguments)}function YU(s,r,i){return IO.apply(this,arguments)}function IO(){return(IO=(0,Oe.Z)(function*(s,r,i){const o=s.Ur.shift(),u=$N.from(o,r,i);yield UF(s,()=>s.remoteSyncer.applySuccessfulWrite(u)),yield dy(s)})).apply(this,arguments)}function QU(s,r){return TO.apply(this,arguments)}function TO(){return(TO=(0,Oe.Z)(function*(s,r){var i;r&&gh(s).Pr&&(yield(i=(0,Oe.Z)(function*(o,u){if(OP(h=u.code)&&h!==Te.ABORTED){const m=o.Ur.shift();gh(o).hr(),yield UF(o,()=>o.remoteSyncer.rejectFailedWrite(m.batchId,u)),yield dy(o)}var h}),function(o,u){return i.apply(this,arguments)})(s,r)),BF(s)&&jF(s)})).apply(this,arguments)}function SO(s,r){return DO.apply(this,arguments)}function DO(){return(DO=(0,Oe.Z)(function*(s,r){const i=Ze(s);r?(i.Kr.delete(2),yield Gw(i)):r||(i.Kr.add(2),yield cy(i),i.Wr.set("Unknown"))})).apply(this,arguments)}function hy(s){return s.zr||(s.zr=function(r,i,o){const u=Ze(r);return u.Cr(),new VU(i,u.nr,u.credentials,u.N,o)}(s.datastore,s.asyncQueue,{Si:$U.bind(null,s),Ci:GU.bind(null,s),Tr:zU.bind(null,s)}),s.jr.push(function(){var r=(0,Oe.Z)(function*(i){i?(s.zr.hr(),mO(s)?gO(s):s.Wr.set("Unknown")):(yield s.zr.stop(),VF(s))});return function(i){return r.apply(this,arguments)}}())),s.zr}function gh(s){return s.Hr||(s.Hr=function(r,i,o){const u=Ze(r);return u.Cr(),new UU(i,u.nr,u.credentials,u.N,o)}(s.datastore,s.asyncQueue,{Si:ZU.bind(null,s),Ci:QU.bind(null,s),Vr:KU.bind(null,s),vr:YU.bind(null,s)}),s.jr.push(function(){var r=(0,Oe.Z)(function*(i){i?(s.Hr.hr(),yield dy(s)):(yield s.Hr.stop(),s.Ur.length>0&&(He("RemoteStore",`Stopping write stream with ${s.Ur.length} pending writes`),s.Ur=[]))});return function(i){return r.apply(this,arguments)}}())),s.Hr}class AO{constructor(r,i,o,u,h){this.asyncQueue=r,this.timerId=i,this.targetTimeMs=o,this.op=u,this.removalCallback=h,this.deferred=new Yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}static createAndSchedule(r,i,o,u,h){const m=Date.now()+o,v=new AO(r,i,m,u,h);return v.start(o),v}start(r){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),r)}skipDelay(){return this.handleDelayElapsed()}cancel(r){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fe(Te.CANCELLED,"Operation cancelled"+(r?": "+r:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(r=>this.deferred.resolve(r))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fy(s,r){if(sr("AsyncQueue",`${r}: ${s}`),Bp(s))return new Fe(Te.UNAVAILABLE,`${r}: ${s}`);throw s}class py{constructor(r){this.comparator=r?(i,o)=>r(i,o)||ot.comparator(i.key,o.key):(i,o)=>ot.comparator(i.key,o.key),this.keyedMap=VN(),this.sortedSet=new Qr(this.comparator)}static emptySet(r){return new py(r.comparator)}has(r){return null!=this.keyedMap.get(r)}get(r){return this.keyedMap.get(r)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(r){const i=this.keyedMap.get(r);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(r){this.sortedSet.inorderTraversal((i,o)=>(r(i),!1))}add(r){const i=this.delete(r.key);return i.copy(i.keyedMap.insert(r.key,r),i.sortedSet.insert(r,null))}delete(r){const i=this.get(r);return i?this.copy(this.keyedMap.remove(r),this.sortedSet.remove(i)):this}isEqual(r){if(!(r instanceof py)||this.size!==r.size)return!1;const i=this.sortedSet.getIterator(),o=r.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=o.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const r=[];return this.forEach(i=>{r.push(i.toString())}),0===r.length?"DocumentSet ()":"DocumentSet (\n  "+r.join("  \n")+"\n)"}copy(r,i){const o=new py;return o.comparator=this.comparator,o.keyedMap=r,o.sortedSet=i,o}}class HF{constructor(){this.Jr=new Qr(ot.comparator)}track(r){const i=r.doc.key,o=this.Jr.get(i);o?0!==r.type&&3===o.type?this.Jr=this.Jr.insert(i,r):3===r.type&&1!==o.type?this.Jr=this.Jr.insert(i,{type:o.type,doc:r.doc}):2===r.type&&2===o.type?this.Jr=this.Jr.insert(i,{type:2,doc:r.doc}):2===r.type&&0===o.type?this.Jr=this.Jr.insert(i,{type:0,doc:r.doc}):1===r.type&&0===o.type?this.Jr=this.Jr.remove(i):1===r.type&&2===o.type?this.Jr=this.Jr.insert(i,{type:1,doc:o.doc}):0===r.type&&1===o.type?this.Jr=this.Jr.insert(i,{type:2,doc:r.doc}):st():this.Jr=this.Jr.insert(i,r)}Yr(){const r=[];return this.Jr.inorderTraversal((i,o)=>{r.push(o)}),r}}class gy{constructor(r,i,o,u,h,m,v,I){this.query=r,this.docs=i,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=h,this.fromCache=m,this.syncStateChanged=v,this.excludesMetadataChanges=I}static fromInitialDocuments(r,i,o,u){const h=[];return i.forEach(m=>{h.push({type:0,doc:m})}),new gy(r,i,py.emptySet(i),h,o,u,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(r){if(!(this.fromCache===r.fromCache&&this.syncStateChanged===r.syncStateChanged&&this.mutatedKeys.isEqual(r.mutatedKeys)&&Y_(this.query,r.query)&&this.docs.isEqual(r.docs)&&this.oldDocs.isEqual(r.oldDocs)))return!1;const i=this.docChanges,o=r.docChanges;if(i.length!==o.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==o[u].type||!i[u].doc.isEqual(o[u].doc))return!1;return!0}}class JU{constructor(){this.Xr=void 0,this.listeners=[]}}class XU{constructor(){this.queries=new ay(r=>kN(r),Y_),this.onlineState="Unknown",this.Zr=new Set}}function MO(s,r){return xO.apply(this,arguments)}function xO(){return(xO=(0,Oe.Z)(function*(s,r){const i=Ze(s),o=r.query;let u=!1,h=i.queries.get(o);if(h||(u=!0,h=new JU),u)try{h.Xr=yield i.onListen(o)}catch(m){const v=fy(m,`Initialization of query '${yD(r.query)}' failed`);return void r.onError(v)}i.queries.set(o,h),h.listeners.push(r),r.eo(i.onlineState),h.Xr&&r.no(h.Xr)&&OO(i)})).apply(this,arguments)}function RO(s,r){return NO.apply(this,arguments)}function NO(){return(NO=(0,Oe.Z)(function*(s,r){const i=Ze(s),o=r.query;let u=!1;const h=i.queries.get(o);if(h){const m=h.listeners.indexOf(r);m>=0&&(h.listeners.splice(m,1),u=0===h.listeners.length)}if(u)return i.queries.delete(o),i.onUnlisten(o)})).apply(this,arguments)}function eB(s,r){const i=Ze(s);let o=!1;for(const u of r){const m=i.queries.get(u.query);if(m){for(const v of m.listeners)v.no(u)&&(o=!0);m.Xr=u}}o&&OO(i)}function tB(s,r,i){const o=Ze(s),u=o.queries.get(r);if(u)for(const h of u.listeners)h.onError(i);o.queries.delete(r)}function OO(s){s.Zr.forEach(r=>{r.next()})}class kO{constructor(r,i,o){this.query=r,this.so=i,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=o||{}}no(r){if(!this.options.includeMetadataChanges){const o=[];for(const u of r.docChanges)3!==u.type&&o.push(u);r=new gy(r.query,r.docs,r.oldDocs,o,r.mutatedKeys,r.fromCache,r.syncStateChanged,!0)}let i=!1;return this.io?this.oo(r)&&(this.so.next(r),i=!0):this.ao(r,this.onlineState)&&(this.co(r),i=!0),this.ro=r,i}onError(r){this.so.error(r)}eo(r){this.onlineState=r;let i=!1;return this.ro&&!this.io&&this.ao(this.ro,r)&&(this.co(this.ro),i=!0),i}ao(r,i){return!r.fromCache||!(this.options.uo&&"Offline"!==i||r.docs.isEmpty()&&"Offline"!==i)}oo(r){return r.docChanges.length>0||!!(r.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==r.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(r){r=gy.fromInitialDocuments(r.query,r.docs,r.mutatedKeys,r.fromCache),this.io=!0,this.so.next(r)}}class nB{constructor(r,i){this.payload=r,this.byteLength=i}ho(){return"metadata"in this.payload}}class $F{constructor(r){this.N=r}zn(r){return Ll(this.N,r)}Hn(r){return r.metadata.exists?WP(this.N,r.document,!1):xn.newNoDocument(this.zn(r.metadata.name),this.Jn(r.metadata.readTime))}Jn(r){return mi(r)}}class rB{constructor(r,i,o){this.lo=r,this.localStore=i,this.N=o,this.queries=[],this.documents=[],this.progress=GF(r)}fo(r){this.progress.bytesLoaded+=r.byteLength;let i=this.progress.documentsLoaded;return r.payload.namedQuery?this.queries.push(r.payload.namedQuery):r.payload.documentMetadata?(this.documents.push({metadata:r.payload.documentMetadata}),r.payload.documentMetadata.exists||++i):r.payload.document&&(this.documents[this.documents.length-1].document=r.payload.document,++i),i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null}wo(r){const i=new Map,o=new $F(this.N);for(const u of r)if(u.metadata.queries){const h=o.zn(u.metadata.name);for(const m of u.metadata.queries){const v=(i.get(m)||yn()).add(h);i.set(m,v)}}return i}complete(){var r=this;return(0,Oe.Z)(function*(){const i=yield function(s,r,i,o){return rO.apply(this,arguments)}(r.localStore,new $F(r.N),r.documents,r.lo.id),o=r.wo(r.documents);for(const u of r.queries)yield SU(r.localStore,u,o.get(u.name));return r.progress.taskState="Success",new vU(Object.assign({},r.progress),i)})()}}function GF(s){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:s.totalDocuments,totalBytes:s.totalBytes}}class zF{constructor(r){this.key=r}}class qF{constructor(r){this.key=r}}class WF{constructor(r,i){this.query=r,this._o=i,this.mo=null,this.current=!1,this.yo=yn(),this.mutatedKeys=yn(),this.po=vD(r),this.Eo=new py(this.po)}get To(){return this._o}Io(r,i){const o=i?i.Ao:new HF,u=i?i.Eo:this.Eo;let h=i?i.mutatedKeys:this.mutatedKeys,m=u,v=!1;const I=Z_(this.query)&&u.size===this.query.limit?u.last():null,D=K_(this.query)&&u.size===this.query.limit?u.first():null;if(r.inorderTraversal((x,O)=>{const j=u.get(x),H=Q_(this.query,O)?O:null,ee=!!j&&this.mutatedKeys.has(j.key),ve=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let xe=!1;j&&H?j.data.isEqual(H.data)?ee!==ve&&(o.track({type:3,doc:H}),xe=!0):this.Ro(j,H)||(o.track({type:2,doc:H}),xe=!0,(I&&this.po(H,I)>0||D&&this.po(H,D)<0)&&(v=!0)):!j&&H?(o.track({type:0,doc:H}),xe=!0):j&&!H&&(o.track({type:1,doc:j}),xe=!0,(I||D)&&(v=!0)),xe&&(H?(m=m.add(H),h=ve?h.add(x):h.delete(x)):(m=m.delete(x),h=h.delete(x)))}),Z_(this.query)||K_(this.query))for(;m.size>this.query.limit;){const x=Z_(this.query)?m.last():m.first();m=m.delete(x.key),h=h.delete(x.key),o.track({type:1,doc:x})}return{Eo:m,Ao:o,Ln:v,mutatedKeys:h}}Ro(r,i){return r.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(r,i,o){const u=this.Eo;this.Eo=r.Eo,this.mutatedKeys=r.mutatedKeys;const h=r.Ao.Yr();h.sort((D,x)=>function(O,j){const H=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return st()}};return H(O)-H(j)}(D.type,x.type)||this.po(D.doc,x.doc)),this.Po(o);const m=i?this.bo():[],v=0===this.yo.size&&this.current?1:0,I=v!==this.mo;return this.mo=v,0!==h.length||I?{snapshot:new gy(this.query,r.Eo,u,h,r.mutatedKeys,0===v,I,!1),vo:m}:{vo:m}}eo(r){return this.current&&"Offline"===r?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new HF,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(r){return!this._o.has(r)&&!!this.Eo.has(r)&&!this.Eo.get(r).hasLocalMutations}Po(r){r&&(r.addedDocuments.forEach(i=>this._o=this._o.add(i)),r.modifiedDocuments.forEach(i=>{}),r.removedDocuments.forEach(i=>this._o=this._o.delete(i)),this.current=r.current)}bo(){if(!this.current)return[];const r=this.yo;this.yo=yn(),this.Eo.forEach(o=>{this.Vo(o.key)&&(this.yo=this.yo.add(o.key))});const i=[];return r.forEach(o=>{this.yo.has(o)||i.push(new qF(o))}),this.yo.forEach(o=>{r.has(o)||i.push(new zF(o))}),i}So(r){this._o=r.Gn,this.yo=yn();const i=this.Io(r.documents);return this.applyChanges(i,!0)}Do(){return gy.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class iB{constructor(r,i,o){this.query=r,this.targetId=i,this.view=o}}class sB{constructor(r){this.key=r,this.Co=!1}}class oB{constructor(r,i,o,u,h,m){this.localStore=r,this.remoteStore=i,this.eventManager=o,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=m,this.No={},this.xo=new ay(v=>kN(v),Y_),this.ko=new Map,this.$o=new Set,this.Oo=new Qr(ot.comparator),this.Fo=new Map,this.Mo=new sO,this.Lo={},this.Bo=new Map,this.Uo=Hp.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function aB(s,r){return PO.apply(this,arguments)}function PO(){return(PO=(0,Oe.Z)(function*(s,r){const i=i1(s);let o,u;const h=i.xo.get(r);if(h)o=h.targetId,i.sharedClientState.addLocalQueryTarget(o),u=h.view.Do();else{const m=yield ly(i.localStore,Vs(r)),v=i.sharedClientState.addLocalQueryTarget(m.targetId);o=m.targetId,u=yield FO(i,r,o,"current"===v),i.isPrimaryClient&&OD(i.remoteStore,m)}return u})).apply(this,arguments)}function FO(s,r,i,o){return LO.apply(this,arguments)}function LO(){return(LO=(0,Oe.Z)(function*(s,r,i,o){s.Ko=(x,O,j)=>{return(H=(0,Oe.Z)(function*(ee,ve,xe,$e){let Ke=ve.view.Io(xe);Ke.Ln&&(Ke=yield MD(ee.localStore,ve.query,!1).then(({documents:pn})=>ve.view.Io(pn,Ke)));const Qe=$e&&$e.targetChanges.get(ve.targetId),mt=ve.view.applyChanges(Ke,ee.isPrimaryClient,Qe);return WO(ee,ve.targetId,mt.vo),mt.snapshot}),function(ee,ve,xe,$e){return H.apply(this,arguments)})(s,x,O,j);var H};const u=yield MD(s.localStore,r,!0),h=new WF(r,u.Gn),m=h.Io(u.documents),v=Pw.createSynthesizedTargetChangeForCurrentChange(i,o&&"Offline"!==s.onlineState),I=h.applyChanges(m,s.isPrimaryClient,v);WO(s,i,I.vo);const D=new iB(r,i,h);return s.xo.set(r,D),s.ko.has(i)?s.ko.get(i).push(r):s.ko.set(i,[r]),I.snapshot})).apply(this,arguments)}function lB(s,r){return VO.apply(this,arguments)}function VO(){return(VO=(0,Oe.Z)(function*(s,r){const i=Ze(s),o=i.xo.get(r),u=i.ko.get(o.targetId);if(u.length>1)return i.ko.set(o.targetId,u.filter(h=>!Y_(h,r))),void i.xo.delete(r);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||(yield uy(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),zw(i.remoteStore,o.targetId),my(i,o.targetId)}).catch($p))):(my(i,o.targetId),yield uy(i.localStore,o.targetId,!0))})).apply(this,arguments)}function UO(){return(UO=(0,Oe.Z)(function*(s,r,i){const o=s1(s);try{const u=yield function(h,m){const v=Ze(h),I=vr.now(),D=m.reduce((O,j)=>O.add(j.key),yn());let x;return v.persistence.runTransaction("Locally write mutations","readwrite",O=>v.Qn.bn(O,D).next(j=>{x=j;const H=[];for(const ee of m){const ve=St(ee,x.get(ee.key));null!=ve&&H.push(new Us(ee.key,ve,lD(ve.value.mapValue),fe.exists(!0)))}return v.In.addMutationBatch(O,I,H,m)})).then(O=>(O.applyToLocalDocumentSet(x),{batchId:O.batchId,changes:x}))}(o.localStore,r);o.sharedClientState.addPendingMutation(u.batchId),function(h,m,v){let I=h.Lo[h.currentUser.toKey()];I||(I=new Qr(nn)),I=I.insert(m,v),h.Lo[h.currentUser.toKey()]=I}(o,u.batchId,i),yield Ic(o,u.changes),yield dy(o.remoteStore)}catch(u){const h=fy(u,"Failed to persist write");i.reject(h)}})).apply(this,arguments)}function ZF(s,r){return BO.apply(this,arguments)}function BO(){return(BO=(0,Oe.Z)(function*(s,r){const i=Ze(s);try{const o=yield wU(i.localStore,r);r.targetChanges.forEach((u,h)=>{const m=i.Fo.get(h);m&&(Tt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?m.Co=!0:u.modifiedDocuments.size>0?Tt(m.Co):u.removedDocuments.size>0&&(Tt(m.Co),m.Co=!1))}),yield Ic(i,o,r)}catch(o){yield $p(o)}})).apply(this,arguments)}function KF(s,r,i){const o=Ze(s);if(o.isPrimaryClient&&0===i||!o.isPrimaryClient&&1===i){const u=[];o.xo.forEach((h,m)=>{const v=m.view.eo(r);v.snapshot&&u.push(v.snapshot)}),function(h,m){const v=Ze(h);v.onlineState=m;let I=!1;v.queries.forEach((D,x)=>{for(const O of x.listeners)O.eo(m)&&(I=!0)}),I&&OO(v)}(o.eventManager,r),u.length&&o.No.Tr(u),o.onlineState=r,o.isPrimaryClient&&o.sharedClientState.setOnlineState(r)}}function cB(s,r,i){return jO.apply(this,arguments)}function jO(){return(jO=(0,Oe.Z)(function*(s,r,i){const o=Ze(s);o.sharedClientState.updateQueryState(r,"rejected",i);const u=o.Fo.get(r),h=u&&u.key;if(h){let m=new Qr(ot.comparator);m=m.insert(h,xn.newNoDocument(h,Ut.min()));const v=yn().add(h),I=new kw(Ut.min(),new Map,new lr(nn),m,v);yield ZF(o,I),o.Oo=o.Oo.remove(h),o.Fo.delete(r),ZO(o)}else yield uy(o.localStore,r,!1).then(()=>my(o,r,i)).catch($p)})).apply(this,arguments)}function dB(s,r){return HO.apply(this,arguments)}function HO(){return(HO=(0,Oe.Z)(function*(s,r){const i=Ze(s),o=r.batch.batchId;try{const u=yield EU(i.localStore,r);qO(i,o,null),zO(i,o),i.sharedClientState.updateMutationState(o,"acknowledged"),yield Ic(i,u)}catch(u){yield $p(u)}})).apply(this,arguments)}function hB(s,r,i){return $O.apply(this,arguments)}function $O(){return($O=(0,Oe.Z)(function*(s,r,i){const o=Ze(s);try{const u=yield function(h,m){const v=Ze(h);return v.persistence.runTransaction("Reject batch","readwrite-primary",I=>{let D;return v.In.lookupMutationBatch(I,m).next(x=>(Tt(null!==x),D=x.keys(),v.In.removeMutationBatch(I,x))).next(()=>v.In.performConsistencyCheck(I)).next(()=>v.Qn.bn(I,D))})}(o.localStore,r);qO(o,r,i),zO(o,r),o.sharedClientState.updateMutationState(r,"rejected",i),yield Ic(o,u)}catch(u){yield $p(u)}})).apply(this,arguments)}function GO(){return(GO=(0,Oe.Z)(function*(s,r){const i=Ze(s);ph(i.remoteStore)||He("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(h){const m=Ze(h);return m.persistence.runTransaction("Get highest unacknowledged batch id","readonly",v=>m.In.getHighestUnacknowledgedBatchId(v))}(i.localStore);if(-1===o)return void r.resolve();const u=i.Bo.get(o)||[];u.push(r),i.Bo.set(o,u)}catch(o){const u=fy(o,"Initialization of waitForPendingWrites() operation failed");r.reject(u)}})).apply(this,arguments)}function zO(s,r){(s.Bo.get(r)||[]).forEach(i=>{i.resolve()}),s.Bo.delete(r)}function qO(s,r,i){const o=Ze(s);let u=o.Lo[o.currentUser.toKey()];if(u){const h=u.get(r);h&&(i?h.reject(i):h.resolve(),u=u.remove(r)),o.Lo[o.currentUser.toKey()]=u}}function my(s,r,i=null){s.sharedClientState.removeLocalQueryTarget(r);for(const o of s.ko.get(r))s.xo.delete(o),i&&s.No.jo(o,i);s.ko.delete(r),s.isPrimaryClient&&s.Mo.cs(r).forEach(o=>{s.Mo.containsKey(o)||YF(s,o)})}function YF(s,r){s.$o.delete(r.path.canonicalString());const i=s.Oo.get(r);null!==i&&(zw(s.remoteStore,i),s.Oo=s.Oo.remove(r),s.Fo.delete(i),ZO(s))}function WO(s,r,i){for(const o of i)o instanceof zF?(s.Mo.addReference(o.key,r),pB(s,o)):o instanceof qF?(He("SyncEngine","Document no longer in limbo: "+o.key),s.Mo.removeReference(o.key,r),s.Mo.containsKey(o.key)||YF(s,o.key)):st()}function pB(s,r){const i=r.key,o=i.path.canonicalString();s.Oo.get(i)||s.$o.has(o)||(He("SyncEngine","New document in limbo: "+i),s.$o.add(o),ZO(s))}function ZO(s){for(;s.$o.size>0&&s.Oo.size<s.maxConcurrentLimboResolutions;){const r=s.$o.values().next().value;s.$o.delete(r);const i=new ot(rn.fromString(r)),o=s.Uo.next();s.Fo.set(o,new sB(i)),s.Oo=s.Oo.insert(i,o),OD(s.remoteStore,new ch(Vs(Fl(i.path)),o,2,hs.T))}}function Ic(s,r,i){return KO.apply(this,arguments)}function KO(){return(KO=(0,Oe.Z)(function*(s,r,i){const o=Ze(s),u=[],h=[],m=[];var v;o.xo.isEmpty()||(o.xo.forEach((v,I)=>{m.push(o.Ko(I,r,i).then(D=>{if(D){o.isPrimaryClient&&o.sharedClientState.updateQueryState(I.targetId,D.fromCache?"not-current":"current"),u.push(D);const x=XN.kn(I.targetId,D);h.push(x)}}))}),yield Promise.all(m),o.No.Tr(u),yield(v=(0,Oe.Z)(function*(I,D){const x=Ze(I);try{yield x.persistence.runTransaction("notifyLocalViewChanges","readwrite",O=>Pe.forEach(D,j=>Pe.forEach(j.Nn,H=>x.persistence.referenceDelegate.addReference(O,j.targetId,H)).next(()=>Pe.forEach(j.xn,H=>x.persistence.referenceDelegate.removeReference(O,j.targetId,H)))))}catch(O){if(!Bp(O))throw O;He("LocalStore","Failed to update sequence numbers: "+O)}for(const O of D){const j=O.targetId;if(!O.fromCache){const H=x.Un.get(j),ve=H.withLastLimboFreeSnapshotVersion(H.snapshotVersion);x.Un=x.Un.insert(j,ve)}}}),function(I,D){return v.apply(this,arguments)})(o.localStore,h))})).apply(this,arguments)}function gB(s,r){return YO.apply(this,arguments)}function YO(){return(YO=(0,Oe.Z)(function*(s,r){const i=Ze(s);if(!i.currentUser.isEqual(r)){He("SyncEngine","User change. New user:",r.toKey());const o=yield SF(i.localStore,r);i.currentUser=r,(u=i).Bo.forEach(m=>{m.forEach(v=>{v.reject(new Fe(Te.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.Bo.clear(),i.sharedClientState.handleUserChange(r,o.removedBatchIds,o.addedBatchIds),yield Ic(i,o.Wn)}var u})).apply(this,arguments)}function mB(s,r){const i=Ze(s),o=i.Fo.get(r);if(o&&o.Co)return yn().add(o.key);{let u=yn();const h=i.ko.get(r);if(!h)return u;for(const m of h){const v=i.xo.get(m);u=u.unionWith(v.view.To)}return u}}function _B(s,r){return QO.apply(this,arguments)}function QO(){return(QO=(0,Oe.Z)(function*(s,r){const i=Ze(s),o=yield MD(i.localStore,r.query,!0),u=r.view.So(o);return i.isPrimaryClient&&WO(i,r.targetId,u.vo),u})).apply(this,arguments)}function yB(s){return JO.apply(this,arguments)}function JO(){return(JO=(0,Oe.Z)(function*(s){const r=Ze(s);return xF(r.localStore).then(i=>Ic(r,i))})).apply(this,arguments)}function vB(s,r,i,o){return XO.apply(this,arguments)}function XO(){return(XO=(0,Oe.Z)(function*(s,r,i,o){const u=Ze(s),h=yield function(m,v){const I=Ze(m),D=Ze(I.In);return I.persistence.runTransaction("Lookup mutation documents","readonly",x=>D.Xt(x,v).next(O=>O?I.Qn.bn(x,O):Pe.resolve(null)))}(u.localStore,r);var v;null!==h?("pending"===i?yield dy(u.remoteStore):"acknowledged"===i||"rejected"===i?(qO(u,r,o||null),zO(u,r),v=r,Ze(Ze(u.localStore).In).te(v)):st(),yield Ic(u,h)):He("SyncEngine","Cannot apply mutation batch with id: "+r)})).apply(this,arguments)}function e1(){return(e1=(0,Oe.Z)(function*(s,r){const i=Ze(s);if(i1(i),s1(i),!0===r&&!0!==i.qo){const o=i.sharedClientState.getAllActiveQueryTargets(),u=yield QF(i,o.toArray());i.qo=!0,yield SO(i.remoteStore,!0);for(const h of u)OD(i.remoteStore,h)}else if(!1===r&&!1!==i.qo){const o=[];let u=Promise.resolve();i.ko.forEach((h,m)=>{i.sharedClientState.isLocalQueryTarget(m)?o.push(m):u=u.then(()=>(my(i,m),uy(i.localStore,m,!0))),zw(i.remoteStore,m)}),yield u,yield QF(i,o),function(h){const m=Ze(h);m.Fo.forEach((v,I)=>{zw(m.remoteStore,I)}),m.Mo.us(),m.Fo=new Map,m.Oo=new Qr(ot.comparator)}(i),i.qo=!1,yield SO(i.remoteStore,!1)}})).apply(this,arguments)}function QF(s,r,i){return t1.apply(this,arguments)}function t1(){return(t1=(0,Oe.Z)(function*(s,r,i){const o=Ze(s),u=[],h=[];for(const m of r){let v;const I=o.ko.get(m);if(I&&0!==I.length){v=yield ly(o.localStore,Vs(I[0]));for(const D of I){const x=o.xo.get(D),O=yield _B(o,x);O.snapshot&&h.push(O.snapshot)}}else{const D=yield MF(o.localStore,m);v=yield ly(o.localStore,D),yield FO(o,JF(D),m,!1)}u.push(v)}return o.No.Tr(h),u})).apply(this,arguments)}function JF(s){return Pl(s.path,s.collectionGroup,s.orderBy,s.filters,s.limit,"F",s.startAt,s.endAt)}function EB(s){const r=Ze(s);return Ze(Ze(r.localStore).persistence).pn()}function wB(s,r,i,o){return n1.apply(this,arguments)}function n1(){return(n1=(0,Oe.Z)(function*(s,r,i,o){const u=Ze(s);if(u.qo)He("SyncEngine","Ignoring unexpected query state notification.");else if(u.ko.has(r))switch(i){case"current":case"not-current":{const h=yield xF(u.localStore),m=kw.createSynthesizedRemoteEventForCurrentChange(r,"current"===i);yield Ic(u,h,m);break}case"rejected":yield uy(u.localStore,r,!0),my(u,r,o);break;default:st()}})).apply(this,arguments)}function CB(s,r,i){return r1.apply(this,arguments)}function r1(){return(r1=(0,Oe.Z)(function*(s,r,i){const o=i1(s);if(o.qo){for(const u of r){if(o.ko.has(u)){He("SyncEngine","Adding an already active target "+u);continue}const h=yield MF(o.localStore,u),m=yield ly(o.localStore,h);yield FO(o,JF(h),m.targetId,!1),OD(o.remoteStore,m)}for(const u of i)o.ko.has(u)&&(yield uy(o.localStore,u,!1).then(()=>{zw(o.remoteStore,u),my(o,u)}).catch($p))}})).apply(this,arguments)}function i1(s){const r=Ze(s);return r.remoteStore.remoteSyncer.applyRemoteEvent=ZF.bind(null,r),r.remoteStore.remoteSyncer.getRemoteKeysForTarget=mB.bind(null,r),r.remoteStore.remoteSyncer.rejectListen=cB.bind(null,r),r.No.Tr=eB.bind(null,r.eventManager),r.No.jo=tB.bind(null,r.eventManager),r}function s1(s){const r=Ze(s);return r.remoteStore.remoteSyncer.applySuccessfulWrite=dB.bind(null,r),r.remoteStore.remoteSyncer.rejectFailedWrite=hB.bind(null,r),r}class XF{constructor(){this.synchronizeTabs=!1}initialize(r){var i=this;return(0,Oe.Z)(function*(){i.N=$w(r.databaseInfo.databaseId),i.sharedClientState=i.Wo(r),i.persistence=i.Go(r),yield i.persistence.start(),i.gcScheduler=i.zo(r),i.localStore=i.Ho(r)})()}zo(r){return null}Ho(r){return TF(this.persistence,new IF,r.initialUser,this.N)}Go(r){return new NU(oO.Ns,this.N)}Wo(r){return new OF}terminate(){var r=this;return(0,Oe.Z)(function*(){r.gcScheduler&&r.gcScheduler.stop(),yield r.sharedClientState.shutdown(),yield r.persistence.shutdown()})()}}class eL extends XF{constructor(r,i,o){super(),this.Jo=r,this.cacheSizeBytes=i,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(r){var i=()=>super.initialize,o=this;return(0,Oe.Z)(function*(){yield i().call(o,r),yield function(s){return nO.apply(this,arguments)}(o.localStore),yield o.Jo.initialize(o,r),yield s1(o.Jo.syncEngine),yield dy(o.Jo.remoteStore),yield o.persistence.nn(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(o.localStore),Promise.resolve()))})()}Ho(r){return TF(this.persistence,new IF,r.initialUser,this.N)}zo(r){return new fU(this.persistence.referenceDelegate.garbageCollector,r.asyncQueue)}Go(r){const i=JN(r.databaseInfo.databaseId,r.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Hs.withCacheSize(this.cacheSizeBytes):Hs.DEFAULT;return new QN(this.synchronizeTabs,i,r.clientId,o,r.asyncQueue,PF(),ND(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(r){return new OF}}class TB extends eL{constructor(r,i){super(r,i,!1),this.Jo=r,this.cacheSizeBytes=i,this.synchronizeTabs=!0}initialize(r){var i=()=>super.initialize,o=this;return(0,Oe.Z)(function*(){yield i().call(o,r);const u=o.Jo.syncEngine;o.sharedClientState instanceof cO&&(o.sharedClientState.syncEngine={_i:vB.bind(null,u),mi:wB.bind(null,u),gi:CB.bind(null,u),pn:EB.bind(null,u),wi:yB.bind(null,u)},yield o.sharedClientState.start()),yield o.persistence.nn(function(){var h=(0,Oe.Z)(function*(m){yield function(s,r){return e1.apply(this,arguments)}(o.Jo.syncEngine,m),o.gcScheduler&&(m&&!o.gcScheduler.started?o.gcScheduler.start(o.localStore):m||o.gcScheduler.stop())});return function(m){return h.apply(this,arguments)}}())})()}Wo(r){const i=PF();if(!cO.Pt(i))throw new Fe(Te.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=JN(r.databaseInfo.databaseId,r.databaseInfo.persistenceKey);return new cO(i,r.asyncQueue,o,r.clientId,r.initialUser)}}class o1{initialize(r,i){var o=this;return(0,Oe.Z)(function*(){o.localStore||(o.localStore=r.localStore,o.sharedClientState=r.sharedClientState,o.datastore=o.createDatastore(i),o.remoteStore=o.createRemoteStore(i),o.eventManager=o.createEventManager(i),o.syncEngine=o.createSyncEngine(i,!r.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>KF(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=gB.bind(null,o.syncEngine),yield SO(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(r){return new XU}createDatastore(r){const i=$w(r.databaseInfo.databaseId),o=new LU(r.databaseInfo);return new BU(r.credentials,o,i)}createRemoteStore(r){return i=this.localStore,o=this.datastore,u=r.asyncQueue,h=v=>KF(this.syncEngine,v,0),m=kF.Pt()?new kF:new kU,new HU(i,o,u,h,m);var i,o,u,h,m}createSyncEngine(r,i){return function(o,u,h,m,v,I,D){const x=new oB(o,u,h,m,v,I);return D&&(x.qo=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,r.initialUser,r.maxConcurrentLimboResolutions,i)}terminate(){return(r=(0,Oe.Z)(function*(i){const o=Ze(i);He("RemoteStore","RemoteStore shutting down."),o.Kr.add(5),yield cy(o),o.Qr.shutdown(),o.Wr.set("Unknown")}),function(i){return r.apply(this,arguments)})(this.remoteStore);var r}}function tL(s,r=10240){let i=0;return{read:()=>(0,Oe.Z)(function*(){if(i<s.byteLength){const o={value:s.slice(i,i+r),done:!1};return i+=r,o}return{done:!0}})(),cancel:()=>(0,Oe.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class PD{constructor(r){this.observer=r,this.muted=!1}next(r){this.observer.next&&this.Yo(this.observer.next,r)}error(r){this.observer.error?this.Yo(this.observer.error,r):console.error("Uncaught Error in snapshot listener:",r)}Xo(){this.muted=!0}Yo(r,i){this.muted||setTimeout(()=>{this.muted||r(i)},0)}}class SB{constructor(r,i){this.Zo=r,this.N=i,this.metadata=new Yr,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(o=>{o&&o.ho()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Zo.cancel()}getMetadata(){var r=this;return(0,Oe.Z)(function*(){return r.metadata.promise})()}Qo(){var r=this;return(0,Oe.Z)(function*(){return yield r.getMetadata(),r.ea()})()}ea(){var r=this;return(0,Oe.Z)(function*(){const i=yield r.na();if(null===i)return null;const o=r.ta.decode(i),u=Number(o);isNaN(u)&&r.sa(`length string (${o}) is not valid number`);const h=yield r.ia(u);return new nB(JSON.parse(h),i.length+u)})()}ra(){return this.buffer.findIndex(r=>r==="{".charCodeAt(0))}na(){var r=this;return(0,Oe.Z)(function*(){for(;r.ra()<0&&!(yield r.oa()););if(0===r.buffer.length)return null;const i=r.ra();i<0&&r.sa("Reached the end of bundle when a length string is expected.");const o=r.buffer.slice(0,i);return r.buffer=r.buffer.slice(i),o})()}ia(r){var i=this;return(0,Oe.Z)(function*(){for(;i.buffer.length<r;)(yield i.oa())&&i.sa("Reached the end of bundle when more is expected.");const o=i.ta.decode(i.buffer.slice(0,r));return i.buffer=i.buffer.slice(r),o})()}sa(r){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${r}`)}oa(){var r=this;return(0,Oe.Z)(function*(){const i=yield r.Zo.read();if(!i.done){const o=new Uint8Array(r.buffer.length+i.value.length);o.set(r.buffer),o.set(i.value,r.buffer.length),r.buffer=o}return i.done})()}}class DB{constructor(r){this.datastore=r,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(r){var i=this;return(0,Oe.Z)(function*(){if(i.ensureCommitNotCalled(),i.mutations.length>0)throw new Fe(Te.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(u=(0,Oe.Z)(function*(h,m){const v=Ze(h),I=Vw(v.N)+"/documents",D={documents:m.map(H=>Lw(v.N,H))},x=yield v.Ki("BatchGetDocuments",I,D),O=new Map;x.forEach(H=>{const ee=function(s,r){return"found"in r?function(i,o){Tt(!!o.found);const u=Ll(i,o.found.name),h=mi(o.found.updateTime),m=new pi({mapValue:{fields:o.found.fields}});return xn.newFoundDocument(u,h,m)}(s,r):"missing"in r?function(i,o){Tt(!!o.missing),Tt(!!o.readTime);const u=Ll(i,o.missing),h=mi(o.readTime);return xn.newNoDocument(u,h)}(s,r):st()}(v.N,H);O.set(ee.key.toString(),ee)});const j=[];return m.forEach(H=>{const ee=O.get(H.toString());Tt(!!ee),j.push(ee)}),j}),function(h,m){return u.apply(this,arguments)})(i.datastore,r);var u;return o.forEach(u=>i.recordVersion(u)),o})()}set(r,i){this.write(i.toMutation(r,this.precondition(r))),this.writtenDocs.add(r.toString())}update(r,i){try{this.write(i.toMutation(r,this.preconditionForUpdate(r)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(r.toString())}delete(r){this.write(new Ec(r,this.precondition(r))),this.writtenDocs.add(r.toString())}commit(){var r=this;return(0,Oe.Z)(function*(){if(r.ensureCommitNotCalled(),r.lastWriteError)throw r.lastWriteError;const i=r.readVersions;var o;r.mutations.forEach(o=>{i.delete(o.key.toString())}),i.forEach((o,u)=>{const h=ot.fromPath(u);r.mutations.push(new Vp(h,r.precondition(h)))}),yield(o=(0,Oe.Z)(function*(u,h){const m=Ze(u),v=Vw(m.N)+"/documents",I={writes:h.map(D=>CD(m.N,D))};yield m.Li("Commit",v,I)}),function(u,h){return o.apply(this,arguments)})(r.datastore,r.mutations),r.committed=!0})()}recordVersion(r){let i;if(r.isFoundDocument())i=r.version;else{if(!r.isNoDocument())throw st();i=Ut.min()}const o=this.readVersions.get(r.key.toString());if(o){if(!i.isEqual(o))throw new Fe(Te.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(r.key.toString(),i)}precondition(r){const i=this.readVersions.get(r.toString());return!this.writtenDocs.has(r.toString())&&i?fe.updateTime(i):fe.none()}preconditionForUpdate(r){const i=this.readVersions.get(r.toString());if(!this.writtenDocs.has(r.toString())&&i){if(i.isEqual(Ut.min()))throw new Fe(Te.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return fe.updateTime(i)}return fe.exists(!0)}write(r){this.ensureCommitNotCalled(),this.mutations.push(r)}ensureCommitNotCalled(){}}class AB{constructor(r,i,o,u){this.asyncQueue=r,this.datastore=i,this.updateFunction=o,this.deferred=u,this.aa=5,this.rr=new dO(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var r=this;this.rr.Xi((0,Oe.Z)(function*(){const i=new DB(r.datastore),o=r.ua(i);o&&o.then(u=>{r.asyncQueue.enqueueAndForget(()=>i.commit().then(()=>{r.deferred.resolve(u)}).catch(h=>{r.ha(h)}))}).catch(u=>{r.ha(u)})}))}ua(r){try{const i=this.updateFunction(r);return!fo(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}ha(r){this.aa>0&&this.la(r)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(r)}la(r){if("FirebaseError"===r.name){const i=r.code;return"aborted"===i||"failed-precondition"===i||!OP(i)}return!1}}class MB{constructor(r,i,o){var u=this;this.credentials=r,this.asyncQueue=i,this.databaseInfo=o,this.user=_n.UNAUTHENTICATED,this.clientId=Ls.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(i,function(){var h=(0,Oe.Z)(function*(m){He("FirestoreClient","Received user=",m.uid),yield u.credentialListener(m),u.user=m});return function(m){return h.apply(this,arguments)}}())}getConfiguration(){var r=this;return(0,Oe.Z)(function*(){return{asyncQueue:r.asyncQueue,databaseInfo:r.databaseInfo,clientId:r.clientId,credentials:r.credentials,initialUser:r.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(r){this.credentialListener=r}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Fe(Te.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var r=this;this.asyncQueue.enterRestrictedMode();const i=new Yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Oe.Z)(function*(){try{r.onlineComponents&&(yield r.onlineComponents.terminate()),r.offlineComponents&&(yield r.offlineComponents.terminate()),r.credentials.shutdown(),i.resolve()}catch(o){const u=fy(o,"Failed to shutdown persistence");i.reject(u)}})),i.promise}}function nL(s,r){return a1.apply(this,arguments)}function a1(){return(a1=(0,Oe.Z)(function*(s,r){s.asyncQueue.verifyOperationInProgress(),He("FirestoreClient","Initializing OfflineComponentProvider");const i=yield s.getConfiguration();yield r.initialize(i);let o=i.initialUser;s.setCredentialChangeListener(function(){var u=(0,Oe.Z)(function*(h){o.isEqual(h)||(yield SF(r.localStore,h),o=h)});return function(h){return u.apply(this,arguments)}}()),r.persistence.setDatabaseDeletedListener(()=>s.terminate()),s.offlineComponents=r})).apply(this,arguments)}function rL(s,r){return l1.apply(this,arguments)}function l1(){return(l1=(0,Oe.Z)(function*(s,r){s.asyncQueue.verifyOperationInProgress();const i=yield u1(s);He("FirestoreClient","Initializing OnlineComponentProvider");const o=yield s.getConfiguration();yield r.initialize(i,o),s.setCredentialChangeListener(u=>{return(h=(0,Oe.Z)(function*(m,v){const I=Ze(m);I.asyncQueue.verifyOperationInProgress(),He("RemoteStore","RemoteStore received new credentials");const D=ph(I);I.Kr.add(3),yield cy(I),D&&I.Wr.set("Unknown"),yield I.remoteSyncer.handleCredentialChange(v),I.Kr.delete(3),yield Gw(I)}),function(m,v){return h.apply(this,arguments)})(r.remoteStore,u);var h}),s.onlineComponents=r})).apply(this,arguments)}function u1(s){return c1.apply(this,arguments)}function c1(){return(c1=(0,Oe.Z)(function*(s){return s.offlineComponents||(He("FirestoreClient","Using default OfflineComponentProvider"),yield nL(s,new XF)),s.offlineComponents})).apply(this,arguments)}function FD(s){return d1.apply(this,arguments)}function d1(){return(d1=(0,Oe.Z)(function*(s){return s.onlineComponents||(He("FirestoreClient","Using default OnlineComponentProvider"),yield rL(s,new o1)),s.onlineComponents})).apply(this,arguments)}function iL(s){return u1(s).then(r=>r.persistence)}function h1(s){return u1(s).then(r=>r.localStore)}function sL(s){return FD(s).then(r=>r.remoteStore)}function f1(s){return FD(s).then(r=>r.syncEngine)}function _y(s){return p1.apply(this,arguments)}function p1(){return(p1=(0,Oe.Z)(function*(s){const r=yield FD(s),i=r.eventManager;return i.onListen=aB.bind(null,r.syncEngine),i.onUnlisten=lB.bind(null,r.syncEngine),i})).apply(this,arguments)}function oL(s,r,i={}){const o=new Yr;return s.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return function(u,h,m,v,I){const D=new PD({next:O=>{h.enqueueAndForget(()=>RO(u,x));const j=O.docs.has(m);!j&&O.fromCache?I.reject(new Fe(Te.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&O.fromCache&&v&&"server"===v.source?I.reject(new Fe(Te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):I.resolve(O)},error:O=>I.reject(O)}),x=new kO(Fl(m.path),D,{includeMetadataChanges:!0,uo:!0});return MO(u,x)}(yield _y(s),s.asyncQueue,r,i,o)})),o.promise}function aL(s,r,i={}){const o=new Yr;return s.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return function(u,h,m,v,I){const D=new PD({next:O=>{h.enqueueAndForget(()=>RO(u,x)),O.fromCache&&"server"===v.source?I.reject(new Fe(Te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):I.resolve(O)},error:O=>I.reject(O)}),x=new kO(m,D,{includeMetadataChanges:!0,uo:!0});return MO(u,x)}(yield _y(s),s.asyncQueue,r,i,o)})),o.promise}class VB{constructor(r,i,o,u,h,m,v,I){this.databaseId=r,this.appId=i,this.persistenceKey=o,this.host=u,this.ssl=h,this.forceLongPolling=m,this.autoDetectLongPolling=v,this.useFetchStreams=I}}class yy{constructor(r,i){this.projectId=r,this.database=i||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(r){return r instanceof yy&&r.projectId===this.projectId&&r.database===this.database}}const lL=new Map;function g1(s,r,i){if(!i)throw new Fe(Te.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${r}.`)}function uL(s,r,i,o){if(!0===r&&!0===o)throw new Fe(Te.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function cL(s){if(!ot.isDocumentKey(s))throw new Fe(Te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function dL(s){if(ot.isDocumentKey(s))throw new Fe(Te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function LD(s){if(void 0===s)return"undefined";if(null===s)return"null";if("string"==typeof s)return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if("number"==typeof s||"boolean"==typeof s)return""+s;if("object"==typeof s){if(s instanceof Array)return"an array";{const r=function(i){if(i.constructor){const o=/function\s+([^\s(]+)\s*\(/.exec(i.constructor.toString());if(o&&o.length>1)return o[1]}return null}(s);return r?`a custom ${r} object`:"an object"}}return"function"==typeof s?"a function":st()}function un(s,r){if("_delegate"in s&&(s=s._delegate),!(s instanceof r)){if(r.name===s.constructor.name)throw new Fe(Te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=LD(s);throw new Fe(Te.INVALID_ARGUMENT,`Expected type '${r.name}', but it was: ${i}`)}}return s}function hL(s,r){if(r<=0)throw new Fe(Te.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${r}.`)}class fL{constructor(r){var i;if(void 0===r.host){if(void 0!==r.ssl)throw new Fe(Te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=r.host,this.ssl=null===(i=r.ssl)||void 0===i||i;if(this.credentials=r.credentials,this.ignoreUndefinedProperties=!!r.ignoreUndefinedProperties,void 0===r.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==r.cacheSizeBytes&&r.cacheSizeBytes<1048576)throw new Fe(Te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=r.cacheSizeBytes}this.experimentalForceLongPolling=!!r.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!r.experimentalAutoDetectLongPolling,this.useFetchStreams=!!r.useFetchStreams,uL("experimentalForceLongPolling",r.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",r.experimentalAutoDetectLongPolling)}isEqual(r){return this.host===r.host&&this.ssl===r.ssl&&this.credentials===r.credentials&&this.cacheSizeBytes===r.cacheSizeBytes&&this.experimentalForceLongPolling===r.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===r.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===r.ignoreUndefinedProperties&&this.useFetchStreams===r.useFetchStreams}}class qw{constructor(r,i){this._credentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fL({}),this._settingsFrozen=!1,r instanceof yy?this._databaseId=r:(this._app=r,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new Fe(Te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yy(o.options.projectId)}(r))}get app(){if(!this._app)throw new Fe(Te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(r){if(this._settingsFrozen)throw new Fe(Te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fL(r),void 0!==r.credentials&&(this._credentials=function(i){if(!i)return new TN;switch(i.type){case"gapi":const o=i.client;return Tt(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new AN(o,i.sessionIndex||"0",i.iamToken||null);case"provider":return i.client;default:throw new Fe(Te.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(r.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const i=lL.get(r);i&&(He("ComponentProvider","Removing Datastore"),lL.delete(r),i.terminate())}(this),Promise.resolve()}}class Bn{constructor(r,i,o){this.converter=i,this._key=o,this.type="document",this.firestore=r}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ul(this.firestore,this.converter,this._key.path.popLast())}withConverter(r){return new Bn(this.firestore,r,this._key)}}class Yi{constructor(r,i,o){this.converter=i,this._query=o,this.type="query",this.firestore=r}withConverter(r){return new Yi(this.firestore,r,this._query)}}class Ul extends Yi{constructor(r,i,o){super(r,i,Fl(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const r=this._path.popLast();return r.isEmpty()?null:new Bn(this.firestore,null,new ot(r))}withConverter(r){return new Ul(this.firestore,r,this._path)}}function pL(s,r,...i){if(s=(0,tn.m9)(s),g1("collection","path",r),s instanceof qw){const o=rn.fromString(r,...i);return dL(o),new Ul(s,null,o)}{if(!(s instanceof Bn||s instanceof Ul))throw new Fe(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=rn.fromString(s.path,...i).child(rn.fromString(r));return dL(o),new Ul(s.firestore,null,o)}}function VD(s,r,...i){if(s=(0,tn.m9)(s),1===arguments.length&&(r=Ls.I()),g1("doc","path",r),s instanceof qw){const o=rn.fromString(r,...i);return cL(o),new Bn(s,null,new ot(o))}{if(!(s instanceof Bn||s instanceof Ul))throw new Fe(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=s._path.child(rn.fromString(r,...i));return cL(o),new Bn(s.firestore,s instanceof Ul?s.converter:null,new ot(o))}}function gL(s,r){return s=(0,tn.m9)(s),r=(0,tn.m9)(r),(s instanceof Bn||s instanceof Ul)&&(r instanceof Bn||r instanceof Ul)&&s.firestore===r.firestore&&s.path===r.path&&s.converter===r.converter}function mL(s,r){return s=(0,tn.m9)(s),r=(0,tn.m9)(r),s instanceof Yi&&r instanceof Yi&&s.firestore===r.firestore&&Y_(s._query,r._query)&&s.converter===r.converter}class jB{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new dO(this,"async_queue_retry"),this.Ea=()=>{const i=ND();i&&He("AsyncQueue","Visibility state changed to "+i.visibilityState),this.rr.tr()};const r=ND();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(r){this.enqueue(r)}enqueueAndForgetEvenWhileRestricted(r){this.Ta(),this.Ia(r)}enterRestrictedMode(r){if(!this.wa){this.wa=!0,this.ya=r||!1;const i=ND();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Ea)}}enqueue(r){if(this.Ta(),this.wa)return new Promise(()=>{});const i=new Yr;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(r().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(r){this.enqueueAndForget(()=>(this.da.push(r),this.Aa()))}Aa(){var r=this;return(0,Oe.Z)(function*(){if(0!==r.da.length){try{yield r.da[0](),r.da.shift(),r.rr.reset()}catch(i){if(!Bp(i))throw i;He("AsyncQueue","Operation failed with retryable error: "+i)}r.da.length>0&&r.rr.Xi(()=>r.Aa())}})()}Ia(r){const i=this.fa.then(()=>(this.ga=!0,r().catch(o=>{throw this.ma=o,this.ga=!1,sr("INTERNAL UNHANDLED ERROR: ",function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),h}(o)),o}).then(o=>(this.ga=!1,o))));return this.fa=i,i}enqueueAfterDelay(r,i,o){this.Ta(),this.pa.indexOf(r)>-1&&(i=0);const u=AO.createAndSchedule(this,r,i,o,h=>this.Ra(h));return this._a.push(u),u}Ta(){this.ma&&st()}verifyOperationInProgress(){}Pa(){var r=this;return(0,Oe.Z)(function*(){let i;do{i=r.fa,yield i}while(i!==r.fa)})()}ba(r){for(const i of this._a)if(i.timerId===r)return!0;return!1}va(r){return this.Pa().then(()=>{this._a.sort((i,o)=>i.targetTimeMs-o.targetTimeMs);for(const i of this._a)if(i.skipDelay(),"all"!==r&&i.timerId===r)break;return this.Pa()})}Va(r){this.pa.push(r)}Ra(r){const i=this._a.indexOf(r);this._a.splice(i,1)}}function m1(s){return function(r,i){if("object"!=typeof r||null===r)return!1;const o=r;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(s)}class HB{constructor(){this._progressObserver={},this._taskCompletionResolver=new Yr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(r,i,o){this._progressObserver={next:r,error:i,complete:o}}catch(r){return this._taskCompletionResolver.promise.catch(r)}then(r,i){return this._taskCompletionResolver.promise.then(r,i)}_completeWith(r){this._updateProgress(r),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(r)}_failWith(r){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(r),this._taskCompletionResolver.reject(r)}_updateProgress(r){this._lastProgress=r,this._progressObserver.next&&this._progressObserver.next(r)}}class cr extends qw{constructor(r,i){super(r,i),this.type="firestore",this._queue=new jB,this._persistenceKey="name"in r?r.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||_L(this),this._firestoreClient.terminate()}}function Jr(s){return s._firestoreClient||_L(s),s._firestoreClient.verifyNotTerminated(),s._firestoreClient}function _L(s){var r;const i=s._freezeSettings(),o=(h=(null===(r=s._app)||void 0===r?void 0:r.options.appId)||"",new VB(s._databaseId,h,s._persistenceKey,(v=i).host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,v.useFetchStreams));var h,v;s._firestoreClient=new MB(s._credentials,s._queue,o)}function yL(s,r,i){const o=new Yr;return s.asyncQueue.enqueue((0,Oe.Z)(function*(){try{yield nL(s,i),yield rL(s,r),o.resolve()}catch(u){if(!("FirebaseError"===(h=u).name?h.code===Te.FAILED_PRECONDITION||h.code===Te.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&h instanceof DOMException)||22===h.code||20===h.code||11===h.code))throw u;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),o.reject(u)}var h})).then(()=>o.promise)}function vL(s){if(s._initialized||s._terminated)throw new Fe(Te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Tc{constructor(...r){for(let i=0;i<r.length;++i)if(0===r[i].length)throw new Fe(Te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xr(r)}isEqual(r){return this._internalPath.isEqual(r._internalPath)}}class Bl{constructor(r){this._byteString=r}static fromBase64String(r){try{return new Bl(Rr.fromBase64String(r))}catch(i){throw new Fe(Te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(r){return new Bl(Rr.fromUint8Array(r))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(r){return this._byteString.isEqual(r._byteString)}}class Gp{constructor(r){this._methodName=r}}class UD{constructor(r,i){if(!isFinite(r)||r<-90||r>90)throw new Fe(Te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+r);if(!isFinite(i)||i<-180||i>180)throw new Fe(Te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=r,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(r){return this._lat===r._lat&&this._long===r._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(r){return nn(this._lat,r._lat)||nn(this._long,r._long)}}const JB=/^__.*__$/;class XB{constructor(r,i,o){this.data=r,this.fieldMask=i,this.fieldTransforms=o}toMutation(r,i){return null!==this.fieldMask?new Us(r,this.data,this.fieldMask,i,this.fieldTransforms):new gi(r,this.data,i,this.fieldTransforms)}}class bL{constructor(r,i,o){this.data=r,this.fieldMask=i,this.fieldTransforms=o}toMutation(r,i){return new Us(r,this.data,this.fieldMask,i,this.fieldTransforms)}}function EL(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw st()}}class BD{constructor(r,i,o,u,h,m){this.settings=r,this.databaseId=i,this.N=o,this.ignoreUndefinedProperties=u,void 0===h&&this.Sa(),this.fieldTransforms=h||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(r){return new BD(Object.assign(Object.assign({},this.settings),r),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(r){var i;const o=null===(i=this.path)||void 0===i?void 0:i.child(r),u=this.Ca({path:o,xa:!1});return u.ka(r),u}$a(r){var i;const o=null===(i=this.path)||void 0===i?void 0:i.child(r),u=this.Ca({path:o,xa:!1});return u.Sa(),u}Oa(r){return this.Ca({path:void 0,xa:!0})}Fa(r){return HD(r,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(r){return void 0!==this.fieldMask.find(i=>r.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>r.isPrefixOf(i.field))}Sa(){if(this.path)for(let r=0;r<this.path.length;r++)this.ka(this.path.get(r))}ka(r){if(0===r.length)throw this.Fa("Document fields must not be empty");if(EL(this.Da)&&JB.test(r))throw this.Fa('Document fields cannot begin and end with "__"')}}class ej{constructor(r,i,o){this.databaseId=r,this.ignoreUndefinedProperties=i,this.N=o||$w(r)}Ba(r,i,o,u=!1){return new BD({Da:r,methodName:i,La:o,path:xr.emptyPath(),xa:!1,Ma:u},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function zp(s){const r=s._freezeSettings(),i=$w(s._databaseId);return new ej(s._databaseId,!!r.ignoreUndefinedProperties,i)}function jD(s,r,i,o,u,h={}){const m=s.Ba(h.merge||h.mergeFields?2:0,r,i,u);b1("Data must be an object, but it was:",m,o);const v=IL(o,m);let I,D;if(h.merge)I=new fc(m.fieldMask),D=m.fieldTransforms;else if(h.mergeFields){const x=[];for(const O of h.mergeFields){const j=E1(r,O,i);if(!m.contains(j))throw new Fe(Te.INVALID_ARGUMENT,`Field '${j}' is specified in your field mask but missing from your input data.`);SL(x,j)||x.push(j)}I=new fc(x),D=m.fieldTransforms.filter(O=>I.covers(O.field))}else I=null,D=m.fieldTransforms;return new XB(new pi(v),I,D)}class Ww extends Gp{_toFieldTransform(r){if(2!==r.Da)throw r.Fa(1===r.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return r.fieldMask.push(r.path),null}isEqual(r){return r instanceof Ww}}function wL(s,r,i){return new BD({Da:3,La:r.settings.La,methodName:s._methodName,xa:i},r.databaseId,r.N,r.ignoreUndefinedProperties)}class _1 extends Gp{_toFieldTransform(r){return new F(r.path,new g)}isEqual(r){return r instanceof _1}}class tj extends Gp{constructor(r,i){super(r),this.Ua=i}_toFieldTransform(r){const i=wL(this,r,!0),o=this.Ua.map(h=>qp(h,i)),u=new _(o);return new F(r.path,u)}isEqual(r){return this===r}}class nj extends Gp{constructor(r,i){super(r),this.Ua=i}_toFieldTransform(r){const i=wL(this,r,!0),o=this.Ua.map(h=>qp(h,i)),u=new w(o);return new F(r.path,u)}isEqual(r){return this===r}}class rj extends Gp{constructor(r,i){super(r),this.qa=i}_toFieldTransform(r){const i=new M(r.N,LN(r.N,this.qa));return new F(r.path,i)}isEqual(r){return this===r}}function y1(s,r,i,o){const u=s.Ba(1,r,i);b1("Data must be an object, but it was:",u,o);const h=[],m=pi.empty();Ia(o,(I,D)=>{const x=w1(r,I,i);D=(0,tn.m9)(D);const O=u.$a(x);if(D instanceof Ww)h.push(x);else{const j=qp(D,O);null!=j&&(h.push(x),m.set(x,j))}});const v=new fc(h);return new bL(m,v,u.fieldTransforms)}function v1(s,r,i,o,u,h){const m=s.Ba(1,r,i),v=[E1(r,o,i)],I=[u];if(h.length%2!=0)throw new Fe(Te.INVALID_ARGUMENT,`Function ${r}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let j=0;j<h.length;j+=2)v.push(E1(r,h[j])),I.push(h[j+1]);const D=[],x=pi.empty();for(let j=v.length-1;j>=0;--j)if(!SL(D,v[j])){const H=v[j];let ee=I[j];ee=(0,tn.m9)(ee);const ve=m.$a(H);if(ee instanceof Ww)D.push(H);else{const xe=qp(ee,ve);null!=xe&&(D.push(H),x.set(H,xe))}}const O=new fc(D);return new bL(x,O,m.fieldTransforms)}function CL(s,r,i,o=!1){return qp(i,s.Ba(o?4:3,r))}function qp(s,r){if(TL(s=(0,tn.m9)(s)))return b1("Unsupported field value:",r,s),IL(s,r);if(s instanceof Gp)return function(i,o){if(!EL(o.Da))throw o.Fa(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Fa(`${i._methodName}() is not currently supported inside arrays`);const u=i._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(s,r),null;if(void 0===s&&r.ignoreUndefinedProperties)return null;if(r.path&&r.fieldMask.push(r.path),s instanceof Array){if(r.settings.xa&&4!==r.Da)throw r.Fa("Nested arrays are not supported");return function(i,o){const u=[];let h=0;for(const m of i){let v=qp(m,o.Oa(h));null==v&&(v={nullValue:"NULL_VALUE"}),u.push(v),h++}return{arrayValue:{values:u}}}(s,r)}return function(i,o){if(null===(i=(0,tn.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return LN(o.N,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const u=vr.fromDate(i);return{timestampValue:Fw(o.N,u)}}if(i instanceof vr){const u=new vr(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Fw(o.N,u)}}if(i instanceof UD)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Bl)return{bytesValue:HP(o.N,i._byteString)};if(i instanceof Bn){const u=o.databaseId,h=i.firestore._databaseId;if(!h.isEqual(u))throw o.Fa(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:UN(i.firestore._databaseId||o.databaseId,i._key.path)}}throw o.Fa(`Unsupported field value: ${LD(i)}`)}(s,r)}function IL(s,r){const i={};return $_(s)?r.path&&r.path.length>0&&r.fieldMask.push(r.path):Ia(s,(o,u)=>{const h=qp(u,r.Na(o));null!=h&&(i[o]=h)}),{mapValue:{fields:i}}}function TL(s){return!("object"!=typeof s||null===s||s instanceof Array||s instanceof Date||s instanceof vr||s instanceof UD||s instanceof Bl||s instanceof Bn||s instanceof Gp)}function b1(s,r,i){if(!TL(i)||"object"!=typeof(o=i)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=LD(i);throw r.Fa("an object"===o?s+" a custom object":s+" "+o)}var o}function E1(s,r,i){if((r=(0,tn.m9)(r))instanceof Tc)return r._internalPath;if("string"==typeof r)return w1(s,r);throw HD("Field path arguments must be of type string or FieldPath.",s,!1,void 0,i)}const ij=new RegExp("[~\\*/\\[\\]]");function w1(s,r,i){if(r.search(ij)>=0)throw HD(`Invalid field path (${r}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Tc(...r.split("."))._internalPath}catch(o){throw HD(`Invalid field path (${r}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function HD(s,r,i,o,u){const h=o&&!o.isEmpty(),m=void 0!==u;let v=`Function ${r}() called with invalid data`;i&&(v+=" (via `toFirestore()`)"),v+=". ";let I="";return(h||m)&&(I+=" (found",h&&(I+=` in field ${o}`),m&&(I+=` in document ${u}`),I+=")"),new Fe(Te.INVALID_ARGUMENT,v+s+I)}function SL(s,r){return s.some(i=>i.isEqual(r))}class Zw{constructor(r,i,o,u,h){this._firestore=r,this._userDataWriter=i,this._key=o,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Bn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const r=new sj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(r)}return this._userDataWriter.convertValue(this._document.data.value)}}get(r){if(this._document){const i=this._document.data.field($D("DocumentSnapshot.get",r));if(null!==i)return this._userDataWriter.convertValue(i)}}}class sj extends Zw{data(){return super.data()}}function $D(s,r){return"string"==typeof r?w1(s,r):r instanceof Tc?r._internalPath:r._delegate._internalPath}class Wp{constructor(r,i){this.hasPendingWrites=r,this.fromCache=i}isEqual(r){return this.hasPendingWrites===r.hasPendingWrites&&this.fromCache===r.fromCache}}class Sc extends Zw{constructor(r,i,o,u,h,m){super(r,i,o,u,m),this._firestore=r,this._firestoreImpl=r,this.metadata=h}exists(){return super.exists()}data(r={}){if(this._document){if(this._converter){const i=new Kw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,r)}return this._userDataWriter.convertValue(this._document.data.value,r.serverTimestamps)}}get(r,i={}){if(this._document){const o=this._document.data.field($D("DocumentSnapshot.get",r));if(null!==o)return this._userDataWriter.convertValue(o,i.serverTimestamps)}}}class Kw extends Sc{data(r={}){return super.data(r)}}class mh{constructor(r,i,o,u){this._firestore=r,this._userDataWriter=i,this._snapshot=u,this.metadata=new Wp(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const r=[];return this.forEach(i=>r.push(i)),r}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(r,i){this._snapshot.docs.forEach(o=>{r.call(i,new Kw(this._firestore,this._userDataWriter,o.key,o,new Wp(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(r={}){const i=!!r.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new Fe(Te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>({type:"added",doc:new Kw(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Wp(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:h++}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||3!==m.type).map(m=>{const v=new Kw(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Wp(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let I=-1,D=-1;return 0!==m.type&&(I=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),1!==m.type&&(h=h.add(m.doc),D=h.indexOf(m.doc.key)),{type:oj(m.type),doc:v,oldIndex:I,newIndex:D}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function oj(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return st()}}function DL(s,r){return s instanceof Sc&&r instanceof Sc?s._firestore===r._firestore&&s._key.isEqual(r._key)&&(null===s._document?null===r._document:s._document.isEqual(r._document))&&s._converter===r._converter:s instanceof mh&&r instanceof mh&&s._firestore===r._firestore&&mL(s.query,r.query)&&s.metadata.isEqual(r.metadata)&&s._snapshot.isEqual(r._snapshot)}function AL(s){if(K_(s)&&0===s.explicitOrderBy.length)throw new Fe(Te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yw{}function _h(s,...r){for(const i of r)s=i._apply(s);return s}class aj extends Yw{constructor(r,i,o){super(),this.Ka=r,this.ja=i,this.Qa=o,this.type="where"}_apply(r){const i=zp(r.firestore),o=function(u,h,m,v,I,D,x){let O;if(I.isKeyField()){if("array-contains"===D||"array-contains-any"===D)throw new Fe(Te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${D}' queries on FieldPath.documentId().`);if("in"===D||"not-in"===D){kL(x,D);const H=[];for(const ee of x)H.push(OL(v,u,ee));O={arrayValue:{values:H}}}else O=OL(v,u,x)}else"in"!==D&&"not-in"!==D&&"array-contains-any"!==D||kL(x,D),O=CL(m,"where",x,"in"===D||"not-in"===D);const j=Mi.create(I,D,O);return function(H,ee){if(ee.v()){const xe=gD(H);if(null!==xe&&!xe.isEqual(ee.field))throw new Fe(Te.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${xe.toString()}' and '${ee.field.toString()}'`);const $e=pD(H);null!==$e&&PL(0,ee.field,$e)}const ve=function(xe,$e){for(const Ke of xe.filters)if($e.indexOf(Ke.op)>=0)return Ke.op;return null}(H,function(xe){switch(xe){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ee.op));if(null!==ve)throw new Fe(Te.INVALID_ARGUMENT,ve===ee.op?`Invalid query. You cannot use more than one '${ee.op.toString()}' filter.`:`Invalid query. You cannot use '${ee.op.toString()}' filters with '${ve.toString()}' filters.`)}(u,j),j}(r._query,0,i,r.firestore._databaseId,this.Ka,this.ja,this.Qa);return new Yi(r.firestore,r.converter,function(u,h){const m=u.filters.concat([h]);return new Lo(u.path,u.collectionGroup,u.explicitOrderBy.slice(),m,u.limit,u.limitType,u.startAt,u.endAt)}(r._query,o))}}class uj extends Yw{constructor(r,i){super(),this.Ka=r,this.Wa=i,this.type="orderBy"}_apply(r){const i=function(o,u,h){if(null!==o.startAt)throw new Fe(Te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new Fe(Te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const m=new _c(u,h);return function(v,I){if(null===pD(v)){const D=gD(v);null!==D&&PL(0,D,I.field)}}(o,m),m}(r._query,this.Ka,this.Wa);return new Yi(r.firestore,r.converter,function(o,u){const h=o.explicitOrderBy.concat([u]);return new Lo(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(r._query,i))}}class ML extends Yw{constructor(r,i,o){super(),this.type=r,this.Ga=i,this.za=o}_apply(r){return new Yi(r.firestore,r.converter,_D(r._query,this.Ga,this.za))}}class xL extends Yw{constructor(r,i,o){super(),this.type=r,this.Ha=i,this.Ja=o}_apply(r){const i=NL(r,this.type,this.Ha,this.Ja);return new Yi(r.firestore,r.converter,(u=i,new Lo((o=r._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)));var o,u}}class RL extends Yw{constructor(r,i,o){super(),this.type=r,this.Ha=i,this.Ja=o}_apply(r){const i=NL(r,this.type,this.Ha,this.Ja);return new Yi(r.firestore,r.converter,(u=i,new Lo((o=r._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)));var o,u}}function NL(s,r,i,o){if(i[0]=(0,tn.m9)(i[0]),i[0]instanceof Zw)return function(u,h,m,v,I){if(!v)throw new Fe(Te.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${m}().`);const D=[];for(const x of Lp(u))if(x.field.isKeyField())D.push(kp(h,v.key));else{const O=v.data.field(x.field);if(Op(O))throw new Fe(Te.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===O){const j=x.field.canonicalString();throw new Fe(Te.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${j}' (used as the orderBy) does not exist.`)}D.push(O)}return new lh(D,I)}(s._query,s.firestore._databaseId,r,i[0]._document,o);{const u=zp(s.firestore);return function(h,m,v,I,D,x){const O=h.explicitOrderBy;if(D.length>O.length)throw new Fe(Te.INVALID_ARGUMENT,`Too many arguments provided to ${I}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const j=[];for(let H=0;H<D.length;H++){const ee=D[H];if(O[H].field.isKeyField()){if("string"!=typeof ee)throw new Fe(Te.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${I}(), but got a ${typeof ee}`);if(!mD(h)&&-1!==ee.indexOf("/"))throw new Fe(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${I}() must be a plain document ID, but '${ee}' contains a slash.`);const ve=h.path.child(rn.fromString(ee));if(!ot.isDocumentKey(ve))throw new Fe(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${I}() must result in a valid document path, but '${ve}' is not because it contains an odd number of segments.`);const xe=new ot(ve);j.push(kp(m,xe))}else{const ve=CL(v,I,ee);j.push(ve)}}return new lh(j,x)}(s._query,s.firestore._databaseId,u,r,i,o)}}function OL(s,r,i){if("string"==typeof(i=(0,tn.m9)(i))){if(""===i)throw new Fe(Te.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!mD(r)&&-1!==i.indexOf("/"))throw new Fe(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const o=r.path.child(rn.fromString(i));if(!ot.isDocumentKey(o))throw new Fe(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return kp(s,new ot(o))}if(i instanceof Bn)return kp(s,i._key);throw new Fe(Te.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${LD(i)}.`)}function kL(s,r){if(!Array.isArray(s)||0===s.length)throw new Fe(Te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${r.toString()}' filters.`);if(s.length>10)throw new Fe(Te.INVALID_ARGUMENT,`Invalid Query. '${r.toString()}' filters support a maximum of 10 elements in the value array.`)}function PL(s,r,i){if(!i.isEqual(r))throw new Fe(Te.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${r.toString()}' and so you must also use '${r.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${i.toString()}' instead.`)}class C1{convertValue(r,i="none"){switch(Ta(r)){case 0:return null;case 1:return r.booleanValue;case 2:return or(r.integerValue||r.doubleValue);case 3:return this.convertTimestamp(r.timestampValue);case 4:return this.convertServerTimestamp(r,i);case 5:return r.stringValue;case 6:return this.convertBytes(ih(r.bytesValue));case 7:return this.convertReference(r.referenceValue);case 8:return this.convertGeoPoint(r.geoPointValue);case 9:return this.convertArray(r.arrayValue,i);case 10:return this.convertObject(r.mapValue,i);default:throw st()}}convertObject(r,i){const o={};return Ia(r.fields,(u,h)=>{o[u]=this.convertValue(h,i)}),o}convertGeoPoint(r){return new UD(or(r.latitude),or(r.longitude))}convertArray(r,i){return(r.values||[]).map(o=>this.convertValue(o,i))}convertServerTimestamp(r,i){switch(i){case"previous":const o=sD(r);return null==o?null:this.convertValue(o,i);case"estimate":return this.convertTimestamp(br(r));default:return null}}convertTimestamp(r){const i=Nl(r);return new vr(i.seconds,i.nanos)}convertDocumentKey(r,i){const o=rn.fromString(r);Tt(tF(o));const u=new yy(o.get(1),o.get(3)),h=new ot(o.popFirst(5));return u.isEqual(i)||sr(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}function GD(s,r,i){let o;return o=s?i&&(i.merge||i.mergeFields)?s.toFirestore(r,i):s.toFirestore(r):r,o}class _j extends C1{constructor(r){super(),this.firestore=r}convertBytes(r){return new Bl(r)}convertReference(r){const i=this.convertDocumentKey(r,this.firestore._databaseId);return new Bn(this.firestore,null,i)}}class FL{constructor(r,i){this._firestore=r,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=zp(r)}set(r,i,o){this._verifyNotCommitted();const u=yh(r,this._firestore),h=GD(u.converter,i,o),m=jD(this._dataReader,"WriteBatch.set",u._key,h,null!==u.converter,o);return this._mutations.push(m.toMutation(u._key,fe.none())),this}update(r,i,o,...u){this._verifyNotCommitted();const h=yh(r,this._firestore);let m;return m="string"==typeof(i=(0,tn.m9)(i))||i instanceof Tc?v1(this._dataReader,"WriteBatch.update",h._key,i,o,u):y1(this._dataReader,"WriteBatch.update",h._key,i),this._mutations.push(m.toMutation(h._key,fe.exists(!0))),this}delete(r){this._verifyNotCommitted();const i=yh(r,this._firestore);return this._mutations=this._mutations.concat(new Ec(i._key,fe.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Fe(Te.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function yh(s,r){if((s=(0,tn.m9)(s)).firestore!==r)throw new Fe(Te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}class Zp extends C1{constructor(r){super(),this.firestore=r}convertBytes(r){return new Bl(r)}convertReference(r){const i=this.convertDocumentKey(r,this.firestore._databaseId);return new Bn(this.firestore,null,i)}}function LL(s,r,i){s=un(s,Bn);const o=un(s.firestore,cr),u=GD(s.converter,r,i);return vy(o,[jD(zp(o),"setDoc",s._key,u,null!==s.converter,i).toMutation(s._key,fe.none())])}function VL(s,r,i,...o){s=un(s,Bn);const u=un(s.firestore,cr),h=zp(u);let m;return m="string"==typeof(r=(0,tn.m9)(r))||r instanceof Tc?v1(h,"updateDoc",s._key,r,i,o):y1(h,"updateDoc",s._key,r),vy(u,[m.toMutation(s._key,fe.exists(!0))])}function UL(s,...r){var i,o,u;s=(0,tn.m9)(s);let h={includeMetadataChanges:!1},m=0;"object"!=typeof r[m]||m1(r[m])||(h=r[m],m++);const v={includeMetadataChanges:h.includeMetadataChanges};if(m1(r[m])){const O=r[m];r[m]=null===(i=O.next)||void 0===i?void 0:i.bind(O),r[m+1]=null===(o=O.error)||void 0===o?void 0:o.bind(O),r[m+2]=null===(u=O.complete)||void 0===u?void 0:u.bind(O)}let I,D,x;if(s instanceof Bn)D=un(s.firestore,cr),x=Fl(s._key.path),I={next:O=>{r[m]&&r[m](I1(D,s,O))},error:r[m+1],complete:r[m+2]};else{const O=un(s,Yi);D=un(O.firestore,cr),x=O._query;const j=new Zp(D);I={next:H=>{r[m]&&r[m](new mh(D,j,O,H))},error:r[m+1],complete:r[m+2]},AL(s._query)}return function(O,j,H,ee){const ve=new PD(ee),xe=new kO(j,ve,H);return O.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return MO(yield _y(O),xe)})),()=>{ve.Xo(),O.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return RO(yield _y(O),xe)}))}}(Jr(D),x,v,I)}function vy(s,r){return function(i,o){const u=new Yr;return i.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return function(s,r,i){return UO.apply(this,arguments)}(yield f1(i),o,u)})),u.promise}(Jr(s),r)}function I1(s,r,i){const o=i.docs.get(r._key),u=new Zp(s);return new Sc(s,u,r._key,o,new Wp(i.hasPendingWrites,i.fromCache),r.converter)}class Dj extends class{constructor(r,i){this._firestore=r,this._transaction=i,this._dataReader=zp(r)}get(r){const i=yh(r,this._firestore),o=new _j(this._firestore);return this._transaction.lookup([i._key]).then(u=>{if(!u||1!==u.length)return st();const h=u[0];if(h.isFoundDocument())return new Zw(this._firestore,o,h.key,h,i.converter);if(h.isNoDocument())return new Zw(this._firestore,o,i._key,null,i.converter);throw st()})}set(r,i,o){const u=yh(r,this._firestore),h=GD(u.converter,i,o),m=jD(this._dataReader,"Transaction.set",u._key,h,null!==u.converter,o);return this._transaction.set(u._key,m),this}update(r,i,o,...u){const h=yh(r,this._firestore);let m;return m="string"==typeof(i=(0,tn.m9)(i))||i instanceof Tc?v1(this._dataReader,"Transaction.update",h._key,i,o,u):y1(this._dataReader,"Transaction.update",h._key,i),this._transaction.update(h._key,m),this}delete(r){const i=yh(r,this._firestore);return this._transaction.delete(i._key),this}}{constructor(r,i){super(r,i),this._firestore=r}get(r){const i=yh(r,this._firestore),o=new Zp(this._firestore);return super.get(r).then(u=>new Sc(this._firestore,o,i._key,u._document,new Wp(!1,!1),i.converter))}}function T1(s,r){if(void 0===r)return{merge:!1};if(void 0!==r.mergeFields&&void 0!==r.merge)throw new Fe("invalid-argument",`Invalid options passed to function ${s}(): You cannot specify both "merge" and "mergeFields".`);return r}function BL(){if("undefined"==typeof Uint8Array)throw new Fe("unimplemented","Uint8Arrays are not available in this environment.")}function jL(){if("undefined"==typeof atob)throw new Fe("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(s){rh=s})(xE.SDK_VERSION),(0,xE._registerComponent)(new RE.wA("firestore",(s,{options:r})=>{const i=s.getProvider("app").getImmediate(),o=new cr(i,new DN(s.getProvider("auth-internal")));return r=Object.assign({useFetchStreams:!0},r),o._setSettings(r),o},"PUBLIC")),(0,xE.registerVersion)("@firebase/firestore","3.0.0",void 0);class Qw{constructor(r){this._delegate=r}static fromBase64String(r){return jL(),new Qw(Bl.fromBase64String(r))}static fromUint8Array(r){return BL(),new Qw(Bl.fromUint8Array(r))}toBase64(){return jL(),this._delegate.toBase64()}toUint8Array(){return BL(),this._delegate.toUint8Array()}isEqual(r){return this._delegate.isEqual(r._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function S1(s){return function(s,r){if("object"!=typeof s||null===s)return!1;const i=s;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(s)}class Vj{enableIndexedDbPersistence(r,i){return function(s,r){vL(s=un(s,cr));const i=Jr(s),o=s._freezeSettings(),u=new o1;return yL(i,u,new eL(u,o.cacheSizeBytes,null==r?void 0:r.forceOwnership))}(r._delegate,{forceOwnership:i})}enableMultiTabIndexedDbPersistence(r){return function(s){vL(s=un(s,cr));const r=Jr(s),i=s._freezeSettings(),o=new o1;return yL(r,o,new TB(o,i.cacheSizeBytes))}(r._delegate)}clearIndexedDbPersistence(r){return function(s){if(s._initialized&&!s._terminated)throw new Fe(Te.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const r=new Yr;return s._queue.enqueueAndForgetEvenWhileRestricted((0,Oe.Z)(function*(){try{yield(i=(0,Oe.Z)(function*(o){if(!Ma.Pt())return Promise.resolve();const u=o+"main";yield Ma.delete(u)}),function(o){return i.apply(this,arguments)})(JN(s._databaseId,s._persistenceKey)),r.resolve()}catch(i){r.reject(i)}var i})),r.promise}(r._delegate)}}class HL{constructor(r,i,o){this._delegate=i,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},r instanceof yy||(this._appCompat=r)}get _databaseId(){return this._delegate._databaseId}settings(r){const i=this._delegate._getSettings();!r.merge&&i.host!==r.host&&Np("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),r.merge&&delete(r=Object.assign(Object.assign({},i),r)).merge,this._delegate._setSettings(r)}useEmulator(r,i,o={}){!function(s,r,i,o={}){var u;const h=(s=un(s,qw))._getSettings();if("firestore.googleapis.com"!==h.host&&h.host!==r&&Np("Host has been set in both settings() and useEmulator(), emulator host will be used"),s._setSettings(Object.assign(Object.assign({},h),{host:`${r}:${i}`,ssl:!1})),o.mockUserToken){let m,v;if("string"==typeof o.mockUserToken)m=o.mockUserToken,v=_n.MOCK_USER;else{m=(0,tn.Sg)(o.mockUserToken,null===(u=s._app)||void 0===u?void 0:u.options.projectId);const I=o.mockUserToken.sub||o.mockUserToken.user_id;if(!I)throw new Fe(Te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new _n(I)}s._credentials=new SN(new H_(m,v))}}(this._delegate,r,i,o)}enableNetwork(){return function(s){return function(s){return s.asyncQueue.enqueue((0,Oe.Z)(function*(){const r=yield iL(s),i=yield sL(s);return r.setNetworkEnabled(!0),function(o){const u=Ze(o);return u.Kr.delete(0),Gw(u)}(i)}))}(Jr(s=un(s,cr)))}(this._delegate)}disableNetwork(){return function(s){return function(s){return s.asyncQueue.enqueue((0,Oe.Z)(function*(){const r=yield iL(s),i=yield sL(s);return r.setNetworkEnabled(!1),(o=(0,Oe.Z)(function*(u){const h=Ze(u);h.Kr.add(0),yield cy(h),h.Wr.set("Offline")}),function(u){return o.apply(this,arguments)})(i);var o}))}(Jr(s=un(s,cr)))}(this._delegate)}enablePersistence(r){let i=!1,o=!1;return r&&(i=!!r.synchronizeTabs,o=!!r.experimentalForceOwningTab,uL("synchronizeTabs",i,"experimentalForceOwningTab",o)),i?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(s){return function(r){const i=new Yr;return r.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return function(s,r){return GO.apply(this,arguments)}(yield f1(r),i)})),i.promise}(Jr(s=un(s,cr)))}(this._delegate)}onSnapshotsInSync(r){return function(s,r){return function(s,r){const i=new PD(r);return s.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return o=yield _y(s),u=i,Ze(o).Zr.add(u),void u.next();var o,u})),()=>{i.Xo(),s.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return o=yield _y(s),u=i,void Ze(o).Zr.delete(u);var o,u}))}}(Jr(s=un(s,cr)),m1(r)?r:{next:r})}(this._delegate,r)}get app(){if(!this._appCompat)throw new Fe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(r){try{return new by(this,pL(this._delegate,r))}catch(i){throw fs(i,"collection()","Firestore.collection()")}}doc(r){try{return new Uo(this,VD(this._delegate,r))}catch(i){throw fs(i,"doc()","Firestore.doc()")}}collectionGroup(r){try{return new ps(this,function(s,r){if(s=un(s,qw),g1("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new Fe(Te.INVALID_ARGUMENT,`Invalid collection ID '${r}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Yi(s,null,(i=r,new Lo(rn.emptyPath(),i)));var i}(this._delegate,r))}catch(i){throw fs(i,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(r){return function(s,r){return function(s,r){const i=new Yr;return s.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){const o=yield(u=s,FD(u).then(h=>h.datastore));var u;new AB(s.asyncQueue,o,r,i).run()})),i.promise}(Jr(s),i=>r(new Dj(s,i)))}(this._delegate,i=>r(new $L(this,i)))}batch(){return Jr(this._delegate),new GL(new FL(this._delegate,r=>vy(this._delegate,r)))}loadBundle(r){return function(s,r){const i=Jr(s=un(s,cr)),o=new HB;return function(s,r,i,o){const u=function(h,m){let v;return v="string"==typeof h?(new TextEncoder).encode(h):h,I=function(I,D){if(I instanceof Uint8Array)return tL(I,D);if(I instanceof ArrayBuffer)return tL(new Uint8Array(I),D);if(I instanceof ReadableStream)return I.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(v),new SB(I,m);var I}(i,$w(r));s.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){!function(s,r,i){const o=Ze(s);var u;(u=(0,Oe.Z)(function*(h,m,v){try{const I=yield m.getMetadata();if(yield function(j,H){const ee=Ze(j),ve=mi(H.createTime);return ee.persistence.runTransaction("hasNewerBundle","readonly",xe=>ee.Je.getBundleMetadata(xe,H.id)).then(xe=>!!xe&&xe.createTime.compareTo(ve)>=0)}(h.localStore,I))return yield m.close(),void v._completeWith((j=I,{taskState:"Success",documentsLoaded:j.totalDocuments,bytesLoaded:j.totalBytes,totalDocuments:j.totalDocuments,totalBytes:j.totalBytes}));v._updateProgress(GF(I));const D=new rB(I,h.localStore,m.N);let x=yield m.Qo();for(;x;){const j=yield D.fo(x);j&&v._updateProgress(j),x=yield m.Qo()}const O=yield D.complete();yield Ic(h,O.Tn,void 0),yield function(j,H){const ee=Ze(j);return ee.persistence.runTransaction("Save bundle","readwrite",ve=>ee.Je.saveBundleMetadata(ve,H))}(h.localStore,I),v._completeWith(O.progress)}catch(I){Np("SyncEngine",`Loading bundle failed with ${I}`),v._failWith(I)}var j}),function(h,m,v){return u.apply(this,arguments)})(o,r,i).then(()=>{o.sharedClientState.notifyBundleLoaded()})}(yield f1(s),u,o)}))}(i,s._databaseId,r,o),o}(this._delegate,r)}namedQuery(r){return function(s,r){return function(s,r){return s.asyncQueue.enqueue((0,Oe.Z)(function*(){return function(i,o){const u=Ze(i);return u.persistence.runTransaction("Get named query","readonly",h=>u.Je.getNamedQuery(h,o))}(yield h1(s),r)}))}(Jr(s=un(s,cr)),r).then(i=>i?new Yi(s,null,i.query):null)}(this._delegate,r).then(i=>i?new ps(this,i):null)}}class zD extends C1{constructor(r){super(),this.firestore=r}convertBytes(r){return new Qw(new Bl(r))}convertReference(r){const i=this.convertDocumentKey(r,this.firestore._databaseId);return Uo.forKey(i,this.firestore,null)}}class $L{constructor(r,i){this._firestore=r,this._delegate=i,this._userDataWriter=new zD(r)}get(r){const i=Yp(r);return this._delegate.get(i).then(o=>new Jw(this._firestore,new Sc(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,i.converter)))}set(r,i,o){const u=Yp(r);return o?(T1("Transaction.set",o),this._delegate.set(u,i,o)):this._delegate.set(u,i),this}update(r,i,o,...u){const h=Yp(r);return 2===arguments.length?this._delegate.update(h,i):this._delegate.update(h,i,o,...u),this}delete(r){const i=Yp(r);return this._delegate.delete(i),this}}class GL{constructor(r){this._delegate=r}set(r,i,o){const u=Yp(r);return o?(T1("WriteBatch.set",o),this._delegate.set(u,i,o)):this._delegate.set(u,i),this}update(r,i,o,...u){const h=Yp(r);return 2===arguments.length?this._delegate.update(h,i):this._delegate.update(h,i,o,...u),this}delete(r){const i=Yp(r);return this._delegate.delete(i),this}commit(){return this._delegate.commit()}}class Kp{constructor(r,i,o){this._firestore=r,this._userDataWriter=i,this._delegate=o}fromFirestore(r,i){const o=new Kw(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,null);return this._delegate.fromFirestore(new Xw(this._firestore,o),null!=i?i:{})}toFirestore(r,i){return i?this._delegate.toFirestore(r,i):this._delegate.toFirestore(r)}static getInstance(r,i){const o=Kp.INSTANCES;let u=o.get(r);u||(u=new WeakMap,o.set(r,u));let h=u.get(i);return h||(h=new Kp(r,new zD(r),i),u.set(i,h)),h}}Kp.INSTANCES=new WeakMap;class Uo{constructor(r,i){this.firestore=r,this._delegate=i,this._userDataWriter=new zD(r)}static forPath(r,i,o){if(r.length%2!=0)throw new Fe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${r.canonicalString()} has ${r.length}`);return new Uo(i,new Bn(i._delegate,o,new ot(r)))}static forKey(r,i,o){return new Uo(i,new Bn(i._delegate,o,r))}get id(){return this._delegate.id}get parent(){return new by(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(r){try{return new by(this.firestore,pL(this._delegate,r))}catch(i){throw fs(i,"collection()","DocumentReference.collection()")}}isEqual(r){return(r=(0,tn.m9)(r))instanceof Bn&&gL(this._delegate,r)}set(r,i){i=T1("DocumentReference.set",i);try{return i?LL(this._delegate,r,i):LL(this._delegate,r)}catch(o){throw fs(o,"setDoc()","DocumentReference.set()")}}update(r,i,...o){try{return 1===arguments.length?VL(this._delegate,r):VL(this._delegate,r,i,...o)}catch(u){throw fs(u,"updateDoc()","DocumentReference.update()")}}delete(){return function(s){return vy(un(s.firestore,cr),[new Ec(s._key,fe.none())])}(this._delegate)}onSnapshot(...r){const i=zL(r),o=qL(r,u=>new Jw(this.firestore,new Sc(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return UL(this._delegate,i,o)}get(r){let i;return i="cache"===(null==r?void 0:r.source)?function(s){s=un(s,Bn);const r=un(s.firestore,cr),i=Jr(r),o=new Zp(r);return function(s,r){const i=new Yr;return s.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return(o=(0,Oe.Z)(function*(u,h,m){try{const v=yield function(I,D){const x=Ze(I);return x.persistence.runTransaction("read document","readonly",O=>x.Qn.An(O,D))}(u,h);v.isFoundDocument()?m.resolve(v):v.isNoDocument()?m.resolve(null):m.reject(new Fe(Te.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(v){const I=fy(v,`Failed to get document '${h} from cache`);m.reject(I)}}),function(u,h,m){return o.apply(this,arguments)})(yield h1(s),r,i);var o})),i.promise}(i,s._key).then(u=>new Sc(r,o,s._key,u,new Wp(null!==u&&u.hasLocalMutations,!0),s.converter))}(this._delegate):"server"===(null==r?void 0:r.source)?function(s){s=un(s,Bn);const r=un(s.firestore,cr);return oL(Jr(r),s._key,{source:"server"}).then(i=>I1(r,s,i))}(this._delegate):function(s){s=un(s,Bn);const r=un(s.firestore,cr);return oL(Jr(r),s._key).then(i=>I1(r,s,i))}(this._delegate),i.then(o=>new Jw(this.firestore,new Sc(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(r){return new Uo(this.firestore,this._delegate.withConverter(r?Kp.getInstance(this.firestore,r):null))}}function fs(s,r,i){return s.message=s.message.replace(r,i),s}function zL(s){for(const r of s)if("object"==typeof r&&!S1(r))return r;return{}}function qL(s,r){var i,o;let u;return u=S1(s[0])?s[0]:S1(s[1])?s[1]:"function"==typeof s[0]?{next:s[0],error:s[1],complete:s[2]}:{next:s[1],error:s[2],complete:s[3]},{next:h=>{u.next&&u.next(r(h))},error:null===(i=u.error)||void 0===i?void 0:i.bind(u),complete:null===(o=u.complete)||void 0===o?void 0:o.bind(u)}}class Jw{constructor(r,i){this._firestore=r,this._delegate=i}get ref(){return new Uo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(r){return this._delegate.data(r)}get(r,i){return this._delegate.get(r,i)}isEqual(r){return DL(this._delegate,r._delegate)}}class Xw extends Jw{data(r){const i=this._delegate.data(r);return function(s,r){s||st()}(void 0!==i),i}}class ps{constructor(r,i){this.firestore=r,this._delegate=i,this._userDataWriter=new zD(r)}where(r,i,o){try{return new ps(this.firestore,_h(this._delegate,function(s,r,i){const o=r,u=$D("where",s);return new aj(u,o,i)}(r,i,o)))}catch(u){throw fs(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(r,i){try{return new ps(this.firestore,_h(this._delegate,function(s,r="asc"){const i=r,o=$D("orderBy",s);return new uj(o,i)}(r,i)))}catch(o){throw fs(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(r){try{return new ps(this.firestore,_h(this._delegate,function(s){return hL("limit",s),new ML("limit",s,"F")}(r)))}catch(i){throw fs(i,"limit()","Query.limit()")}}limitToLast(r){try{return new ps(this.firestore,_h(this._delegate,function(s){return hL("limitToLast",s),new ML("limitToLast",s,"L")}(r)))}catch(i){throw fs(i,"limitToLast()","Query.limitToLast()")}}startAt(...r){try{return new ps(this.firestore,_h(this._delegate,function(...s){return new xL("startAt",s,!0)}(...r)))}catch(i){throw fs(i,"startAt()","Query.startAt()")}}startAfter(...r){try{return new ps(this.firestore,_h(this._delegate,function(...s){return new xL("startAfter",s,!1)}(...r)))}catch(i){throw fs(i,"startAfter()","Query.startAfter()")}}endBefore(...r){try{return new ps(this.firestore,_h(this._delegate,function(...s){return new RL("endBefore",s,!0)}(...r)))}catch(i){throw fs(i,"endBefore()","Query.endBefore()")}}endAt(...r){try{return new ps(this.firestore,_h(this._delegate,function(...s){return new RL("endAt",s,!1)}(...r)))}catch(i){throw fs(i,"endAt()","Query.endAt()")}}isEqual(r){return mL(this._delegate,r._delegate)}get(r){let i;return i="cache"===(null==r?void 0:r.source)?function(s){s=un(s,Yi);const r=un(s.firestore,cr),i=Jr(r),o=new Zp(r);return function(s,r){const i=new Yr;return s.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return(o=(0,Oe.Z)(function*(u,h,m){try{const v=yield MD(u,h,!0),I=new WF(h,v.Gn),D=I.Io(v.documents),x=I.applyChanges(D,!1);m.resolve(x.snapshot)}catch(v){const I=fy(v,`Failed to execute query '${h} against cache`);m.reject(I)}}),function(u,h,m){return o.apply(this,arguments)})(yield h1(s),r,i);var o})),i.promise}(i,s._query).then(u=>new mh(r,o,s,u))}(this._delegate):"server"===(null==r?void 0:r.source)?function(s){s=un(s,Yi);const r=un(s.firestore,cr),i=Jr(r),o=new Zp(r);return aL(i,s._query,{source:"server"}).then(u=>new mh(r,o,s,u))}(this._delegate):function(s){s=un(s,Yi);const r=un(s.firestore,cr),i=Jr(r),o=new Zp(r);return AL(s._query),aL(i,s._query).then(u=>new mh(r,o,s,u))}(this._delegate),i.then(o=>new D1(this.firestore,new mh(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...r){const i=zL(r),o=qL(r,u=>new D1(this.firestore,new mh(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return UL(this._delegate,i,o)}withConverter(r){return new ps(this.firestore,this._delegate.withConverter(r?Kp.getInstance(this.firestore,r):null))}}class Bj{constructor(r,i){this._firestore=r,this._delegate=i}get type(){return this._delegate.type}get doc(){return new Xw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class D1{constructor(r,i){this._firestore=r,this._delegate=i}get query(){return new ps(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(r=>new Xw(this._firestore,r))}docChanges(r){return this._delegate.docChanges(r).map(i=>new Bj(this._firestore,i))}forEach(r,i){this._delegate.forEach(o=>{r.call(i,new Xw(this._firestore,o))})}isEqual(r){return DL(this._delegate,r._delegate)}}class by extends ps{constructor(r,i){super(r,i),this.firestore=r,this._delegate=i}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const r=this._delegate.parent;return r?new Uo(this.firestore,r):null}doc(r){try{return new Uo(this.firestore,void 0===r?VD(this._delegate):VD(this._delegate,r))}catch(i){throw fs(i,"doc()","CollectionReference.doc()")}}add(r){return function(s,r){const i=un(s.firestore,cr),o=VD(s),u=GD(s.converter,r);return vy(i,[jD(zp(s.firestore),"addDoc",o._key,u,null!==s.converter,{}).toMutation(o._key,fe.exists(!1))]).then(()=>o)}(this._delegate,r).then(i=>new Uo(this.firestore,i))}isEqual(r){return gL(this._delegate,r._delegate)}withConverter(r){return new by(this.firestore,this._delegate.withConverter(r?Kp.getInstance(this.firestore,r):null))}}function Yp(s){return un(s,Bn)}class A1{constructor(...r){this._delegate=new Tc(...r)}static documentId(){return new A1(xr.keyField().canonicalString())}isEqual(r){return(r=(0,tn.m9)(r))instanceof Tc&&this._delegate._internalPath.isEqual(r._internalPath)}}class Qp{constructor(r){this._delegate=r}static serverTimestamp(){const r=new _1("serverTimestamp");return r._methodName="FieldValue.serverTimestamp",new Qp(r)}static delete(){const r=new Ww("deleteField");return r._methodName="FieldValue.delete",new Qp(r)}static arrayUnion(...r){const i=function(...s){return new tj("arrayUnion",s)}(...r);return i._methodName="FieldValue.arrayUnion",new Qp(i)}static arrayRemove(...r){const i=function(...s){return new nj("arrayRemove",s)}(...r);return i._methodName="FieldValue.arrayRemove",new Qp(i)}static increment(r){const i=function(s){return new rj("increment",s)}(r);return i._methodName="FieldValue.increment",new Qp(i)}isEqual(r){return this._delegate.isEqual(r._delegate)}}const jj={Firestore:HL,GeoPoint:UD,Timestamp:vr,Blob:Qw,Transaction:$L,WriteBatch:GL,DocumentReference:Uo,DocumentSnapshot:Jw,Query:ps,QueryDocumentSnapshot:Xw,QuerySnapshot:D1,CollectionReference:by,FieldPath:A1,FieldValue:Qp,setLogLevel:function(s){!function(s){Rl.setLogLevel(s)}(s)},CACHE_SIZE_UNLIMITED:-1};function WL(s,r){return r?En(()=>s,r):En(()=>s)}!function(s){(function(s,r){s.INTERNAL.registerComponent(new RE.wA("firestore-compat",i=>((r,i)=>new HL(r,i,new Vj))(i.getProvider("app-compat").getImmediate(),i.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},jj)))})(s),s.registerVersion("@firebase/firestore-compat","0.1.0")}(BR.Z);var M1=V(9673);const ZL=new f.OlP("angularfire2.auth.use-emulator"),KL=new f.OlP("angularfire2.auth.settings"),YL=new f.OlP("angularfire2.auth.tenant-id"),QL=new f.OlP("angularfire2.auth.langugage-code"),JL=new f.OlP("angularfire2.auth.use-device-language"),XL=new f.OlP("angularfire.auth.persistence");let x1=(()=>{class s{constructor(i,o,u,h,m,v,I,D,x,O,j){const H=new en.xQ,ee=(0,Xe.of)(void 0).pipe((0,co.QV)(m.outsideAngular),En(()=>h.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,6300)))),(0,bt.U)(()=>(0,cs.on)(i,h,o)),(0,bt.U)(ve=>h.runOutsideAngular(()=>{const xe=v,$e=I;return(0,_r.cc)(`${ve.name}.auth`,"AngularFireAuth",ve.name,()=>{const Ke=h.runOutsideAngular(()=>ve.auth());if(xe&&Ke.useEmulator(...xe),D&&(Ke.tenantId=D),Ke.languageCode=x,O&&Ke.useDeviceLanguage(),$e)for(const[Qe,mt]of Object.entries($e))Ke.settings[Qe]=mt;return j&&Ke.setPersistence(j),Ke},[xe,D,x,O,$e,j])})),hp({bufferSize:1,refCount:!1}));if(La(u))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Xe.of)(null);else{ee.pipe(Hu()).subscribe();const xe=ee.pipe(En(Qe=>Qe.getRedirectResult().then(mt=>mt,()=>null)),_r.iC,hp({bufferSize:1,refCount:!1})),$e=ee.pipe(En(Qe=>new zn.y(mt=>({unsubscribe:h.runOutsideAngular(()=>Qe.onAuthStateChanged(pn=>mt.next(pn),pn=>mt.error(pn),()=>mt.complete()))})))),Ke=ee.pipe(En(Qe=>new zn.y(mt=>({unsubscribe:h.runOutsideAngular(()=>Qe.onIdTokenChanged(pn=>mt.next(pn),pn=>mt.error(pn),()=>mt.complete()))}))));this.authState=xe.pipe(WL($e),(0,M1.R)(m.outsideAngular),(0,co.QV)(m.insideAngular)),this.user=xe.pipe(WL(Ke),(0,M1.R)(m.outsideAngular),(0,co.QV)(m.insideAngular)),this.idToken=this.user.pipe(En(Qe=>Qe?(0,Fn.D)(Qe.getIdToken()):(0,Xe.of)(null))),this.idTokenResult=this.user.pipe(En(Qe=>Qe?(0,Fn.D)(Qe.getIdTokenResult()):(0,Xe.of)(null))),this.credential=(0,c_.T)(xe,H,this.authState.pipe(Ar(Qe=>!Qe))).pipe((0,bt.U)(Qe=>(null==Qe?void 0:Qe.user)?Qe:null),(0,M1.R)(m.outsideAngular),(0,co.QV)(m.insideAngular))}return(0,cs.pX)(this,ee,h,{spy:{apply:(ve,xe,$e)=>{(ve.startsWith("signIn")||ve.startsWith("createUser"))&&$e.then(Ke=>H.next(Ke))}}})}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(cs.Dh),f.LFG(cs.xv,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(_r.HU),f.LFG(ZL,8),f.LFG(KL,8),f.LFG(YL,8),f.LFG(QL,8),f.LFG(JL,8),f.LFG(XL,8))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac,providedIn:"any"}),s})();function eV(s,r){return function(s,r=ca.z){return new zn.y(i=>{let o;return null!=r?r.schedule(()=>{o=s.onSnapshot({includeMetadataChanges:!0},i)}):o=s.onSnapshot({includeMetadataChanges:!0},i),()=>{null!=o&&o()}})}(s,r)}function R1(s,r){return eV(s,r).pipe((0,bt.U)(i=>({payload:i,type:"query"})))}function qD(s,r){return R1(s,r).pipe(Js(void 0),dp(),(0,bt.U)(([i,o])=>{const u=o.payload.docChanges(),h=u.map(m=>({type:m.type,payload:m}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((m,v)=>{const I=u.find(x=>x.doc.ref.isEqual(m.ref)),D=null==i?void 0:i.payload.docs.find(x=>x.ref.isEqual(m.ref));I&&JSON.stringify(I.doc.metadata)===JSON.stringify(m.metadata)||!I&&D&&JSON.stringify(D.metadata)===JSON.stringify(m.metadata)||h.push({type:"modified",payload:{oldIndex:v,newIndex:v,type:"modified",doc:m}})}),h}))}function tV(s,r,i){return qD(s,i).pipe(Dd((o,u)=>function(s,r,i){return r.forEach(o=>{i.indexOf(o.type)>-1&&(s=function(s,r){switch(r.type){case"added":if(!s[r.newIndex]||!s[r.newIndex].doc.ref.isEqual(r.doc.ref))return N1(s,r.newIndex,0,r);break;case"modified":if(null==s[r.oldIndex]||s[r.oldIndex].doc.ref.isEqual(r.doc.ref)){if(r.oldIndex!==r.newIndex){const i=s.slice();return i.splice(r.oldIndex,1),i.splice(r.newIndex,0,r),i}return N1(s,r.newIndex,1,r)}break;case"removed":if(s[r.oldIndex]&&s[r.oldIndex].doc.ref.isEqual(r.doc.ref))return N1(s,r.oldIndex,1)}return s}(s,o))}),s}(o,u.map(h=>h.payload),r),[]),Ds(),(0,bt.U)(o=>o.map(u=>({type:u.type,payload:u}))))}function N1(s,r,i,...o){const u=s.slice();return u.splice(r,i,...o),u}function nV(s){return(!s||0===s.length)&&(s=["added","removed","modified"]),s}class rV{constructor(r,i,o){this.ref=r,this.query=i,this.afs=o}stateChanges(r){let i=qD(this.query,this.afs.schedulers.outsideAngular);return r&&r.length>0&&(i=i.pipe((0,bt.U)(o=>o.filter(u=>r.indexOf(u.type)>-1)))),i.pipe(Js(void 0),dp(),Ar(([o,u])=>u.length>0||!o),(0,bt.U)(([o,u])=>u),_r.iC)}auditTrail(r){return this.stateChanges(r).pipe(Dd((i,o)=>[...i,...o],[]))}snapshotChanges(r){const i=nV(r);return tV(this.query,i,this.afs.schedulers.outsideAngular).pipe(_r.iC)}valueChanges(r={}){return R1(this.query,this.afs.schedulers.outsideAngular).pipe((0,bt.U)(i=>i.payload.docs.map(o=>r.idField?Object.assign(Object.assign({},o.data()),{[r.idField]:o.id}):o.data())),_r.iC)}get(r){return(0,Fn.D)(this.query.get(r)).pipe(_r.f6)}add(r){return this.ref.add(r)}doc(r){return new iV(this.ref.doc(r),this.afs)}}class iV{constructor(r,i){this.ref=r,this.afs=i}set(r,i){return this.ref.set(r,i)}update(r){return this.ref.update(r)}delete(){return this.ref.delete()}collection(r,i){const o=this.ref.collection(r),{ref:u,query:h}=aV(o,i);return new rV(u,h,this.afs)}snapshotChanges(){return function(s,r){return eV(s,r).pipe(Js(void 0),dp(),(0,bt.U)(([i,o])=>o.exists?(null==i?void 0:i.exists)?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(_r.iC)}valueChanges(r={}){return this.snapshotChanges().pipe((0,bt.U)(({payload:i})=>r.idField?Object.assign(Object.assign({},i.data()),{[r.idField]:i.id}):i.data()))}get(r){return(0,Fn.D)(this.ref.get(r)).pipe((0,co.QV)(this.afs.schedulers.insideAngular))}}class Kj{constructor(r,i){this.query=r,this.afs=i}stateChanges(r){return r&&0!==r.length?qD(this.query,this.afs.schedulers.outsideAngular).pipe((0,bt.U)(i=>i.filter(o=>r.indexOf(o.type)>-1)),Ar(i=>i.length>0),_r.iC):qD(this.query,this.afs.schedulers.outsideAngular).pipe(_r.iC)}auditTrail(r){return this.stateChanges(r).pipe(Dd((i,o)=>[...i,...o],[]))}snapshotChanges(r){const i=nV(r);return tV(this.query,i,this.afs.schedulers.outsideAngular).pipe(_r.iC)}valueChanges(r={}){return R1(this.query,this.afs.schedulers.outsideAngular).pipe((0,bt.U)(o=>o.payload.docs.map(u=>r.idField?Object.assign({[r.idField]:u.id},u.data()):u.data())),_r.iC)}get(r){return(0,Fn.D)(this.query.get(r)).pipe(_r.f6)}}const sV=new f.OlP("angularfire2.enableFirestorePersistence"),oV=new f.OlP("angularfire2.firestore.persistenceSettings"),Yj=new f.OlP("angularfire2.firestore.settings"),Qj=new f.OlP("angularfire2.firestore.use-emulator");function aV(s,r=(i=>i)){return{query:r(s),ref:s}}let lV=(()=>{class s{constructor(i,o,u,h,m,v,I,D,x,O,j,H,ee,ve,xe,$e){this.schedulers=I;const Ke=(0,cs.on)(i,v,o),Qe=x;if(O){const mt=H;(0,_r.cc)(`${Ke.name}.auth`,"AngularFireAuth",Ke.name,()=>{const pn=v.runOutsideAngular(()=>Ke.auth());if(j&&pn.useEmulator(...j),ee&&(pn.tenantId=ee),pn.languageCode=ve,xe&&pn.useDeviceLanguage(),mt)for(const[Ni,Oi]of Object.entries(mt))pn.settings[Ni]=Oi;return $e&&pn.setPersistence($e),pn},[j,ee,ve,xe,mt,$e])}[this.firestore,this.persistenceEnabled$]=(0,_r.cc)(`${Ke.name}.firestore`,"AngularFirestore",Ke.name,()=>{const mt=v.runOutsideAngular(()=>Ke.firestore());if(h&&mt.settings(h),Qe&&mt.useEmulator(...Qe),u&&!La(m)){const pn=()=>{try{return(0,Fn.D)(mt.enablePersistence(D||void 0).then(()=>!0,()=>!1))}catch(Ni){return"undefined"!=typeof console&&console.warn(Ni),(0,Xe.of)(!1)}};return[mt,v.runOutsideAngular(pn)]}return[mt,(0,Xe.of)(!1)]},[h,Qe,u])}collection(i,o){let u;u="string"==typeof i?this.firestore.collection(i):i;const{ref:h,query:m}=aV(u,o),v=this.schedulers.ngZone.run(()=>h);return new rV(v,m,this)}collectionGroup(i,o){const u=o||(m=>m),h=this.firestore.collectionGroup(i);return new Kj(u(h),this)}doc(i){let o;o="string"==typeof i?this.firestore.doc(i):i;const u=this.schedulers.ngZone.run(()=>o);return new iV(u,this)}createId(){return this.firestore.collection("_").doc().id}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(cs.Dh),f.LFG(cs.xv,8),f.LFG(sV,8),f.LFG(Yj,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(_r.HU),f.LFG(oV,8),f.LFG(Qj,8),f.LFG(x1,8),f.LFG(ZL,8),f.LFG(KL,8),f.LFG(YL,8),f.LFG(QL,8),f.LFG(JL,8),f.LFG(XL,8))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac,providedIn:"any"}),s})(),Jj=(()=>{class s{static enablePersistence(i){return{ngModule:s,providers:[{provide:sV,useValue:!0},{provide:oV,useValue:i}]}}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({providers:[lV]}),s})(),uV=(()=>{class s{constructor(i){this.firestore=i,this.dataOb=this.firestore.collection("productos").valueChanges({idField:"id"})}getProductData(){return this.dataOb}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(lV))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),cV=(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=f.Xpm({type:s,selectors:[["app-loading"]],decls:1,vars:0,consts:[["diameter","70","strokeWidth","5",1,"spinner"]],template:function(i,o){1&i&&f._UZ(0,"mat-spinner",0)},directives:[eS],styles:[".spinner[_ngcontent-%COMP%]{position:absolute;top:50%;right:50%;transform:translate(50%,-50%);z-index:10000;padding:0;margin:0}"]}),s})();function Xj(s,r){1&s&&(f.ynx(0),f._UZ(1,"app-loading"),f.BQk())}function e3(s,r){if(1&s&&(f.ynx(0),f.TgZ(1,"h3",17),f._uU(2),f.qZA(),f.BQk()),2&s){const i=f.oxw(2);f.xp6(2),f.AsE(" ",i.producto.tarjetaPromo," ",i.producto.cuotas," sin inter\xe9s ")}}function t3(s,r){1&s&&(f.TgZ(0,"h3",17),f._uU(1," No hay promociones vigentes para este producto "),f.qZA())}function n3(s,r){1&s&&f.GkF(0)}function r3(s,r){if(1&s&&(f.TgZ(0,"div"),f.TgZ(1,"div",5),f.TgZ(2,"div",6),f._UZ(3,"img",7),f.qZA(),f.TgZ(4,"mat-card",8),f.TgZ(5,"div"),f.TgZ(6,"mat-card-title",9),f._uU(7),f.qZA(),f.TgZ(8,"mat-card-subtitle",10),f._uU(9),f.ALo(10,"currency"),f.qZA(),f.qZA(),f.YNc(11,e3,3,2,"ng-container",1),f.YNc(12,t3,2,0,"ng-template",null,11,f.W1O),f.TgZ(14,"div",12),f.TgZ(15,"p",13),f._uU(16),f.qZA(),f.qZA(),f.YNc(17,n3,1,0,"ng-container",14),f.qZA(),f.TgZ(18,"div",15),f.TgZ(19,"button",16),f._uU(20," Comprar "),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&s){const i=f.MAs(13),o=f.oxw(),u=f.MAs(3),h=f.MAs(5);f.xp6(3),f.Q6J("src","./assets/"+o.producto.image+".jpg",f.LSH),f.xp6(4),f.Oqu(o.producto.item),f.xp6(2),f.Oqu(f.gM2(10,8,o.producto.price,"ARS","symbol-narrow","1.2-2")),f.xp6(2),f.Q6J("ngIf",o.producto.tarjetaPromo)("ngIfElse",i),f.xp6(5),f.hij(" ",o.producto.description," "),f.xp6(1),f.Q6J("ngTemplateOutlet",o.producto.stock?u:h),f.xp6(2),f.Q6J("disabled",!o.producto.stock)}}function i3(s,r){1&s&&(f.TgZ(0,"div",18),f.TgZ(1,"span",19),f._uU(2,"Stock Disponible"),f.qZA(),f.TgZ(3,"mat-icon",20),f._uU(4,"alarm_on"),f.qZA(),f.qZA())}function s3(s,r){1&s&&(f.TgZ(0,"div",21),f.TgZ(1,"span",19),f._uU(2,"Lo sentimos, no contamos con stock en este momento"),f.qZA(),f.TgZ(3,"mat-icon",20),f._uU(4,"error_outline"),f.qZA(),f.qZA())}function o3(s,r){1&s&&(f.ynx(0),f._UZ(1,"app-not-found"),f.BQk())}function a3(s,r){if(1&s&&f.YNc(0,o3,2,0,"ng-container",0),2&s){const i=f.oxw();f.Q6J("ngIf",!i.loading)}}let l3=(()=>{class s{constructor(i,o){this.prodService=i,this.route=o,this.loading=!0}ngOnInit(){this.route.params.subscribe(i=>this.getProductDataById(i.id))}getProductDataById(i){this.prodService.getProductData().subscribe(o=>{this.producto=o.find(u=>u.id===i),this.loading=!1})}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(uV),f.Y36(bl))},s.\u0275cmp=f.Xpm({type:s,selectors:[["app-detalle"]],decls:8,vars:3,consts:[[4,"ngIf"],[4,"ngIf","ngIfElse"],["stockDisponible",""],["stockNoDisponible",""],["notFound",""],[1,"detalle-container"],[1,"detalle-imgContainer"],[1,"detalle-producto__img",3,"src"],[1,"detalle__card"],[1,"detalle__card-title"],[1,"detalle__card-price"],["promoNoDisp",""],[1,"detalle-descripcion"],[1,"detalle-descripcion__p"],[4,"ngTemplateOutlet"],[1,"detalle__comprar-cont"],["mat-flat-button","",1,"detalle__comprar",3,"disabled"],[1,"detalle__payment"],[1,"detalle__stock","detalle__stock--disp"],[1,"detalle__stock_p"],[1,"icon-payment"],[1,"detalle__stock","detalle__stock--noDisp"]],template:function(i,o){if(1&i&&(f.YNc(0,Xj,2,0,"ng-container",0),f.YNc(1,r3,21,13,"div",1),f.YNc(2,i3,5,0,"ng-template",null,2,f.W1O),f.YNc(4,s3,5,0,"ng-template",null,3,f.W1O),f.YNc(6,a3,1,1,"ng-template",null,4,f.W1O)),2&i){const u=f.MAs(7);f.Q6J("ngIf",o.loading),f.xp6(1),f.Q6J("ngIf",o.producto)("ngIfElse",u)}},directives:[Ei,cV,NR,YT,SE,pr,Cd,Lm,ME],pipes:[Yl],styles:[".detalle-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-direction:row;flex-wrap:wrap;padding:0 3rem}@media (max-width: 60em){.detalle-container[_ngcontent-%COMP%]{flex-direction:column;justify-content:stretch;flex-wrap:unset;padding:0 1rem}}.detalle__card[_ngcontent-%COMP%]{flex:1;background-color:#171010;padding:3rem 2.5rem;box-sizing:border-box;display:flex;flex-direction:column;justify-content:space-between}.detalle-imgContainer[_ngcontent-%COMP%]{flex:0 0 35%;margin-right:1.5rem}@media (max-width: 60em){.detalle-imgContainer[_ngcontent-%COMP%]{margin-right:0;margin-bottom:1rem}}.detalle-producto__img[_ngcontent-%COMP%]{width:100%;object-fit:cover;margin:auto;display:block;height:100%;max-height:27rem}.detalle__card-header[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-bottom:2rem}.detalle__card-title[_ngcontent-%COMP%]{font-size:1.8rem;line-height:1.3}.detalle-descripcion__p[_ngcontent-%COMP%]{font-size:1rem;font-weight:300;line-height:2;margin-bottom:1rem}.detalle__card-price[_ngcontent-%COMP%]{font-size:1.5rem;padding:1rem 0}.detalle__stock[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;justify-content:flex-end;align-items:center}.detalle__stock--disp[_ngcontent-%COMP%]{color:#5e9140}.detalle__stock--noDisp[_ngcontent-%COMP%]{color:#af7802}.detalle__stock_p[_ngcontent-%COMP%]{line-height:1.3;font-size:1.3rem;font-weight:300;margin-left:1rem}.detalle__comprar-cont[_ngcontent-%COMP%]{flex:0 0 100%}.detalle__comprar[_ngcontent-%COMP%]{display:block;margin:2rem auto;width:15rem;padding:.5rem 3.5rem;font-size:1.4rem;color:#000;transition:all .5s}.detalle__comprar[_ngcontent-%COMP%]:enabled{background-color:#362727}.detalle__comprar[_ngcontent-%COMP%]:enabled:hover{background-color:#362727;color:#666;transform:translateY(-3px);box-shadow:0 0 3rem #1f011b,0 0 3rem #1f011b;background-color:#5e0251}.detalle__comprar[_ngcontent-%COMP%]:disabled{transform:translateY(0);background-color:#080708;box-shadow:unset}"]}),s})();const u3=function(s){return["/detalle",s]};function c3(s,r){if(1&s&&(f.ynx(0),f.TgZ(1,"mat-card",1),f._UZ(2,"img",2),f.TgZ(3,"mat-card-title"),f._uU(4),f.ALo(5,"currency"),f.qZA(),f.TgZ(6,"mat-card-subtitle"),f._uU(7),f.qZA(),f.TgZ(8,"mat-card-content"),f.TgZ(9,"p",3),f._uU(10),f.qZA(),f.TgZ(11,"p",4),f._uU(12),f.qZA(),f.qZA(),f.TgZ(13,"mat-card-actions"),f.TgZ(14,"a",5),f._uU(15,"Lo quiero!"),f.qZA(),f.qZA(),f.qZA(),f.BQk()),2&s){const i=f.oxw();f.xp6(2),f.Q6J("src","./assets/"+i.producto.image+".jpg",f.LSH),f.xp6(2),f.Oqu(f.gM2(5,6,i.producto.price,"ARS","symbol-narrow","1.2-2")),f.xp6(3),f.Oqu(i.producto.item),f.xp6(3),f.hij(" ",i.producto.summary," "),f.xp6(2),f.Oqu(i.producto.location),f.xp6(2),f.Q6J("routerLink",f.VKq(11,u3,i.producto.id))}}let d3=(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=f.Xpm({type:s,selectors:[["app-product-card"]],inputs:{producto:"producto"},decls:1,vars:1,consts:[[4,"ngIf"],["tabindex","0",1,"product-card",2,"margin","0"],["mat-card-image","",1,"product-card__img",3,"src"],[1,"product-card__description"],[1,"product-card__location"],["mat-raised-button","",1,"product-card__button",3,"routerLink"]],template:function(i,o){1&i&&f.YNc(0,c3,16,13,"ng-container",0),2&i&&f.Q6J("ngIf",o.producto)},directives:[Ei,NR,xR,YT,SE,AR,MR,ib,wl],pipes:[Yl],styles:[".product-card[_ngcontent-%COMP%]{width:100%;background-color:#171010;color:#fff;height:100%;min-width:0}@media (max-width: 27em){.product-card[_ngcontent-%COMP%]{width:85%}}.product-card__description[_ngcontent-%COMP%]{line-height:1.8;font-weight:300;margin:2rem 0;letter-spacing:.5px;height:4.68rem}.product-card__location[_ngcontent-%COMP%]{font-weight:400;letter-spacing:.5px}.product-card__button[_ngcontent-%COMP%]{width:100%;background-color:#362222}.product-card__img[_ngcontent-%COMP%]{height:12rem;object-fit:cover}"]}),s})();function h3(s,r){1&s&&f._UZ(0,"app-loading")}function f3(s,r){if(1&s&&(f.ynx(0,null,3),f._UZ(2,"app-product-card",4),f.BQk()),2&s){const i=r.$implicit;f.xp6(2),f.Q6J("producto",i)}}let p3=(()=>{class s{constructor(i){this.productService=i,this.loading=!0}ngOnInit(){this.getProductDataFromService()}getProductDataFromService(){this.productService.getProductData().subscribe(i=>{this.productos=i,this.loading=!1})}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(uV))},s.\u0275cmp=f.Xpm({type:s,selectors:[["app-home"]],decls:3,vars:2,consts:[[1,"home"],[4,"ngIf"],[4,"ngFor","ngForOf"],["elseBlock",""],[3,"producto"]],template:function(i,o){1&i&&(f.TgZ(0,"div",0),f.YNc(1,h3,1,0,"app-loading",1),f.YNc(2,f3,3,1,"ng-container",2),f.qZA()),2&i&&(f.xp6(1),f.Q6J("ngIf",o.loading),f.xp6(1),f.Q6J("ngForOf",o.productos))},directives:[Ei,Kt,cV,d3],styles:[".home[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:repeat(auto-fill,minmax(17rem,.2fr));grid-auto-rows:minmax(20rem,27rem);justify-content:center;grid-column-gap:8rem;column-gap:8rem;grid-row-gap:6rem;row-gap:6rem;position:relative}"]}),s})();function g3(s){const r=s.get("password"),i=s.get("passwordConfirm");return r&&i&&r.value===i.value?null:{passwordNoCoincide:!0}}let dV=(()=>{class s{constructor(i,o){this._renderer=i,this._elementRef=o,this.onChange=u=>{},this.onTouched=()=>{}}setProperty(i,o){this._renderer.setProperty(this._elementRef.nativeElement,i,o)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(f.Qsj),f.Y36(f.SBq))},s.\u0275dir=f.lG2({type:s}),s})(),Jp=(()=>{class s extends dV{}return s.\u0275fac=function(){let r;return function(o){return(r||(r=f.n5z(s)))(o||s)}}(),s.\u0275dir=f.lG2({type:s,features:[f.qOj]}),s})();const jl=new f.OlP("NgValueAccessor"),_3={provide:jl,useExisting:(0,f.Gpc)(()=>WD),multi:!0},v3=new f.OlP("CompositionEventMode");let WD=(()=>{class s extends dV{constructor(i,o,u){super(i,o),this._compositionMode=u,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const s=$()?$().getUserAgent():"";return/android (\d+)/.test(s.toLowerCase())}())}writeValue(i){this.setProperty("value",null==i?"":i)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(v3,8))},s.\u0275dir=f.lG2({type:s,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){1&i&&f.NdJ("input",function(h){return o._handleInput(h.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(h){return o._compositionEnd(h.target.value)})},features:[f._Bn([_3]),f.qOj]}),s})();function vh(s){return null==s||0===s.length}function fV(s){return null!=s&&"number"==typeof s.length}const Qi=new f.OlP("NgValidators"),bh=new f.OlP("NgAsyncValidators"),b3=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class xa{static min(r){return function(s){return r=>{if(vh(r.value)||vh(s))return null;const i=parseFloat(r.value);return!isNaN(i)&&i<s?{min:{min:s,actual:r.value}}:null}}(r)}static max(r){return function(s){return r=>{if(vh(r.value)||vh(s))return null;const i=parseFloat(r.value);return!isNaN(i)&&i>s?{max:{max:s,actual:r.value}}:null}}(r)}static required(r){return function(s){return vh(s.value)?{required:!0}:null}(r)}static requiredTrue(r){return function(s){return!0===s.value?null:{required:!0}}(r)}static email(r){return function(s){return vh(s.value)||b3.test(s.value)?null:{email:!0}}(r)}static minLength(r){return function(s){return r=>vh(r.value)||!fV(r.value)?null:r.value.length<s?{minlength:{requiredLength:s,actualLength:r.value.length}}:null}(r)}static maxLength(r){return function(s){return r=>fV(r.value)&&r.value.length>s?{maxlength:{requiredLength:s,actualLength:r.value.length}}:null}(r)}static pattern(r){return function(s){if(!s)return Eh;let r,i;return"string"==typeof s?(i="","^"!==s.charAt(0)&&(i+="^"),i+=s,"$"!==s.charAt(s.length-1)&&(i+="$"),r=new RegExp(i)):(i=s.toString(),r=s),o=>{if(vh(o.value))return null;const u=o.value;return r.test(u)?null:{pattern:{requiredPattern:i,actualValue:u}}}}(r)}static nullValidator(r){return null}static compose(r){return DV(r)}static composeAsync(r){return AV(r)}}function Eh(s){return null}function wV(s){return null!=s}function CV(s){const r=(0,f.QGY)(s)?(0,Fn.D)(s):s;return(0,f.CqO)(r),r}function IV(s){let r={};return s.forEach(i=>{r=null!=i?Object.assign(Object.assign({},r),i):r}),0===Object.keys(r).length?null:r}function TV(s,r){return r.map(i=>i(s))}function SV(s){return s.map(r=>function(s){return!s.validate}(r)?r:i=>r.validate(i))}function DV(s){if(!s)return null;const r=s.filter(wV);return 0==r.length?null:function(i){return IV(TV(i,r))}}function O1(s){return null!=s?DV(SV(s)):null}function AV(s){if(!s)return null;const r=s.filter(wV);return 0==r.length?null:function(i){return WC(TV(i,r).map(CV)).pipe((0,bt.U)(IV))}}function k1(s){return null!=s?AV(SV(s)):null}function MV(s,r){return null===s?[r]:Array.isArray(s)?[...s,r]:[s,r]}function xV(s){return s._rawValidators}function RV(s){return s._rawAsyncValidators}function P1(s){return s?Array.isArray(s)?s:[s]:[]}function ZD(s,r){return Array.isArray(s)?s.includes(r):s===r}function NV(s,r){const i=P1(r);return P1(s).forEach(u=>{ZD(i,u)||i.push(u)}),i}function OV(s,r){return P1(r).filter(i=>!ZD(s,i))}let kV=(()=>{class s{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(i){this._rawValidators=i||[],this._composedValidatorFn=O1(this._rawValidators)}_setAsyncValidators(i){this._rawAsyncValidators=i||[],this._composedAsyncValidatorFn=k1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(i){this._onDestroyCallbacks.push(i)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(i=>i()),this._onDestroyCallbacks=[]}reset(i){this.control&&this.control.reset(i)}hasError(i,o){return!!this.control&&this.control.hasError(i,o)}getError(i,o){return this.control?this.control.getError(i,o):null}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275dir=f.lG2({type:s}),s})(),gs=(()=>{class s extends kV{get formDirective(){return null}get path(){return null}}return s.\u0275fac=function(){let r;return function(o){return(r||(r=f.n5z(s)))(o||s)}}(),s.\u0275dir=f.lG2({type:s,features:[f.qOj]}),s})();class wh extends kV{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class PV{constructor(r){this._cd=r}is(r){var i,o,u;return"submitted"===r?!!(null===(i=this._cd)||void 0===i?void 0:i.submitted):!!(null===(u=null===(o=this._cd)||void 0===o?void 0:o.control)||void 0===u?void 0:u[r])}}let FV=(()=>{class s extends PV{constructor(i){super(i)}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(wh,2))},s.\u0275dir=f.lG2({type:s,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){2&i&&f.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))},features:[f.qOj]}),s})(),KD=(()=>{class s extends PV{constructor(i){super(i)}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(gs,10))},s.\u0275dir=f.lG2({type:s,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){2&i&&f.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))("ng-submitted",o.is("submitted"))},features:[f.qOj]}),s})();function e0(s,r){F1(s,r),r.valueAccessor.writeValue(s.value),function(s,r){r.valueAccessor.registerOnChange(i=>{s._pendingValue=i,s._pendingChange=!0,s._pendingDirty=!0,"change"===s.updateOn&&LV(s,r)})}(s,r),function(s,r){const i=(o,u)=>{r.valueAccessor.writeValue(o),u&&r.viewToModelUpdate(o)};s.registerOnChange(i),r._registerOnDestroy(()=>{s._unregisterOnChange(i)})}(s,r),function(s,r){r.valueAccessor.registerOnTouched(()=>{s._pendingTouched=!0,"blur"===s.updateOn&&s._pendingChange&&LV(s,r),"submit"!==s.updateOn&&s.markAsTouched()})}(s,r),function(s,r){if(r.valueAccessor.setDisabledState){const i=o=>{r.valueAccessor.setDisabledState(o)};s.registerOnDisabledChange(i),r._registerOnDestroy(()=>{s._unregisterOnDisabledChange(i)})}}(s,r)}function QD(s,r,i=!0){const o=()=>{};r.valueAccessor&&(r.valueAccessor.registerOnChange(o),r.valueAccessor.registerOnTouched(o)),XD(s,r),s&&(r._invokeOnDestroyCallbacks(),s._registerOnCollectionChange(()=>{}))}function JD(s,r){s.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(r)})}function F1(s,r){const i=xV(s);null!==r.validator?s.setValidators(MV(i,r.validator)):"function"==typeof i&&s.setValidators([i]);const o=RV(s);null!==r.asyncValidator?s.setAsyncValidators(MV(o,r.asyncValidator)):"function"==typeof o&&s.setAsyncValidators([o]);const u=()=>s.updateValueAndValidity();JD(r._rawValidators,u),JD(r._rawAsyncValidators,u)}function XD(s,r){let i=!1;if(null!==s){if(null!==r.validator){const u=xV(s);if(Array.isArray(u)&&u.length>0){const h=u.filter(m=>m!==r.validator);h.length!==u.length&&(i=!0,s.setValidators(h))}}if(null!==r.asyncValidator){const u=RV(s);if(Array.isArray(u)&&u.length>0){const h=u.filter(m=>m!==r.asyncValidator);h.length!==u.length&&(i=!0,s.setAsyncValidators(h))}}}const o=()=>{};return JD(r._rawValidators,o),JD(r._rawAsyncValidators,o),i}function LV(s,r){s._pendingDirty&&s.markAsDirty(),s.setValue(s._pendingValue,{emitModelToViewChange:!1}),r.viewToModelUpdate(s._pendingValue),s._pendingChange=!1}function eA(s,r){const i=s.indexOf(r);i>-1&&s.splice(i,1)}const t0="VALID",tA="INVALID",Ey="PENDING",n0="DISABLED";function U1(s){return(j1(s)?s.validators:s)||null}function BV(s){return Array.isArray(s)?O1(s):s||null}function B1(s,r){return(j1(r)?r.asyncValidators:s)||null}function jV(s){return Array.isArray(s)?k1(s):s||null}function j1(s){return null!=s&&!Array.isArray(s)&&"object"==typeof s}class H1{constructor(r,i){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=r,this._rawAsyncValidators=i,this._composedValidatorFn=BV(this._rawValidators),this._composedAsyncValidatorFn=jV(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(r){this._rawValidators=this._composedValidatorFn=r}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(r){this._rawAsyncValidators=this._composedAsyncValidatorFn=r}get parent(){return this._parent}get valid(){return this.status===t0}get invalid(){return this.status===tA}get pending(){return this.status==Ey}get disabled(){return this.status===n0}get enabled(){return this.status!==n0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(r){this._rawValidators=r,this._composedValidatorFn=BV(r)}setAsyncValidators(r){this._rawAsyncValidators=r,this._composedAsyncValidatorFn=jV(r)}addValidators(r){this.setValidators(NV(r,this._rawValidators))}addAsyncValidators(r){this.setAsyncValidators(NV(r,this._rawAsyncValidators))}removeValidators(r){this.setValidators(OV(r,this._rawValidators))}removeAsyncValidators(r){this.setAsyncValidators(OV(r,this._rawAsyncValidators))}hasValidator(r){return ZD(this._rawValidators,r)}hasAsyncValidator(r){return ZD(this._rawAsyncValidators,r)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(r={}){this.touched=!0,this._parent&&!r.onlySelf&&this._parent.markAsTouched(r)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(r=>r.markAllAsTouched())}markAsUntouched(r={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}markAsDirty(r={}){this.pristine=!1,this._parent&&!r.onlySelf&&this._parent.markAsDirty(r)}markAsPristine(r={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(i=>{i.markAsPristine({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}markAsPending(r={}){this.status=Ey,!1!==r.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!r.onlySelf&&this._parent.markAsPending(r)}disable(r={}){const i=this._parentMarkedDirty(r.onlySelf);this.status=n0,this.errors=null,this._forEachChild(o=>{o.disable(Object.assign(Object.assign({},r),{onlySelf:!0}))}),this._updateValue(),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},r),{skipPristineCheck:i})),this._onDisabledChange.forEach(o=>o(!0))}enable(r={}){const i=this._parentMarkedDirty(r.onlySelf);this.status=t0,this._forEachChild(o=>{o.enable(Object.assign(Object.assign({},r),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},r),{skipPristineCheck:i})),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(r){this._parent&&!r.onlySelf&&(this._parent.updateValueAndValidity(r),r.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(r){this._parent=r}updateValueAndValidity(r={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===t0||this.status===Ey)&&this._runAsyncValidator(r.emitEvent)),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!r.onlySelf&&this._parent.updateValueAndValidity(r)}_updateTreeValidity(r={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(r)),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?n0:t0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(r){if(this.asyncValidator){this.status=Ey,this._hasOwnPendingAsyncValidator=!0;const i=CV(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:r})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(r,i={}){this.errors=r,this._updateControlsErrors(!1!==i.emitEvent)}get(r){return function(s,r,i){if(null==r||(Array.isArray(r)||(r=r.split(".")),Array.isArray(r)&&0===r.length))return null;let o=s;return r.forEach(u=>{o=o instanceof Cy?o.controls.hasOwnProperty(u)?o.controls[u]:null:o instanceof $1&&o.at(u)||null}),o}(this,r)}getError(r,i){const o=i?this.get(i):this;return o&&o.errors?o.errors[r]:null}hasError(r,i){return!!this.getError(r,i)}get root(){let r=this;for(;r._parent;)r=r._parent;return r}_updateControlsErrors(r){this.status=this._calculateStatus(),r&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(r)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?n0:this.errors?tA:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ey)?Ey:this._anyControlsHaveStatus(tA)?tA:t0}_anyControlsHaveStatus(r){return this._anyControls(i=>i.status===r)}_anyControlsDirty(){return this._anyControls(r=>r.dirty)}_anyControlsTouched(){return this._anyControls(r=>r.touched)}_updatePristine(r={}){this.pristine=!this._anyControlsDirty(),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}_updateTouched(r={}){this.touched=this._anyControlsTouched(),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}_isBoxedValue(r){return"object"==typeof r&&null!==r&&2===Object.keys(r).length&&"value"in r&&"disabled"in r}_registerOnCollectionChange(r){this._onCollectionChange=r}_setUpdateStrategy(r){j1(r)&&null!=r.updateOn&&(this._updateOn=r.updateOn)}_parentMarkedDirty(r){return!r&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class wy extends H1{constructor(r=null,i,o){super(U1(i),B1(o,i)),this._onChange=[],this._applyFormState(r),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(r,i={}){this.value=this._pendingValue=r,this._onChange.length&&!1!==i.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==i.emitViewToModelChange)),this.updateValueAndValidity(i)}patchValue(r,i={}){this.setValue(r,i)}reset(r=null,i={}){this._applyFormState(r),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(r){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(r){this._onChange.push(r)}_unregisterOnChange(r){eA(this._onChange,r)}registerOnDisabledChange(r){this._onDisabledChange.push(r)}_unregisterOnDisabledChange(r){eA(this._onDisabledChange,r)}_forEachChild(r){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(r){this._isBoxedValue(r)?(this.value=this._pendingValue=r.value,r.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=r}}class Cy extends H1{constructor(r,i,o){super(U1(i),B1(o,i)),this.controls=r,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(r,i){return this.controls[r]?this.controls[r]:(this.controls[r]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(r,i,o={}){this.registerControl(r,i),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(r,i={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(r,i,o={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],i&&this.registerControl(r,i),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(r){return this.controls.hasOwnProperty(r)&&this.controls[r].enabled}setValue(r,i={}){this._checkAllValuesPresent(r),Object.keys(r).forEach(o=>{this._throwIfControlMissing(o),this.controls[o].setValue(r[o],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(r,i={}){null!=r&&(Object.keys(r).forEach(o=>{this.controls[o]&&this.controls[o].patchValue(r[o],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(r={},i={}){this._forEachChild((o,u)=>{o.reset(r[u],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(r,i,o)=>(r[o]=i instanceof wy?i.value:i.getRawValue(),r))}_syncPendingControls(){let r=this._reduceChildren(!1,(i,o)=>!!o._syncPendingControls()||i);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_throwIfControlMissing(r){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[r])throw new Error(`Cannot find form control with name: ${r}.`)}_forEachChild(r){Object.keys(this.controls).forEach(i=>{const o=this.controls[i];o&&r(o,i)})}_setUpControls(){this._forEachChild(r=>{r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(r){for(const i of Object.keys(this.controls)){const o=this.controls[i];if(this.contains(i)&&r(o))return!0}return!1}_reduceValue(){return this._reduceChildren({},(r,i,o)=>((i.enabled||this.disabled)&&(r[o]=i.value),r))}_reduceChildren(r,i){let o=r;return this._forEachChild((u,h)=>{o=i(o,u,h)}),o}_allControlsDisabled(){for(const r of Object.keys(this.controls))if(this.controls[r].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(r){this._forEachChild((i,o)=>{if(void 0===r[o])throw new Error(`Must supply a value for form control with name: '${o}'.`)})}}class $1 extends H1{constructor(r,i,o){super(U1(i),B1(o,i)),this.controls=r,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(r){return this.controls[r]}push(r,i={}){this.controls.push(r),this._registerControl(r),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}insert(r,i,o={}){this.controls.splice(r,0,i),this._registerControl(i),this.updateValueAndValidity({emitEvent:o.emitEvent})}removeAt(r,i={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:i.emitEvent})}setControl(r,i,o={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),i&&(this.controls.splice(r,0,i),this._registerControl(i)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(r,i={}){this._checkAllValuesPresent(r),r.forEach((o,u)=>{this._throwIfControlMissing(u),this.at(u).setValue(o,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(r,i={}){null!=r&&(r.forEach((o,u)=>{this.at(u)&&this.at(u).patchValue(o,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(r=[],i={}){this._forEachChild((o,u)=>{o.reset(r[u],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this.controls.map(r=>r instanceof wy?r.value:r.getRawValue())}clear(r={}){this.controls.length<1||(this._forEachChild(i=>i._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:r.emitEvent}))}_syncPendingControls(){let r=this.controls.reduce((i,o)=>!!o._syncPendingControls()||i,!1);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_throwIfControlMissing(r){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(r))throw new Error(`Cannot find form control at index ${r}`)}_forEachChild(r){this.controls.forEach((i,o)=>{r(i,o)})}_updateValue(){this.value=this.controls.filter(r=>r.enabled||this.disabled).map(r=>r.value)}_anyControls(r){return this.controls.some(i=>i.enabled&&r(i))}_setUpControls(){this._forEachChild(r=>this._registerControl(r))}_checkAllValuesPresent(r){this._forEachChild((i,o)=>{if(void 0===r[o])throw new Error(`Must supply a value for form control at index: ${o}.`)})}_allControlsDisabled(){for(const r of this.controls)if(r.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(r){r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)}}let z1=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275dir=f.lG2({type:s,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),s})(),WV=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({}),s})();const q1=new f.OlP("NgModelWithFormControlWarning"),U3={provide:gs,useExisting:(0,f.Gpc)(()=>Iy)};let Iy=(()=>{class s extends gs{constructor(i,o){super(),this.validators=i,this.asyncValidators=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.vpe,this._setValidators(i),this._setAsyncValidators(o)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(XD(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){const o=this.form.get(i.path);return e0(o,i),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),o}getControl(i){return this.form.get(i.path)}removeControl(i){QD(i.control||null,i,!1),eA(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,o){this.form.get(i.path).setValue(o)}onSubmit(i){return this.submitted=!0,function(s,r){s._syncPendingControls(),r.forEach(i=>{const o=i.control;"submit"===o.updateOn&&o._pendingChange&&(i.viewToModelUpdate(o._pendingValue),o._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(i),!1}onReset(){this.resetForm()}resetForm(i){this.form.reset(i),this.submitted=!1}_updateDomValue(){this.directives.forEach(i=>{const o=i.control,u=this.form.get(i.path);o!==u&&(QD(o||null,i),u instanceof wy&&(e0(u,i),i.control=u))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){const o=this.form.get(i.path);(function(s,r){F1(s,r)})(o,i),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){const o=this.form.get(i.path);o&&function(s,r){return XD(s,r)}(o,i)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){F1(this.form,this),this._oldForm&&XD(this._oldForm,this)}_checkFormPresent(){}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(Qi,10),f.Y36(bh,10))},s.\u0275dir=f.lG2({type:s,selectors:[["","formGroup",""]],hostBindings:function(i,o){1&i&&f.NdJ("submit",function(h){return o.onSubmit(h)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([U3]),f.qOj,f.TTD]}),s})();const H3={provide:wh,useExisting:(0,f.Gpc)(()=>K1)};let K1=(()=>{class s extends wh{constructor(i,o,u,h,m){super(),this._ngModelWarningConfig=m,this._added=!1,this.update=new f.vpe,this._ngModelWarningSent=!1,this._parent=i,this._setValidators(o),this._setAsyncValidators(u),this.valueAccessor=function(s,r){if(!r)return null;let i,o,u;return Array.isArray(r),r.forEach(h=>{h.constructor===WD?i=h:function(s){return Object.getPrototypeOf(s.constructor)===Jp}(h)?o=h:u=h}),u||o||i||null}(0,h)}set isDisabled(i){}ngOnChanges(i){this._added||this._setUpControl(),function(s,r){if(!s.hasOwnProperty("model"))return!1;const i=s.model;return!!i.isFirstChange()||!Object.is(r,i.currentValue)}(i,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}get path(){return function(s,r){return[...r.path,s]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(gs,13),f.Y36(Qi,10),f.Y36(bh,10),f.Y36(jl,10),f.Y36(q1,8))},s.\u0275dir=f.lG2({type:s,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[f._Bn([H3]),f.qOj,f.TTD]}),s._ngModelWarningSentOnce=!1,s})(),c2=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({imports:[[WV]]}),s})(),d2=(()=>{class s{static withConfig(i){return{ngModule:s,providers:[{provide:q1,useValue:i.warnOnNgModelWithFormControl}]}}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({imports:[c2]}),s})(),h2=(()=>{class s{group(i,o=null){const u=this._reduceControls(i);let v,h=null,m=null;return null!=o&&(function(s){return void 0!==s.asyncValidators||void 0!==s.validators||void 0!==s.updateOn}(o)?(h=null!=o.validators?o.validators:null,m=null!=o.asyncValidators?o.asyncValidators:null,v=null!=o.updateOn?o.updateOn:void 0):(h=null!=o.validator?o.validator:null,m=null!=o.asyncValidator?o.asyncValidator:null)),new Cy(u,{asyncValidators:m,updateOn:v,validators:h})}control(i,o,u){return new wy(i,o,u)}array(i,o,u){const h=i.map(m=>this._createControl(m));return new $1(h,o,u)}_reduceControls(i){const o={};return Object.keys(i).forEach(u=>{o[u]=this._createControl(i[u])}),o}_createControl(i){return i instanceof wy||i instanceof Cy||i instanceof $1?i:Array.isArray(i)?this.control(i[0],i.length>1?i[1]:null,i.length>2?i[2]:null):this.control(i)}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=(0,f.Yz7)({factory:function(){return new s},token:s,providedIn:d2}),s})();const iH=[{name:"usuario",type:"text",placeholder:"Ingrese un usuario",initialValue:"",validations:xa.required,plcSpace:"normal"},{name:"domicilio",type:"text",placeholder:"Ingrese su domicilio",initialValue:"",validations:xa.required,plcSpace:"normal"},{name:"email",type:"email",placeholder:"Ingrese su email",initialValue:"",validations:[xa.required,xa.email],plcSpace:"small"},{name:"password",type:"password",placeholder:"Ingrese su contrase\xf1a",initialValue:"",validations:[xa.required,xa.minLength(6),xa.pattern(/[A-Z]/),xa.pattern(/[a-z]/)],plcSpace:"extra"},{name:"passwordConfirm",type:"password",placeholder:"Confirme su contrase\xf1a",initialValue:"",validations:xa.required,plcSpace:"extra"}];let f2=(()=>{class s{constructor(){this.placeholder="",this.name="",this.initialValue="",this.placeholderSpace="small",this.type="text",this.bottomMargin="0",this.fGroup=new Cy({})}get controlAtr(){return this.fGroup.get(this.name)}ngOnInit(){}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=f.Xpm({type:s,selectors:[["app-input"]],inputs:{placeholder:"placeholder",name:"name",initialValue:"initialValue",placeholderSpace:"placeholderSpace",type:"type",bottomMargin:"bottomMargin",fGroup:"fGroup"},decls:5,vars:14,consts:[[3,"formGroup"],[3,"type","placeholder","formControlName","value"],[1,"registroForm__input_span"]],template:function(i,o){1&i&&(f.TgZ(0,"div",0),f._UZ(1,"input",1),f.TgZ(2,"span",2),f._uU(3),f.qZA(),f._UZ(4,"span"),f.qZA()),2&i&&(f.Akn("margin-bottom: "+o.bottomMargin+"rem"),f.Tol(o.controlAtr.invalid?"registroForm__input_cont isInvalid":"registroForm__input_cont isValid"),f.Q6J("formGroup",o.fGroup),f.xp6(1),f.Tol(o.controlAtr.invalid?"registro__input registroForm__input isInvalid":"registro__input registroForm__input isValid"),f.Q6J("type",o.type)("placeholder",o.placeholder)("formControlName",o.name)("value",o.initialValue),f.xp6(2),f.Oqu(o.placeholder),f.xp6(1),f.Tol("registroForm__input_space "+o.placeholderSpace+"-space"))},directives:[KD,Iy,WD,FV,K1],styles:['.registroForm__input[_ngcontent-%COMP%]{font-family:"Nunito",sans-serif;font-weight:400;font-size:1.4rem;padding:.7rem 2rem;color:#7a7a7a;border-radius:2rem;-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;border:2px solid rgb(43,43,43);background-color:#000;transition:all .2s;z-index:500}.registroForm__input[_ngcontent-%COMP%]:focus{outline:none;box-shadow:-.05rem 0 .45rem .1rem #000}.registroForm__input[_ngcontent-%COMP%]:focus + .registroForm__input_span[_ngcontent-%COMP%]{visibility:visible;opacity:1;transform:scale(1) translate(0)}.registroForm__input[_ngcontent-%COMP%]:focus ~ .registroForm__input_space[_ngcontent-%COMP%]{opacity:1}.registroForm__input[_ngcontent-%COMP%]::placeholder{color:#383838}.registroForm__input[_ngcontent-%COMP%]:focus::placeholder{opacity:0}.registroForm__input_span[_ngcontent-%COMP%]{font-family:"Nunito",sans-serif;font-weight:400;position:absolute;font-size:1.2rem;top:-10%;left:7.4%;opacity:0;visibility:hidden;padding:0 1rem;z-index:1;line-height:.56;transform:scale(1.5) translate(1.2rem,1.5rem);transition:transform .4s .1s ease-out,opacity .1s ease-out;color:#3f3f3f}.registroForm__input_space[_ngcontent-%COMP%]{background-color:#000;position:absolute;top:-1%;left:8%;height:1rem;opacity:0;z-index:0;display:block;transition:opacity .3s ease-out}.normal-space[_ngcontent-%COMP%]{width:49%}.small-space[_ngcontent-%COMP%]{width:43%}.extra-space[_ngcontent-%COMP%]{width:60%}.registroForm__input_cont[_ngcontent-%COMP%]{display:inline-block;position:relative}.registro__input[_ngcontent-%COMP%]{width:20rem;height:2rem}.isInvalid[_ngcontent-%COMP%]{transition:all .2s;border-left:5px solid #a94442}.isValid[_ngcontent-%COMP%]{transition:all .4s;border-left:5px solid #3f7e27}']}),s})();function sH(s,r){if(1&s&&(f.ynx(0),f._UZ(1,"app-input",5),f.BQk()),2&s){const i=r.$implicit,o=r.index,u=r.count,h=f.oxw();f.xp6(1),f.Q6J("name",i.name.toString())("type",i.type)("initialValue",i.initialValue)("placeholder",i.placeholder)("placeholderSpace",i.plcSpace)("bottomMargin",o===u-1?"0":"1.6")("fGroup",h.formRegistro)}}function oH(s,r){1&s&&(f.ynx(0),f.TgZ(1,"button",6),f.TgZ(2,"mat-icon",7),f._uU(3,"send"),f.qZA(),f.qZA(),f.BQk())}function aH(s,r){1&s&&(f.TgZ(0,"div",10),f.TgZ(1,"p"),f._uU(2,"Es requerido un nombre de usuario"),f.qZA(),f.qZA())}function lH(s,r){if(1&s&&(f.TgZ(0,"div"),f.YNc(1,aH,3,0,"div",9),f.qZA()),2&s){const i=f.oxw(2);f.xp6(1),f.Q6J("ngIf",null==i.usuarioCtrl.errors?null:i.usuarioCtrl.errors.required)}}function uH(s,r){1&s&&(f.TgZ(0,"div",12),f.TgZ(1,"p"),f._uU(2,"Es requerido un domicilio de usuario"),f.qZA(),f.qZA())}function cH(s,r){if(1&s&&(f.TgZ(0,"div"),f.YNc(1,uH,3,0,"div",11),f.qZA()),2&s){const i=f.oxw(2);f.xp6(1),f.Q6J("ngIf",null==i.domicilioCtrl.errors?null:i.domicilioCtrl.errors.required)}}function dH(s,r){1&s&&(f.TgZ(0,"div",14),f.TgZ(1,"p"),f._uU(2,"Es requerido un email de usuario"),f.qZA(),f.qZA())}function hH(s,r){if(1&s&&(f.TgZ(0,"div"),f.YNc(1,dH,3,0,"div",13),f.qZA()),2&s){const i=f.oxw(2);f.xp6(1),f.Q6J("ngIf",null==i.emailCtrl.errors?null:i.emailCtrl.errors.required)}}function fH(s,r){1&s&&(f.TgZ(0,"div",14),f.TgZ(1,"p"),f._uU(2,"Por favor ingrese un mail valido"),f.qZA(),f.qZA())}function pH(s,r){if(1&s&&(f.TgZ(0,"div"),f.YNc(1,fH,3,0,"div",13),f.qZA()),2&s){const i=f.oxw(2);f.xp6(1),f.Q6J("ngIf",null==i.emailCtrl.errors?null:i.emailCtrl.errors.email)}}function gH(s,r){1&s&&(f.TgZ(0,"p"),f._uU(1," Es requerido una contrase\xf1a de usuario "),f.qZA())}function mH(s,r){1&s&&(f.TgZ(0,"p"),f._uU(1," La contrase\xf1a debe tener al menos una mayuscula y una minuscula "),f.qZA())}function _H(s,r){1&s&&(f.TgZ(0,"p"),f._uU(1," La contrase\xf1a debe tener al menos 6 caracteres "),f.qZA())}function yH(s,r){if(1&s&&(f.TgZ(0,"div"),f.TgZ(1,"div",15),f.ynx(2,16),f.YNc(3,gH,2,0,"p",17),f.YNc(4,mH,2,0,"p",17),f.YNc(5,_H,2,0,"p",17),f.BQk(),f.qZA(),f.qZA()),2&s){const i=f.oxw(2);f.xp6(2),f.Q6J("ngSwitch",!0),f.xp6(1),f.Q6J("ngSwitchCase",i.contraseniaCtrl.hasError("required")),f.xp6(1),f.Q6J("ngSwitchCase",i.contraseniaCtrl.hasError("pattern")),f.xp6(1),f.Q6J("ngSwitchCase",i.contraseniaCtrl.hasError("minLength"))}}function vH(s,r){1&s&&(f.TgZ(0,"div"),f.TgZ(1,"div",18),f.TgZ(2,"p"),f._uU(3,"Las contrase\xf1as deben coincidir"),f.qZA(),f.qZA(),f.qZA())}function bH(s,r){if(1&s&&(f.YNc(0,lH,2,1,"div",8),f.YNc(1,cH,2,1,"div",8),f.YNc(2,hH,2,1,"div",8),f.YNc(3,pH,2,1,"div",8),f.YNc(4,yH,6,4,"div",8),f.YNc(5,vH,4,0,"div",8)),2&s){const i=f.oxw();f.Q6J("ngIf",i.usuarioCtrl.invalid&&i.usuarioCtrl.dirty),f.xp6(1),f.Q6J("ngIf",i.domicilioCtrl.invalid&&i.domicilioCtrl.dirty),f.xp6(1),f.Q6J("ngIf",i.emailCtrl.invalid&&i.emailCtrl.dirty),f.xp6(1),f.Q6J("ngIf",i.emailCtrl.invalid&&i.emailCtrl.touched),f.xp6(1),f.Q6J("ngIf",i.contraseniaCtrl.invalid&&i.contraseniaCtrl.dirty),f.xp6(1),f.Q6J("ngIf",i.confirmaContraseniaCtrl.touched&&(null==i.formRegistro.errors?null:i.formRegistro.errors.passwordNoCoincide))}}const wH=[{name:"user",type:"text",placeholder:"Usuario o email",initialValue:"",validations:xa.required,plcSpace:"normal"},{name:"password",type:"password",placeholder:"Contrase\xf1a",initialValue:"",validations:xa.required,plcSpace:"extra"}];function CH(s,r){if(1&s&&(f.ynx(0),f._UZ(1,"app-input",4),f.BQk()),2&s){const i=r.$implicit,o=r.index,u=r.count,h=f.oxw();f.xp6(1),f.Q6J("name",i.name.toString())("type",i.type)("initialValue",i.initialValue)("placeholder",i.placeholder)("placeholderSpace",i.plcSpace)("bottomMargin",o===u-1?"0":"3")("fGroup",h.formLogin)}}const IH=[{path:"",component:p3},{path:"registro",component:(()=>{class s{constructor(i){this.fb=i,this.formDefinition={},this.fieldsDefinition=iH,this.fieldsDefinition.forEach(o=>this.formDefinition[o.name]=[o.initialValue,o.validations]),this.formRegistro=this.fb.group(this.formDefinition,{validators:g3})}ngOnInit(){}submit(){console.log(this.formRegistro.value)}get usuarioCtrl(){return this.formRegistro.get("usuario")}get domicilioCtrl(){return this.formRegistro.get("domicilio")}get emailCtrl(){return this.formRegistro.get("email")}get contraseniaCtrl(){return this.formRegistro.get("password")}get confirmaContraseniaCtrl(){return this.formRegistro.get("passwordConfirm")}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(h2))},s.\u0275cmp=f.Xpm({type:s,selectors:[["app-registro"]],decls:7,vars:4,consts:[["autocomplete","off",1,"registro",3,"formGroup","ngSubmit"],[1,"registro__title"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["elseBlock",""],[3,"name","type","initialValue","placeholder","placeholderSpace","bottomMargin","fGroup"],["type","submit","mat-fab","",1,"registro__button"],[1,"registro__button-icon"],[4,"ngIf"],["class","registro-error","style","top: 30%",4,"ngIf"],[1,"registro-error",2,"top","30%"],["style","top: 45%","class","registro-error",4,"ngIf"],[1,"registro-error",2,"top","45%"],["style","top: 60%","class","registro-error",4,"ngIf"],[1,"registro-error",2,"top","60%"],[1,"registro-error",2,"top","75%"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"registro-error",2,"top","88%"]],template:function(i,o){if(1&i&&(f.TgZ(0,"form",0),f.NdJ("ngSubmit",function(){return o.submit()}),f.TgZ(1,"h2",1),f._uU(2,"Registro"),f.qZA(),f.YNc(3,sH,2,7,"ng-container",2),f.YNc(4,oH,4,0,"ng-container",3),f.YNc(5,bH,6,6,"ng-template",null,4,f.W1O),f.qZA()),2&i){const u=f.MAs(6);f.Q6J("formGroup",o.formRegistro),f.xp6(3),f.Q6J("ngForOf",o.fieldsDefinition),f.xp6(1),f.Q6J("ngIf","INVALID"!==o.formRegistro.status)("ngIfElse",u)}},directives:[z1,KD,Iy,Kt,Ei,f2,Cd,Lm,ni,Tn],styles:['.registro[_ngcontent-%COMP%]{padding:1rem 0;display:flex;flex-direction:column;align-items:center}.registro__title[_ngcontent-%COMP%]{font-family:"Parisienne",Arial,Helvetica,sans-serif;color:#7b4545;font-size:4.5rem;text-align:center;margin-bottom:5rem}.registro__button[_ngcontent-%COMP%]{background-color:transparent;color:#cfcfcf;border:2px solid rgb(207,207,207);box-sizing:content-box;padding:.5rem;position:absolute;top:50%;right:15%;animation:appearBtn 1.5s cubic-bezier(.075,.82,.165,1)}.registro__button[_ngcontent-%COMP%]:active{border:2px solid black;background-color:#fff;transition:all .2s}.registro__button-icon[_ngcontent-%COMP%]{font-size:2rem;margin-right:.2rem;margin-top:-.2rem}.registro__button[_ngcontent-%COMP%]:active   .registro__button-icon[_ngcontent-%COMP%]{color:#0c0c0c}.registro-error[_ngcontent-%COMP%]{color:red;font-size:1.2rem;margin-bottom:1rem;position:absolute;left:7%;width:14rem}@keyframes appearBtn{0%{transform:scale(1.9);opacity:0}90%{transform:scale(1)}to{opacity:1}}']}),s})()},{path:"login",component:(()=>{class s{constructor(i){this.fb=i,this.fieldsDefinition=wH,this.formDefinition={},this.fieldsDefinition.forEach(o=>this.formDefinition[o.name]=[o.initialValue,o.validations]),this.formLogin=this.fb.group(this.formDefinition)}ngOnInit(){}submit(){console.log(this.formLogin.value)}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(h2))},s.\u0275cmp=f.Xpm({type:s,selectors:[["app-login"]],decls:6,vars:3,consts:[[1,"login",3,"formGroup","ngSubmit"],[1,"login__title"],[4,"ngFor","ngForOf"],["mat-flat-button","",1,"boton__login",3,"disabled"],[3,"name","type","initialValue","placeholder","placeholderSpace","bottomMargin","fGroup"]],template:function(i,o){1&i&&(f.TgZ(0,"form",0),f.NdJ("ngSubmit",function(){return o.submit()}),f.TgZ(1,"h2",1),f._uU(2,"Login"),f.qZA(),f.YNc(3,CH,2,7,"ng-container",2),f.TgZ(4,"button",3),f._uU(5," Loguearme "),f.qZA(),f.qZA()),2&i&&(f.Q6J("formGroup",o.formLogin),f.xp6(3),f.Q6J("ngForOf",o.fieldsDefinition),f.xp6(1),f.Q6J("disabled","INVALID"===o.formLogin.status))},directives:[z1,KD,Iy,Kt,Cd,f2],styles:['.login[_ngcontent-%COMP%]{padding:1rem 0;display:flex;height:80%;flex-direction:column;align-items:center;justify-content:center}.login__title[_ngcontent-%COMP%]{font-family:"Parisienne",Arial,Helvetica,sans-serif;color:#7b4545;font-size:4.5rem;text-align:center;margin-bottom:5rem}.boton__login[_ngcontent-%COMP%]{display:block;margin:3rem auto 0;background-color:#2c1228;box-shadow:0 0 1rem #25051a;padding:.5rem 3.5rem;font-size:1.4rem;color:#000;transform:translateY(-2px);transition:all .5s}.boton__login[_ngcontent-%COMP%]:enabled:hover{background-color:#362727;transform:translateY(-3px);color:#bfa7a7;box-shadow:0 0 3rem #1f011b,0 0 3rem #1f011b;background-color:#840271}.boton__login[_ngcontent-%COMP%]:disabled{transform:translateY(0);background-color:#080708;box-shadow:unset}']}),s})()},{path:"detalle/:id",component:l3},{path:"**",component:ME}];let TH=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({imports:[[Ld.forRoot(IH)],Ld]}),s})();var p2=V(4762);class DH{constructor(r,i,o,u){this.keySelector=r,this.elementSelector=i,this.durationSelector=o,this.subjectSelector=u}call(r,i){return i.subscribe(new AH(r,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class AH extends gr.L{constructor(r,i,o,u,h){super(r),this.keySelector=i,this.elementSelector=o,this.durationSelector=u,this.subjectSelector=h,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(r){let i;try{i=this.keySelector(r)}catch(o){return void this.error(o)}this._group(r,i)}_group(r,i){let o=this.groups;o||(o=this.groups=new Map);let h,u=o.get(i);if(this.elementSelector)try{h=this.elementSelector(r)}catch(m){this.error(m)}else h=r;if(!u){u=this.subjectSelector?this.subjectSelector():new en.xQ,o.set(i,u);const m=new g2(i,u,this);if(this.destination.next(m),this.durationSelector){let v;try{v=this.durationSelector(new g2(i,u))}catch(I){return void this.error(I)}this.add(v.subscribe(new MH(i,u,this)))}}u.closed||u.next(h)}_error(r){const i=this.groups;i&&(i.forEach((o,u)=>{o.error(r)}),i.clear()),this.destination.error(r)}_complete(){const r=this.groups;r&&(r.forEach((i,o)=>{i.complete()}),r.clear()),this.destination.complete()}removeGroup(r){this.groups.delete(r)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class MH extends gr.L{constructor(r,i,o){super(i),this.key=r,this.group=i,this.parent=o}_next(r){this.complete()}_unsubscribe(){const{parent:r,key:i}=this;this.key=this.parent=null,r&&r.removeGroup(i)}}class g2 extends zn.y{constructor(r,i,o){super(),this.key=r,this.groupSubject=i,this.refCountSubscription=o}_subscribe(r){const i=new Id.w,{refCountSubscription:o,groupSubject:u}=this;return o&&!o.closed&&i.add(new xH(o)),i.add(u.subscribe(r)),i}}class xH extends Id.w{constructor(r){super(),this.parent=r,r.count++}unsubscribe(){const r=this.parent;!r.closed&&!this.closed&&(super.unsubscribe(),r.count-=1,0===r.count&&r.attemptedToUnsubscribe&&r.unsubscribe())}}var RH=V(9534);const OH=new f.OlP("angularfire2.analytics.analyticsCollectionEnabled"),kH=new f.OlP("angularfire2.analytics.appVersion"),PH=new f.OlP("angularfire2.analytics.appName"),FH=new f.OlP("angularfire2.analytics.debugMode"),LH=new f.OlP("angularfire2.analytics.config"),nA="dataLayer";let s0=(()=>{class s{constructor(i,o,u,h,m,v,I,D,x){if(this.analyticsInitialized=new Promise(()=>{}),Ir(I)){window[nA]=window[nA]||[];const j=(...ve)=>"config"===ve[0]&&"firebase"===ve[2].origin&&(this.measurementId=ve[1],!0),H=ve=>{window.gtag=(...xe)=>{ve&&ve(...xe),"event"===xe[0]&&xe[2].send_to===this.measurementId&&(h&&(xe[2].app_name=h),u&&(xe[2].app_version=u)),m&&"undefined"!=typeof console&&console.info(...xe),function(...$e){window[nA].push(arguments)}(...xe)}};window[nA].some(j)?(this.analyticsInitialized=Promise.resolve(),H()):this.analyticsInitialized=new Promise(ve=>{H((...xe)=>{j(...xe)&&ve()})}),v&&this.updateConfig(v),m&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const O=(0,Xe.of)(void 0).pipe((0,co.QV)(x.outsideAngular),En(RH.Gb),En(j=>j?D.runOutsideAngular(()=>V.e(399).then(V.bind(V,399))):Ur.E),(0,bt.U)(()=>(0,_r.cc)("analytics","AngularFireAnalytics",i.name,()=>{const j=i.analytics();return!1===o&&j.setAnalyticsCollectionEnabled(!1),j},[i,o,v,m])),hp({bufferSize:1,refCount:!1}));return(0,cs.pX)(this,O,D)}updateConfig(i){return(0,p2.mG)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},i),{update:!0}))})}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(cs.Ot),f.LFG(OH,8),f.LFG(kH,8),f.LFG(PH,8),f.LFG(FH,8),f.LFG(LH,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(_r.HU))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac,providedIn:"any"}),s})(),_2=(()=>{class s{constructor(i,o,u,h){if(this.disposables=[],La(o))this.initialized=Promise.resolve();else{let m;this.initialized=h.runOutsideAngular(()=>new Promise(v=>m=v)),this.disposables=[u.authState.subscribe(v=>{i.setUserId(null==v?void 0:v.uid),m()}),u.credential.subscribe(v=>{if(v){const I=v.user.isAnonymous?"anonymous":v.additionalUserInfo.providerId;v.additionalUserInfo.isNewUser&&i.logEvent("sign_up",{method:I}),i.logEvent("login",{method:I})}})]}}ngOnDestroy(){this.disposables.forEach(i=>i.unsubscribe())}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(s0),f.LFG(f.Lbi),f.LFG(x1),f.LFG(f.R0b))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();const y2="firebase_screen_id",X1="outlet",o0="screen_class",v2="screen_name";let e$=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const ek={},t$=s=>{const r=[s[o0],s[X1]].join("#");if(ek.hasOwnProperty(r))return ek[r];{const i=e$++;return ek[r]=i,i}};let n$=(()=>{class s{constructor(i,o,u,h,m,v,I){if(!o||!Ir(m))return this;v.runOutsideAngular(()=>{const D=o.events.pipe(Ar(x=>x instanceof Db));this.disposable=D.pipe(En(x=>{var O;const H=(null===(O=o.parseUrl(o.url.replace(/(?:\().+(?:\))/g,Qe=>Qe.replace("://",":///"))).root.children[x.snapshot.outlet])||void 0===O?void 0:O.toString())||"",ee=o.routerState.root.children.map(Qe=>Qe).find(Qe=>Qe.outlet===x.snapshot.outlet);if(!ee)return(0,Xe.of)(null);let ve=ee;for(;ve.firstChild;)ve=ve.firstChild;const xe=ve.pathFromRoot.map(Qe=>{var mt;return null===(mt=Qe.routeConfig)||void 0===mt?void 0:mt.path}).filter(Qe=>Qe).join("/")||"/",$e={[v2]:xe,page_path:`/${H}`,firebase_event_origin:"auto",firebase_screen:xe,[X1]:x.snapshot.outlet};u&&($e.page_title=u.getTitle());let Ke=ee.component;if(Ke){if(Ke===qb){let Qe=x.snapshot;for(;Qe.firstChild;)Qe=Qe.firstChild;Ke=Qe.component}}else Ke=x.snapshot.component;if("string"==typeof Ke)return(0,Xe.of)(Object.assign(Object.assign({},$e),{[o0]:Ke}));if(Ke){const Qe=h.resolveComponentFactory(Ke);return(0,Xe.of)(Object.assign(Object.assign({},$e),{[o0]:Qe.selector}))}return(0,Xe.of)(null)}),Ar(x=>x),(0,bt.U)(x=>Object.assign({firebase_screen_class:x[o0],[y2]:t$(x)},x)),function(s,r,i,o){return u=>u.lift(new DH(s,undefined,undefined,undefined))}(x=>x[X1]),(0,Si.zg)(x=>x.pipe(Ds((O,j)=>JSON.stringify(O)===JSON.stringify(j)),Js(void 0),dp(),(0,bt.U)(([O,j])=>O?Object.assign({firebase_previous_class:O[o0],firebase_previous_screen:O[v2],firebase_previous_id:O[y2]},j):j),En(O=>(0,p2.mG)(this,void 0,void 0,function*(){return I&&(yield I.initialized),yield i.logEvent("screen_view",O)}))))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(s0),f.LFG(ci,8),f.LFG(ta,8),f.LFG(f._Vd),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(_2,8))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})(),r$=(()=>{class s{constructor(i,o,u){i.app.then(()=>{})}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(s0),f.LFG(n$,8),f.LFG(_2,8))},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({providers:[s0]}),s})();const b2_firebaseConfig={apiKey:"AIzaSyCFwVkAXtJ7SxvZSOeSlEM4kHR02kMXBRo",authDomain:"angularutn-ed18b.firebaseapp.com",projectId:"angularutn-ed18b",storageBucket:"angularutn-ed18b.appspot.com",messagingSenderId:"182835672731",appId:"1:182835672731:web:1731f670a3aecf89ce783e",measurementId:"G-PKKF9H5VEC"};let i$=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=f.oAB({type:s,bootstrap:[_R]}),s.\u0275inj=f.cJS({providers:[],imports:[[Ka,TH,Qv,wd,zC,wI,qT,aP,DE,tS,cs.hO.initializeApp(b2_firebaseConfig),Jj,r$,d2]]}),s})();(0,f.G48)(),iu().bootstrapModule(i$).catch(s=>console.error(s))},4762:(et,Ne,V)=>{"use strict";V.d(Ne,{ZT:()=>de,pi:()=>$,_T:()=>ie,mG:()=>re,Jh:()=>K,XA:()=>L,CR:()=>Q,ev:()=>_e});var f=function(Ee,ge){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(De,Se){De.__proto__=Se}||function(De,Se){for(var we in Se)Object.prototype.hasOwnProperty.call(Se,we)&&(De[we]=Se[we])})(Ee,ge)};function de(Ee,ge){if("function"!=typeof ge&&null!==ge)throw new TypeError("Class extends value "+String(ge)+" is not a constructor or null");function De(){this.constructor=Ee}f(Ee,ge),Ee.prototype=null===ge?Object.create(ge):(De.prototype=ge.prototype,new De)}var $=function(){return($=Object.assign||function(ge){for(var De,Se=1,we=arguments.length;Se<we;Se++)for(var ae in De=arguments[Se])Object.prototype.hasOwnProperty.call(De,ae)&&(ge[ae]=De[ae]);return ge}).apply(this,arguments)};function ie(Ee,ge){var De={};for(var Se in Ee)Object.prototype.hasOwnProperty.call(Ee,Se)&&ge.indexOf(Se)<0&&(De[Se]=Ee[Se]);if(null!=Ee&&"function"==typeof Object.getOwnPropertySymbols){var we=0;for(Se=Object.getOwnPropertySymbols(Ee);we<Se.length;we++)ge.indexOf(Se[we])<0&&Object.prototype.propertyIsEnumerable.call(Ee,Se[we])&&(De[Se[we]]=Ee[Se[we]])}return De}function re(Ee,ge,De,Se){return new(De||(De=Promise))(function(ae,Ge){function ht(_t){try{dt(Se.next(_t))}catch(ft){Ge(ft)}}function sn(_t){try{dt(Se.throw(_t))}catch(ft){Ge(ft)}}function dt(_t){_t.done?ae(_t.value):function(ae){return ae instanceof De?ae:new De(function(Ge){Ge(ae)})}(_t.value).then(ht,sn)}dt((Se=Se.apply(Ee,ge||[])).next())})}function K(Ee,ge){var Se,we,ae,Ge,De={label:0,sent:function(){if(1&ae[0])throw ae[1];return ae[1]},trys:[],ops:[]};return Ge={next:ht(0),throw:ht(1),return:ht(2)},"function"==typeof Symbol&&(Ge[Symbol.iterator]=function(){return this}),Ge;function ht(dt){return function(_t){return function(dt){if(Se)throw new TypeError("Generator is already executing.");for(;De;)try{if(Se=1,we&&(ae=2&dt[0]?we.return:dt[0]?we.throw||((ae=we.return)&&ae.call(we),0):we.next)&&!(ae=ae.call(we,dt[1])).done)return ae;switch(we=0,ae&&(dt=[2&dt[0],ae.value]),dt[0]){case 0:case 1:ae=dt;break;case 4:return De.label++,{value:dt[1],done:!1};case 5:De.label++,we=dt[1],dt=[0];continue;case 7:dt=De.ops.pop(),De.trys.pop();continue;default:if(!(ae=(ae=De.trys).length>0&&ae[ae.length-1])&&(6===dt[0]||2===dt[0])){De=0;continue}if(3===dt[0]&&(!ae||dt[1]>ae[0]&&dt[1]<ae[3])){De.label=dt[1];break}if(6===dt[0]&&De.label<ae[1]){De.label=ae[1],ae=dt;break}if(ae&&De.label<ae[2]){De.label=ae[2],De.ops.push(dt);break}ae[2]&&De.ops.pop(),De.trys.pop();continue}dt=ge.call(Ee,De)}catch(_t){dt=[6,_t],we=0}finally{Se=ae=0}if(5&dt[0])throw dt[1];return{value:dt[0]?dt[1]:void 0,done:!0}}([dt,_t])}}}function L(Ee){var ge="function"==typeof Symbol&&Symbol.iterator,De=ge&&Ee[ge],Se=0;if(De)return De.call(Ee);if(Ee&&"number"==typeof Ee.length)return{next:function(){return Ee&&Se>=Ee.length&&(Ee=void 0),{value:Ee&&Ee[Se++],done:!Ee}}};throw new TypeError(ge?"Object is not iterable.":"Symbol.iterator is not defined.")}function Q(Ee,ge){var De="function"==typeof Symbol&&Ee[Symbol.iterator];if(!De)return Ee;var we,Ge,Se=De.call(Ee),ae=[];try{for(;(void 0===ge||ge-- >0)&&!(we=Se.next()).done;)ae.push(we.value)}catch(ht){Ge={error:ht}}finally{try{we&&!we.done&&(De=Se.return)&&De.call(Se)}finally{if(Ge)throw Ge.error}}return ae}function _e(Ee,ge,De){if(De||2===arguments.length)for(var ae,Se=0,we=ge.length;Se<we;Se++)(ae||!(Se in ge))&&(ae||(ae=Array.prototype.slice.call(ge,0,Se)),ae[Se]=ge[Se]);return Ee.concat(ae||Array.prototype.slice.call(ge))}},8239:(et,Ne,V)=>{"use strict";function f($,ie,me,X,he,re,K){try{var B=$[re](K),Y=B.value}catch(L){return void me(L)}B.done?ie(Y):Promise.resolve(Y).then(X,he)}function de($){return function(){var ie=this,me=arguments;return new Promise(function(X,he){var re=$.apply(ie,me);function K(Y){f(re,X,he,K,B,"next",Y)}function B(Y){f(re,X,he,K,B,"throw",Y)}K(void 0)})}}V.d(Ne,{Z:()=>de})}},et=>{et(et.s=6387)}]);
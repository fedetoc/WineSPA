(self.webpackChunktp_final=self.webpackChunktp_final||[]).push([[179],{8255:et=>{function Oe(V){return Promise.resolve().then(()=>{var f=new Error("Cannot find module '"+V+"'");throw f.code="MODULE_NOT_FOUND",f})}Oe.keys=()=>[],Oe.resolve=Oe,Oe.id=8255,et.exports=Oe},7716:(et,Oe,V)=>{"use strict";V.d(Oe,{deG:()=>g0,tb:()=>Yc,AFp:()=>BE,ip1:()=>d_,CZH:()=>Cl,hGG:()=>jO,z2F:()=>xd,sBO:()=>Wx,Sil:()=>Kc,_Vd:()=>jc,EJc:()=>kT,SBq:()=>lo,qLn:()=>I,vpe:()=>va,gxx:()=>Ac,tBr:()=>fc,XFs:()=>st,OlP:()=>kn,zs3:()=>Wt,ZZ4:()=>Wm,aQg:()=>ma,soG:()=>ip,YKP:()=>EI,v3s:()=>WT,h0i:()=>Gc,PXZ:()=>$T,R0b:()=>Hi,FiY:()=>Co,Lbi:()=>OT,g9A:()=>RT,n_E:()=>r_,Qsj:()=>Vx,FYo:()=>Hf,JOm:()=>is,Tiy:()=>Kb,q3G:()=>In,tp0:()=>sa,EAV:()=>up,Rgc:()=>Ed,dDg:()=>Dr,DyG:()=>lc,q4F:()=>Qb,GfV:()=>fI,s_b:()=>Ym,ifc:()=>je,eFA:()=>tw,G48:()=>JE,Gpc:()=>K,f3M:()=>E0,X6Q:()=>QE,_c5:()=>Mn,VLi:()=>AO,c2e:()=>h_,zSh:()=>ff,wAp:()=>wt,vHH:()=>Me,EiD:()=>Mg,mCW:()=>oa,qzn:()=>Is,JVY:()=>kh,pB0:()=>tv,eBb:()=>Cr,L6k:()=>Oi,LAX:()=>ev,cg1:()=>Rf,Tjo:()=>FO,kL8:()=>Db,yhl:()=>Ig,dqk:()=>Qt,sIi:()=>nd,CqO:()=>ab,QGY:()=>lS,F4k:()=>BM,RDi:()=>Pa,AaK:()=>re,z3N:()=>Br,qOj:()=>_m,TTD:()=>es,_Bn:()=>cI,xp6:()=>Yg,uIk:()=>LC,Tol:()=>CS,ekj:()=>gb,Suo:()=>DE,Xpm:()=>Lt,lG2:()=>Ta,Yz7:()=>It,cJS:()=>ln,oAB:()=>gs,Yjl:()=>Uo,Y36:()=>Sm,_UZ:()=>rS,GkF:()=>aS,BQk:()=>oS,ynx:()=>sS,qZA:()=>Tm,TgZ:()=>Tf,EpF:()=>VM,n5z:()=>Ry,Ikx:()=>Nm,LFG:()=>Nn,$8M:()=>ic,NdJ:()=>Dm,CRH:()=>iT,kcU:()=>Iu,O4$:()=>c0,oxw:()=>uS,ALo:()=>JR,gM2:()=>QI,Hsn:()=>ub,F$t:()=>Df,Q6J:()=>sb,VKq:()=>qI,iGM:()=>nT,MAs:()=>jC,CHM:()=>hh,LSH:()=>tl,kYT:()=>Ll,Akn:()=>ks,Udp:()=>pb,WFA:()=>lb,d8E:()=>Ib,YNc:()=>Sf,W1O:()=>oT,_uU:()=>yb,Oqu:()=>vb,hij:()=>Rm,AsE:()=>bb,Gf:()=>rT});var f=V(9765),fe=V(5319),G=V(7574),ie=V(6682),_e=V(8819);function ee(a){for(let l in a)if(a[l]===ee)return l;throw Error("Could not find renamed property on target object.")}function oe(a,l){for(const u in l)l.hasOwnProperty(u)&&!a.hasOwnProperty(u)&&(a[u]=l[u])}function re(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(re).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const u=l.indexOf("\n");return-1===u?l:l.substring(0,u)}function Y(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const U=ee({__forward_ref__:ee});function K(a){return a.__forward_ref__=K,a.toString=function(){return re(this())},a}function F(a){return Q(a)?a():a}function Q(a){return"function"==typeof a&&a.hasOwnProperty(U)&&a.__forward_ref__===K}class Me extends Error{constructor(l,u){super(function(a,l){return`${a?`NG0${a}: `:""}${l}`}(l,u)),this.code=l}}function ne(a){return"string"==typeof a?a:null==a?"":String(a)}function Ee(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():ne(a)}function Mt(a,l){const u=l?` in ${l}`:"";throw new Me("201",`No provider for ${Ee(a)} found${u}`)}function _t(a,l){null==a&&function(a,l,u,h){throw new Error(`ASSERTION ERROR: ${a}`+(null==h?"":` [Expected=> ${u} ${h} ${l} <=Actual]`))}(l,a,null,"!=")}function It(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function ln(a){return{providers:a.providers||[],imports:a.imports||[]}}function jn(a){return Yn(a,Rr)||Yn(a,Ai)}function Yn(a,l){return a.hasOwnProperty(l)?a[l]:null}function Yr(a){return a&&(a.hasOwnProperty(Di)||a.hasOwnProperty(Ki))?a[Di]:null}const Rr=ee({\u0275prov:ee}),Di=ee({\u0275inj:ee}),Ai=ee({ngInjectableDef:ee}),Ki=ee({ngInjectorDef:ee});var st=(()=>((st=st||{})[st.Default=0]="Default",st[st.Host=1]="Host",st[st.Self=2]="Self",st[st.SkipSelf=4]="SkipSelf",st[st.Optional=8]="Optional",st))();let Rn;function Tn(a){const l=Rn;return Rn=a,l}function xt(a,l,u){const h=jn(a);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:u&st.Optional?null:void 0!==l?l:void Mt(re(a),"Injector")}function $t(a){return{toString:a}.toString()}var Ht=(()=>((Ht=Ht||{})[Ht.OnPush=0]="OnPush",Ht[Ht.Default=1]="Default",Ht))(),je=(()=>((je=je||{})[je.Emulated=0]="Emulated",je[je.None=2]="None",je[je.ShadowDom=3]="ShadowDom",je))();const ft="undefined"!=typeof globalThis&&globalThis,Ia="undefined"!=typeof window&&window,Gs="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Kr="undefined"!=typeof global&&global,Qt=ft||Kr||Ia||Gs,Jt={},q=[],z=ee({\u0275cmp:ee}),ue=ee({\u0275dir:ee}),be=ee({\u0275pipe:ee}),de=ee({\u0275mod:ee}),Be=ee({\u0275loc:ee}),tt=ee({\u0275fac:ee}),zt=ee({__NG_ELEMENT_ID__:ee});let Zt=0;function Lt(a){return $t(()=>{const u={},h={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===Ht.OnPush,directiveDefs:null,pipeDefs:null,selectors:a.selectors||q,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||je.Emulated,id:"c",styles:a.styles||q,_:null,setInput:null,schemas:a.schemas||null,tView:null},g=a.directives,_=a.features,b=a.pipes;return h.id+=Zt++,h.inputs=ms(a.inputs,u),h.outputs=ms(a.outputs),_&&_.forEach(w=>w(h)),h.directiveDefs=g?()=>("function"==typeof g?g():g).map(fr):null,h.pipeDefs=b?()=>("function"==typeof b?b():b).map(Kn):null,h})}function fr(a){return Cn(a)||function(a){return a[ue]||null}(a)}function Kn(a){return function(a){return a[be]||null}(a)}const Qi={};function gs(a){return $t(()=>{const l={type:a.type,bootstrap:a.bootstrap||q,declarations:a.declarations||q,imports:a.imports||q,exports:a.exports||q,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(Qi[a.id]=a.type),l})}function Ll(a,l){return $t(()=>{const u=hi(a,!0);u.declarations=l.declarations||q,u.imports=l.imports||q,u.exports=l.exports||q})}function ms(a,l){if(null==a)return Jt;const u={};for(const h in a)if(a.hasOwnProperty(h)){let g=a[h],_=g;Array.isArray(g)&&(_=g[1],g=g[0]),u[g]=h,l&&(l[g]=_)}return u}const Ta=Lt;function Uo(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,onDestroy:a.type.prototype.ngOnDestroy||null}}function Cn(a){return a[z]||null}function hi(a,l){const u=a[de]||null;if(!u&&!0===l)throw new Error(`Type ${re(a)} does not have '\u0275mod' property.`);return u}function pi(a){return Array.isArray(a)&&"object"==typeof a[1]}function ei(a){return Array.isArray(a)&&!0===a[1]}function zs(a){return 0!=(8&a.flags)}function ys(a){return 2==(2&a.flags)}function pr(a){return 1==(1&a.flags)}function Nr(a){return null!==a.template}function Pr(a){return 0!=(512&a[2])}function Xi(a,l){return a.hasOwnProperty(tt)?a[tt]:null}class bo{constructor(l,u,h){this.previousValue=l,this.currentValue=u,this.firstChange=h}isFirstChange(){return this.firstChange}}function es(){return Wo}function Wo(a){return a.type.prototype.ngOnChanges&&(a.setInput=yu),xa}function xa(){const a=br(this),l=null==a?void 0:a.current;if(l){const u=a.previous;if(u===Jt)a.previous=l;else for(let h in l)u[h]=l[h];a.current=null,this.ngOnChanges(l)}}function yu(a,l,u,h){const g=br(a)||function(a,l){return a[Eo]=l}(a,{previous:Jt,current:null}),_=g.current||(g.current={}),b=g.previous,w=this.declaredInputs[u],T=b[w];_[w]=new bo(T&&T.currentValue,l,b===Jt),a[h]=l}es.ngInherit=!0;const Eo="__ngSimpleChanges__";function br(a){return a[Eo]||null}const ka="http://www.w3.org/2000/svg";let Na;function Pa(a){Na=a}function fn(a){return!!a.listen}const W={createRenderer:(a,l)=>void 0!==Na?Na:"undefined"!=typeof document?document:void 0};function Ie(a){for(;Array.isArray(a);)a=a[0];return a}function ot(a,l){return Ie(l[a])}function at(a,l){return Ie(l[a.index])}function tr(a,l){return a.data[l]}function wr(a,l){return a[l]}function nr(a,l){const u=l[a];return pi(u)?u:u[0]}function wo(a){return 4==(4&a[2])}function ts(a){return 128==(128&a[2])}function ws(a,l){return null==l?null:a[l]}function bu(a){a[18]=0}function Va(a,l){a[5]+=l;let u=a,h=a[3];for(;null!==h&&(1===l&&1===u[5]||-1===l&&0===u[5]);)h[5]+=l,u=h,h=h[3]}const Dt={lFrame:Cy(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function dh(){return Dt.bindingsEnabled}function Ne(){return Dt.lFrame.lView}function Gt(){return Dt.lFrame.tView}function hh(a){return Dt.lFrame.contextLView=a,a[8]}function mn(){let a=fh();for(;null!==a&&64===a.type;)a=a.parent;return a}function fh(){return Dt.lFrame.currentTNode}function ti(a,l){const u=Dt.lFrame;u.currentTNode=a,u.isParent=l}function Eu(){return Dt.lFrame.isParent}function wu(){Dt.lFrame.isParent=!1}function Ba(){return Dt.isInCheckNoChangesMode}function Cu(a){Dt.isInCheckNoChangesMode=a}function Gn(){const a=Dt.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function ns(){return Dt.lFrame.bindingIndex}function Zs(){return Dt.lFrame.bindingIndex++}function gi(a){const l=Dt.lFrame,u=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,u}function Jp(a,l){const u=Dt.lFrame;u.bindingIndex=u.bindingRootIndex=a,mh(l)}function mh(a){Dt.lFrame.currentDirectiveIndex=a}function _h(a){const l=Dt.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}function yh(){return Dt.lFrame.currentQueryIndex}function Ko(a){Dt.lFrame.currentQueryIndex=a}function Xp(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function Qo(a,l,u){if(u&st.SkipSelf){let g=l,_=a;for(;!(g=g.parent,null!==g||u&st.Host||(g=Xp(_),null===g||(_=_[15],10&g.type))););if(null===g)return!1;l=g,a=_}const h=Dt.lFrame=eg();return h.currentTNode=l,h.lView=a,!0}function Wl(a){const l=eg(),u=a[1];Dt.lFrame=l,l.currentTNode=u.firstChild,l.lView=a,l.tView=u,l.contextLView=a,l.bindingIndex=u.bindingStartIndex,l.inI18n=!1}function eg(){const a=Dt.lFrame,l=null===a?null:a.child;return null===l?Cy(a):l}function Cy(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function tg(){const a=Dt.lFrame;return Dt.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const Sy=tg;function Zl(){const a=tg();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function Fr(){return Dt.lFrame.selectedIndex}function Ua(a){Dt.lFrame.selectedIndex=a}function $n(){const a=Dt.lFrame;return tr(a.tView,a.selectedIndex)}function c0(){Dt.lFrame.currentNamespace=ka}function Iu(){Dt.lFrame.currentNamespace=null}function Tu(a,l){for(let u=l.directiveStart,h=l.directiveEnd;u<h;u++){const _=a.data[u].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:w,ngAfterViewInit:T,ngAfterViewChecked:M,ngOnDestroy:R}=_;b&&(a.contentHooks||(a.contentHooks=[])).push(-u,b),w&&((a.contentHooks||(a.contentHooks=[])).push(u,w),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(u,w)),T&&(a.viewHooks||(a.viewHooks=[])).push(-u,T),M&&((a.viewHooks||(a.viewHooks=[])).push(u,M),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(u,M)),null!=R&&(a.destroyHooks||(a.destroyHooks=[])).push(u,R)}}function Ha(a,l,u){Au(a,l,3,u)}function Du(a,l,u,h){(3&a[2])===u&&Au(a,l,u,h)}function Yl(a,l){let u=a[2];(3&u)===l&&(u&=2047,u+=1,a[2]=u)}function Au(a,l,u,h){const _=null!=h?h:-1,b=l.length-1;let w=0;for(let T=void 0!==h?65535&a[18]:0;T<b;T++)if("number"==typeof l[T+1]){if(w=l[T],null!=h&&w>=h)break}else l[T]<0&&(a[18]+=65536),(w<_||-1==_)&&(Iy(a,u,l,T),a[18]=(4294901760&a[18])+T+2),T++}function Iy(a,l,u,h){const g=u[h]<0,_=u[h+1],w=a[g?-u[h]:u[h]];if(g){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{_.call(w)}finally{}}}else try{_.call(w)}finally{}}class Kl{constructor(l,u,h){this.factory=l,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=h}}function Mu(a,l,u){const h=fn(a);let g=0;for(;g<u.length;){const _=u[g];if("number"==typeof _){if(0!==_)break;g++;const b=u[g++],w=u[g++],T=u[g++];h?a.setAttribute(l,w,T,b):l.setAttributeNS(b,w,T)}else{const b=_,w=u[++g];Cs(b)?h&&a.setProperty(l,b,w):h?a.setAttribute(l,b,w):l.setAttribute(b,w),g++}}return g}function ea(a){return 3===a||4===a||6===a}function Cs(a){return 64===a.charCodeAt(0)}function Dn(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let u=-1;for(let h=0;h<l.length;h++){const g=l[h];"number"==typeof g?u=g:0===u||rg(a,u,g,null,-1===u||2===u?l[++h]:null)}}return a}function rg(a,l,u,h,g){let _=0,b=a.length;if(-1===l)b=-1;else for(;_<a.length;){const w=a[_++];if("number"==typeof w){if(w===l){b=-1;break}if(w>l){b=_-1;break}}}for(;_<a.length;){const w=a[_];if("number"==typeof w)break;if(w===u){if(null===h)return void(null!==g&&(a[_+1]=g));if(h===a[_+1])return void(a[_+2]=g)}_++,null!==h&&_++,null!==g&&_++}-1!==b&&(a.splice(b,0,l),_=b+1),a.splice(_++,0,u),null!==h&&a.splice(_++,0,h),null!==g&&a.splice(_++,0,g)}function $a(a){return-1!==a}function ta(a){return 32767&a}function Jl(a,l){let u=function(a){return a>>16}(a),h=l;for(;u>0;)h=h[15],u--;return h}let sg=!0;function Xl(a){const l=sg;return sg=a,l}let xu=0;function tc(a,l){const u=Ot(a,l);if(-1!==u)return u;const h=l[1];h.firstCreatePass&&(a.injectorIndex=l.length,Ru(h.data,a),Ru(l,null),Ru(h.blueprint,null));const g=na(a,l),_=a.injectorIndex;if($a(g)){const b=ta(g),w=Jl(g,l),T=w[1].data;for(let M=0;M<8;M++)l[_+M]=w[b+M]|T[b+M]}return l[_+8]=g,_}function Ru(a,l){a.push(0,0,0,0,0,0,0,0,l)}function Ot(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function na(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let u=0,h=null,g=l;for(;null!==g;){const _=g[1],b=_.type;if(h=2===b?_.declTNode:1===b?g[6]:null,null===h)return-1;if(u++,g=g[15],-1!==h.injectorIndex)return h.injectorIndex|u<<16}return-1}function Lr(a,l,u){!function(a,l,u){let h;"string"==typeof u?h=u.charCodeAt(0)||0:u.hasOwnProperty(zt)&&(h=u[zt]),null==h&&(h=u[zt]=xu++);const g=255&h;l.data[a+(g>>5)]|=1<<g}(a,l,u)}function ag(a,l,u){if(u&st.Optional)return a;Mt(l,"NodeInjector")}function Dy(a,l,u,h){if(u&st.Optional&&void 0===h&&(h=null),0==(u&(st.Self|st.Host))){const g=a[9],_=Tn(void 0);try{return g?g.get(l,h,u&st.Optional):xt(l,h,u&st.Optional)}finally{Tn(_)}}return ag(h,l,u)}function Ay(a,l,u,h=st.Default,g){if(null!==a){const _=function(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(zt)?a[zt]:void 0;return"number"==typeof l?l>=0?255&l:nc:l}(u);if("function"==typeof _){if(!Qo(l,a,h))return h&st.Host?ag(g,u,h):Dy(l,u,h,g);try{const b=_(h);if(null!=b||h&st.Optional)return b;Mt(u)}finally{Sy()}}else if("number"==typeof _){let b=null,w=Ot(a,l),T=-1,M=h&st.Host?l[16][6]:null;for((-1===w||h&st.SkipSelf)&&(T=-1===w?na(a,l):l[w+8],-1!==T&&ku(h,!1)?(b=l[1],w=ta(T),l=Jl(T,l)):w=-1);-1!==w;){const R=l[1];if(xy(_,w,R.data)){const N=My(w,l,u,b,h,M);if(N!==d0)return N}T=l[w+8],-1!==T&&ku(h,l[1].data[w+8]===M)&&xy(_,w,l)?(b=R,w=ta(T),l=Jl(T,l)):w=-1}}}return Dy(l,u,h,g)}const d0={};function nc(){return new ra(mn(),Ne())}function My(a,l,u,h,g,_){const b=l[1],w=b.data[a+8],R=Ou(w,b,u,null==h?ys(w)&&sg:h!=b&&0!=(3&w.type),g&st.Host&&_===w);return null!==R?rc(l,b,R,w):d0}function Ou(a,l,u,h,g){const _=a.providerIndexes,b=l.data,w=1048575&_,T=a.directiveStart,R=_>>20,L=g?w+R:a.directiveEnd;for(let $=h?w:w+R;$<L;$++){const J=b[$];if($<T&&u===J||$>=T&&J.type===u)return $}if(g){const $=b[T];if($&&Nr($)&&$.type===u)return T}return null}function rc(a,l,u,h){let g=a[u];const _=l.data;if(function(a){return a instanceof Kl}(g)){const b=g;b.resolving&&function(a,l){throw new Me("200",`Circular dependency in DI detected for ${a}`)}(Ee(_[u]));const w=Xl(b.canSeeViewProviders);b.resolving=!0;const T=b.injectImpl?Tn(b.injectImpl):null;Qo(a,h,st.Default);try{g=a[u]=b.factory(void 0,_,a,h),l.firstCreatePass&&u>=h.directiveStart&&function(a,l,u){const{ngOnChanges:h,ngOnInit:g,ngDoCheck:_}=l.type.prototype;if(h){const b=Wo(l);(u.preOrderHooks||(u.preOrderHooks=[])).push(a,b),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,b)}g&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-a,g),_&&((u.preOrderHooks||(u.preOrderHooks=[])).push(a,_),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,_))}(u,_[u],l)}finally{null!==T&&Tn(T),Xl(w),b.resolving=!1,Sy()}}return g}function xy(a,l,u){return!!(u[l+(a>>5)]&1<<a)}function ku(a,l){return!(a&st.Self||a&st.Host&&l)}class ra{constructor(l,u){this._tNode=l,this._lView=u}get(l,u){return Ay(this._tNode,this._lView,l,void 0,u)}}function Ry(a){return $t(()=>{const l=a.prototype.constructor,u=l[tt]||cg(l),h=Object.prototype;let g=Object.getPrototypeOf(a.prototype).constructor;for(;g&&g!==h;){const _=g[tt]||cg(g);if(_&&_!==u)return _;g=Object.getPrototypeOf(g)}return _=>new _})}function cg(a){return Q(a)?()=>{const l=cg(F(a));return l&&l()}:Xi(a)}function ic(a){return function(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const u=a.attrs;if(u){const h=u.length;let g=0;for(;g<h;){const _=u[g];if(ea(_))break;if(0===_)g+=2;else if("number"==typeof _)for(g++;g<h&&"string"==typeof u[g];)g++;else{if(_===l)return u[g+1];g+=2}}}return null}(mn(),a)}const oc="__parameters__";function qa(a,l,u){return $t(()=>{const h=function(a){return function(...u){if(a){const h=a(...u);for(const g in h)this[g]=h[g]}}}(l);function g(..._){if(this instanceof g)return h.apply(this,_),this;const b=new g(..._);return w.annotation=b,w;function w(T,M,R){const N=T.hasOwnProperty(oc)?T[oc]:Object.defineProperty(T,oc,{value:[]})[oc];for(;N.length<=R;)N.push(null);return(N[R]=N[R]||[]).push(b),T}}return u&&(g.prototype=Object.create(u.prototype)),g.prototype.ngMetadataName=a,g.annotationCls=g,g})}class kn{constructor(l,u){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=It({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const g0=new kn("AnalyzeForEntryComponents"),lc=Function;function mi(a,l){void 0===l&&(l=a);for(let u=0;u<a.length;u++){let h=a[u];Array.isArray(h)?(l===a&&(l=a.slice(0,u)),mi(h,l)):l!==a&&l.push(h)}return l}function Ss(a,l){a.forEach(u=>Array.isArray(u)?Ss(u,l):l(u))}function Sh(a,l,u){l>=a.length?a.push(u):a.splice(l,0,u)}function Za(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function Ys(a,l){const u=[];for(let h=0;h<a;h++)u.push(l);return u}function ni(a,l,u){let h=cc(a,l);return h>=0?a[1|h]=u:(h=~h,function(a,l,u,h){let g=a.length;if(g==l)a.push(u,h);else if(1===g)a.push(h,a[0]),a[0]=u;else{for(g--,a.push(a[g-1],a[g]);g>l;)a[g]=a[g-2],g--;a[l]=u,a[l+1]=h}}(a,h,l,u)),h}function fg(a,l){const u=cc(a,l);if(u>=0)return a[1|u]}function cc(a,l){return function(a,l,u){let h=0,g=a.length>>u;for(;g!==h;){const _=h+(g-h>>1),b=a[_<<u];if(l===b)return _<<u;b>l?g=_:h=_+1}return~(g<<u)}(a,l,1)}const Ya={},_g="__NG_DI_FLAG__",uc="ngTempTokenPath",b0=/\n/gm,dc="__source",Dh=ee({provide:String,useValue:ee});let Ka;function hc(a){const l=Ka;return Ka=a,l}function Hy(a,l=st.Default){if(void 0===Ka)throw new Error("inject() must be called from an injection context");return null===Ka?xt(a,void 0,l):Ka.get(a,l&st.Optional?null:void 0,l)}function Nn(a,l=st.Default){return(Rn||Hy)(F(a),l)}const E0=Nn;function ia(a){const l=[];for(let u=0;u<a.length;u++){const h=F(a[u]);if(Array.isArray(h)){if(0===h.length)throw new Error("Arguments array must have arguments.");let g,_=st.Default;for(let b=0;b<h.length;b++){const w=h[b],T=w0(w);"number"==typeof T?-1===T?g=w.token:_|=T:g=w}l.push(Nn(g,_))}else l.push(Nn(h))}return l}function Qa(a,l){return a[_g]=l,a.prototype[_g]=l,a}function w0(a){return a[_g]}function Gy(a,l,u,h){const g=a[uc];throw l[dc]&&g.unshift(l[dc]),a.message=function(a,l,u,h=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.substr(2):a;let g=re(l);if(Array.isArray(l))g=l.map(re).join(" -> ");else if("object"==typeof l){let _=[];for(let b in l)if(l.hasOwnProperty(b)){let w=l[b];_.push(b+":"+("string"==typeof w?JSON.stringify(w):re(w)))}g=`{${_.join(", ")}}`}return`${u}${h?"("+h+")":""}[${g}]: ${a.replace(b0,"\n  ")}`}("\n"+a.message,g,u,h),a.ngTokenPath=g,a[uc]=null,a}const fc=Qa(qa("Inject",a=>({token:a})),-1),Co=Qa(qa("Optional"),8),sa=Qa(qa("SkipSelf"),4);let xh;function gc(a){var l;return(null===(l=function(){if(void 0===xh&&(xh=null,Qt.trustedTypes))try{xh=Qt.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return xh}())||void 0===l?void 0:l.createHTML(a))||a}class Vr{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Ks extends Vr{getTypeName(){return"HTML"}}class Qy extends Vr{getTypeName(){return"Style"}}class Jy extends Vr{getTypeName(){return"Script"}}class Xy extends Vr{getTypeName(){return"URL"}}class M0 extends Vr{getTypeName(){return"ResourceURL"}}function Br(a){return a instanceof Vr?a.changingThisBreaksApplicationSecurity:a}function Is(a,l){const u=Ig(a);if(null!=u&&u!==l){if("ResourceURL"===u&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===l}function Ig(a){return a instanceof Vr&&a.getTypeName()||null}function kh(a){return new Ks(a)}function Oi(a){return new Qy(a)}function Cr(a){return new Jy(a)}function ev(a){return new Xy(a)}function tv(a){return new M0(a)}class _i{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const u=(new window.DOMParser).parseFromString(gc(l),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(l):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class nv{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const h=this.inertDocument.createElement("body");u.appendChild(h)}}getInertBodyElement(l){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=gc(l),u;const h=this.inertDocument.createElement("body");return h.innerHTML=gc(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(l){const u=l.attributes;for(let g=u.length-1;0<g;g--){const b=u.item(g).name;("xmlns:ns1"===b||0===b.indexOf("ns1:"))&&l.removeAttribute(b)}let h=l.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const zn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,x0=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function oa(a){return(a=String(a)).match(zn)||a.match(x0)?a:"unsafe:"+a}function Ur(a){const l={};for(const u of a.split(","))l[u]=!0;return l}function ki(...a){const l={};for(const u of a)for(const h in u)u.hasOwnProperty(h)&&(l[h]=!0);return l}const Nh=Ur("area,br,col,hr,img,wbr"),rv=Ur("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),So=Ur("rp,rt"),Ni=ki(Nh,ki(rv,Ur("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ki(So,Ur("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ki(So,rv)),Uu=Ur("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),aa=Ur("srcset"),Fh=ki(Uu,aa,Ur("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ur("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),sv=Ur("script,style,template");class el{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let u=l.firstChild,h=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?h=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,h&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let g=this.checkClobberedElement(u,u.nextSibling);if(g){u=g;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(l){const u=l.nodeName.toLowerCase();if(!Ni.hasOwnProperty(u))return this.sanitizedSomething=!0,!sv.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const h=l.attributes;for(let g=0;g<h.length;g++){const _=h.item(g),b=_.name,w=b.toLowerCase();if(!Fh.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let T=_.value;Uu[w]&&(T=oa(T)),aa[w]&&(a=T,T=(a=String(a)).split(",").map(l=>oa(l.trim())).join(", ")),this.buf.push(" ",b,'="',Lh(T),'"')}var a;return this.buf.push(">"),!0}endElement(l){const u=l.nodeName.toLowerCase();Ni.hasOwnProperty(u)&&!Nh.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(l){this.buf.push(Lh(l))}checkClobberedElement(l,u){if(u&&(l.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return u}}const qn=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,la=/([^\#-~ |!])/g;function Lh(a){return a.replace(/&/g,"&amp;").replace(qn,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(la,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let mc;function Mg(a,l){let u=null;try{mc=mc||function(a){const l=new nv(a);return function(){try{return!!(new window.DOMParser).parseFromString(gc(""),"text/html")}catch(a){return!1}}()?new _i(l):l}(a);let h=l?String(l):"";u=mc.getInertBodyElement(h);let g=5,_=h;do{if(0===g)throw new Error("Failed to sanitize html because the input is unstable");g--,h=_,_=u.innerHTML,u=mc.getInertBodyElement(h)}while(h!==_);return gc((new el).sanitizeChildren(Vh(u)||u))}finally{if(u){const h=Vh(u)||u;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function Vh(a){return"content"in a&&function(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var In=(()=>((In=In||{})[In.NONE=0]="NONE",In[In.HTML=1]="HTML",In[In.STYLE=2]="STYLE",In[In.SCRIPT=3]="SCRIPT",In[In.URL=4]="URL",In[In.RESOURCE_URL=5]="RESOURCE_URL",In))();function tl(a){const l=function(){const a=Ne();return a&&a[12]}();return l?l.sanitize(In.URL,a)||"":Is(a,"URL")?Br(a):oa(ne(a))}const Io="__ngContext__";function Sr(a,l){a[Io]=l}function Rg(a){const l=function(a){return a[Io]||null}(a);return l?Array.isArray(l)?l:l.lView:null}function C(a){return a.ngOriginalError}function E(a,...l){a.error(...l)}class I{constructor(){this._console=console}handleError(l){const u=this._findOriginalError(l),h=this._findContext(l),g=(a=l)&&a.ngErrorLogger||E;var a;g(this._console,"ERROR",l),u&&g(this._console,"ORIGINAL ERROR",u),h&&g(this._console,"ERROR CONTEXT",h)}_findContext(l){return l?l.ngDebugContext||this._findContext(C(l)):null}_findOriginalError(l){let u=l&&C(l);for(;u&&C(u);)u=C(u);return u||null}}const vc=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Qt))();function Li(a){return a instanceof Function?a():a}var is=(()=>((is=is||{})[is.Important=1]="Important",is[is.DashCase=2]="DashCase",is))();function Vg(a,l){return undefined(a,l)}function Kh(a){const l=a[3];return ei(l)?l[3]:l}function Ec(a){return Qh(a[13])}function Bg(a){return Qh(a[4])}function Qh(a){for(;null!==a&&!ei(a);)a=a[4];return a}function ol(a,l,u,h,g){if(null!=h){let _,b=!1;ei(h)?_=h:pi(h)&&(b=!0,h=h[0]);const w=Ie(h);0===a&&null!==u?null==g?Cc(l,u,w):al(l,u,w,g||null,!0):1===a&&null!==u?al(l,u,w,g||null,!0):2===a?function(a,l,u){const h=ef(a,l);h&&function(a,l,u,h){fn(a)?a.removeChild(l,u,h):l.removeChild(u)}(a,h,l,u)}(l,w,b):3===a&&l.destroyNode(w),null!=_&&function(a,l,u,h,g){const _=u[7];_!==Ie(u)&&ol(l,a,h,_,g);for(let w=10;w<u.length;w++){const T=u[w];qu(T[1],T,a,l,h,_)}}(l,a,_,u,g)}}function gv(a,l,u){return fn(a)?a.createElement(l,u):null===u?a.createElement(l):a.createElementNS(u,l)}function Jh(a,l){const u=a[9],h=u.indexOf(l),g=l[3];1024&l[2]&&(l[2]&=-1025,Va(g,-1)),u.splice(h,1)}function F0(a,l){if(a.length<=10)return;const u=10+l,h=a[u];if(h){const g=h[17];null!==g&&g!==a&&Jh(g,h),l>0&&(a[u-1][4]=h[4]);const _=Za(a,10+l);!function(a,l){qu(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(h[1],h);const b=_[19];null!==b&&b.detachView(_[1]),h[3]=null,h[4]=null,h[2]&=-129}return h}function Xh(a,l){if(!(256&l[2])){const u=l[11];fn(u)&&u.destroyNode&&qu(a,l,u,3,null,null),function(a){let l=a[13];if(!l)return L0(a[1],a);for(;l;){let u=null;if(pi(l))u=l[13];else{const h=l[10];h&&(u=h)}if(!u){for(;l&&!l[4]&&l!==a;)pi(l)&&L0(l[1],l),l=l[3];null===l&&(l=a),pi(l)&&L0(l[1],l),u=l&&l[4]}l=u}}(l)}}function L0(a,l){if(!(256&l[2])){l[2]&=-129,l[2]|=256,function(a,l){let u;if(null!=a&&null!=(u=a.destroyHooks))for(let h=0;h<u.length;h+=2){const g=l[u[h]];if(!(g instanceof Kl)){const _=u[h+1];if(Array.isArray(_))for(let b=0;b<_.length;b+=2){const w=g[_[b]],T=_[b+1];try{T.call(w)}finally{}}else try{_.call(g)}finally{}}}}(a,l),function(a,l){const u=a.cleanup,h=l[7];let g=-1;if(null!==u)for(let _=0;_<u.length-1;_+=2)if("string"==typeof u[_]){const b=u[_+1],w="function"==typeof b?b(l):Ie(l[b]),T=h[g=u[_+2]],M=u[_+3];"boolean"==typeof M?w.removeEventListener(u[_],T,M):M>=0?h[g=M]():h[g=-M].unsubscribe(),_+=2}else{const b=h[g=u[_+1]];u[_].call(b)}if(null!==h){for(let _=g+1;_<h.length;_++)h[_]();l[7]=null}}(a,l),1===l[1].type&&fn(l[11])&&l[11].destroy();const u=l[17];if(null!==u&&ei(l[3])){u!==l[3]&&Jh(u,l);const h=l[19];null!==h&&h.detachView(a)}}}function xA(a,l,u){return function(a,l,u){let h=l;for(;null!==h&&40&h.type;)h=(l=h).parent;if(null===h)return u[0];if(2&h.flags){const g=a.data[h.directiveStart].encapsulation;if(g===je.None||g===je.Emulated)return null}return at(h,u)}(a,l.parent,u)}function al(a,l,u,h,g){fn(a)?a.insertBefore(l,u,h,g):l.insertBefore(u,h,g)}function Cc(a,l,u){fn(a)?a.appendChild(l,u):l.appendChild(u)}function mv(a,l,u,h,g){null!==h?al(a,l,u,h,g):Cc(a,l,u)}function ef(a,l){return fn(a)?a.parentNode(l):l.parentNode}function ua(a,l,u){return jg(a,l,u)}let jg=function(a,l,u){return 40&a.type?at(a,u):null};function ii(a,l,u,h){const g=xA(a,h,l),_=l[11],w=ua(h.parent||l[6],h,l);if(null!=g)if(Array.isArray(u))for(let T=0;T<u.length;T++)mv(_,g,u[T],w,!1);else mv(_,g,u,w,!1)}function nf(a,l){if(null!==l){const u=l.type;if(3&u)return at(l,a);if(4&u)return V0(-1,a[l.index]);if(8&u){const h=l.child;if(null!==h)return nf(a,h);{const g=a[l.index];return ei(g)?V0(-1,g):Ie(g)}}if(32&u)return Vg(l,a)()||Ie(a[l.index]);{const h=Gg(a,l);return null!==h?Array.isArray(h)?h[0]:nf(Kh(a[16]),h):nf(a,l.next)}}return null}function Gg(a,l){return null!==l?a[16][6].projection[l.projection]:null}function V0(a,l){const u=10+a+1;if(u<l.length){const h=l[u],g=h[1].firstChild;if(null!==g)return nf(h,g)}return l[7]}function B0(a,l,u,h,g,_,b){for(;null!=u;){const w=h[u.index],T=u.type;if(b&&0===l&&(w&&Sr(Ie(w),h),u.flags|=4),64!=(64&u.flags))if(8&T)B0(a,l,u.child,h,g,_,!1),ol(l,a,g,w,_);else if(32&T){const M=Vg(u,h);let R;for(;R=M();)ol(l,a,g,R,_);ol(l,a,g,w,_)}else 16&T?bv(a,l,h,u,g,_):ol(l,a,g,w,_);u=b?u.projectionNext:u.next}}function qu(a,l,u,h,g,_){B0(u,h,a.firstChild,l,g,_,!1)}function bv(a,l,u,h,g,_){const b=u[16],T=b[6].projection[h.projection];if(Array.isArray(T))for(let M=0;M<T.length;M++)ol(l,a,g,T[M],_);else B0(a,l,T,b[3],g,_,!0)}function Ev(a,l,u){fn(a)?a.setAttribute(l,"style",u):l.style.cssText=u}function rf(a,l,u){fn(a)?""===u?a.removeAttribute(l,"class"):a.setAttribute(l,"class",u):l.className=u}function U0(a,l,u){let h=a.length;for(;;){const g=a.indexOf(l,u);if(-1===g)return g;if(0===g||a.charCodeAt(g-1)<=32){const _=l.length;if(g+_===h||a.charCodeAt(g+_)<=32)return g}u=g+1}}const zg="ng-template";function wv(a,l,u){let h=0;for(;h<a.length;){let g=a[h++];if(u&&"class"===g){if(g=a[h],-1!==U0(g.toLowerCase(),l,0))return!0}else if(1===g){for(;h<a.length&&"string"==typeof(g=a[h++]);)if(g.toLowerCase()===l)return!0;return!1}}return!1}function Cv(a){return 4===a.type&&a.value!==zg}function H0(a,l,u){return l===(4!==a.type||u?a.value:zg)}function qg(a,l,u){let h=4;const g=a.attrs||[],_=function(a){for(let l=0;l<a.length;l++)if(ea(a[l]))return l;return a.length}(g);let b=!1;for(let w=0;w<l.length;w++){const T=l[w];if("number"!=typeof T){if(!b)if(4&h){if(h=2|1&h,""!==T&&!H0(a,T,u)||""===T&&1===l.length){if(Xs(h))return!1;b=!0}}else{const M=8&h?T:l[++w];if(8&h&&null!==a.attrs){if(!wv(a.attrs,M,u)){if(Xs(h))return!1;b=!0}continue}const N=G0(8&h?"class":T,g,Cv(a),u);if(-1===N){if(Xs(h))return!1;b=!0;continue}if(""!==M){let L;L=N>_?"":g[N+1].toLowerCase();const $=8&h?L:null;if($&&-1!==U0($,M,0)||2&h&&M!==L){if(Xs(h))return!1;b=!0}}}}else{if(!b&&!Xs(h)&&!Xs(T))return!1;if(b&&Xs(T))continue;b=!1,h=T|1&h}}return Xs(h)||b}function Xs(a){return 0==(1&a)}function G0(a,l,u,h){if(null===l)return-1;let g=0;if(h||!u){let _=!1;for(;g<l.length;){const b=l[g];if(b===a)return g;if(3===b||6===b)_=!0;else{if(1===b||2===b){let w=l[++g];for(;"string"==typeof w;)w=l[++g];continue}if(4===b)break;if(0===b){g+=4;continue}}g+=_?1:2}return-1}return function(a,l){let u=a.indexOf(4);if(u>-1)for(u++;u<a.length;){const h=a[u];if("number"==typeof h)return-1;if(h===l)return u;u++}return-1}(l,a)}function $0(a,l,u=!1){for(let h=0;h<l.length;h++)if(qg(a,l[h],u))return!0;return!1}function k1(a,l){e:for(let u=0;u<l.length;u++){const h=l[u];if(a.length===h.length){for(let g=0;g<a.length;g++)if(a[g]!==h[g])continue e;return!0}}return!1}function sf(a,l){return a?":not("+l.trim()+")":l}function Zg(a){let l=a[0],u=1,h=2,g="",_=!1;for(;u<a.length;){let b=a[u];if("string"==typeof b)if(2&h){const w=a[++u];g+="["+b+(w.length>0?'="'+w+'"':"")+"]"}else 8&h?g+="."+b:4&h&&(g+=" "+b);else""!==g&&!Xs(b)&&(l+=sf(_,g),g=""),h=b,_=_||!Xs(h);u++}return""!==g&&(l+=sf(_,g)),l}const Ct={};function Yg(a){of(Gt(),Ne(),Fr()+a,Ba())}function of(a,l,u,h){if(!h)if(3==(3&l[2])){const _=a.preOrderCheckHooks;null!==_&&Ha(l,_,u)}else{const _=a.preOrderHooks;null!==_&&Du(l,_,0,u)}Ua(u)}function Kg(a,l){return a<<17|l<<2}function si(a){return a>>17&32767}function Qg(a){return 2|a}function To(a){return(131068&a)>>2}function Ds(a,l){return-131069&a|l<<2}function Ic(a){return 1|a}function nm(a,l){const u=a.contentQueries;if(null!==u)for(let h=0;h<u.length;h+=2){const g=u[h],_=u[h+1];if(-1!==_){const b=a.data[_];Ko(g),b.contentQueries(2,l[_],_)}}}function Zu(a,l,u,h,g,_,b,w,T,M){const R=l.blueprint.slice();return R[0]=g,R[2]=140|h,bu(R),R[3]=R[15]=a,R[8]=u,R[10]=b||a&&a[10],R[11]=w||a&&a[11],R[12]=T||a&&a[12]||null,R[9]=M||a&&a[9]||null,R[6]=_,R[16]=2==l.type?a[16]:R,R}function Yu(a,l,u,h,g){let _=a.data[l];if(null===_)_=function(a,l,u,h,g){const _=fh(),b=Eu(),T=a.data[l]=function(a,l,u,h,g,_){return{type:u,index:h,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:g,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?_:_&&_.parent,u,l,h,g);return null===a.firstChild&&(a.firstChild=T),null!==_&&(b?null==_.child&&null!==T.parent&&(_.child=T):null===_.next&&(_.next=T)),T}(a,l,u,h,g),Dt.lFrame.inI18n&&(_.flags|=64);else if(64&_.type){_.type=u,_.value=h,_.attrs=g;const b=function(){const a=Dt.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();_.injectorIndex=null===b?-1:b.injectorIndex}return ti(_,!0),_}function dl(a,l,u,h){if(0===u)return-1;const g=l.length;for(let _=0;_<u;_++)l.push(h),a.blueprint.push(h),a.data.push(null);return g}function im(a,l,u){Wl(l);try{const h=a.viewQuery;null!==h&&jv(1,h,u);const g=a.template;null!==g&&X0(a,l,g,1,u),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&nm(a,l),a.staticViewQueries&&jv(2,a.viewQuery,u);const _=a.components;null!==_&&function(a,l){for(let u=0;u<l.length;u++)hC(a,l[u])}(l,_)}catch(h){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),h}finally{l[2]&=-5,Zl()}}function Ku(a,l,u,h){const g=l[2];if(256==(256&g))return;Wl(l);const _=Ba();try{bu(l),function(a){Dt.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==u&&X0(a,l,u,2,h);const b=3==(3&g);if(!_)if(b){const M=a.preOrderCheckHooks;null!==M&&Ha(l,M,null)}else{const M=a.preOrderHooks;null!==M&&Du(l,M,0,null),Yl(l,0)}if(function(a){for(let l=Ec(a);null!==l;l=Bg(l)){if(!l[2])continue;const u=l[9];for(let h=0;h<u.length;h++){const g=u[h],_=g[3];0==(1024&g[2])&&Va(_,1),g[2]|=1024}}}(l),function(a){for(let l=Ec(a);null!==l;l=Bg(l))for(let u=10;u<l.length;u++){const h=l[u],g=h[1];ts(h)&&Ku(g,h,g.template,h[8])}}(l),null!==a.contentQueries&&nm(a,l),!_)if(b){const M=a.contentCheckHooks;null!==M&&Ha(l,M)}else{const M=a.contentHooks;null!==M&&Du(l,M,1),Yl(l,1)}!function(a,l){const u=a.hostBindingOpCodes;if(null!==u)try{for(let h=0;h<u.length;h++){const g=u[h];if(g<0)Ua(~g);else{const _=g,b=u[++h],w=u[++h];Jp(b,_),w(2,l[_])}}}finally{Ua(-1)}}(a,l);const w=a.components;null!==w&&function(a,l){for(let u=0;u<l.length;u++)dC(a,l[u])}(l,w);const T=a.viewQuery;if(null!==T&&jv(2,T,h),!_)if(b){const M=a.viewCheckHooks;null!==M&&Ha(l,M)}else{const M=a.viewHooks;null!==M&&Du(l,M,2),Yl(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),_||(l[2]&=-73),1024&l[2]&&(l[2]&=-1025,Va(l[3],-1))}finally{Zl()}}function H1(a,l,u,h){const g=l[10],_=!Ba(),b=wo(l);try{_&&!b&&g.begin&&g.begin(),b&&im(a,l,h),Ku(a,l,u,h)}finally{_&&!b&&g.end&&g.end()}}function X0(a,l,u,h,g){const _=Fr(),b=2&h;try{Ua(-1),b&&l.length>20&&of(a,l,20,Ba()),u(h,g)}finally{Ua(_)}}function eC(a,l,u){if(zs(l)){const g=l.directiveEnd;for(let _=l.directiveStart;_<g;_++){const b=a.data[_];b.contentQueries&&b.contentQueries(1,u[_],_)}}}function sm(a,l,u){!dh()||(function(a,l,u,h){const g=u.directiveStart,_=u.directiveEnd;a.firstCreatePass||tc(u,l),Sr(h,l);const b=u.initialInputs;for(let w=g;w<_;w++){const T=a.data[w],M=Nr(T);M&&aC(l,u,T);const R=rc(l,a,w,u);Sr(R,l),null!==b&&Rs(0,w-g,R,T,0,b),M&&(nr(u.index,l)[8]=R)}}(a,l,u,at(u,l)),128==(128&u.flags)&&function(a,l,u){const h=u.directiveStart,g=u.directiveEnd,b=u.index,w=Dt.lFrame.currentDirectiveIndex;try{Ua(b);for(let T=h;T<g;T++){const M=a.data[T],R=l[T];mh(T),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&am(M,R)}}finally{Ua(-1),mh(w)}}(a,l,u))}function uf(a,l,u=at){const h=l.localNames;if(null!==h){let g=l.index+1;for(let _=0;_<h.length;_+=2){const b=h[_+1],w=-1===b?u(l,a):a[b];a[g++]=w}}}function Nv(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=om(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function om(a,l,u,h,g,_,b,w,T,M){const R=20+h,N=R+g,L=function(a,l){const u=[];for(let h=0;h<l;h++)u.push(h<a?null:Ct);return u}(R,N),$="function"==typeof M?M():M;return L[1]={type:a,blueprint:L,template:u,queries:null,viewQuery:w,declTNode:l,data:L.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:T,consts:$,incompleteFirstPass:!1}}function Pv(a,l,u,h){const g=dm(l);null===u?g.push(h):(g.push(u),a.firstCreatePass&&Hv(a).push(h,g.length-1))}function rC(a,l,u){for(let h in a)if(a.hasOwnProperty(h)){const g=a[h];(u=null===u?{}:u).hasOwnProperty(h)?u[h].push(l,g):u[h]=[l,g]}return u}function Vi(a,l,u,h,g,_,b,w){const T=at(l,u);let R,M=l.inputs;!w&&null!=M&&(R=M[h])?(mC(a,u,R,h,g),ys(l)&&function(a,l){const u=nr(l,a);16&u[2]||(u[2]|=64)}(u,l.index)):3&l.type&&(h=function(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(h),g=null!=b?b(g,l.value||"",h):g,fn(_)?_.setProperty(T,h,g):Cs(h)||(T.setProperty?T.setProperty(h,g):T[h]=g))}function df(a,l,u,h){let g=!1;if(dh()){const _=function(a,l,u){const h=a.directiveRegistry;let g=null;if(h)for(let _=0;_<h.length;_++){const b=h[_];$0(u,b.selectors,!1)&&(g||(g=[]),Lr(tc(u,l),a,b.type),Nr(b)?(oC(a,u),g.unshift(b)):g.push(b))}return g}(a,l,u),b=null===h?null:{"":-1};if(null!==_){g=!0,Vv(u,a.data.length,_.length);for(let R=0;R<_.length;R++){const N=_[R];N.providersResolver&&N.providersResolver(N)}let w=!1,T=!1,M=dl(a,l,_.length,null);for(let R=0;R<_.length;R++){const N=_[R];u.mergedAttrs=Dn(u.mergedAttrs,N.hostAttrs),Bv(a,u,l,M,N),ZA(M,N,b),null!==N.contentQueries&&(u.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(u.flags|=128);const L=N.type.prototype;!w&&(L.ngOnChanges||L.ngOnInit||L.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(u.index),w=!0),!T&&(L.ngOnChanges||L.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(u.index),T=!0),M++}!function(a,l){const h=l.directiveEnd,g=a.data,_=l.attrs,b=[];let w=null,T=null;for(let M=l.directiveStart;M<h;M++){const R=g[M],N=R.inputs,L=null===_||Cv(l)?null:Ju(N,_);b.push(L),w=rC(N,M,w),T=rC(R.outputs,M,T)}null!==w&&(w.hasOwnProperty("class")&&(l.flags|=16),w.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=b,l.inputs=w,l.outputs=T}(a,u)}b&&function(a,l,u){if(l){const h=a.localNames=[];for(let g=0;g<l.length;g+=2){const _=u[l[g+1]];if(null==_)throw new Me("301",`Export of name '${l[g+1]}' not found!`);h.push(l[g],_)}}}(u,h,b)}return u.mergedAttrs=Dn(u.mergedAttrs,u.attrs),g}function Qu(a,l,u,h,g,_){const b=_.hostBindings;if(b){let w=a.hostBindingOpCodes;null===w&&(w=a.hostBindingOpCodes=[]);const T=~l.index;(function(a){let l=a.length;for(;l>0;){const u=a[--l];if("number"==typeof u&&u<0)return u}return 0})(w)!=T&&w.push(T),w.push(h,g,b)}}function am(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function oC(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function ZA(a,l,u){if(u){if(l.exportAs)for(let h=0;h<l.exportAs.length;h++)u[l.exportAs[h]]=a;Nr(l)&&(u[""]=a)}}function Vv(a,l,u){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+u,a.providerIndexes=l}function Bv(a,l,u,h,g){a.data[h]=g;const _=g.factory||(g.factory=Xi(g.type)),b=new Kl(_,Nr(g),null);a.blueprint[h]=b,u[h]=b,Qu(a,l,0,h,dl(a,u,g.hostVars,Ct),g)}function aC(a,l,u){const h=at(l,a),g=Nv(u),_=a[10],b=td(a,Zu(a,g,null,u.onPush?64:16,h,l,_,_.createRenderer(h,u),null,null));a[l.index]=b}function ss(a,l,u,h,g,_){const b=at(a,l);!function(a,l,u,h,g,_,b){if(null==_)fn(a)?a.removeAttribute(l,g,u):l.removeAttribute(g);else{const w=null==b?ne(_):b(_,h||"",g);fn(a)?a.setAttribute(l,g,w,u):u?l.setAttributeNS(u,g,w):l.setAttribute(g,w)}}(l[11],b,_,a.value,u,h,g)}function Rs(a,l,u,h,g,_){const b=_[l];if(null!==b){const w=h.setInput;for(let T=0;T<b.length;){const M=b[T++],R=b[T++],N=b[T++];null!==w?h.setInput(u,N,M,R):u[R]=N}}}function Ju(a,l){let u=null,h=0;for(;h<l.length;){const g=l[h];if(0!==g)if(5!==g){if("number"==typeof g)break;a.hasOwnProperty(g)&&(null===u&&(u=[]),u.push(g,a[g],l[h+1])),h+=2}else h+=2;else h+=4}return u}function cC(a,l,u,h){return new Array(a,!0,!1,l,null,0,h,u,null,null)}function dC(a,l){const u=nr(l,a);if(ts(u)){const h=u[1];80&u[2]?Ku(h,u,h.template,u[8]):u[5]>0&&Xu(u)}}function Xu(a){for(let h=Ec(a);null!==h;h=Bg(h))for(let g=10;g<h.length;g++){const _=h[g];if(1024&_[2]){const b=_[1];Ku(b,_,b.template,_[8])}else _[5]>0&&Xu(_)}const u=a[1].components;if(null!==u)for(let h=0;h<u.length;h++){const g=nr(u[h],a);ts(g)&&g[5]>0&&Xu(g)}}function hC(a,l){const u=nr(l,a),h=u[1];(function(a,l){for(let u=l.length;u<a.blueprint.length;u++)l.push(a.blueprint[u])})(h,u),im(h,u,u[8])}function td(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function Uv(a){for(;a;){a[2]|=64;const l=Kh(a);if(Pr(a)&&!l)return a;a=l}return null}function um(a,l,u){const h=l[10];h.begin&&h.begin();try{Ku(a,l,a.template,u)}catch(g){throw hm(l,g),g}finally{h.end&&h.end()}}function fC(a){!function(a){for(let l=0;l<a.components.length;l++){const u=a.components[l],h=Rg(u),g=h[1];H1(g,h,g.template,u)}}(a[8])}function jv(a,l,u){Ko(0),l(a,u)}const gC=(()=>Promise.resolve(null))();function dm(a){return a[7]||(a[7]=[])}function Hv(a){return a.cleanup||(a.cleanup=[])}function hf(a,l,u){return(null===a||Nr(a))&&(u=function(a){for(;Array.isArray(a);){if("object"==typeof a[1])return a;a=a[0]}return null}(u[l.index])),u[11]}function hm(a,l){const u=a[9],h=u?u.get(I,null):null;h&&h.handleError(l)}function mC(a,l,u,h,g){for(let _=0;_<u.length;){const b=u[_++],w=u[_++],T=l[b],M=a.data[b];null!==M.setInput?M.setInput(T,g,h,w):T[w]=g}}function da(a,l,u){const h=ot(l,a);!function(a,l,u){fn(a)?a.setValue(l,u):l.textContent=u}(a[11],h,u)}function fm(a,l,u){let h=u?a.styles:null,g=u?a.classes:null,_=0;if(null!==l)for(let b=0;b<l.length;b++){const w=l[b];"number"==typeof w?_=w:1==_?g=Y(g,w):2==_&&(h=Y(h,w+": "+l[++b]+";"))}u?a.styles=h:a.stylesWithoutHost=h,u?a.classes=g:a.classesWithoutHost=g}const Ac=new kn("INJECTOR",-1);class Gv{get(l,u=Ya){if(u===Ya){const h=new Error(`NullInjectorError: No provider for ${re(l)}!`);throw h.name="NullInjectorError",h}return u}}const ff=new kn("Set Injector scope."),pf={},XA={};let pm;function eM(){return void 0===pm&&(pm=new Gv),pm}function vC(a,l=null,u=null,h){return new tM(a,u,l||eM(),h)}class tM{constructor(l,u,h,g=null){this.parent=h,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const _=[];u&&Ss(u,w=>this.processProvider(w,l,u)),Ss([l],w=>this.processInjectorType(w,[],_)),this.records.set(Ac,Mc(void 0,this));const b=this.records.get(ff);this.scope=null!=b?b.value:null,this.source=g||("object"==typeof l?null:re(l))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(l=>l.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(l,u=Ya,h=st.Default){this.assertNotDestroyed();const g=hc(this),_=Tn(void 0);try{if(!(h&st.SkipSelf)){let w=this.records.get(l);if(void 0===w){const T=("function"==typeof(a=l)||"object"==typeof a&&a instanceof kn)&&jn(l);w=T&&this.injectableDefInScope(T)?Mc(gm(l),pf):null,this.records.set(l,w)}if(null!=w)return this.hydrate(l,w)}return(h&st.Self?eM():this.parent).get(l,u=h&st.Optional&&u===Ya?null:u)}catch(b){if("NullInjectorError"===b.name){if((b[uc]=b[uc]||[]).unshift(re(l)),g)throw b;return Gy(b,l,"R3InjectorError",this.source)}throw b}finally{Tn(_),hc(g)}var a}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(l=>this.get(l))}toString(){const l=[];return this.records.forEach((h,g)=>l.push(re(g))),`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(l,u,h){if(!(l=F(l)))return!1;let g=Yr(l);const _=null==g&&l.ngModule||void 0,b=void 0===_?l:_,w=-1!==h.indexOf(b);if(void 0!==_&&(g=Yr(_)),null==g)return!1;if(null!=g.imports&&!w){let R;h.push(b);try{Ss(g.imports,N=>{this.processInjectorType(N,u,h)&&(void 0===R&&(R=[]),R.push(N))})}finally{}if(void 0!==R)for(let N=0;N<R.length;N++){const{ngModule:L,providers:$}=R[N];Ss($,J=>this.processProvider(J,L,$||q))}}this.injectorDefTypes.add(b);const T=Xi(b)||(()=>new b);this.records.set(b,Mc(T,pf));const M=g.providers;if(null!=M&&!w){const R=l;Ss(M,N=>this.processProvider(N,R,M))}return void 0!==_&&void 0!==l.providers}processProvider(l,u,h){let g=xc(l=F(l))?l:F(l&&l.provide);const _=gf(a=l)?Mc(void 0,a.useValue):Mc(bC(a),pf);var a;if(xc(l)||!0!==l.multi)this.records.get(g);else{let b=this.records.get(g);b||(b=Mc(void 0,pf,!0),b.factory=()=>ia(b.multi),this.records.set(g,b)),g=l,b.multi.push(l)}this.records.set(g,_)}hydrate(l,u){return u.value===pf&&(u.value=XA,u.value=u.factory()),"object"==typeof u.value&&u.value&&null!==(a=u.value)&&"object"==typeof a&&"function"==typeof a.ngOnDestroy&&this.onDestroy.add(u.value),u.value;var a}injectableDefInScope(l){if(!l.providedIn)return!1;const u=F(l.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function gm(a){const l=jn(a),u=null!==l?l.factory:Xi(a);if(null!==u)return u;if(a instanceof kn)throw new Error(`Token ${re(a)} is missing a \u0275prov definition.`);if(a instanceof Function)return function(a){const l=a.length;if(l>0){const h=Ys(l,"?");throw new Error(`Can't resolve all parameters for ${re(a)}: (${h.join(", ")}).`)}const u=function(a){const l=a&&(a[Rr]||a[Ai]);if(l){const u=function(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),l}return null}(a);return null!==u?()=>u.factory(a):()=>new a}(a);throw new Error("unreachable")}function bC(a,l,u){let h;if(xc(a)){const g=F(a);return Xi(g)||gm(g)}if(gf(a))h=()=>F(a.useValue);else if(function(a){return!(!a||!a.useFactory)}(a))h=()=>a.useFactory(...ia(a.deps||[]));else if(function(a){return!(!a||!a.useExisting)}(a))h=()=>Nn(F(a.useExisting));else{const g=F(a&&(a.useClass||a.provide));if(!function(a){return!!a.deps}(a))return Xi(g)||gm(g);h=()=>new g(...ia(a.deps))}return h}function Mc(a,l,u=!1){return{factory:a,value:l,multi:u?[]:void 0}}function gf(a){return null!==a&&"object"==typeof a&&Dh in a}function xc(a){return"function"==typeof a}const wC=function(a,l,u){return function(a,l=null,u=null,h){const g=vC(a,l,u,h);return g._resolveInjectorDefTypes(),g}({name:u},l,a,u)};class Wt{static create(l,u){return Array.isArray(l)?wC(l,u,""):wC(l.providers,l.parent,l.name||"")}}function vf(a,l){Tu(Rg(a)[1],mn())}function _m(a){let l=function(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),u=!0;const h=[a];for(;l;){let g;if(Nr(a))g=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Error("Directives cannot inherit Components");g=l.\u0275dir}if(g){if(u){h.push(g);const b=a;b.inputs=bf(a.inputs),b.declaredInputs=bf(a.declaredInputs),b.outputs=bf(a.outputs);const w=g.hostBindings;w&&wM(a,w);const T=g.viewQuery,M=g.contentQueries;if(T&&NC(a,T),M&&PC(a,M),oe(a.inputs,g.inputs),oe(a.declaredInputs,g.declaredInputs),oe(a.outputs,g.outputs),Nr(g)&&g.data.animation){const R=a.data;R.animation=(R.animation||[]).concat(g.data.animation)}}const _=g.features;if(_)for(let b=0;b<_.length;b++){const w=_[b];w&&w.ngInherit&&w(a),w===_m&&(u=!1)}}l=Object.getPrototypeOf(l)}!function(a){let l=0,u=null;for(let h=a.length-1;h>=0;h--){const g=a[h];g.hostVars=l+=g.hostVars,g.hostAttrs=Dn(g.hostAttrs,u=Dn(u,g.hostAttrs))}}(h)}function bf(a){return a===Jt?{}:a===q?[]:a}function NC(a,l){const u=a.viewQuery;a.viewQuery=u?(h,g)=>{l(h,g),u(h,g)}:l}function PC(a,l){const u=a.contentQueries;a.contentQueries=u?(h,g,_)=>{l(h,g,_),u(h,g,_)}:l}function wM(a,l){const u=a.hostBindings;a.hostBindings=u?(h,g)=>{l(h,g),u(h,g)}:l}Wt.THROW_IF_NOT_FOUND=Ya,Wt.NULL=new Gv,Wt.\u0275prov=It({token:Wt,providedIn:"any",factory:()=>Nn(Ac)}),Wt.__NG_ELEMENT_ID__=-1;let Oc=null;function kc(){if(!Oc){const a=Qt.Symbol;if(a&&a.iterator)Oc=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<l.length;++u){const h=l[u];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(Oc=h)}}}return Oc}class no{constructor(l){this.wrapped=l}static wrap(l){return new no(l)}static unwrap(l){return no.isWrapped(l)?l.wrapped:l}static isWrapped(l){return l instanceof no}}function nd(a){return!!ym(a)&&(Array.isArray(a)||!(a instanceof Map)&&kc()in a)}function ym(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function ro(a,l,u){return a[l]=u}function oi(a,l,u){return!Object.is(a[l],u)&&(a[l]=u,!0)}function Nc(a,l,u,h){const g=oi(a,l,u);return oi(a,l+1,h)||g}function LC(a,l,u,h){const g=Ne();return oi(g,Zs(),l)&&(Gt(),ss($n(),g,a,l,u,h)),LC}function Sf(a,l,u,h,g,_,b,w){const T=Ne(),M=Gt(),R=a+20,N=M.firstCreatePass?function(a,l,u,h,g,_,b,w,T){const M=l.consts,R=Yu(l,a,4,b||null,ws(M,w));df(l,u,R,ws(M,T)),Tu(l,R);const N=R.tViews=om(2,R,h,g,_,l.directiveRegistry,l.pipeRegistry,null,l.schemas,M);return null!==l.queries&&(l.queries.template(l,R),N.queries=l.queries.embeddedTView(R)),R}(R,M,T,l,u,h,g,_,b):M.data[R];ti(N,!1);const L=T[11].createComment("");ii(M,T,L,N),Sr(L,T),td(T,T[R]=cC(L,T,L,N)),pr(N)&&sm(M,T,N),null!=b&&uf(T,N,w)}function jC(a){return wr(Dt.lFrame.contextLView,20+a)}function Sm(a,l=st.Default){const u=Ne();return null===u?Nn(a,l):Ay(mn(),u,F(a),l)}function sb(a,l,u){const h=Ne();return oi(h,Zs(),l)&&Vi(Gt(),$n(),h,a,l,h[11],u,!1),sb}function Im(a,l,u,h,g){const b=g?"class":"style";mC(a,u,l.inputs[b],b,h)}function Tf(a,l,u,h){const g=Ne(),_=Gt(),b=20+a,w=g[11],T=g[b]=gv(w,l,Dt.lFrame.currentNamespace),M=_.firstCreatePass?function(a,l,u,h,g,_,b){const w=l.consts,M=Yu(l,a,2,g,ws(w,_));return df(l,u,M,ws(w,b)),null!==M.attrs&&fm(M,M.attrs,!1),null!==M.mergedAttrs&&fm(M,M.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,M),M}(b,_,g,0,l,u,h):_.data[b];ti(M,!0);const R=M.mergedAttrs;null!==R&&Mu(w,T,R);const N=M.classes;null!==N&&rf(w,T,N);const L=M.styles;null!==L&&Ev(w,T,L),64!=(64&M.flags)&&ii(_,g,T,M),0===Dt.lFrame.elementDepthCount&&Sr(T,g),Dt.lFrame.elementDepthCount++,pr(M)&&(sm(_,g,M),eC(_,M,g)),null!==h&&uf(g,M)}function Tm(){let a=mn();Eu()?wu():(a=a.parent,ti(a,!1));const l=a;Dt.lFrame.elementDepthCount--;const u=Gt();u.firstCreatePass&&(Tu(u,a),zs(a)&&u.queries.elementEnd(a)),null!=l.classesWithoutHost&&function(a){return 0!=(16&a.flags)}(l)&&Im(u,l,Ne(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function(a){return 0!=(32&a.flags)}(l)&&Im(u,l,Ne(),l.stylesWithoutHost,!1)}function rS(a,l,u,h){Tf(a,l,u,h),Tm()}function sS(a,l,u){const h=Ne(),g=Gt(),_=a+20,b=g.firstCreatePass?function(a,l,u,h,g){const _=l.consts,b=ws(_,h),w=Yu(l,a,8,"ng-container",b);return null!==b&&fm(w,b,!0),df(l,u,w,ws(_,g)),null!==l.queries&&l.queries.elementStart(l,w),w}(_,g,h,l,u):g.data[_];ti(b,!0);const w=h[_]=h[11].createComment("");ii(g,h,w,b),Sr(w,h),pr(b)&&(sm(g,h,b),eC(g,b,h)),null!=u&&uf(h,b)}function oS(){let a=mn();const l=Gt();Eu()?wu():(a=a.parent,ti(a,!1)),l.firstCreatePass&&(Tu(l,a),zs(a)&&l.queries.elementEnd(a))}function aS(a,l,u){sS(a,l,u),oS()}function VM(){return Ne()}function lS(a){return!!a&&"function"==typeof a.then}function BM(a){return!!a&&"function"==typeof a.subscribe}const ab=BM;function Dm(a,l,u,h){const g=Ne(),_=Gt(),b=mn();return cb(_,g,g[11],b,a,l,!!u,h),Dm}function lb(a,l){const u=mn(),h=Ne(),g=Gt();return cb(g,h,hf(_h(g.data),u,h),u,a,l,!1),lb}function cb(a,l,u,h,g,_,b,w){const T=pr(h),R=a.firstCreatePass&&Hv(a),N=l[8],L=dm(l);let $=!0;if(3&h.type||w){const he=at(h,l),Le=w?w(he):he,se=L.length,it=w?gt=>w(Ie(gt[h.index])):h.index;if(fn(u)){let gt=null;if(!w&&T&&(gt=function(a,l,u,h){const g=a.cleanup;if(null!=g)for(let _=0;_<g.length-1;_+=2){const b=g[_];if(b===u&&g[_+1]===h){const w=l[7],T=g[_+2];return w.length>T?w[T]:null}"string"==typeof b&&(_+=2)}return null}(a,l,g,h.index)),null!==gt)(gt.__ngLastListenerFn__||gt).__ngNextListenerFn__=_,gt.__ngLastListenerFn__=_,$=!1;else{_=ud(h,l,N,_,!1);const jt=u.listen(Le,g,_);L.push(_,jt),R&&R.push(g,it,se,se+1)}}else _=ud(h,l,N,_,!0),Le.addEventListener(g,_,b),L.push(_),R&&R.push(g,it,se,b)}else _=ud(h,l,N,_,!1);const J=h.outputs;let me;if($&&null!==J&&(me=J[g])){const he=me.length;if(he)for(let Le=0;Le<he;Le+=2){const xn=l[me[Le]][me[Le+1]].subscribe(_),us=L.length;L.push(_,xn),R&&R.push(g,h.index,us,-(us+1))}}}function pl(a,l,u,h){try{return!1!==u(h)}catch(g){return hm(a,g),!1}}function ud(a,l,u,h,g){return function _(b){if(b===Function)return h;const w=2&a.flags?nr(a.index,l):l;0==(32&l[2])&&Uv(w);let T=pl(l,0,h,b),M=_.__ngNextListenerFn__;for(;M;)T=pl(l,0,M,b)&&T,M=M.__ngNextListenerFn__;return g&&!1===T&&(b.preventDefault(),b.returnValue=!1),T}}function uS(a=1){return function(a){return(Dt.lFrame.contextLView=function(a,l){for(;a>0;)l=l[15],a--;return l}(a,Dt.lFrame.contextLView))[8]}(a)}function uP(a,l){let u=null;const h=function(a){const l=a.attrs;if(null!=l){const u=l.indexOf(5);if(0==(1&u))return l[u+1]}return null}(a);for(let g=0;g<l.length;g++){const _=l[g];if("*"!==_){if(null===h?$0(a,_,!0):k1(h,_))return g}else u=g}return u}function Df(a){const l=Ne()[16][6];if(!l.projection){const h=l.projection=Ys(a?a.length:1,null),g=h.slice();let _=l.child;for(;null!==_;){const b=a?uP(_,a):0;null!==b&&(g[b]?g[b].projectionNext=_:h[b]=_,g[b]=_),_=_.next}}}function ub(a,l=0,u){const h=Ne(),g=Gt(),_=Yu(g,20+a,16,null,u||null);null===_.projection&&(_.projection=l),wu(),64!=(64&_.flags)&&function(a,l,u){bv(l[11],0,l,u,xA(a,u,l),ua(u.parent||l[6],u,l))}(g,h,_)}function yS(a,l,u,h,g){const _=a[u+1],b=null===l;let w=h?si(_):To(_),T=!1;for(;0!==w&&(!1===T||b);){const R=a[w+1];HM(a[w],l)&&(T=!0,a[w+1]=h?Ic(R):Qg(R)),w=h?si(R):To(R)}T&&(a[u+1]=h?Qg(_):Ic(_))}function HM(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&cc(a,l)>=0}const sr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function vS(a){return a.substring(sr.key,sr.keyEnd)}function GM(a){return a.substring(sr.value,sr.valueEnd)}function zM(a,l){const u=sr.textEnd;return u===l?-1:(l=sr.keyEnd=function(a,l,u){for(;l<u&&a.charCodeAt(l)>32;)l++;return l}(a,sr.key=l,u),bn(a,l,u))}function fb(a,l){const u=sr.textEnd;let h=sr.key=bn(a,l,u);return u===h?-1:(h=sr.keyEnd=function(a,l,u){let h;for(;l<u&&(45===(h=a.charCodeAt(l))||95===h||(-33&h)>=65&&(-33&h)<=90||h>=48&&h<=57);)l++;return l}(a,h,u),h=dd(a,h,u),h=sr.value=bn(a,h,u),h=sr.valueEnd=function(a,l,u){let h=-1,g=-1,_=-1,b=l,w=b;for(;b<u;){const T=a.charCodeAt(b++);if(59===T)return w;34===T||39===T?w=b=ES(a,T,b,u):l===b-4&&85===_&&82===g&&76===h&&40===T?w=b=ES(a,41,b,u):T>32&&(w=b),_=g,g=h,h=-33&T}return w}(a,h,u),dd(a,h,u))}function bS(a){sr.key=0,sr.keyEnd=0,sr.value=0,sr.valueEnd=0,sr.textEnd=a.length}function bn(a,l,u){for(;l<u&&a.charCodeAt(l)<=32;)l++;return l}function dd(a,l,u,h){return(l=bn(a,l,u))<u&&l++,l}function ES(a,l,u,h){let g=-1,_=u;for(;_<h;){const b=a.charCodeAt(_++);if(b==l&&92!==g)return _;g=92==b&&92===g?0:b}throw new Error}function pb(a,l,u){return Ns(a,l,u,!1),pb}function gb(a,l){return Ns(a,l,null,!0),gb}function ks(a){oo(TS,YM,a,!1)}function YM(a,l){for(let u=function(a){return bS(a),fb(a,bn(a,0,sr.textEnd))}(l);u>=0;u=fb(l,u))TS(a,vS(l),GM(l))}function CS(a){oo(ni,Ao,a,!0)}function Ao(a,l){for(let u=function(a){return bS(a),zM(a,bn(a,0,sr.textEnd))}(l);u>=0;u=zM(l,u))ni(a,vS(l),!0)}function Ns(a,l,u,h){const g=Ne(),_=Gt(),b=gi(2);_.firstUpdatePass&&mb(_,a,b,h),l!==Ct&&oi(g,b,l)&&DS(_,_.data[Fr()],g,g[11],a,g[b+1]=function(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=re(Br(a)))),a}(l,u),h,b)}function oo(a,l,u,h){const g=Gt(),_=gi(2);g.firstUpdatePass&&mb(g,null,_,h);const b=Ne();if(u!==Ct&&oi(b,_,u)){const w=g.data[Fr()];if(_b(w,h)&&!SS(g,_)){let T=h?w.classesWithoutHost:w.stylesWithoutHost;null!==T&&(u=Y(T,u||"")),Im(g,w,b,u,h)}else!function(a,l,u,h,g,_,b,w){g===Ct&&(g=q);let T=0,M=0,R=0<g.length?g[0]:null,N=0<_.length?_[0]:null;for(;null!==R||null!==N;){const L=T<g.length?g[T+1]:void 0,$=M<_.length?_[M+1]:void 0;let me,J=null;R===N?(T+=2,M+=2,L!==$&&(J=N,me=$)):null===N||null!==R&&R<N?(T+=2,J=R):(M+=2,J=N,me=$),null!==J&&DS(a,l,u,h,J,me,b,w),R=T<g.length?g[T]:null,N=M<_.length?_[M]:null}}(g,w,b,b[11],b[_+1],b[_+1]=function(a,l,u){if(null==u||""===u)return q;const h=[],g=Br(u);if(Array.isArray(g))for(let _=0;_<g.length;_++)a(h,g[_],!0);else if("object"==typeof g)for(const _ in g)g.hasOwnProperty(_)&&a(h,_,g[_]);else"string"==typeof g&&l(h,g);return h}(a,l,u),h,_)}}function SS(a,l){return l>=a.expandoStartIndex}function mb(a,l,u,h){const g=a.data;if(null===g[u+1]){const _=g[Fr()],b=SS(a,u);_b(_,h)&&null===l&&!b&&(l=!1),l=function(a,l,u,h){const g=_h(a);let _=h?l.residualClasses:l.residualStyles;if(null===g)0===(h?l.classBindings:l.styleBindings)&&(u=pa(u=Af(null,a,l,u,h),l.attrs,h),_=null);else{const b=l.directiveStylingLast;if(-1===b||a[b]!==g)if(u=Af(g,a,l,u,h),null===_){let T=function(a,l,u){const h=u?l.classBindings:l.styleBindings;if(0!==To(h))return a[si(h)]}(a,l,h);void 0!==T&&Array.isArray(T)&&(T=Af(null,a,l,T[1],h),T=pa(T,l.attrs,h),function(a,l,u,h){a[si(u?l.classBindings:l.styleBindings)]=h}(a,l,h,T))}else _=function(a,l,u){let h;const g=l.directiveEnd;for(let _=1+l.directiveStylingLast;_<g;_++)h=pa(h,a[_].hostAttrs,u);return pa(h,l.attrs,u)}(a,l,h)}return void 0!==_&&(h?l.residualClasses=_:l.residualStyles=_),u}(g,_,l,h),function(a,l,u,h,g,_){let b=_?l.classBindings:l.styleBindings,w=si(b),T=To(b);a[h]=u;let R,M=!1;if(Array.isArray(u)){const N=u;R=N[1],(null===R||cc(N,R)>0)&&(M=!0)}else R=u;if(g)if(0!==T){const L=si(a[w+1]);a[h+1]=Kg(L,w),0!==L&&(a[L+1]=Ds(a[L+1],h)),a[w+1]=function(a,l){return 131071&a|l<<17}(a[w+1],h)}else a[h+1]=Kg(w,0),0!==w&&(a[w+1]=Ds(a[w+1],h)),w=h;else a[h+1]=Kg(T,0),0===w?w=h:a[T+1]=Ds(a[T+1],h),T=h;M&&(a[h+1]=Qg(a[h+1])),yS(a,R,h,!0),yS(a,R,h,!1),function(a,l,u,h,g){const _=g?a.residualClasses:a.residualStyles;null!=_&&"string"==typeof l&&cc(_,l)>=0&&(u[h+1]=Ic(u[h+1]))}(l,R,a,h,_),b=Kg(w,T),_?l.classBindings=b:l.styleBindings=b}(g,_,l,u,b,h)}}function Af(a,l,u,h,g){let _=null;const b=u.directiveEnd;let w=u.directiveStylingLast;for(-1===w?w=u.directiveStart:w++;w<b&&(_=l[w],h=pa(h,_.hostAttrs,g),_!==a);)w++;return null!==a&&(u.directiveStylingLast=w),h}function pa(a,l,u){const h=u?1:2;let g=-1;if(null!==l)for(let _=0;_<l.length;_++){const b=l[_];"number"==typeof b?g=b:g===h&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),ni(a,b,!!u||l[++_]))}return void 0===a?null:a}function TS(a,l,u){ni(a,l,Br(u))}function DS(a,l,u,h,g,_,b,w){if(!(3&l.type))return;const T=a.data,M=T[w+1];xm(function(a){return 1==(1&a)}(M)?AS(T,l,u,g,To(M),b):void 0)||(xm(_)||function(a){return 2==(2&a)}(M)&&(_=AS(T,null,u,g,w,b)),function(a,l,u,h,g){const _=fn(a);if(l)g?_?a.addClass(u,h):u.classList.add(h):_?a.removeClass(u,h):u.classList.remove(h);else{let b=-1===h.indexOf("-")?void 0:is.DashCase;if(null==g)_?a.removeStyle(u,h,b):u.style.removeProperty(h);else{const w="string"==typeof g&&g.endsWith("!important");w&&(g=g.slice(0,-10),b|=is.Important),_?a.setStyle(u,h,g,b):u.style.setProperty(h,g,w?"important":"")}}}(h,b,ot(Fr(),u),g,_))}function AS(a,l,u,h,g,_){const b=null===l;let w;for(;g>0;){const T=a[g],M=Array.isArray(T),R=M?T[1]:T,N=null===R;let L=u[g+1];L===Ct&&(L=N?q:void 0);let $=N?fg(L,h):R===h?L:void 0;if(M&&!xm($)&&($=fg(T,h)),xm($)&&(w=$,b))return w;const J=a[g+1];g=b?si(J):To(J)}if(null!==l){let T=_?l.residualClasses:l.residualStyles;null!=T&&(w=fg(T,h))}return w}function xm(a){return void 0!==a}function _b(a,l){return 0!=(a.flags&(l?16:32))}function yb(a,l=""){const u=Ne(),h=Gt(),g=a+20,_=h.firstCreatePass?Yu(h,g,1,l,null):h.data[g],b=u[g]=function(a,l){return fn(a)?a.createText(l):a.createTextNode(l)}(u[11],l);ii(h,u,b,_),ti(_,!1)}function vb(a){return Rm("",a,""),vb}function Rm(a,l,u){const h=Ne(),g=function(a,l,u,h){return oi(a,Zs(),u)?l+ne(u)+h:Ct}(h,a,l,u);return g!==Ct&&da(h,Fr(),g),Rm}function bb(a,l,u,h,g){const _=Ne(),b=function(a,l,u,h,g,_){const w=Nc(a,ns(),u,g);return gi(2),w?l+ne(u)+h+ne(g)+_:Ct}(_,a,l,u,h,g);return b!==Ct&&da(_,Fr(),b),bb}function Nm(a,l,u){const h=Ne();return oi(h,Zs(),l)&&Vi(Gt(),$n(),h,a,l,h[11],u,!0),Nm}function Ib(a,l,u){const h=Ne();if(oi(h,Zs(),l)){const _=Gt(),b=$n();Vi(_,b,h,a,l,hf(_h(_.data),b,h),u,!0)}return Ib}const Ro=void 0;var BS=["en",[["a","p"],["AM","PM"],Ro],[["AM","PM"],Ro,Ro],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ro,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ro,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ro,"{1} 'at' {0}",Ro],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(a){const l=Math.floor(Math.abs(a)),u=a.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===u?1:5}];let ga={};function Rf(a){const l=function(a){return a.toLowerCase().replace(/_/g,"-")}(a);let u=Ab(l);if(u)return u;const h=l.split("-")[0];if(u=Ab(h),u)return u;if("en"===h)return BS;throw new Error(`Missing locale data for the locale "${a}".`)}function Db(a){return Rf(a)[wt.PluralCase]}function Ab(a){return a in ga||(ga[a]=Qt.ng&&Qt.ng.common&&Qt.ng.common.locales&&Qt.ng.common.locales[a]),ga[a]}var wt=(()=>((wt=wt||{})[wt.LocaleId=0]="LocaleId",wt[wt.DayPeriodsFormat=1]="DayPeriodsFormat",wt[wt.DayPeriodsStandalone=2]="DayPeriodsStandalone",wt[wt.DaysFormat=3]="DaysFormat",wt[wt.DaysStandalone=4]="DaysStandalone",wt[wt.MonthsFormat=5]="MonthsFormat",wt[wt.MonthsStandalone=6]="MonthsStandalone",wt[wt.Eras=7]="Eras",wt[wt.FirstDayOfWeek=8]="FirstDayOfWeek",wt[wt.WeekendRange=9]="WeekendRange",wt[wt.DateFormat=10]="DateFormat",wt[wt.TimeFormat=11]="TimeFormat",wt[wt.DateTimeFormat=12]="DateTimeFormat",wt[wt.NumberSymbols=13]="NumberSymbols",wt[wt.NumberFormats=14]="NumberFormats",wt[wt.CurrencyCode=15]="CurrencyCode",wt[wt.CurrencySymbol=16]="CurrencySymbol",wt[wt.CurrencyName=17]="CurrencyName",wt[wt.Currencies=18]="Currencies",wt[wt.Directionality=19]="Directionality",wt[wt.PluralCase=20]="PluralCase",wt[wt.ExtraData=21]="ExtraData",wt))();const Fm="en-US";let Bm=Fm;function ao(a){_t(a,"Expected localeId to be defined"),"string"==typeof a&&(Bm=a.toLowerCase().replace(/_/g,"-"))}function qb(a,l,u,h,g){if(a=F(a),Array.isArray(a))for(let _=0;_<a.length;_++)qb(a[_],l,u,h,g);else{const _=Gt(),b=Ne();let w=xc(a)?a:F(a.provide),T=bC(a);const M=mn(),R=1048575&M.providerIndexes,N=M.directiveStart,L=M.providerIndexes>>20;if(xc(a)||!a.multi){const $=new Kl(T,g,Sm),J=Bc(w,l,g?R:R+L,N);-1===J?(Lr(tc(M,b),_,w),yd(_,a,l.length),l.push(w),M.directiveStart++,M.directiveEnd++,g&&(M.providerIndexes+=1048576),u.push($),b.push($)):(u[J]=$,b[J]=$)}else{const $=Bc(w,l,R+L,N),J=Bc(w,l,R,R+L),me=$>=0&&u[$],he=J>=0&&u[J];if(g&&!he||!g&&!me){Lr(tc(M,b),_,w);const Le=function(a,l,u,h,g){const _=new Kl(a,u,Sm);return _.multi=[],_.index=l,_.componentProviders=0,lI(_,g,h&&!u),_}(g?Mx:Ax,u.length,g,h,T);!g&&he&&(u[J].providerFactory=Le),yd(_,a,l.length,0),l.push(w),M.directiveStart++,M.directiveEnd++,g&&(M.providerIndexes+=1048576),u.push(Le),b.push(Le)}else yd(_,a,$>-1?$:J,lI(u[g?J:$],T,!g&&h));!g&&h&&he&&u[J].componentProviders++}}}function yd(a,l,u,h){const g=xc(l);if(g||function(a){return!!a.useClass}(l)){const b=(l.useClass||l).prototype.ngOnDestroy;if(b){const w=a.destroyHooks||(a.destroyHooks=[]);if(!g&&l.multi){const T=w.indexOf(u);-1===T?w.push(u,[h,b]):w[T+1].push(h,b)}else w.push(u,b)}}}function lI(a,l,u){return u&&a.componentProviders++,a.multi.push(l)-1}function Bc(a,l,u,h){for(let g=u;g<h;g++)if(l[g]===a)return g;return-1}function Ax(a,l,u,h){return Uc(this.multi,[])}function Mx(a,l,u,h){const g=this.multi;let _;if(this.providerFactory){const b=this.providerFactory.componentProviders,w=rc(u,u[1],this.providerFactory.index,h);_=w.slice(0,b),Uc(g,_);for(let T=b;T<w.length;T++)_.push(w[T])}else _=[],Uc(g,_);return _}function Uc(a,l){for(let u=0;u<a.length;u++)l.push((0,a[u])());return l}function cI(a,l=[]){return u=>{u.providersResolver=(h,g)=>function(a,l,u){const h=Gt();if(h.firstCreatePass){const g=Nr(a);qb(u,h.data,h.blueprint,g,!0),qb(l,h.data,h.blueprint,g,!1)}}(h,g?g(a):a,l)}}class uI{}const hI="ngComponent";class Ox{resolveComponentFactory(l){throw function(a){const l=Error(`No component factory found for ${re(a)}. Did you add it to @NgModule.entryComponents?`);return l[hI]=a,l}(l)}}class jc{}function zm(...a){}function vd(a,l){return new lo(at(a,l))}jc.NULL=new Ox;const _P=function(){return vd(mn(),Ne())};let lo=(()=>{class a{constructor(u){this.nativeElement=u}}return a.__NG_ELEMENT_ID__=_P,a})();function Zb(a){return a instanceof lo?a.nativeElement:a}class Hf{}let Vx=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>Ux(),a})();const Ux=function(){const a=Ne(),u=nr(mn().index,a);return function(a){return a[11]}(pi(u)?u:a)};let Kb=(()=>{class a{}return a.\u0275prov=It({token:a,providedIn:"root",factory:()=>null}),a})();class fI{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const Qb=new fI("12.2.3");class qm{constructor(){}supports(l){return nd(l)}create(l){return new bd(l)}}const pI=(a,l)=>l;class bd{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||pI}forEachItem(l){let u;for(u=this._itHead;null!==u;u=u._next)l(u)}forEachOperation(l){let u=this._itHead,h=this._removalsHead,g=0,_=null;for(;u||h;){const b=!h||u&&u.currentIndex<mI(h,g,_)?u:h,w=mI(b,g,_),T=b.currentIndex;if(b===h)g--,h=h._nextRemoved;else if(u=u._next,null==b.previousIndex)g++;else{_||(_=[]);const M=w-g,R=T-g;if(M!=R){for(let L=0;L<M;L++){const $=L<_.length?_[L]:_[L]=0,J=$+L;R<=J&&J<M&&(_[L]=$+1)}_[b.previousIndex]=R-M}}w!==T&&l(b,w,T)}}forEachPreviousItem(l){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachMovedItem(l){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}forEachIdentityChange(l){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)l(u)}diff(l){if(null==l&&(l=[]),!nd(l))throw new Error(`Error trying to diff '${re(l)}'. Only arrays and iterables are allowed`);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let g,_,b,u=this._itHead,h=!1;if(Array.isArray(l)){this.length=l.length;for(let w=0;w<this.length;w++)_=l[w],b=this._trackByFn(w,_),null!==u&&Object.is(u.trackById,b)?(h&&(u=this._verifyReinsertion(u,_,b,w)),Object.is(u.item,_)||this._addIdentityChange(u,_)):(u=this._mismatch(u,_,b,w),h=!0),u=u._next}else g=0,function(a,l){if(Array.isArray(a))for(let u=0;u<a.length;u++)l(a[u]);else{const u=a[kc()]();let h;for(;!(h=u.next()).done;)l(h.value)}}(l,w=>{b=this._trackByFn(g,w),null!==u&&Object.is(u.trackById,b)?(h&&(u=this._verifyReinsertion(u,w,b,g)),Object.is(u.item,w)||this._addIdentityChange(u,w)):(u=this._mismatch(u,w,b,g),h=!0),u=u._next,g++}),this.length=g;return this._truncate(u),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,u,h,g){let _;return null===l?_=this._itTail:(_=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._reinsertAfter(l,_,g)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(h,g))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._moveAfter(l,_,g)):l=this._addAfter(new Hx(u,h),_,g),l}_verifyReinsertion(l,u,h,g){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==_?l=this._reinsertAfter(_,l._prev,g):l.currentIndex!=g&&(l.currentIndex=g,this._addToMoves(l,g)),l}_truncate(l){for(;null!==l;){const u=l._next;this._addToRemovals(this._unlink(l)),l=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,u,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const g=l._prevRemoved,_=l._nextRemoved;return null===g?this._removalsHead=_:g._nextRemoved=_,null===_?this._removalsTail=g:_._prevRemoved=g,this._insertAfter(l,u,h),this._addToMoves(l,h),l}_moveAfter(l,u,h){return this._unlink(l),this._insertAfter(l,u,h),this._addToMoves(l,h),l}_addAfter(l,u,h){return this._insertAfter(l,u,h),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,u,h){const g=null===u?this._itHead:u._next;return l._next=g,l._prev=u,null===g?this._itTail=l:g._prev=l,null===u?this._itHead=l:u._next=l,null===this._linkedRecords&&(this._linkedRecords=new gI),this._linkedRecords.put(l),l.currentIndex=h,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const u=l._prev,h=l._next;return null===u?this._itHead=h:u._next=h,null===h?this._itTail=u:h._prev=u,l}_addToMoves(l,u){return l.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new gI),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,u){return l.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class Hx{constructor(l,u){this.item=l,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Gx{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,u){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===u||u<=h.currentIndex)&&Object.is(h.trackById,l))return h;return null}remove(l){const u=l._prevDup,h=l._nextDup;return null===u?this._head=h:u._nextDup=h,null===h?this._tail=u:h._prevDup=u,null===this._head}}class gI{constructor(){this.map=new Map}put(l){const u=l.trackById;let h=this.map.get(u);h||(h=new Gx,this.map.set(u,h)),h.add(l)}get(l,u){const g=this.map.get(l);return g?g.get(l,u):null}remove(l){const u=l.trackById;return this.map.get(u).remove(l)&&this.map.delete(u),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function mI(a,l,u){const h=a.previousIndex;if(null===h)return h;let g=0;return u&&h<u.length&&(g=u[h]),h+l+g}class Jb{constructor(){}supports(l){return l instanceof Map||ym(l)}create(){return new $x}}class $x{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let u;for(u=this._mapHead;null!==u;u=u._next)l(u)}forEachPreviousItem(l){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)l(u)}forEachChangedItem(l){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}diff(l){if(l){if(!(l instanceof Map||ym(l)))throw new Error(`Error trying to diff '${re(l)}'. Only maps and objects are allowed`)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(l,(h,g)=>{if(u&&u.key===g)this._maybeAddToChanges(u,h),this._appendAfter=u,u=u._next;else{const _=this._getOrCreateRecordForKey(g,h);u=this._insertBeforeOrAppend(u,_)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let h=u;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,u){if(l){const h=l._prev;return u._next=l,u._prev=h,l._prev=u,h&&(h._next=u),l===this._mapHead&&(this._mapHead=u),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(l,u){if(this._records.has(l)){const g=this._records.get(l);this._maybeAddToChanges(g,u);const _=g._prev,b=g._next;return _&&(_._next=b),b&&(b._prev=_),g._next=null,g._prev=null,g}const h=new zx(l);return this._records.set(l,h),h.currentValue=u,this._addToAdditions(h),h}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,u){Object.is(u,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=u,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,u){l instanceof Map?l.forEach(u):Object.keys(l).forEach(h=>u(l[h],h))}}class zx{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ai(){return new Wm([new qm])}let Wm=(()=>{class a{constructor(u){this.factories=u}static create(u,h){if(null!=h){const g=h.factories.slice();u=u.concat(g)}return new a(u)}static extend(u){return{provide:a,useFactory:h=>a.create(u,h||ai()),deps:[[a,new sa,new Co]]}}find(u){const h=this.factories.find(g=>g.supports(u));if(null!=h)return h;throw new Error(`Cannot find a differ supporting object '${u}' of type '${function(a){return a.name||typeof a}(u)}'`)}}return a.\u0275prov=It({token:a,providedIn:"root",factory:ai}),a})();function Gf(){return new ma([new Jb])}let ma=(()=>{class a{constructor(u){this.factories=u}static create(u,h){if(h){const g=h.factories.slice();u=u.concat(g)}return new a(u)}static extend(u){return{provide:a,useFactory:h=>a.create(u,h||Gf()),deps:[[a,new sa,new Co]]}}find(u){const h=this.factories.find(g=>g.supports(u));if(h)return h;throw new Error(`Cannot find a differ supporting object '${u}'`)}}return a.\u0275prov=It({token:a,providedIn:"root",factory:Gf}),a})();function _a(a,l,u,h,g=!1){for(;null!==u;){const _=l[u.index];if(null!==_&&h.push(Ie(_)),ei(_))for(let w=10;w<_.length;w++){const T=_[w],M=T[1].firstChild;null!==M&&_a(T[1],T,M,h)}const b=u.type;if(8&b)_a(a,l,u.child,h);else if(32&b){const w=Vg(u,l);let T;for(;T=w();)h.push(T)}else if(16&b){const w=Gg(l,u);if(Array.isArray(w))h.push(...w);else{const T=Kh(l[16]);_a(T[1],T,w,h,!0)}}u=g?u.projectionNext:u.next}return h}class $f{constructor(l,u){this._lView=l,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,u=l[1];return _a(u,l,u.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(ei(l)){const u=l[8],h=u?u.indexOf(this):-1;h>-1&&(F0(l,h),Za(u,h))}this._attachedToViewContainer=!1}Xh(this._lView[1],this._lView)}onDestroy(l){Pv(this._lView[1],this._lView,null,l)}markForCheck(){Uv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){um(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(a,l,u){Cu(!0);try{um(a,l,u)}finally{Cu(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var l;this._appRef=null,qu(this._lView[1],l=this._lView,l[11],2,null,null)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=l}}class qx extends $f{constructor(l){super(l),this._view=l}detectChanges(){fC(this._view)}checkNoChanges(){!function(a){Cu(!0);try{fC(a)}finally{Cu(!1)}}(this._view)}get context(){return null}}const _I=function(a){return function(a,l,u){if(ys(a)&&!u){const h=nr(a.index,l);return new $f(h,h)}return 47&a.type?new $f(l[16],l):null}(mn(),Ne(),16==(16&a))};let Wx=(()=>{class a{}return a.__NG_ELEMENT_ID__=_I,a})();const eE=[new Jb],Hc=new Wm([new qm]),bI=new ma(eE),Yx=function(){return zf(mn(),Ne())};let Ed=(()=>{class a{}return a.__NG_ELEMENT_ID__=Yx,a})();const Kx=Ed,Qx=class extends Kx{constructor(l,u,h){super(),this._declarationLView=l,this._declarationTContainer=u,this.elementRef=h}createEmbeddedView(l){const u=this._declarationTContainer.tViews,h=Zu(this._declarationLView,u,l,16,null,u.declTNode,null,null,null,null);h[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(h[19]=_.createEmbeddedView(u)),im(u,h,l),new $f(h)}};function zf(a,l){return 4&a.type?new Qx(l,a,vd(a,l)):null}class Gc{}class EI{}const eR=function(){return tE(mn(),Ne())};let Ym=(()=>{class a{}return a.__NG_ELEMENT_ID__=eR,a})();const tR=Ym,nR=class extends tR{constructor(l,u,h){super(),this._lContainer=l,this._hostTNode=u,this._hostLView=h}get element(){return vd(this._hostTNode,this._hostLView)}get injector(){return new ra(this._hostTNode,this._hostLView)}get parentInjector(){const l=na(this._hostTNode,this._hostLView);if($a(l)){const u=Jl(l,this._hostLView),h=ta(l);return new ra(u[1].data[h+8],u)}return new ra(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const u=SI(this._lContainer);return null!==u&&u[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,u,h){const g=l.createEmbeddedView(u||{});return this.insert(g,h),g}createComponent(l,u,h,g,_){const b=h||this.parentInjector;if(!_&&null==l.ngModule&&b){const T=b.get(Gc,null);T&&(_=T)}const w=l.create(b,g,void 0,_);return this.insert(w.hostView,u),w}insert(l,u){const h=l._lView,g=h[1];if(ei(h[3])){const R=this.indexOf(l);if(-1!==R)this.detach(R);else{const N=h[3],L=new nR(N,N[6],N[3]);L.detach(L.indexOf(l))}}const _=this._adjustIndex(u),b=this._lContainer;!function(a,l,u,h){const g=10+h,_=u.length;h>0&&(u[g-1][4]=l),h<_-10?(l[4]=u[g],Sh(u,10+h,l)):(u.push(l),l[4]=null),l[3]=u;const b=l[17];null!==b&&u!==b&&function(a,l){const u=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===u?a[9]=[l]:u.push(l)}(b,l);const w=l[19];null!==w&&w.insertView(a),l[2]|=128}(g,h,b,_);const w=V0(_,b),T=h[11],M=ef(T,b[7]);return null!==M&&function(a,l,u,h,g,_){h[0]=g,h[6]=l,qu(a,h,u,1,g,_)}(g,b[6],T,h,M,w),l.attachToViewContainerRef(),Sh(II(b),_,l),l}move(l,u){return this.insert(l,u)}indexOf(l){const u=SI(this._lContainer);return null!==u?u.indexOf(l):-1}remove(l){const u=this._adjustIndex(l,-1),h=F0(this._lContainer,u);h&&(Za(II(this._lContainer),u),Xh(h[1],h))}detach(l){const u=this._adjustIndex(l,-1),h=F0(this._lContainer,u);return h&&null!=Za(II(this._lContainer),u)?new $f(h):null}_adjustIndex(l,u=0){return null==l?this.length+u:l}};function SI(a){return a[8]}function II(a){return a[8]||(a[8]=[])}function tE(a,l){let u;const h=l[a.index];if(ei(h))u=h;else{let g;if(8&a.type)g=Ie(h);else{const _=l[11];g=_.createComment("");const b=at(a,l);al(_,ef(_,b),g,function(a,l){return fn(a)?a.nextSibling(l):l.nextSibling}(_,b),!1)}l[a.index]=u=cC(h,l,g,a),td(l,u)}return new nR(u,a,l)}const Dd={};class GI extends jc{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const u=Cn(l);return new vE(u,this.ngModule)}}function $I(a){const l=[];for(let u in a)a.hasOwnProperty(u)&&l.push({propName:a[u],templateName:u});return l}const VR=new kn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>vc});class vE extends uI{constructor(l,u){super(),this.componentDef=l,this.ngModule=u,this.componentType=l.type,this.selector=l.selectors.map(Zg).join(","),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return $I(this.componentDef.inputs)}get outputs(){return $I(this.componentDef.outputs)}create(l,u,h,g){const _=(g=g||this.ngModule)?function(a,l){return{get:(u,h,g)=>{const _=a.get(u,Dd,g);return _!==Dd||h===Dd?_:l.get(u,h,g)}}}(l,g.injector):l,b=_.get(Hf,W),w=_.get(Kb,null),T=b.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",R=h?function(a,l,u){if(fn(a))return a.selectRootElement(l,u===je.ShadowDom);let h="string"==typeof l?a.querySelector(l):l;return h.textContent="",h}(T,h,this.componentDef.encapsulation):gv(b.createRenderer(null,this.componentDef),M,function(a){const l=a.toLowerCase();return"svg"===l?ka:"math"===l?"http://www.w3.org/1998/MathML/":null}(M)),N=this.componentDef.onPush?576:528,L=function(a,l){return{components:[],scheduler:a||vc,clean:gC,playerHandler:l||null,flags:0}}(),$=om(0,null,null,1,0,null,null,null,null,null),J=Zu(null,$,L,N,null,null,b,T,w,_);let me,he;Wl(J);try{const Le=function(a,l,u,h,g,_){const b=u[1];u[20]=a;const T=Yu(b,20,2,"#host",null),M=T.mergedAttrs=l.hostAttrs;null!==M&&(fm(T,M,!0),null!==a&&(Mu(g,a,M),null!==T.classes&&rf(g,a,T.classes),null!==T.styles&&Ev(g,a,T.styles)));const R=h.createRenderer(a,l),N=Zu(u,Nv(l),null,l.onPush?64:16,u[20],T,h,R,_||null,null);return b.firstCreatePass&&(Lr(tc(T,u),b,l.type),oC(b,T),Vv(T,u.length,1)),td(u,N),u[20]=N}(R,this.componentDef,J,b,T);if(R)if(h)Mu(T,R,["ng-version",Qb.full]);else{const{attrs:se,classes:it}=function(a){const l=[],u=[];let h=1,g=2;for(;h<a.length;){let _=a[h];if("string"==typeof _)2===g?""!==_&&l.push(_,a[++h]):8===g&&u.push(_);else{if(!Xs(g))break;g=_}h++}return{attrs:l,classes:u}}(this.componentDef.selectors[0]);se&&Mu(T,R,se),it&&it.length>0&&rf(T,R,it.join(" "))}if(he=tr($,20),void 0!==u){const se=he.projection=[];for(let it=0;it<this.ngContentSelectors.length;it++){const gt=u[it];se.push(null!=gt?Array.from(gt):null)}}me=function(a,l,u,h,g){const _=u[1],b=function(a,l,u){const h=mn();a.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),Bv(a,h,l,dl(a,l,1,null),u));const g=rc(l,a,h.directiveStart,h);Sr(g,l);const _=at(h,l);return _&&Sr(_,l),g}(_,u,l);if(h.components.push(b),a[8]=b,g&&g.forEach(T=>T(b,l)),l.contentQueries){const T=mn();l.contentQueries(1,b,T.directiveStart)}const w=mn();return!_.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(Ua(w.index),Qu(u[1],w,0,w.directiveStart,w.directiveEnd,l),am(l,b)),b}(Le,this.componentDef,J,L,[vf]),im($,J,null)}finally{Zl()}return new UR(this.componentType,me,vd(he,J),J,he)}}class UR extends class{}{constructor(l,u,h,g,_){super(),this.location=h,this._rootLView=g,this._tNode=_,this.instance=u,this.hostView=this.changeDetectorRef=new qx(g),this.componentType=l}get injector(){return new ra(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}const Xf=new Map;class FP extends Gc{constructor(l,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new GI(this);const h=hi(l),g=l[Be]||null;g&&ao(g),this._bootstrapComponents=Li(h.bootstrap),this._r3Injector=vC(l,u,[{provide:Gc,useValue:this},{provide:jc,useValue:this.componentFactoryResolver}],re(l)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(l)}get(l,u=Wt.THROW_IF_NOT_FOUND,h=st.Default){return l===Wt||l===Gc||l===Ac?this:this._r3Injector.get(l,u,h)}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class bE extends EI{constructor(l){super(),this.moduleType=l,null!==hi(l)&&function(a){const l=new Set;!function u(h){const g=hi(h,!0),_=g.id;null!==_&&(function(a,l,u){if(l&&l!==u)throw new Error(`Duplicate module registered for ${a} - ${re(l)} vs ${re(l.name)}`)}(_,Xf.get(_),h),Xf.set(_,h));const b=Li(g.imports);for(const w of b)l.has(w)||(l.add(w),u(w))}(a)}(l)}create(l){return new FP(this.moduleType,l)}}function qI(a,l,u,h){return function(a,l,u,h,g,_){const b=l+u;return oi(a,b,g)?ro(a,b+1,_?h.call(_,g):h(g)):ep(a,b+1)}(Ne(),Gn(),a,l,u,h)}function ep(a,l){const u=a[l];return u===Ct?void 0:u}function KR(a,l,u,h,g,_,b,w,T){const M=l+u;return function(a,l,u,h,g,_){const b=Nc(a,l,u,h);return Nc(a,l+2,g,_)||b}(a,M,g,_,b,w)?ro(a,M+4,T?h.call(T,g,_,b,w):h(g,_,b,w)):ep(a,M+4)}function JR(a,l){const u=Gt();let h;const g=a+20;u.firstCreatePass?(h=function(a,l){if(l)for(let u=l.length-1;u>=0;u--){const h=l[u];if(a===h.name)return h}throw new Me("302",`The pipe '${a}' could not be found!`)}(l,u.pipeRegistry),u.data[g]=h,h.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(g,h.onDestroy)):h=u.data[g];const _=h.factory||(h.factory=Xi(h.type)),b=Tn(Sm);try{const w=Xl(!1),T=_();return Xl(w),function(a,l,u,h){u>=a.data.length&&(a.data[u]=null,a.blueprint[u]=null),l[u]=h}(u,Ne(),g,T),T}finally{Tn(b)}}function QI(a,l,u,h,g,_){const b=a+20,w=Ne(),T=wr(w,b);return function(a,l){no.isWrapped(l)&&(l=no.unwrap(l),a[ns()]=Ct);return l}(w,function(a,l){return a[1].data[l].pure}(w,b)?KR(w,Gn(),l,T.transform,u,h,g,_,T):T.transform(u,h,g,_))}function SE(a){return l=>{setTimeout(a,void 0,l)}}const va=class extends f.xQ{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,u,h){var g,_,b;let w=l,T=u||(()=>null),M=h;if(l&&"object"==typeof l){const N=l;w=null===(g=N.next)||void 0===g?void 0:g.bind(N),T=null===(_=N.error)||void 0===_?void 0:_.bind(N),M=null===(b=N.complete)||void 0===b?void 0:b.bind(N)}this.__isAsync&&(T=SE(T),w&&(w=SE(w)),M&&(M=SE(M)));const R=super.subscribe({next:w,error:T,complete:M});return l instanceof fe.w&&l.add(R),R}};function JI(){return this._results[kc()]()}class r_{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=kc(),h=r_.prototype;h[u]||(h[u]=JI)}get changes(){return this._changes||(this._changes=new va)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,u){return this._results.reduce(l,u)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,u){const h=this;h.dirty=!1;const g=mi(l);(this._changesDetected=!function(a,l,u){if(a.length!==l.length)return!1;for(let h=0;h<a.length;h++){let g=a[h],_=l[h];if(u&&(g=u(g),_=u(_)),_!==g)return!1}return!0}(h._results,g,u))&&(h._results=g,h.length=g.length,h.last=g[this.length-1],h.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class XI{constructor(l){this.queryList=l,this.matches=null}clone(){return new XI(this.queryList)}setDirty(){this.queryList.setDirty()}}class IE{constructor(l=[]){this.queries=l}createEmbeddedView(l){const u=l.queries;if(null!==u){const h=null!==l.contentQueries?l.contentQueries[0]:u.length,g=[];for(let _=0;_<h;_++){const b=u.getByIndex(_);g.push(this.queries[b.indexInDeclarationView].clone())}return new IE(g)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let u=0;u<this.queries.length;u++)null!==AE(l,u).matches&&this.queries[u].setDirty()}}class eT{constructor(l,u,h=null){this.predicate=l,this.flags=u,this.read=h}}class TE{constructor(l=[]){this.queries=l}elementStart(l,u){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(l,u)}elementEnd(l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(l)}embeddedTView(l){let u=null;for(let h=0;h<this.length;h++){const g=null!==u?u.length:0,_=this.getByIndex(h).embeddedTView(l,g);_&&(_.indexInDeclarationView=h,null!==u?u.push(_):u=[_])}return null!==u?new TE(u):null}template(l,u){for(let h=0;h<this.queries.length;h++)this.queries[h].template(l,u)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class s_{constructor(l,u=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(l,u){this.isApplyingToNode(u)&&this.matchTNode(l,u)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,u){this.elementStart(l,u)}embeddedTView(l,u){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,u),new s_(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let h=l.parent;for(;null!==h&&8&h.type&&h.index!==u;)h=h.parent;return u===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(l,u){const h=this.metadata.predicate;if(Array.isArray(h))for(let g=0;g<h.length;g++){const _=h[g];this.matchTNodeWithReadOption(l,u,eO(u,_)),this.matchTNodeWithReadOption(l,u,Ou(u,l,_,!1,!1))}else h===Ed?4&u.type&&this.matchTNodeWithReadOption(l,u,-1):this.matchTNodeWithReadOption(l,u,Ou(u,l,h,!1,!1))}matchTNodeWithReadOption(l,u,h){if(null!==h){const g=this.metadata.read;if(null!==g)if(g===lo||g===Ym||g===Ed&&4&u.type)this.addMatch(u.index,-2);else{const _=Ou(u,l,g,!1,!1);null!==_&&this.addMatch(u.index,_)}else this.addMatch(u.index,h)}}addMatch(l,u){null===this.matches?this.matches=[l,u]:this.matches.push(l,u)}}function eO(a,l){const u=a.localNames;if(null!==u)for(let h=0;h<u.length;h+=2)if(u[h]===l)return u[h+1];return null}function tO(a,l,u,h){return-1===u?function(a,l){return 11&a.type?vd(a,l):4&a.type?zf(a,l):null}(l,a):-2===u?function(a,l,u){return u===lo?vd(l,a):u===Ed?zf(l,a):u===Ym?tE(l,a):void 0}(a,l,h):rc(a,a[1],u,l)}function o_(a,l,u,h){const g=l[19].queries[h];if(null===g.matches){const _=a.data,b=u.matches,w=[];for(let T=0;T<b.length;T+=2){const M=b[T];w.push(M<0?null:tO(l,_[M],b[T+1],u.metadata.read))}g.matches=w}return g.matches}function a_(a,l,u,h){const g=a.queries.getByIndex(u),_=g.matches;if(null!==_){const b=o_(a,l,g,u);for(let w=0;w<_.length;w+=2){const T=_[w];if(T>0)h.push(b[w/2]);else{const M=_[w+1],R=l[-T];for(let N=10;N<R.length;N++){const L=R[N];L[17]===L[3]&&a_(L[1],L,M,h)}if(null!==R[9]){const N=R[9];for(let L=0;L<N.length;L++){const $=N[L];a_($[1],$,M,h)}}}}}return h}function nT(a){const l=Ne(),u=Gt(),h=yh();Ko(h+1);const g=AE(u,h);if(a.dirty&&wo(l)===(2==(2&g.metadata.flags))){if(null===g.matches)a.reset([]);else{const _=g.crossesNgTemplate?a_(u,l,h,[]):o_(u,l,g,h);a.reset(_,Zb),a.notifyOnChanges()}return!0}return!1}function rT(a,l,u){const h=Gt();h.firstCreatePass&&(nO(h,new eT(a,l,u),-1),2==(2&l)&&(h.staticViewQueries=!0)),sT(h,Ne(),l)}function DE(a,l,u,h){const g=Gt();if(g.firstCreatePass){const _=mn();nO(g,new eT(l,u,h),_.index),function(a,l){const u=a.contentQueries||(a.contentQueries=[]);l!==(u.length?u[u.length-1]:-1)&&u.push(a.queries.length-1,l)}(g,a),2==(2&u)&&(g.staticContentQueries=!0)}sT(g,Ne(),u)}function iT(){return a=Ne(),l=yh(),a[19].queries[l].queryList;var a,l}function sT(a,l,u){const h=new r_(4==(4&u));Pv(a,l,h,h.destroy),null===l[19]&&(l[19]=new IE),l[19].queries.push(new XI(h))}function nO(a,l,u){null===a.queries&&(a.queries=new TE),a.queries.track(new s_(l,u))}function AE(a,l){return a.queries.getByIndex(l)}function oT(a,l){return zf(a,l)}const d_=new kn("Application Initializer");let Cl=(()=>{class a{constructor(u){this.appInits=u,this.resolve=zm,this.reject=zm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,g)=>{this.resolve=h,this.reject=g})}runInitializers(){if(this.initialized)return;const u=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let g=0;g<this.appInits.length;g++){const _=this.appInits[g]();if(lS(_))u.push(_);else if(ab(_)){const b=new Promise((w,T)=>{_.subscribe({complete:w,error:T})});u.push(b)}}Promise.all(u).then(()=>{h()}).catch(g=>{this.reject(g)}),0===u.length&&h(),this.initialized=!0}}return a.\u0275fac=function(u){return new(u||a)(Nn(d_,8))},a.\u0275prov=It({token:a,factory:a.\u0275fac}),a})();const BE=new kn("AppId"),xT={provide:BE,useFactory:function(){return`${rp()}${rp()}${rp()}`},deps:[]};function rp(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const RT=new kn("Platform Initializer"),OT=new kn("Platform ID"),Yc=new kn("appBootstrapListener");let h_=(()=>{class a{log(u){console.log(u)}warn(u){console.warn(u)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=It({token:a,factory:a.\u0275fac}),a})();const ip=new kn("LocaleId"),kT=new kn("DefaultCurrencyCode");class EO{constructor(l,u){this.ngModuleFactory=l,this.componentFactories=u}}const HE=function(a){return new bE(a)},CO=HE,SO=function(a){return Promise.resolve(HE(a))},LT=function(a){const l=HE(a),h=Li(hi(a).declarations).reduce((g,_)=>{const b=Cn(_);return b&&g.push(new vE(b)),g},[]);return new EO(l,h)},IO=LT,zE=function(a){return Promise.resolve(LT(a))};let Kc=(()=>{class a{constructor(){this.compileModuleSync=CO,this.compileModuleAsync=SO,this.compileModuleAndAllComponentsSync=IO,this.compileModuleAndAllComponentsAsync=zE}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=It({token:a,factory:a.\u0275fac}),a})();const VT=(()=>Promise.resolve(0))();function m_(a){"undefined"==typeof Zone?VT.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class Hi{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new va(!1),this.onMicrotaskEmpty=new va(!1),this.onStable=new va(!1),this.onError=new va(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!h&&u,g.shouldCoalesceRunChangeDetection=h,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function(){let a=Qt.requestAnimationFrame,l=Qt.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&l){const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u);const h=l[Zone.__symbol__("OriginalDelegate")];h&&(l=h)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function(a){const l=()=>{!function(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(Qt,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,op(a),a.isCheckStableRunning=!0,sp(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),op(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,h,g,_,b,w)=>{try{return __(a),u.invokeTask(g,_,b,w)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||a.shouldCoalesceRunChangeDetection)&&l(),y_(a)}},onInvoke:(u,h,g,_,b,w,T)=>{try{return __(a),u.invoke(g,_,b,w,T)}finally{a.shouldCoalesceRunChangeDetection&&l(),y_(a)}},onHasTask:(u,h,g,_)=>{u.hasTask(g,_),h===g&&("microTask"==_.change?(a._hasPendingMicrotasks=_.microTask,op(a),sp(a)):"macroTask"==_.change&&(a.hasPendingMacrotasks=_.macroTask))},onHandleError:(u,h,g,_)=>(u.handleError(g,_),a.runOutsideAngular(()=>a.onError.emit(_)),!1)})}(g)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Hi.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Hi.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(l,u,h){return this._inner.run(l,u,h)}runTask(l,u,h,g){const _=this._inner,b=_.scheduleEventTask("NgZoneEvent: "+g,l,BT,zm,zm);try{return _.runTask(b,u,h)}finally{_.cancelTask(b)}}runGuarded(l,u,h){return this._inner.runGuarded(l,u,h)}runOutsideAngular(l){return this._outer.run(l)}}const BT={};function sp(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function op(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function __(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function y_(a){a._nesting--,sp(a)}class Tr{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new va,this.onMicrotaskEmpty=new va,this.onStable=new va,this.onError=new va}run(l,u,h){return l.apply(u,h)}runGuarded(l,u,h){return l.apply(u,h)}runOutsideAngular(l){return l()}runTask(l,u,h,g){return l.apply(u,h)}}let Dr=(()=>{class a{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Hi.assertNotInAngularZone(),m_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())m_(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(u)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,h,g){let _=-1;h&&h>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==_),u(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:u,timeoutId:_,updateCb:g})}whenStable(u,h,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,h,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,h,g){return[]}}return a.\u0275fac=function(u){return new(u||a)(Nn(Hi))},a.\u0275prov=It({token:a,factory:a.\u0275fac}),a})(),ap=(()=>{class a{constructor(){this._applications=new Map,YE.addToWindow(this)}registerApplication(u,h){this._applications.set(u,h)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,h=!0){return YE.findTestabilityInTree(this,u,h)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=It({token:a,factory:a.\u0275fac}),a})();class ZE{addToWindow(l){}findTestabilityInTree(l,u,h){return null}}function AO(a){YE=a}let YE=new ZE,KE=!0,jT=!1;function QE(){return jT=!0,KE}function JE(){if(jT)throw new Error("Cannot enable prod mode after platform setup.");KE=!1}let ls;const Md=new kn("AllowMultipleToken");class $T{constructor(l,u){this.name=l,this.token=u}}function tw(a,l,u=[]){const h=`Platform: ${l}`,g=new kn(h);return(_=[])=>{let b=qT();if(!b||b.injector.get(Md,!1))if(a)a(u.concat(_).concat({provide:g,useValue:!0}));else{const w=u.concat(_).concat({provide:g,useValue:!0},{provide:ff,useValue:"platform"});!function(a){if(ls&&!ls.destroyed&&!ls.injector.get(Md,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ls=a.get(Qc);const l=a.get(RT,null);l&&l.forEach(u=>u())}(Wt.create({providers:w,name:h}))}return function(a){const l=qT();if(!l)throw new Error("No platform exists!");if(!l.injector.get(a,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return l}(g)}}function qT(){return ls&&!ls.destroyed?ls:null}let Qc=(()=>{class a{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,h){const w=function(a,l){let u;return u="noop"===a?new Tr:("zone.js"===a?void 0:a)||new Hi({enableLongStackTrace:QE(),shouldCoalesceEventChangeDetection:!!(null==l?void 0:l.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==l?void 0:l.ngZoneRunCoalescing)}),u}(h?h.ngZone:void 0,{ngZoneEventCoalescing:h&&h.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:h&&h.ngZoneRunCoalescing||!1}),T=[{provide:Hi,useValue:w}];return w.run(()=>{const M=Wt.create({providers:T,parent:this.injector,name:u.moduleType.name}),R=u.create(M),N=R.injector.get(I,null);if(!N)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return w.runOutsideAngular(()=>{const L=w.onError.subscribe({next:$=>{N.handleError($)}});R.onDestroy(()=>{Rd(this._modules,R),L.unsubscribe()})}),function(a,l,u){try{const h=u();return lS(h)?h.catch(g=>{throw l.runOutsideAngular(()=>a.handleError(g)),g}):h}catch(h){throw l.runOutsideAngular(()=>a.handleError(h)),h}}(N,w,()=>{const L=R.injector.get(Cl);return L.runInitializers(),L.donePromise.then(()=>(ao(R.injector.get(ip,Fm)||Fm),this._moduleDoBootstrap(R),R))})})}bootstrapModule(u,h=[]){const g=Sl({},h);return function(a,l,u){const h=new bE(u);return Promise.resolve(h)}(0,0,u).then(_=>this.bootstrapModuleFactory(_,g))}_moduleDoBootstrap(u){const h=u.injector.get(xd);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(g=>h.bootstrap(g));else{if(!u.instance.ngDoBootstrap)throw new Error(`The module ${re(u.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);u.instance.ngDoBootstrap(h)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(u){return new(u||a)(Nn(Wt))},a.\u0275prov=It({token:a,factory:a.\u0275fac}),a})();function Sl(a,l){return Array.isArray(l)?l.reduce(Sl,a):Object.assign(Object.assign({},a),l)}let xd=(()=>{class a{constructor(u,h,g,_,b){this._zone=u,this._injector=h,this._exceptionHandler=g,this._componentFactoryResolver=_,this._initStatus=b,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new G.y(M=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{M.next(this._stable),M.complete()})}),T=new G.y(M=>{let R;this._zone.runOutsideAngular(()=>{R=this._zone.onStable.subscribe(()=>{Hi.assertNotInAngularZone(),m_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,M.next(!0))})})});const N=this._zone.onUnstable.subscribe(()=>{Hi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{M.next(!1)}))});return()=>{R.unsubscribe(),N.unsubscribe()}});this.isStable=(0,ie.T)(w,T.pipe((0,_e.B)()))}bootstrap(u,h){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let g;g=u instanceof uI?u:this._componentFactoryResolver.resolveComponentFactory(u),this.componentTypes.push(g.componentType);const _=function(a){return a.isBoundToModule}(g)?void 0:this._injector.get(Gc),w=g.create(Wt.NULL,[],h||g.selector,_),T=w.location.nativeElement,M=w.injector.get(Dr,null),R=M&&w.injector.get(ap);return M&&R&&R.registerApplication(T,M),w.onDestroy(()=>{this.detachView(w.hostView),Rd(this.components,w),R&&R.unregisterApplication(T)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const h=u;this._views.push(h),h.attachToAppRef(this)}detachView(u){const h=u;Rd(this._views,h),h.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(Yc,[]).concat(this._bootstrapListeners).forEach(g=>g(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return a.\u0275fac=function(u){return new(u||a)(Nn(Hi),Nn(Wt),Nn(I),Nn(jc),Nn(Cl))},a.\u0275prov=It({token:a,factory:a.\u0275fac}),a})();function Rd(a,l){const u=a.indexOf(l);u>-1&&a.splice(u,1)}class WT{}class ZT{}const YT={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let up=(()=>{class a{constructor(u,h){this._compiler=u,this._config=h||YT}load(u){return this.loadAndCompile(u)}loadAndCompile(u){let[h,g]=u.split("#");return void 0===g&&(g="default"),V(8255)(h).then(_=>_[g]).then(_=>w_(_,h,g)).then(_=>this._compiler.compileModuleAsync(_))}loadFactory(u){let[h,g]=u.split("#"),_="NgFactory";return void 0===g&&(g="default",_=""),V(8255)(this._config.factoryPathPrefix+h+this._config.factoryPathSuffix).then(b=>b[g+_]).then(b=>w_(b,h,g))}}return a.\u0275fac=function(u){return new(u||a)(Nn(Kc),Nn(ZT,8))},a.\u0275prov=It({token:a,factory:a.\u0275fac}),a})();function w_(a,l,u){if(!a)throw new Error(`Cannot find '${u}' in '${l}'`);return a}const FO=function(a){return null},Mn=tw(null,"core",[{provide:OT,useValue:"unknown"},{provide:Qc,deps:[Wt]},{provide:ap,deps:[]},{provide:h_,deps:[]}]),UO=[{provide:xd,useClass:xd,deps:[Hi,Wt,I,jc,Cl]},{provide:VR,deps:[Hi],useFactory:function(a){let l=[];return a.onStable.subscribe(()=>{for(;l.length;)l.pop()()}),function(u){l.push(u)}}},{provide:Cl,useClass:Cl,deps:[[new Co,d_]]},{provide:Kc,useClass:Kc,deps:[]},xT,{provide:Wm,useFactory:function(){return Hc},deps:[]},{provide:ma,useFactory:function(){return bI},deps:[]},{provide:ip,useFactory:function(a){return ao(a=a||"undefined"!=typeof $localize&&$localize.locale||Fm),a},deps:[[new fc(ip),new Co,new sa]]},{provide:kT,useValue:"USD"}];let jO=(()=>{class a{constructor(u){}}return a.\u0275fac=function(u){return new(u||a)(Nn(xd))},a.\u0275mod=gs({type:a}),a.\u0275inj=ln({providers:UO}),a})()},9958:(et,Oe,V)=>{"use strict";V.d(Oe,{hO:()=>Me,xv:()=>K,Dh:()=>U,Ot:()=>Y,GT:()=>re,on:()=>F,pX:()=>oe});var f=V(7716),fe=V(4486);fe.Z.registerVersion("firebase","9.0.0","app-compat");var _e=V(9126);et=V.hmd(et);const ee=["ngOnDestroy"],oe=(ve,pe,ne,Ee={})=>new Proxy(ve,{get:(We,Ve)=>ne.runOutsideAngular(()=>{var Je;if(ve[Ve])return(null===(Je=null==Ee?void 0:Ee.spy)||void 0===Je?void 0:Je.get)&&Ee.spy.get(Ve,ve[Ve]),ve[Ve];if(ee.indexOf(Ve)>-1)return()=>{};const Mt=pe.toPromise().then(Te=>{const Nt=Te&&Te[Ve];return"function"==typeof Nt?Nt.bind(Te):Nt&&Nt.then?Nt.then(Et=>ne.run(()=>Et)):ne.run(()=>Nt)});return new Proxy(()=>{},{get:(Te,Nt)=>Mt[Nt],apply:(Te,Nt,Et)=>Mt.then(we=>{var ge;const Ae=we&&we(...Et);return(null===(ge=null==Ee?void 0:Ee.spy)||void 0===ge?void 0:ge.apply)&&Ee.spy.apply(Ve,Et,Ae),Ae})})})}),re=(ve,pe)=>{pe.forEach(ne=>{Object.getOwnPropertyNames(ne.prototype||ne).forEach(Ee=>{Object.defineProperty(ve.prototype,Ee,Object.getOwnPropertyDescriptor(ne.prototype||ne,Ee))})})};class Y{constructor(pe){return pe}}const U=new f.OlP("angularfire2.app.options"),K=new f.OlP("angularfire2.app.name");function F(ve,pe,ne){const We="object"==typeof ne&&ne||{};We.name=We.name||"string"==typeof ne&&ne||"[DEFAULT]";const Je=fe.Z.apps.filter(Mt=>Mt&&Mt.name===We.name)[0]||pe.runOutsideAngular(()=>fe.Z.initializeApp(ve,We));try{JSON.stringify(ve)!==JSON.stringify(Je.options)&&Q("error",`${Je.name} Firebase App already initialized with different options${et.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Mt){}return new Y(Je)}const Q=(ve,...pe)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[ve](...pe)},le={provide:Y,useFactory:F,deps:[U,f.R0b,[new f.FiY,K]]};let Me=(()=>{class ve{constructor(ne){fe.Z.registerVersion("angularfire",_e.q4.full,`compat-${ne.toString()}`),fe.Z.registerVersion("angular",f.q4F.full)}static initializeApp(ne,Ee){return{ngModule:ve,providers:[{provide:U,useValue:ne},{provide:K,useValue:Ee}]}}}return ve.\u0275fac=function(ne){return new(ne||ve)(f.LFG(f.Lbi))},ve.\u0275mod=f.oAB({type:ve}),ve.\u0275inj=f.cJS({providers:[le]}),ve})()},9126:(et,Oe,V)=>{"use strict";V.d(Oe,{q4:()=>U,iC:()=>we,f6:()=>Et,HU:()=>Ve,cc:()=>Q});var f=V(7716);(0,V(5452).registerVersion)("firebase","9.0.0","app");var _e=V(7771),ee=V(3637),oe=V(3342),re=V(6136),Y=V(9673);et=V.hmd(et);const U=new f.GfV("7.0.0"),K=!!et.hot,F=(Ce,...ce)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[Ce](...ce)};function Q(Ce,ce,$e,dt,en){const[,ut,_t]=globalThis.\u0275AngularfireInstanceCache.find(ht=>ht[0]===Ce)||[];if(ut)return function(Ce,ce){try{return Ce.toString()===ce.toString()}catch($e){return Ce===ce}}(en,_t)||(F("error",`${ce} was already initialized on the ${$e} Firebase App with different settings.${K?" You may need to reload as Firebase is not HMR aware.":""}`),F("warn",{is:en,was:_t})),ut;{const ht=dt();return globalThis.\u0275AngularfireInstanceCache.push([Ce,ht,en]),ht}}function ne(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class Ee{constructor(ce,$e=_e.N){this.zone=ce,this.delegate=$e}now(){return this.delegate.now()}schedule(ce,$e,dt){const en=this.zone;return this.delegate.schedule(function(_t){en.runGuarded(()=>{ce.apply(this,[_t])})},$e,dt)}}class We{constructor(ce){this.zone=ce,this.task=null}call(ce,$e){const dt=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ne,{},ne,ne)),$e.pipe((0,oe.b)({next:dt,complete:dt,error:dt})).subscribe(ce).add(dt)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ve=(()=>{class Ce{constructor($e){this.ngZone=$e,this.outsideAngular=$e.runOutsideAngular(()=>new Ee(Zone.current)),this.insideAngular=$e.run(()=>new Ee(Zone.current,ee.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return Ce.\u0275fac=function($e){return new($e||Ce)(f.LFG(f.R0b))},Ce.\u0275prov=f.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})();function Je(){const Ce=globalThis.\u0275AngularFireScheduler;if(!Ce)throw new Error("AngularFireModule has not been provided");return Ce}function Et(Ce){return Ce.pipe((0,re.QV)(Je().insideAngular))}function we(Ce){return Je(),function(Ce){return function($e){return($e=$e.lift(new We(Ce.ngZone))).pipe((0,Y.R)(Ce.outsideAngular),(0,re.QV)(Ce.insideAngular))}}(Je())(Ce)}},9534:(et,Oe,V)=>{"use strict";V.d(Oe,{Gb:()=>vu,Kz:()=>Pa,EI:()=>Na,lT:()=>Er,Iv:()=>ka,xP:()=>zl,Xd:()=>bs});var f=V(8239),fe=V(5452),G=V(300),ie=V(4685),_e=V(6034),ee=V(6676);const U="w:0.5.0",K="FIS_v2",pe=new ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ne(B){return B instanceof ie.ZR&&B.code.includes("request-failed")}function Ee({projectId:B}){return`https://firebaseinstallations.googleapis.com/v1/projects/${B}/installations`}function We(B){return{token:B.token,requestStatus:2,expiresIn:we(B.expiresIn),creationTime:Date.now()}}function Ve(B,W){return Je.apply(this,arguments)}function Je(){return(Je=(0,f.Z)(function*(B,W){const Ie=(yield W.json()).error;return pe.create("request-failed",{requestName:B,serverCode:Ie.code,serverMessage:Ie.message,serverStatus:Ie.status})})).apply(this,arguments)}function Mt({apiKey:B}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":B})}function Te(B,{refreshToken:W}){const ae=Mt(B);return ae.append("Authorization",function(B){return`${K} ${B}`}(W)),ae}function Nt(B){return Et.apply(this,arguments)}function Et(){return(Et=(0,f.Z)(function*(B){const W=yield B();return W.status>=500&&W.status<600?B():W})).apply(this,arguments)}function we(B){return Number(B.replace("s","000"))}function Ae(B,W){return De.apply(this,arguments)}function De(){return(De=(0,f.Z)(function*(B,{fid:W}){const ae=Ee(B),Ke={method:"POST",headers:Mt(B),body:JSON.stringify({fid:W,authVersion:K,appId:B.appId,sdkVersion:U})},ot=yield Nt(()=>fetch(ae,Ke));if(ot.ok){const at=yield ot.json();return{fid:at.fid||W,registrationStatus:2,refreshToken:at.refreshToken,authToken:We(at.authToken)}}throw yield Ve("Create Installation",ot)})).apply(this,arguments)}function Ce(B){return new Promise(W=>{setTimeout(W,B)})}const $e=/^[cdef][\w-]{21}$/;function en(){try{const B=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(B),B[0]=112+B[0]%16;const ae=function(B){return function(B){return btoa(String.fromCharCode(...B)).replace(/\+/g,"-").replace(/\//g,"_")}(B).substr(0,22)}(B);return $e.test(ae)?ae:""}catch(B){return""}}function _t(B){return`${B.appName}!${B.appId}`}const ht=new Map;function En(B,W){const ae=_t(B);It(ae,W),function(B,W){const ae=(!ln&&"BroadcastChannel"in self&&(ln=new BroadcastChannel("[Firebase] FID Change"),ln.onmessage=B=>{It(B.data.key,B.data.fid)}),ln);ae&&ae.postMessage({key:B,fid:W}),0===ht.size&&ln&&(ln.close(),ln=null)}(ae,W)}function It(B,W){const ae=ht.get(B);if(ae)for(const Ie of ae)Ie(W)}let ln=null;const Yr="firebase-installations-store";let Rr=null;function Di(){return Rr||(Rr=(0,ee.openDb)("firebase-installations-database",1,B=>{switch(B.oldVersion){case 0:B.createObjectStore(Yr)}})),Rr}function Ai(B,W){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,f.Z)(function*(B,W){const ae=_t(B),Ue=(yield Di()).transaction(Yr,"readwrite"),Ke=Ue.objectStore(Yr),ot=yield Ke.get(ae);return yield Ke.put(W,ae),yield Ue.complete,(!ot||ot.fid!==W.fid)&&En(B,W.fid),W})).apply(this,arguments)}function st(B){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,f.Z)(function*(B){const W=_t(B),Ie=(yield Di()).transaction(Yr,"readwrite");yield Ie.objectStore(Yr).delete(W),yield Ie.complete})).apply(this,arguments)}function Or(B,W){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,f.Z)(function*(B,W){const ae=_t(B),Ue=(yield Di()).transaction(Yr,"readwrite"),Ke=Ue.objectStore(Yr),ot=yield Ke.get(ae),at=W(ot);return void 0===at?yield Ke.delete(ae):yield Ke.put(at,ae),yield Ue.complete,at&&(!ot||ot.fid!==at.fid)&&En(B,at.fid),at})).apply(this,arguments)}function xt(B){return yt.apply(this,arguments)}function yt(){return(yt=(0,f.Z)(function*(B){let W;const ae=yield Or(B,Ie=>{const Ue=$t(Ie),Ke=Ht(B,Ue);return W=Ke.registrationPromise,Ke.installationEntry});return""===ae.fid?{installationEntry:yield W}:{installationEntry:ae,registrationPromise:W}})).apply(this,arguments)}function $t(B){return Gs(B||{fid:en(),registrationStatus:0})}function Ht(B,W){if(0===W.registrationStatus){if(!navigator.onLine)return{installationEntry:W,registrationPromise:Promise.reject(pe.create("app-offline"))};const ae={fid:W.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:ae,registrationPromise:function(B,W){return tn.apply(this,arguments)}(B,ae)}}return 1===W.registrationStatus?{installationEntry:W,registrationPromise:je(B)}:{installationEntry:W}}function tn(){return(tn=(0,f.Z)(function*(B,W){try{return Ai(B,yield Ae(B,W))}catch(ae){throw ne(ae)&&409===ae.customData.serverCode?yield st(B):yield Ai(B,{fid:W.fid,registrationStatus:0}),ae}})).apply(this,arguments)}function je(B){return ft.apply(this,arguments)}function ft(){return(ft=(0,f.Z)(function*(B){let W=yield Ia(B);for(;1===W.registrationStatus;)yield Ce(100),W=yield Ia(B);if(0===W.registrationStatus){const{installationEntry:ae,registrationPromise:Ie}=yield xt(B);return Ie||ae}return W})).apply(this,arguments)}function Ia(B){return Or(B,W=>{if(!W)throw pe.create("installation-not-found");return Gs(W)})}function Gs(B){return function(B){return 1===B.registrationStatus&&B.registrationTime+1e4<Date.now()}(B)?{fid:B.fid,registrationStatus:0}:B}function Qt(B,W){return hr.apply(this,arguments)}function hr(){return(hr=(0,f.Z)(function*({appConfig:B,platformLoggerProvider:W},ae){const Ie=gu(B,ae),Ue=Te(B,ae),Ke=W.getImmediate({optional:!0});Ke&&Ue.append("x-firebase-client",Ke.getPlatformInfoString());const at={method:"POST",headers:Ue,body:JSON.stringify({installation:{sdkVersion:U}})},nn=yield Nt(()=>fetch(Ie,at));if(nn.ok)return We(yield nn.json());throw yield Ve("Generate Auth Token",nn)})).apply(this,arguments)}function gu(B,{fid:W}){return`${Ee(B)}/${W}/authTokens:generate`}function Jt(B){return q.apply(this,arguments)}function q(){return(q=(0,f.Z)(function*(B,W=!1){let ae;const Ie=yield Or(B.appConfig,Ke=>{if(!tt(Ke))throw pe.create("not-registered");const ot=Ke.authToken;if(!W&&zt(ot))return Ke;if(1===ot.requestStatus)return ae=z(B,W),Ke;{if(!navigator.onLine)throw pe.create("app-offline");const at=Lt(Ke);return ae=de(B,at),at}});return ae?yield ae:Ie.authToken})).apply(this,arguments)}function z(B,W){return ue.apply(this,arguments)}function ue(){return(ue=(0,f.Z)(function*(B,W){let ae=yield be(B.appConfig);for(;1===ae.authToken.requestStatus;)yield Ce(100),ae=yield be(B.appConfig);const Ie=ae.authToken;return 0===Ie.requestStatus?Jt(B,W):Ie})).apply(this,arguments)}function be(B){return Or(B,W=>{if(!tt(W))throw pe.create("not-registered");return function(B){return 1===B.requestStatus&&B.requestTime+1e4<Date.now()}(W.authToken)?Object.assign(Object.assign({},W),{authToken:{requestStatus:0}}):W})}function de(B,W){return Be.apply(this,arguments)}function Be(){return(Be=(0,f.Z)(function*(B,W){try{const ae=yield Qt(B,W),Ie=Object.assign(Object.assign({},W),{authToken:ae});return yield Ai(B.appConfig,Ie),ae}catch(ae){if(!ne(ae)||401!==ae.customData.serverCode&&404!==ae.customData.serverCode){const Ie=Object.assign(Object.assign({},W),{authToken:{requestStatus:0}});yield Ai(B.appConfig,Ie)}else yield st(B.appConfig);throw ae}})).apply(this,arguments)}function tt(B){return void 0!==B&&2===B.registrationStatus}function zt(B){return 2===B.requestStatus&&!function(B){const W=Date.now();return W<B.creationTime||B.creationTime+B.expiresIn<W+36e5}(B)}function Lt(B){const W={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},B),{authToken:W})}function Kn(){return(Kn=(0,f.Z)(function*(B){const W=B,{installationEntry:ae,registrationPromise:Ie}=yield xt(W.appConfig);return Ie?Ie.catch(console.error):Jt(W).catch(console.error),ae.fid})).apply(this,arguments)}function gs(){return(gs=(0,f.Z)(function*(B,W=!1){const ae=B;return yield Ll(ae.appConfig),(yield Jt(ae,W)).token})).apply(this,arguments)}function Ll(B){return ms.apply(this,arguments)}function ms(){return(ms=(0,f.Z)(function*(B){const{registrationPromise:W}=yield xt(B);W&&(yield W)})).apply(this,arguments)}function ze(B){return pe.create("missing-app-config-values",{valueName:B})}const Vt="installations";(0,fe._registerComponent)(new _e.wA(Vt,B=>{const W=B.getProvider("app").getImmediate();return{app:W,appConfig:function(B){if(!B||!B.options)throw ze("App Configuration");if(!B.name)throw ze("App Name");const W=["projectId","apiKey","appId"];for(const ae of W)if(!B.options[ae])throw ze(ae);return{appName:B.name,projectId:B.options.projectId,apiKey:B.options.apiKey,appId:B.options.appId}}(W),platformLoggerProvider:(0,fe._getProvider)(W,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,fe._registerComponent)(new _e.wA("installations-internal",B=>{const W=B.getProvider("app").getImmediate(),ae=(0,fe._getProvider)(W,Vt).getImmediate();return{getId:()=>function(B){return Kn.apply(this,arguments)}(ae),getToken:Ue=>function(B){return gs.apply(this,arguments)}(ae,Ue)}},"PRIVATE")),(0,fe.registerVersion)("@firebase/installations","0.5.0");const Qr="analytics",yn="firebase_id",Tt="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",xi="https://www.googletagmanager.com/gtag/js",gn=new G.Yd("@firebase/analytics");function vo(B){return Promise.all(B.map(W=>W.catch(ae=>ae)))}function Ho(B,W){const ae=document.createElement("script");ae.src=`${xi}?l=${B}&id=${W}`,ae.async=!0,document.head.appendChild(ae)}function Go(B,W,ae,Ie,Ue,Ke){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,f.Z)(function*(B,W,ae,Ie,Ue,Ke){const ot=Ie[Ue];try{if(ot)yield W[ot];else{const nn=(yield vo(ae)).find(tr=>tr.measurementId===Ue);nn&&(yield W[nn.appId])}}catch(at){gn.error(at)}B("config",Ue,Ke)})).apply(this,arguments)}function vr(B,W,ae,Ie,Ue){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,f.Z)(function*(B,W,ae,Ie,Ue){try{let Ke=[];if(Ue&&Ue.send_to){let ot=Ue.send_to;Array.isArray(ot)||(ot=[ot]);const at=yield vo(ae);for(const nn of ot){const tr=at.find(nr=>nr.measurementId===nn),wr=tr&&W[tr.appId];if(!wr){Ke=[];break}Ke.push(wr)}}0===Ke.length&&(Ke=Object.values(W)),yield Promise.all(Ke),B("event",Ie,Ue||{})}catch(Ke){gn.error(Ke)}})).apply(this,arguments)}function Jr(){const B=window.document.getElementsByTagName("script");for(const W of Object.values(B))if(W.src&&W.src.includes(xi))return W;return null}const Hn=new ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),_u=new class{constructor(W={},ae=1e3){this.throttleMetadata=W,this.intervalMillis=ae}getThrottleMetadata(W){return this.throttleMetadata[W]}setThrottleMetadata(W,ae){this.throttleMetadata[W]=ae}deleteThrottleMetadata(W){delete this.throttleMetadata[W]}};function pi(B){return new Headers({Accept:"application/json","x-goog-api-key":B})}function ei(B){return zs.apply(this,arguments)}function zs(){return(zs=(0,f.Z)(function*(B){var W;const{appId:ae,apiKey:Ie}=B,Ue={method:"GET",headers:pi(Ie)},Ke=Tt.replace("{app-id}",ae),ot=yield fetch(Ke,Ue);if(200!==ot.status&&304!==ot.status){let at="";try{const nn=yield ot.json();(null===(W=nn.error)||void 0===W?void 0:W.message)&&(at=nn.error.message)}catch(nn){}throw Hn.create("config-fetch-failed",{httpStatus:ot.status,responseMessage:at})}return ot.json()})).apply(this,arguments)}function ys(B){return pr.apply(this,arguments)}function pr(){return(pr=(0,f.Z)(function*(B,W=_u,ae){const{appId:Ie,apiKey:Ue,measurementId:Ke}=B.options;if(!Ie)throw Hn.create("no-app-id");if(!Ue){if(Ke)return{measurementId:Ke,appId:Ie};throw Hn.create("no-api-key")}const ot=W.getThrottleMetadata(Ie)||{backoffCount:0,throttleEndTimeMillis:Date.now()},at=new Bl;return setTimeout((0,f.Z)(function*(){at.abort()}),void 0!==ae?ae:6e4),Nr({appId:Ie,apiKey:Ue,measurementId:Ke},ot,at,W)})).apply(this,arguments)}function Nr(B,W,ae){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,f.Z)(function*(B,{throttleEndTimeMillis:W,backoffCount:ae},Ie,Ue=_u){const{appId:Ke,measurementId:ot}=B;try{yield Ji(Ie,W)}catch(at){if(ot)return gn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ot} provided in the "measurementId" field in the local Firebase config. [${at.message}]`),{appId:Ke,measurementId:ot};throw at}try{const at=yield ei(B);return Ue.deleteThrottleMetadata(Ke),at}catch(at){if(!ah(at)){if(Ue.deleteThrottleMetadata(Ke),ot)return gn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ot} provided in the "measurementId" field in the local Firebase config. [${at.message}]`),{appId:Ke,measurementId:ot};throw at}const nn=503===Number(at.customData.httpStatus)?(0,ie.$s)(ae,Ue.intervalMillis,30):(0,ie.$s)(ae,Ue.intervalMillis),tr={throttleEndTimeMillis:Date.now()+nn,backoffCount:ae+1};return Ue.setThrottleMetadata(Ke,tr),gn.debug(`Calling attemptFetch again in ${nn} millis`),Nr(B,tr,Ie,Ue)}})).apply(this,arguments)}function Ji(B,W){return new Promise((ae,Ie)=>{const Ue=Math.max(W-Date.now(),0),Ke=setTimeout(ae,Ue);B.addEventListener(()=>{clearTimeout(Ke),Ie(Hn.create("fetch-throttle",{throttleEndTimeMillis:W}))})})}function ah(B){if(!(B instanceof ie.ZR&&B.customData))return!1;const W=Number(B.customData.httpStatus);return 429===W||500===W||503===W||504===W}class Bl{constructor(){this.listeners=[]}addEventListener(W){this.listeners.push(W)}abort(){this.listeners.forEach(W=>W())}}function Wp(){return Da.apply(this,arguments)}function Da(){return(Da=(0,f.Z)(function*(){if(!(0,ie.hl)())return gn.warn(Hn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ie.eu)()}catch(B){return gn.warn(Hn.create("indexeddb-unavailable",{errorInfo:B}).message),!1}return!0})).apply(this,arguments)}function Aa(){return(Aa=(0,f.Z)(function*(B,W,ae,Ie,Ue,Ke,ot){var at;const nn=ys(B);nn.then(ts=>{ae[ts.measurementId]=ts.appId,B.options.measurementId&&ts.measurementId!==B.options.measurementId&&gn.warn(`The measurement ID in the local Firebase config (${B.options.measurementId}) does not match the measurement ID fetched from the server (${ts.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ts=>gn.error(ts)),W.push(nn);const tr=Wp().then(ts=>{if(ts)return Ie.getId()}),[wr,nr]=yield Promise.all([nn,tr]);Jr()||Ho(Ke,wr.measurementId),Ue("js",new Date);const wo=null!==(at=null==ot?void 0:ot.config)&&void 0!==at?at:{};return wo.origin="firebase",wo.update=!0,null!=nr&&(wo[yn]=nr),Ue("config",wr.measurementId,wo),wr.measurementId})).apply(this,arguments)}class Yp{constructor(W){this.app=W}_delete(){return delete vs[this.app.options.appId],Promise.resolve()}}let vs={},Ul=[];const qs={};let zo,Hl,jl="dataLayer",lh="gtag",Ma=!1;function bs(B){if(Ma)throw Hn.create("already-initialized");B.dataLayerName&&(jl=B.dataLayerName),B.gtagName&&(lh=B.gtagName)}function Es(B,W,ae){!function(){const B=[];if((0,ie.ru)()&&B.push("This is a browser extension environment."),(0,ie.zI)()||B.push("Cookies are not available."),B.length>0){const W=B.map((Ie,Ue)=>`(${Ue+1}) ${Ie}`).join(" "),ae=Hn.create("invalid-analytics-context",{errorInfo:W});gn.warn(ae.message)}}();const Ie=B.options.appId;if(!Ie)throw Hn.create("no-app-id");if(!B.options.apiKey){if(!B.options.measurementId)throw Hn.create("no-api-key");gn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${B.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=vs[Ie])throw Hn.create("already-exists",{id:Ie});if(!Ma){!function(B){let W=[];Array.isArray(window[B])?W=window[B]:window[B]=W}(jl);const{wrappedGtag:Ke,gtagCore:ot}=function(B,W,ae,Ie,Ue){let Ke=function(...ot){window[Ie].push(arguments)};return window[Ue]&&"function"==typeof window[Ue]&&(Ke=window[Ue]),window[Ue]=function(B,W,ae,Ie){function Ke(){return(Ke=(0,f.Z)(function*(ot,at,nn){try{"event"===ot?yield vr(B,W,ae,at,nn):"config"===ot?yield Go(B,W,ae,Ie,at,nn):B("set",at)}catch(tr){gn.error(tr)}})).apply(this,arguments)}return function(ot,at,nn){return Ke.apply(this,arguments)}}(Ke,B,W,ae),{gtagCore:Ke,wrappedGtag:window[Ue]}}(vs,Ul,qs,jl,lh);Hl=Ke,zo=ot,Ma=!0}return vs[Ie]=function(B,W,ae,Ie,Ue,Ke,ot){return Aa.apply(this,arguments)}(B,Ul,qs,W,zo,jl,ae),new Yp(B)}function qo(){return(qo=(0,f.Z)(function*(B,W,ae,Ie,Ue){if(Ue&&Ue.global)B("event",ae,Ie);else{const Ke=yield W;B("event",ae,Object.assign(Object.assign({},Ie),{send_to:Ke}))}})).apply(this,arguments)}function Xi(){return(Xi=(0,f.Z)(function*(B,W,ae,Ie){if(Ie&&Ie.global)return B("set",{screen_name:ae}),Promise.resolve();B("config",yield W,{update:!0,screen_name:ae})})).apply(this,arguments)}function es(){return(es=(0,f.Z)(function*(B,W,ae,Ie){if(Ie&&Ie.global)return B("set",{user_id:ae}),Promise.resolve();B("config",yield W,{update:!0,user_id:ae})})).apply(this,arguments)}function xa(){return(xa=(0,f.Z)(function*(B,W,ae,Ie){if(Ie&&Ie.global){const Ue={};for(const Ke of Object.keys(ae))Ue[`user_properties.${Ke}`]=ae[Ke];return B("set",Ue),Promise.resolve()}B("config",yield W,{update:!0,user_properties:ae})})).apply(this,arguments)}function Eo(){return(Eo=(0,f.Z)(function*(B,W){const ae=yield B;window[`ga-disable-${ae}`]=!W})).apply(this,arguments)}function vu(){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,f.Z)(function*(){if((0,ie.ru)()||!(0,ie.zI)()||!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch(B){return!1}})).apply(this,arguments)}function Er(B,W,ae){B=(0,ie.m9)(B),function(B,W,ae,Ie){return Xi.apply(this,arguments)}(Hl,vs[B.app.options.appId],W,ae).catch(Ie=>gn.error(Ie))}function ka(B,W,ae){B=(0,ie.m9)(B),function(B,W,ae,Ie){return es.apply(this,arguments)}(Hl,vs[B.app.options.appId],W,ae).catch(Ie=>gn.error(Ie))}function zl(B,W,ae){B=(0,ie.m9)(B),function(B,W,ae,Ie){return xa.apply(this,arguments)}(Hl,vs[B.app.options.appId],W,ae).catch(Ie=>gn.error(Ie))}function Na(B,W){B=(0,ie.m9)(B),function(B,W){return Eo.apply(this,arguments)}(vs[B.app.options.appId],W).catch(ae=>gn.error(ae))}function Pa(B,W,ae,Ie){B=(0,ie.m9)(B),function(B,W,ae,Ie,Ue){return qo.apply(this,arguments)}(Hl,vs[B.app.options.appId],W,ae,Ie).catch(Ue=>gn.error(Ue))}(0,fe._registerComponent)(new _e.wA(Qr,(W,{options:ae})=>Es(W.getProvider("app").getImmediate(),W.getProvider("installations-internal").getImmediate(),ae),"PUBLIC")),(0,fe._registerComponent)(new _e.wA("analytics-internal",function(W){try{const ae=W.getProvider(Qr).getImmediate();return{logEvent:(Ie,Ue,Ke)=>Pa(ae,Ie,Ue,Ke)}}catch(ae){throw Hn.create("interop-component-reg-failed",{reason:ae})}},"PRIVATE")),(0,fe.registerVersion)("@firebase/analytics","0.7.0")},4486:(et,Oe,V)=>{"use strict";V.d(Oe,{Z:()=>ve});var f=V(4685),fe=V(6034),G=V(5452),ie=V(300);class _e{constructor(ne,Ee){this._delegate=ne,this.firebase=Ee,(0,G._addComponent)(ne,new fe.wA("app-compat",()=>this,"PUBLIC")),this.container=ne.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ne){this._delegate.automaticDataCollectionEnabled=ne}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ne=>{this._delegate.checkDestroyed(),ne()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,G.deleteApp)(this._delegate)))}_getService(ne,Ee=G._DEFAULT_ENTRY_NAME){var We;this._delegate.checkDestroyed();const Ve=this._delegate.container.getProvider(ne);return!Ve.isInitialized()&&"EXPLICIT"===(null===(We=Ve.getComponent())||void 0===We?void 0:We.instantiationMode)&&Ve.initialize(),Ve.getImmediate({identifier:Ee})}_removeServiceInstance(ne,Ee=G._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ne).clearInstance(Ee)}_addComponent(ne){(0,G._addComponent)(this._delegate,ne)}_addOrOverwriteComponent(ne){(0,G._addOrOverwriteComponent)(this._delegate,ne)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const oe=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),U=function Y(){const pe=function(pe){const ne={},Ee={__esModule:!0,initializeApp:function(Et,we={}){const ge=G.initializeApp(Et,we);if((0,f.r3)(ne,ge.name))return ne[ge.name];const Ae=new pe(ge,Ee);return ne[ge.name]=Ae,Ae},app:Ve,registerVersion:G.registerVersion,setLogLevel:G.setLogLevel,onLog:G.onLog,apps:null,SDK_VERSION:G.SDK_VERSION,INTERNAL:{registerComponent:function(Et){const we=Et.name,ge=we.replace("-compat","");if(G._registerComponent(Et)&&"PUBLIC"===Et.type){const Ae=(De=Ve())=>{if("function"!=typeof De[ge])throw oe.create("invalid-app-argument",{appName:we});return De[ge]()};void 0!==Et.serviceProps&&(0,f.ZB)(Ae,Et.serviceProps),Ee[ge]=Ae,pe.prototype[ge]=function(...De){return this._getService.bind(this,we).apply(this,Et.multipleInstances?De:[])}}return"PUBLIC"===Et.type?Ee[ge]:null},removeApp:function(Et){delete ne[Et]},useAsService:function(Et,we){return"serverAuth"===we?null:we},modularAPIs:G}};function Ve(Et){if(!(0,f.r3)(ne,Et=Et||G._DEFAULT_ENTRY_NAME))throw oe.create("no-app",{appName:Et});return ne[Et]}return Ee.default=Ee,Object.defineProperty(Ee,"apps",{get:function(){return Object.keys(ne).map(Et=>ne[Et])}}),Ve.App=pe,Ee}(_e);return pe.INTERNAL=Object.assign(Object.assign({},pe.INTERNAL),{createFirebaseNamespace:Y,extendNamespace:function(Ee){(0,f.ZB)(pe,Ee)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),pe}(),K=new ie.Yd("@firebase/app-compat");if((0,f.jU)()&&void 0!==self.firebase){K.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const pe=self.firebase.SDK_VERSION;pe&&pe.indexOf("LITE")>=0&&K.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Me=U;(0,G.registerVersion)("@firebase/app-compat","0.1.0",undefined);const ve=Me},5452:(et,Oe,V)=>{"use strict";V.r(Oe),V.d(Oe,{FirebaseError:()=>ie.ZR,SDK_VERSION:()=>yo,_DEFAULT_ENTRY_NAME:()=>en,_addComponent:()=>En,_addOrOverwriteComponent:()=>Zi,_apps:()=>_t,_clearComponents:()=>ln,_components:()=>ht,_getProvider:()=>It,_registerComponent:()=>hn,_removeServiceInstance:()=>Yi,deleteApp:()=>Ai,getApp:()=>Rr,getApps:()=>Di,initializeApp:()=>Yr,onLog:()=>Rn,registerVersion:()=>st,setLogLevel:()=>Or});var f=V(8239),fe=V(6034),G=V(300),ie=V(4685);class _e{constructor(yt){this.container=yt}getPlatformInfoString(){return this.container.getProviders().map($t=>{if(function(xt){const yt=xt.getComponent();return"VERSION"===(null==yt?void 0:yt.type)}($t)){const Ht=$t.getImmediate();return`${Ht.library}/${Ht.version}`}return null}).filter($t=>$t).join(" ")}}const oe="@firebase/app",Y=new G.Yd("@firebase/app"),en="[DEFAULT]",ut={[oe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},_t=new Map,ht=new Map;function En(xt,yt){try{xt.container.addComponent(yt)}catch($t){Y.debug(`Component ${yt.name} failed to register with FirebaseApp ${xt.name}`,$t)}}function Zi(xt,yt){xt.container.addOrOverwriteComponent(yt)}function hn(xt){const yt=xt.name;if(ht.has(yt))return Y.debug(`There were multiple attempts to register component ${yt}.`),!1;ht.set(yt,xt);for(const $t of _t.values())En($t,xt);return!0}function It(xt,yt){return xt.container.getProvider(yt)}function Yi(xt,yt,$t=en){It(xt,yt).clearInstance($t)}function ln(){ht.clear()}const Yn=new ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Hs{constructor(yt,$t,Ht){this._isDeleted=!1,this._options=Object.assign({},yt),this._config=Object.assign({},$t),this._name=$t.name,this._automaticDataCollectionEnabled=$t.automaticDataCollectionEnabled,this._container=Ht,this.container.addComponent(new fe.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(yt){this.checkDestroyed(),this._automaticDataCollectionEnabled=yt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(yt){this._isDeleted=yt}checkDestroyed(){if(this.isDeleted)throw Yn.create("app-deleted",{appName:this._name})}}const yo="9.0.0";function Yr(xt,yt={}){"object"!=typeof yt&&(yt={name:yt});const $t=Object.assign({name:en,automaticDataCollectionEnabled:!1},yt),Ht=$t.name;if("string"!=typeof Ht||!Ht)throw Yn.create("bad-app-name",{appName:String(Ht)});const er=_t.get(Ht);if(er){if((0,ie.vZ)(xt,er.options)&&(0,ie.vZ)($t,er.config))return er;throw Yn.create("duplicate-app",{appName:Ht})}const tn=new fe.H0(Ht);for(const ft of ht.values())tn.addComponent(ft);const je=new Hs(xt,$t,tn);return _t.set(Ht,je),je}function Rr(xt=en){const yt=_t.get(xt);if(!yt)throw Yn.create("no-app",{appName:xt});return yt}function Di(){return Array.from(_t.values())}function Ai(xt){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,f.Z)(function*(xt){const yt=xt.name;_t.has(yt)&&(_t.delete(yt),yield Promise.all(xt.container.getProviders().map($t=>$t.delete())),xt.isDeleted=!0)})).apply(this,arguments)}function st(xt,yt,$t){var Ht;let er=null!==(Ht=ut[xt])&&void 0!==Ht?Ht:xt;$t&&(er+=`-${$t}`);const tn=er.match(/\s|\//),je=yt.match(/\s|\//);if(tn||je){const ft=[`Unable to register library "${er}" with version "${yt}":`];return tn&&ft.push(`library name "${er}" contains illegal characters (whitespace or "/")`),tn&&je&&ft.push("and"),je&&ft.push(`version name "${yt}" contains illegal characters (whitespace or "/")`),void Y.warn(ft.join(" "))}hn(new fe.wA(`${er}-version`,()=>({library:er,version:yt}),"VERSION"))}function Rn(xt,yt){if(null!==xt&&"function"!=typeof xt)throw Yn.create("invalid-log-argument");(0,G.Am)(xt,yt)}function Or(xt){(0,G.Ub)(xt)}hn(new fe.wA("platform-logger",yt=>new _e(yt),"PRIVATE")),st(oe,"0.7.0",undefined),st("fire-js","")},6034:(et,Oe,V)=>{"use strict";V.d(Oe,{wA:()=>G,H0:()=>re});var f=V(4762),fe=V(4685),G=function(){function Y(U,K,F){this.name=U,this.instanceFactory=K,this.type=F,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Y.prototype.setInstantiationMode=function(U){return this.instantiationMode=U,this},Y.prototype.setMultipleInstances=function(U){return this.multipleInstances=U,this},Y.prototype.setServiceProps=function(U){return this.serviceProps=U,this},Y.prototype.setInstanceCreatedCallback=function(U){return this.onInstanceCreated=U,this},Y}(),ie="[DEFAULT]",_e=function(){function Y(U,K){this.name=U,this.container=K,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Y.prototype.get=function(U){var K=this.normalizeInstanceIdentifier(U);if(!this.instancesDeferred.has(K)){var F=new fe.BH;if(this.instancesDeferred.set(K,F),this.isInitialized(K)||this.shouldAutoInitialize())try{var Q=this.getOrInitializeService({instanceIdentifier:K});Q&&F.resolve(Q)}catch(le){}}return this.instancesDeferred.get(K).promise},Y.prototype.getImmediate=function(U){var K,F=this.normalizeInstanceIdentifier(null==U?void 0:U.identifier),Q=null!==(K=null==U?void 0:U.optional)&&void 0!==K&&K;if(!this.isInitialized(F)&&!this.shouldAutoInitialize()){if(Q)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:F})}catch(le){if(Q)return null;throw le}},Y.prototype.getComponent=function(){return this.component},Y.prototype.setComponent=function(U){var K,F;if(U.name!==this.name)throw Error("Mismatching Component "+U.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=U,this.shouldAutoInitialize()){if(function(Y){return"EAGER"===Y.instantiationMode}(U))try{this.getOrInitializeService({instanceIdentifier:ie})}catch(We){}try{for(var Q=(0,f.XA)(this.instancesDeferred.entries()),le=Q.next();!le.done;le=Q.next()){var Me=(0,f.CR)(le.value,2),pe=Me[1],ne=this.normalizeInstanceIdentifier(Me[0]);try{var Ee=this.getOrInitializeService({instanceIdentifier:ne});pe.resolve(Ee)}catch(We){}}}catch(We){K={error:We}}finally{try{le&&!le.done&&(F=Q.return)&&F.call(Q)}finally{if(K)throw K.error}}}},Y.prototype.clearInstance=function(U){void 0===U&&(U=ie),this.instancesDeferred.delete(U),this.instancesOptions.delete(U),this.instances.delete(U)},Y.prototype.delete=function(){return(0,f.mG)(this,void 0,void 0,function(){var U;return(0,f.Jh)(this,function(K){switch(K.label){case 0:return U=Array.from(this.instances.values()),[4,Promise.all((0,f.ev)((0,f.ev)([],(0,f.CR)(U.filter(function(F){return"INTERNAL"in F}).map(function(F){return F.INTERNAL.delete()}))),(0,f.CR)(U.filter(function(F){return"_delete"in F}).map(function(F){return F._delete()}))))];case 1:return K.sent(),[2]}})})},Y.prototype.isComponentSet=function(){return null!=this.component},Y.prototype.isInitialized=function(U){return void 0===U&&(U=ie),this.instances.has(U)},Y.prototype.getOptions=function(U){return void 0===U&&(U=ie),this.instancesOptions.get(U)||{}},Y.prototype.initialize=function(U){var K,F;void 0===U&&(U={});var Q=U.options,le=void 0===Q?{}:Q,Me=this.normalizeInstanceIdentifier(U.instanceIdentifier);if(this.isInitialized(Me))throw Error(this.name+"("+Me+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var ve=this.getOrInitializeService({instanceIdentifier:Me,options:le});try{for(var pe=(0,f.XA)(this.instancesDeferred.entries()),ne=pe.next();!ne.done;ne=pe.next()){var Ee=(0,f.CR)(ne.value,2),Ve=Ee[1];Me===this.normalizeInstanceIdentifier(Ee[0])&&Ve.resolve(ve)}}catch(Mt){K={error:Mt}}finally{try{ne&&!ne.done&&(F=pe.return)&&F.call(pe)}finally{if(K)throw K.error}}return ve},Y.prototype.onInit=function(U,K){var F,Q=this.normalizeInstanceIdentifier(K),le=null!==(F=this.onInitCallbacks.get(Q))&&void 0!==F?F:new Set;le.add(U),this.onInitCallbacks.set(Q,le);var Me=this.instances.get(Q);return Me&&U(Me,Q),function(){le.delete(U)}},Y.prototype.invokeOnInitCallbacks=function(U,K){var F,Q,le=this.onInitCallbacks.get(K);if(le)try{for(var Me=(0,f.XA)(le),ve=Me.next();!ve.done;ve=Me.next()){var pe=ve.value;try{pe(U,K)}catch(ne){}}}catch(ne){F={error:ne}}finally{try{ve&&!ve.done&&(Q=Me.return)&&Q.call(Me)}finally{if(F)throw F.error}}},Y.prototype.getOrInitializeService=function(U){var K=U.instanceIdentifier,F=U.options,Q=void 0===F?{}:F,le=this.instances.get(K);if(!le&&this.component&&(le=this.component.instanceFactory(this.container,{instanceIdentifier:ee(K),options:Q}),this.instances.set(K,le),this.instancesOptions.set(K,Q),this.invokeOnInitCallbacks(le,K),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,K,le)}catch(Me){}return le||null},Y.prototype.normalizeInstanceIdentifier=function(U){return void 0===U&&(U=ie),this.component?this.component.multipleInstances?U:ie:U},Y.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},Y}();function ee(Y){return Y===ie?void 0:Y}var re=function(){function Y(U){this.name=U,this.providers=new Map}return Y.prototype.addComponent=function(U){var K=this.getProvider(U.name);if(K.isComponentSet())throw new Error("Component "+U.name+" has already been registered with "+this.name);K.setComponent(U)},Y.prototype.addOrOverwriteComponent=function(U){this.getProvider(U.name).isComponentSet()&&this.providers.delete(U.name),this.addComponent(U)},Y.prototype.getProvider=function(U){if(this.providers.has(U))return this.providers.get(U);var K=new _e(U,this);return this.providers.set(U,K),K},Y.prototype.getProviders=function(){return Array.from(this.providers.values())},Y}()},300:(et,Oe,V)=>{"use strict";function f(){for(var F=0,Q=0,le=arguments.length;Q<le;Q++)F+=arguments[Q].length;var Me=Array(F),ve=0;for(Q=0;Q<le;Q++)for(var pe=arguments[Q],ne=0,Ee=pe.length;ne<Ee;ne++,ve++)Me[ve]=pe[ne];return Me}V.d(Oe,{in:()=>ie,Yd:()=>Y,Ub:()=>U,Am:()=>K});var fe,G=[],ie=(()=>{return(F=ie||(ie={}))[F.DEBUG=0]="DEBUG",F[F.VERBOSE=1]="VERBOSE",F[F.INFO=2]="INFO",F[F.WARN=3]="WARN",F[F.ERROR=4]="ERROR",F[F.SILENT=5]="SILENT",ie;var F})(),_e={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},ee=ie.INFO,oe=((fe={})[ie.DEBUG]="log",fe[ie.VERBOSE]="log",fe[ie.INFO]="info",fe[ie.WARN]="warn",fe[ie.ERROR]="error",fe),re=function(F,Q){for(var le=[],Me=2;Me<arguments.length;Me++)le[Me-2]=arguments[Me];if(!(Q<F.logLevel)){var ve=(new Date).toISOString(),pe=oe[Q];if(!pe)throw new Error("Attempted to log a message with an invalid logType (value: "+Q+")");console[pe].apply(console,f(["["+ve+"]  "+F.name+":"],le))}},Y=function(){function F(Q){this.name=Q,this._logLevel=ee,this._logHandler=re,this._userLogHandler=null,G.push(this)}return Object.defineProperty(F.prototype,"logLevel",{get:function(){return this._logLevel},set:function(Q){if(!(Q in ie))throw new TypeError('Invalid value "'+Q+'" assigned to `logLevel`');this._logLevel=Q},enumerable:!1,configurable:!0}),F.prototype.setLogLevel=function(Q){this._logLevel="string"==typeof Q?_e[Q]:Q},Object.defineProperty(F.prototype,"logHandler",{get:function(){return this._logHandler},set:function(Q){if("function"!=typeof Q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Q},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(Q){this._userLogHandler=Q},enumerable:!1,configurable:!0}),F.prototype.debug=function(){for(var Q=[],le=0;le<arguments.length;le++)Q[le]=arguments[le];this._userLogHandler&&this._userLogHandler.apply(this,f([this,ie.DEBUG],Q)),this._logHandler.apply(this,f([this,ie.DEBUG],Q))},F.prototype.log=function(){for(var Q=[],le=0;le<arguments.length;le++)Q[le]=arguments[le];this._userLogHandler&&this._userLogHandler.apply(this,f([this,ie.VERBOSE],Q)),this._logHandler.apply(this,f([this,ie.VERBOSE],Q))},F.prototype.info=function(){for(var Q=[],le=0;le<arguments.length;le++)Q[le]=arguments[le];this._userLogHandler&&this._userLogHandler.apply(this,f([this,ie.INFO],Q)),this._logHandler.apply(this,f([this,ie.INFO],Q))},F.prototype.warn=function(){for(var Q=[],le=0;le<arguments.length;le++)Q[le]=arguments[le];this._userLogHandler&&this._userLogHandler.apply(this,f([this,ie.WARN],Q)),this._logHandler.apply(this,f([this,ie.WARN],Q))},F.prototype.error=function(){for(var Q=[],le=0;le<arguments.length;le++)Q[le]=arguments[le];this._userLogHandler&&this._userLogHandler.apply(this,f([this,ie.ERROR],Q)),this._logHandler.apply(this,f([this,ie.ERROR],Q))},F}();function U(F){G.forEach(function(Q){Q.setLogLevel(F)})}function K(F,Q){for(var le=function(ne){var Ee=null;Q&&Q.level&&(Ee=_e[Q.level]),ne.userLogHandler=null===F?null:function(We,Ve){for(var Je=[],Mt=2;Mt<arguments.length;Mt++)Je[Mt-2]=arguments[Mt];var Te=Je.map(function(Nt){if(null==Nt)return null;if("string"==typeof Nt)return Nt;if("number"==typeof Nt||"boolean"==typeof Nt)return Nt.toString();if(Nt instanceof Error)return Nt.message;try{return JSON.stringify(Nt)}catch(Et){return null}}).filter(function(Nt){return Nt}).join(" ");Ve>=(null!=Ee?Ee:We.logLevel)&&F({level:ie[Ve].toLowerCase(),message:Te,args:Je,type:We.name})}},Me=0,ve=G;Me<ve.length;Me++)le(ve[Me])}},4685:(et,Oe,V)=>{"use strict";V.d(Oe,{BH:()=>le,LL:()=>$e,ZR:()=>ce,zI:()=>Ae,tV:()=>U,$s:()=>Qt,r3:()=>Yi,Sg:()=>Me,ne:()=>Ki,vZ:()=>Hs,ZB:()=>F,pd:()=>Di,m9:()=>Jt,z$:()=>ve,jU:()=>Ee,ru:()=>We,d:()=>Je,xb:()=>jn,w1:()=>Mt,hl:()=>we,uI:()=>pe,UG:()=>ne,b$:()=>Ve,G6:()=>Et,Mn:()=>Te,xO:()=>Yr,zd:()=>Rr,eu:()=>ge});var f=V(4762),_e=function(q){for(var z=[],ue=0,be=0;be<q.length;be++){var de=q.charCodeAt(be);de<128?z[ue++]=de:de<2048?(z[ue++]=de>>6|192,z[ue++]=63&de|128):55296==(64512&de)&&be+1<q.length&&56320==(64512&q.charCodeAt(be+1))?(de=65536+((1023&de)<<10)+(1023&q.charCodeAt(++be)),z[ue++]=de>>18|240,z[ue++]=de>>12&63|128,z[ue++]=de>>6&63|128,z[ue++]=63&de|128):(z[ue++]=de>>12|224,z[ue++]=de>>6&63|128,z[ue++]=63&de|128)}return z},oe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(q,z){if(!Array.isArray(q))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var ue=z?this.byteToCharMapWebSafe_:this.byteToCharMap_,be=[],de=0;de<q.length;de+=3){var Be=q[de],tt=de+1<q.length,zt=tt?q[de+1]:0,Zt=de+2<q.length,Lt=Zt?q[de+2]:0,Kn=(15&zt)<<2|Lt>>6,Qi=63&Lt;Zt||(Qi=64,tt||(Kn=64)),be.push(ue[Be>>2],ue[(3&Be)<<4|zt>>4],ue[Kn],ue[Qi])}return be.join("")},encodeString:function(q,z){return this.HAS_NATIVE_SUPPORT&&!z?btoa(q):this.encodeByteArray(_e(q),z)},decodeString:function(q,z){return this.HAS_NATIVE_SUPPORT&&!z?atob(q):function(q){for(var z=[],ue=0,be=0;ue<q.length;){var de=q[ue++];if(de<128)z[be++]=String.fromCharCode(de);else if(de>191&&de<224){var Be=q[ue++];z[be++]=String.fromCharCode((31&de)<<6|63&Be)}else if(de>239&&de<365){var Zt=((7&de)<<18|(63&(Be=q[ue++]))<<12|(63&(tt=q[ue++]))<<6|63&q[ue++])-65536;z[be++]=String.fromCharCode(55296+(Zt>>10)),z[be++]=String.fromCharCode(56320+(1023&Zt))}else{Be=q[ue++];var tt=q[ue++];z[be++]=String.fromCharCode((15&de)<<12|(63&Be)<<6|63&tt)}}return z.join("")}(this.decodeStringToByteArray(q,z))},decodeStringToByteArray:function(q,z){this.init_();for(var ue=z?this.charToByteMapWebSafe_:this.charToByteMap_,be=[],de=0;de<q.length;){var Be=ue[q.charAt(de++)],zt=de<q.length?ue[q.charAt(de)]:0,Lt=++de<q.length?ue[q.charAt(de)]:64,fr=++de<q.length?ue[q.charAt(de)]:64;if(++de,null==Be||null==zt||null==Lt||null==fr)throw Error();be.push(Be<<2|zt>>4),64!==Lt&&(be.push(zt<<4&240|Lt>>2),64!==fr&&be.push(Lt<<6&192|fr))}return be},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var q=0;q<this.ENCODED_VALS.length;q++)this.byteToCharMap_[q]=this.ENCODED_VALS.charAt(q),this.charToByteMap_[this.byteToCharMap_[q]]=q,this.byteToCharMapWebSafe_[q]=this.ENCODED_VALS_WEBSAFE.charAt(q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[q]]=q,q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(q)]=q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(q)]=q)}}},Y=function(q){return function(q){var z=_e(q);return oe.encodeByteArray(z,!0)}(q).replace(/\./g,"")},U=function(q){try{return oe.decodeString(q,!0)}catch(z){console.error("base64Decode failed: ",z)}return null};function F(q,z){if(!(z instanceof Object))return z;switch(z.constructor){case Date:return new Date(z.getTime());case Object:void 0===q&&(q={});break;case Array:q=[];break;default:return z}for(var be in z)!z.hasOwnProperty(be)||!Q(be)||(q[be]=F(q[be],z[be]));return q}function Q(q){return"__proto__"!==q}var le=function(){function q(){var z=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(ue,be){z.resolve=ue,z.reject=be})}return q.prototype.wrapCallback=function(z){var ue=this;return function(be,de){be?ue.reject(be):ue.resolve(de),"function"==typeof z&&(ue.promise.catch(function(){}),1===z.length?z(be):z(be,de))}},q}();function Me(q,z){if(q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var be=z||"demo-project",de=q.iat||0,Be=q.sub||q.user_id;if(!Be)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var tt=(0,f.pi)({iss:"https://securetoken.google.com/"+be,aud:be,iat:de,exp:de+3600,auth_time:de,sub:Be,user_id:Be,firebase:{sign_in_provider:"custom",identities:{}}},q);return[Y(JSON.stringify({alg:"none",type:"JWT"})),Y(JSON.stringify(tt)),""].join(".")}function ve(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function pe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ve())}function ne(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(q){return!1}}function Ee(){return"object"==typeof self&&self.self===self}function We(){var q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof q&&void 0!==q.id}function Ve(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Je(){return ve().indexOf("Electron/")>=0}function Mt(){var q=ve();return q.indexOf("MSIE ")>=0||q.indexOf("Trident/")>=0}function Te(){return ve().indexOf("MSAppHost/")>=0}function Et(){return!ne()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function we(){return"indexedDB"in self&&null!=indexedDB}function ge(){return new Promise(function(q,z){try{var ue=!0,be="validate-browser-context-for-indexeddb-analytics-module",de=self.indexedDB.open(be);de.onsuccess=function(){de.result.close(),ue||self.indexedDB.deleteDatabase(be),q(!0)},de.onupgradeneeded=function(){ue=!1},de.onerror=function(){var Be;z((null===(Be=de.error)||void 0===Be?void 0:Be.message)||"")}}catch(Be){z(Be)}})}function Ae(){return!(!navigator||!navigator.cookieEnabled)}var ce=function(q){function z(ue,be,de){var Be=q.call(this,be)||this;return Be.code=ue,Be.customData=de,Be.name="FirebaseError",Object.setPrototypeOf(Be,z.prototype),Error.captureStackTrace&&Error.captureStackTrace(Be,$e.prototype.create),Be}return(0,f.ZT)(z,q),z}(Error),$e=function(){function q(z,ue,be){this.service=z,this.serviceName=ue,this.errors=be}return q.prototype.create=function(z){for(var ue=[],be=1;be<arguments.length;be++)ue[be-1]=arguments[be];var de=ue[0]||{},Be=this.service+"/"+z,tt=this.errors[z],zt=tt?dt(tt,de):"Error",Zt=this.serviceName+": "+zt+" ("+Be+").",Lt=new ce(Be,Zt,de);return Lt},q}();function dt(q,z){return q.replace(en,function(ue,be){var de=z[be];return null!=de?String(de):"<"+be+"?>"})}var en=/\{\$([^}]+)}/g;function Yi(q,z){return Object.prototype.hasOwnProperty.call(q,z)}function jn(q){for(var z in q)if(Object.prototype.hasOwnProperty.call(q,z))return!1;return!0}function Hs(q,z){if(q===z)return!0;for(var ue=Object.keys(q),be=Object.keys(z),de=0,Be=ue;de<Be.length;de++){if(!be.includes(tt=Be[de]))return!1;var zt=q[tt],Zt=z[tt];if(yo(zt)&&yo(Zt)){if(!Hs(zt,Zt))return!1}else if(zt!==Zt)return!1}for(var Lt=0,wn=be;Lt<wn.length;Lt++){var tt;if(!ue.includes(tt=wn[Lt]))return!1}return!0}function yo(q){return null!==q&&"object"==typeof q}function Yr(q){for(var z=[],ue=function(Zt,Lt){Array.isArray(Lt)?Lt.forEach(function(wn){z.push(encodeURIComponent(Zt)+"="+encodeURIComponent(wn))}):z.push(encodeURIComponent(Zt)+"="+encodeURIComponent(Lt))},be=0,de=Object.entries(q);be<de.length;be++){var Be=de[be];ue(Be[0],Be[1])}return z.length?"&"+z.join("&"):""}function Rr(q){var z={};return q.replace(/^\?/,"").split("&").forEach(function(be){if(be){var de=be.split("="),tt=de[1];z[decodeURIComponent(de[0])]=decodeURIComponent(tt)}}),z}function Di(q){var z=q.indexOf("?");if(!z)return"";var ue=q.indexOf("#",z);return q.substring(z,ue>0?ue:void 0)}function Ki(q,z){var ue=new st(q,z);return ue.subscribe.bind(ue)}!function(){function q(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var z=1;z<this.blockSize;++z)this.pad_[z]=0;this.reset()}q.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},q.prototype.compress_=function(z,ue){ue||(ue=0);var be=this.W_;if("string"==typeof z)for(var de=0;de<16;de++)be[de]=z.charCodeAt(ue)<<24|z.charCodeAt(ue+1)<<16|z.charCodeAt(ue+2)<<8|z.charCodeAt(ue+3),ue+=4;else for(de=0;de<16;de++)be[de]=z[ue]<<24|z[ue+1]<<16|z[ue+2]<<8|z[ue+3],ue+=4;for(de=16;de<80;de++)be[de]=4294967295&((Be=be[de-3]^be[de-8]^be[de-14]^be[de-16])<<1|Be>>>31);var fr,Kn,tt=this.chain_[0],zt=this.chain_[1],Zt=this.chain_[2],Lt=this.chain_[3],wn=this.chain_[4];for(de=0;de<80;de++){de<40?de<20?(fr=Lt^zt&(Zt^Lt),Kn=1518500249):(fr=zt^Zt^Lt,Kn=1859775393):de<60?(fr=zt&Zt|Lt&(zt|Zt),Kn=2400959708):(fr=zt^Zt^Lt,Kn=3395469782);var Be=(tt<<5|tt>>>27)+fr+wn+Kn+be[de]&4294967295;wn=Lt,Lt=Zt,Zt=4294967295&(zt<<30|zt>>>2),zt=tt,tt=Be}this.chain_[0]=this.chain_[0]+tt&4294967295,this.chain_[1]=this.chain_[1]+zt&4294967295,this.chain_[2]=this.chain_[2]+Zt&4294967295,this.chain_[3]=this.chain_[3]+Lt&4294967295,this.chain_[4]=this.chain_[4]+wn&4294967295},q.prototype.update=function(z,ue){if(null!=z){void 0===ue&&(ue=z.length);for(var be=ue-this.blockSize,de=0,Be=this.buf_,tt=this.inbuf_;de<ue;){if(0===tt)for(;de<=be;)this.compress_(z,de),de+=this.blockSize;if("string"==typeof z){for(;de<ue;)if(Be[tt]=z.charCodeAt(de),++de,++tt===this.blockSize){this.compress_(Be),tt=0;break}}else for(;de<ue;)if(Be[tt]=z[de],++de,++tt===this.blockSize){this.compress_(Be),tt=0;break}}this.inbuf_=tt,this.total_+=ue}},q.prototype.digest=function(){var z=[],ue=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var be=this.blockSize-1;be>=56;be--)this.buf_[be]=255&ue,ue/=256;this.compress_(this.buf_);var de=0;for(be=0;be<5;be++)for(var Be=24;Be>=0;Be-=8)z[de]=this.chain_[be]>>Be&255,++de;return z}}();var st=function(){function q(z,ue){var be=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ue,this.task.then(function(){z(be)}).catch(function(de){be.error(de)})}return q.prototype.next=function(z){this.forEachObserver(function(ue){ue.next(z)})},q.prototype.error=function(z){this.forEachObserver(function(ue){ue.error(z)}),this.close(z)},q.prototype.complete=function(){this.forEachObserver(function(z){z.complete()}),this.close()},q.prototype.subscribe=function(z,ue,be){var Be,de=this;if(void 0===z&&void 0===ue&&void 0===be)throw new Error("Missing Observer.");void 0===(Be=function(q,z){if("object"!=typeof q||null===q)return!1;for(var ue=0,be=["next","error","complete"];ue<be.length;ue++){var de=be[ue];if(de in q&&"function"==typeof q[de])return!0}return!1}(z)?z:{next:z,error:ue,complete:be}).next&&(Be.next=Tn),void 0===Be.error&&(Be.error=Tn),void 0===Be.complete&&(Be.complete=Tn);var tt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{de.finalError?Be.error(de.finalError):Be.complete()}catch(zt){}}),this.observers.push(Be),tt},q.prototype.unsubscribeOne=function(z){void 0===this.observers||void 0===this.observers[z]||(delete this.observers[z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},q.prototype.forEachObserver=function(z){if(!this.finalized)for(var ue=0;ue<this.observers.length;ue++)this.sendOne(ue,z)},q.prototype.sendOne=function(z,ue){var be=this;this.task.then(function(){if(void 0!==be.observers&&void 0!==be.observers[z])try{ue(be.observers[z])}catch(de){"undefined"!=typeof console&&console.error&&console.error(de)}})},q.prototype.close=function(z){var ue=this;this.finalized||(this.finalized=!0,void 0!==z&&(this.finalError=z),this.task.then(function(){ue.observers=void 0,ue.onNoObservers=void 0}))},q}();function Tn(){}function Qt(q,z,ue){void 0===z&&(z=1e3),void 0===ue&&(ue=2);var be=z*Math.pow(ue,q),de=Math.round(.5*be*(Math.random()-.5)*2);return Math.min(144e5,be+de)}function Jt(q){return q&&q._delegate?q._delegate:q}},6300:(et,Oe,V)=>{"use strict";V.r(Oe);var f=V(8239),fe=V(4486),G=V(4685),ie=V(5452),_e=V(4762),ee=V(300),oe=V(6034);const Me=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},pe=new G.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ee=new ee.Yd("@firebase/auth");function We(C,...y){Ee.logLevel<=ee.in.ERROR&&Ee.error(`Auth (${ie.SDK_VERSION}): ${C}`,...y)}function Ve(C,...y){throw Mt(C,...y)}function Je(C,...y){return Mt(C,...y)}function Mt(C,...y){if("string"!=typeof C){const E=y[0],I=[...y.slice(1)];return I[0]&&(I[0].appName=C.name),C._errorFactory.create(E,...I)}return pe.create(C,...y)}function Te(C,y,...E){if(!C)throw Mt(y,...E)}function Nt(C){const y="INTERNAL ASSERTION FAILED: "+C;throw We(y),new Error(y)}function Et(C,y){C||Nt(y)}const we=new Map;function ge(C){Et(C instanceof Function,"Expected a class definition");let y=we.get(C);return y?(Et(y instanceof C,"Instance stored in cache mismatched with class"),y):(y=new C,we.set(C,y),y)}function Ce(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function ce(){return"http:"===$e()||"https:"===$e()}function $e(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class ut{constructor(y,E){this.shortDelay=y,this.longDelay=E,Et(E>y,"Short delay should be less than long delay!"),this.isMobile=(0,G.uI)()||(0,G.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ce()||(0,G.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function _t(C,y){Et(C.emulator,"Emulator should always be set here");const{url:E}=C.emulator;return y?`${E}${y.startsWith("/")?y.slice(1):y}`:E}class ht{static initialize(y,E,I){this.fetchImpl=y,E&&(this.headersImpl=E),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Nt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Nt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Nt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const En={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded"},Zi=new ut(3e4,6e4);function hn(C,y){return C.tenantId&&!y.tenantId?Object.assign(Object.assign({},y),{tenantId:C.tenantId}):y}function It(C,y,E,I){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,f.Z)(function*(C,y,E,I,O={}){return ln(C,O,()=>{let P={},te={};I&&("GET"===y?te=I:P={body:JSON.stringify(I)});const xe=(0,G.xO)(Object.assign({key:C.config.apiKey},te)).slice(1),qe=new(ht.headers());return qe.set("Content-Type","application/json"),qe.set("X-Client-Version",C._getSdkClientVersion()),C.languageCode&&qe.set("X-Firebase-Locale",C.languageCode),ht.fetch()(yo(C,C.config.apiHost,E,xe),Object.assign({method:y,headers:qe,referrerPolicy:"no-referrer"},P))})})).apply(this,arguments)}function ln(C,y,E){return jn.apply(this,arguments)}function jn(){return(jn=(0,f.Z)(function*(C,y,E){C._canInitEmulator=!1;const I=Object.assign(Object.assign({},En),y);try{const O=new Yr(C),P=yield Promise.race([E(),O.promise]);O.clearNetworkTimeout();const te=yield P.json();if("needConfirmation"in te)throw Rr(C,"account-exists-with-different-credential",te);if(P.ok&&!("errorMessage"in te))return te;{const qe=(P.ok?te.errorMessage:te.error.message).split(" : ")[0];if("FEDERATED_USER_ID_ALREADY_LINKED"===qe)throw Rr(C,"credential-already-in-use",te);if("EMAIL_EXISTS"===qe)throw Rr(C,"email-already-in-use",te);Ve(C,I[qe]||qe.toLowerCase().replace(/[_\s]+/g,"-"))}}catch(O){if(O instanceof G.ZR)throw O;Ve(C,"network-request-failed")}})).apply(this,arguments)}function Yn(C,y,E,I){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,f.Z)(function*(C,y,E,I,O={}){const P=yield It(C,y,E,I,O);return"mfaPendingCredential"in P&&Ve(C,"multi-factor-auth-required",{serverResponse:P}),P})).apply(this,arguments)}function yo(C,y,E,I){const O=`${y}${E}?${I}`;return C.config.emulator?_t(C.config,O):`${C.config.apiScheme}://${O}`}class Yr{constructor(y){this.auth=y,this.timer=null,this.promise=new Promise((E,I)=>{this.timer=setTimeout(()=>I(Je(this.auth,"timeout")),Zi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Rr(C,y,E){const I={appName:C.name};E.email&&(I.email=E.email),E.phoneNumber&&(I.phoneNumber=E.phoneNumber);const O=Je(C,y,I);return O.customData._tokenResponse=E,O}function Ai(){return(Ai=(0,f.Z)(function*(C,y){return It(C,"POST","/v1/accounts:delete",y)})).apply(this,arguments)}function Ki(C,y){return st.apply(this,arguments)}function st(){return(st=(0,f.Z)(function*(C,y){return It(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Rn(C,y){return Or.apply(this,arguments)}function Or(){return(Or=(0,f.Z)(function*(C,y){return It(C,"POST","/v1/accounts:lookup",y)})).apply(this,arguments)}function Tn(C){if(C)try{const y=new Date(Number(C));if(!isNaN(y.getTime()))return y.toUTCString()}catch(y){}}function $t(){return($t=(0,f.Z)(function*(C,y=!1){const E=(0,G.m9)(C),I=yield E.getIdToken(y),O=er(I);Te(O&&O.exp&&O.auth_time&&O.iat,E.auth,"internal-error");const P="object"==typeof O.firebase?O.firebase:void 0,te=null==P?void 0:P.sign_in_provider;return{claims:O,token:I,authTime:Tn(Ht(O.auth_time)),issuedAtTime:Tn(Ht(O.iat)),expirationTime:Tn(Ht(O.exp)),signInProvider:te||null,signInSecondFactor:(null==P?void 0:P.sign_in_second_factor)||null}})).apply(this,arguments)}function Ht(C){return 1e3*Number(C)}function er(C){const[y,E,I]=C.split(".");if(void 0===y||void 0===E||void 0===I)return We("JWT malformed, contained fewer than 3 sections"),null;try{const O=(0,G.tV)(E);return O?JSON.parse(O):(We("Failed to decode base64 JWT payload"),null)}catch(O){return We("Caught error parsing JWT payload as JSON",O),null}}function je(C,y){return ft.apply(this,arguments)}function ft(){return(ft=(0,f.Z)(function*(C,y,E=!1){if(E)return y;try{return yield y}catch(I){throw I instanceof G.ZR&&Ia(I)&&C.auth.currentUser===C&&(yield C.auth.signOut()),I}})).apply(this,arguments)}function Ia({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}class Gs{constructor(y){this.user=y,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(y){var E;if(y){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const O=(null!==(E=this.user.stsTokenManager.expirationTime)&&void 0!==E?E:0)-Date.now()-3e5;return Math.max(0,O)}}schedule(y=!1){var E=this;if(!this.isRunning)return;const I=this.getInterval(y);this.timerId=setTimeout((0,f.Z)(function*(){yield E.iteration()}),I)}iteration(){var y=this;return(0,f.Z)(function*(){try{yield y.user.getIdToken(!0)}catch(E){return void("auth/network-request-failed"===E.code&&y.schedule(!0))}y.schedule()})()}}class Kr{constructor(y,E){this.createdAt=y,this.lastLoginAt=E,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tn(this.lastLoginAt),this.creationTime=Tn(this.createdAt)}_copy(y){this.createdAt=y.createdAt,this.lastLoginAt=y.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Qt(C){return hr.apply(this,arguments)}function hr(){return(hr=(0,f.Z)(function*(C){var y;const E=C.auth,I=yield C.getIdToken(),O=yield je(C,Rn(E,{idToken:I}));Te(null==O?void 0:O.users.length,E,"internal-error");const P=O.users[0];C._notifyReloadListener(P);const te=(null===(y=P.providerUserInfo)||void 0===y?void 0:y.length)?z(P.providerUserInfo):[],xe=q(C.providerData,te),pt=!!C.isAnonymous&&!(C.email&&P.passwordHash||(null==xe?void 0:xe.length)),vt={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:xe,metadata:new Kr(P.createdAt,P.lastLoginAt),isAnonymous:pt};Object.assign(C,vt)})).apply(this,arguments)}function Jt(){return(Jt=(0,f.Z)(function*(C){const y=(0,G.m9)(C);yield Qt(y),yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)})).apply(this,arguments)}function q(C,y){return[...C.filter(I=>!y.some(O=>O.providerId===I.providerId)),...y]}function z(C){return C.map(y=>{var{providerId:E}=y,I=(0,_e._T)(y,["providerId"]);return{providerId:E,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function be(){return(be=(0,f.Z)(function*(C,y){const E=yield ln(C,{},()=>{const I=(0,G.xO)({grant_type:"refresh_token",refresh_token:y}).slice(1),{tokenApiHost:O,apiKey:P}=C.config,te=yo(C,O,"/v1/token",`key=${P}`);return ht.fetch()(te,{method:"POST",headers:{"X-Client-Version":C._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:I})});return{accessToken:E.access_token,expiresIn:E.expires_in,refreshToken:E.refresh_token}})).apply(this,arguments)}class de{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(y){Te(y.idToken,"internal-error"),Te(void 0!==y.idToken,"internal-error"),Te(void 0!==y.refreshToken,"internal-error");const E="expiresIn"in y&&void 0!==y.expiresIn?Number(y.expiresIn):function(C){const y=er(C);return Te(y,"internal-error"),Te(void 0!==y.exp,"internal-error"),Te(void 0!==y.iat,"internal-error"),Number(y.exp)-Number(y.iat)}(y.idToken);this.updateTokensAndExpiration(y.idToken,y.refreshToken,E)}getToken(y,E=!1){var I=this;return(0,f.Z)(function*(){return Te(!I.accessToken||I.refreshToken,y,"user-token-expired"),E||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(y,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(y,E){var I=this;return(0,f.Z)(function*(){const{accessToken:O,refreshToken:P,expiresIn:te}=yield function(C,y){return be.apply(this,arguments)}(y,E);I.updateTokensAndExpiration(O,P,Number(te))})()}updateTokensAndExpiration(y,E,I){this.refreshToken=E||null,this.accessToken=y||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(y,E){const{refreshToken:I,accessToken:O,expirationTime:P}=E,te=new de;return I&&(Te("string"==typeof I,"internal-error",{appName:y}),te.refreshToken=I),O&&(Te("string"==typeof O,"internal-error",{appName:y}),te.accessToken=O),P&&(Te("number"==typeof P,"internal-error",{appName:y}),te.expirationTime=P),te}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(y){this.accessToken=y.accessToken,this.refreshToken=y.refreshToken,this.expirationTime=y.expirationTime}_clone(){return Object.assign(new de,this.toJSON())}_performRefresh(){return Nt("not implemented")}}function Be(C,y){Te("string"==typeof C||void 0===C,"internal-error",{appName:y})}class tt{constructor(y){var{uid:E,auth:I,stsTokenManager:O}=y,P=(0,_e._T)(y,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Gs(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=E,this.auth=I,this.stsTokenManager=O,this.accessToken=O.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.metadata=new Kr(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(y){var E=this;return(0,f.Z)(function*(){const I=yield je(E,E.stsTokenManager.getToken(E.auth,y));return Te(I,E.auth,"internal-error"),E.accessToken!==I&&(E.accessToken=I,yield E.auth._persistUserIfCurrent(E),E.auth._notifyListenersIfCurrent(E)),I})()}getIdTokenResult(y){return function(C){return $t.apply(this,arguments)}(this,y)}reload(){return function(C){return Jt.apply(this,arguments)}(this)}_assign(y){this!==y&&(Te(this.uid===y.uid,this.auth,"internal-error"),this.displayName=y.displayName,this.photoURL=y.photoURL,this.email=y.email,this.emailVerified=y.emailVerified,this.phoneNumber=y.phoneNumber,this.isAnonymous=y.isAnonymous,this.tenantId=y.tenantId,this.providerData=y.providerData.map(E=>Object.assign({},E)),this.metadata._copy(y.metadata),this.stsTokenManager._assign(y.stsTokenManager))}_clone(y){return new tt(Object.assign(Object.assign({},this),{auth:y,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(y){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=y,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(y){this.reloadListener?this.reloadListener(y):this.reloadUserInfo=y}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(y,E=!1){var I=this;return(0,f.Z)(function*(){let O=!1;y.idToken&&y.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(y),O=!0),E&&(yield Qt(I)),yield I.auth._persistUserIfCurrent(I),O&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var y=this;return(0,f.Z)(function*(){const E=yield y.getIdToken();return yield je(y,function(C,y){return Ai.apply(this,arguments)}(y.auth,{idToken:E})),y.stsTokenManager.clearRefreshToken(),y.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(y=>Object.assign({},y)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(y,E){var I,O,P,te,xe,qe,nt,pt;const vt=null!==(I=E.displayName)&&void 0!==I?I:void 0,Jn=null!==(O=E.email)&&void 0!==O?O:void 0,Fi=null!==(P=E.phoneNumber)&&void 0!==P?P:void 0,Ts=null!==(te=E.photoURL)&&void 0!==te?te:void 0,Fg=null!==(xe=E.tenantId)&&void 0!==xe?xe:void 0,vc=null!==(qe=E._redirectEventId)&&void 0!==qe?qe:void 0,Lg=null!==(nt=E.createdAt)&&void 0!==nt?nt:void 0,qh=null!==(pt=E.lastLoginAt)&&void 0!==pt?pt:void 0,{uid:Wh,emailVerified:il,isAnonymous:Li,providerData:bc,stsTokenManager:$u}=E;Te(Wh&&$u,y,"internal-error");const fv=de.fromJSON(this.name,$u);Te("string"==typeof Wh,y,"internal-error"),Be(vt,y.name),Be(Jn,y.name),Te("boolean"==typeof il,y,"internal-error"),Te("boolean"==typeof Li,y,"internal-error"),Be(Fi,y.name),Be(Ts,y.name),Be(Fg,y.name),Be(vc,y.name),Be(Lg,y.name),Be(qh,y.name);const Zh=new tt({uid:Wh,auth:y,email:Jn,emailVerified:il,displayName:vt,isAnonymous:Li,photoURL:Ts,phoneNumber:Fi,tenantId:Fg,stsTokenManager:fv,createdAt:Lg,lastLoginAt:qh});return bc&&Array.isArray(bc)&&(Zh.providerData=bc.map(is=>Object.assign({},is))),vc&&(Zh._redirectEventId=vc),Zh}static _fromIdTokenResponse(y,E,I=!1){return(0,f.Z)(function*(){const O=new de;O.updateFromServerResponse(E);const P=new tt({uid:E.localId,auth:y,stsTokenManager:O,isAnonymous:I});return yield Qt(P),P})()}}const Zt=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(E,I){var O=this;return(0,f.Z)(function*(){O.storage[E]=I})()}_get(E){var I=this;return(0,f.Z)(function*(){const O=I.storage[E];return void 0===O?null:O})()}_remove(E){var I=this;return(0,f.Z)(function*(){delete I.storage[E]})()}_addListener(E,I){}_removeListener(E,I){}}return C.type="NONE",C})();function Lt(C,y,E){return`firebase:${C}:${y}:${E}`}class wn{constructor(y,E,I){this.persistence=y,this.auth=E,this.userKey=I;const{config:O,name:P}=this.auth;this.fullUserKey=Lt(this.userKey,O.apiKey,P),this.fullPersistenceKey=Lt("persistence",O.apiKey,P),this.boundEventHandler=E._onStorageEvent.bind(E),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(y){return this.persistence._set(this.fullUserKey,y.toJSON())}getCurrentUser(){var y=this;return(0,f.Z)(function*(){const E=yield y.persistence._get(y.fullUserKey);return E?tt._fromJSON(y.auth,E):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(y){var E=this;return(0,f.Z)(function*(){if(E.persistence===y)return;const I=yield E.getCurrentUser();return yield E.removeCurrentUser(),E.persistence=y,I?E.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(y,E,I="authUser"){return(0,f.Z)(function*(){if(!E.length)return new wn(ge(Zt),y,I);const O=(yield Promise.all(E.map(function(){var nt=(0,f.Z)(function*(pt){if(yield pt._isAvailable())return pt});return function(pt){return nt.apply(this,arguments)}}()))).filter(nt=>nt);let P=O[0]||ge(Zt);const te=Lt(I,y.config.apiKey,y.name);let xe=null;for(const nt of E)try{const pt=yield nt._get(te);if(pt){const vt=tt._fromJSON(y,pt);nt!==P&&(xe=vt),P=nt;break}}catch(pt){}const qe=O.filter(nt=>nt._shouldAllowMigration);return P._shouldAllowMigration&&qe.length?(P=qe[0],xe&&(yield P._set(te,xe.toJSON())),yield Promise.all(E.map(function(){var nt=(0,f.Z)(function*(pt){if(pt!==P)try{yield pt._remove(te)}catch(vt){}});return function(pt){return nt.apply(this,arguments)}}())),new wn(P,y,I)):new wn(P,y,I)})()}}function fr(C){const y=C.toLowerCase();if(y.includes("opera/")||y.includes("opr/")||y.includes("opios/"))return"Opera";if(Ll(y))return"IEMobile";if(y.includes("msie")||y.includes("trident/"))return"IE";if(y.includes("edge/"))return"Edge";if(Kn(y))return"Firefox";if(y.includes("silk/"))return"Silk";if(Ta(y))return"Blackberry";if(Uo(y))return"Webos";if(Qi(y))return"Safari";if((y.includes("chrome/")||gs(y))&&!y.includes("edge/"))return"Chrome";if(ms(y))return"Android";{const I=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==I?void 0:I.length))return I[1]}return"Other"}function Kn(C=(0,G.z$)()){return/firefox\//i.test(C)}function Qi(C=(0,G.z$)()){const y=C.toLowerCase();return y.includes("safari/")&&!y.includes("chrome/")&&!y.includes("crios/")&&!y.includes("android")}function gs(C=(0,G.z$)()){return/crios\//i.test(C)}function Ll(C=(0,G.z$)()){return/iemobile/i.test(C)}function ms(C=(0,G.z$)()){return/android/i.test(C)}function Ta(C=(0,G.z$)()){return/blackberry/i.test(C)}function Uo(C=(0,G.z$)()){return/webos/i.test(C)}function Cn(C=(0,G.z$)()){return/iphone|ipad|ipod/i.test(C)}function oh(C=(0,G.z$)()){return Cn(C)||ms(C)||Uo(C)||Ta(C)||/windows phone/i.test(C)||Ll(C)}function ze(C,y=[]){let E;switch(C){case"Browser":E=fr((0,G.z$)());break;case"Worker":E=`${fr((0,G.z$)())}-${C}`;break;default:E=C}const I=y.length?y.join(","):"FirebaseCore-web";return`${E}/JsCore/${ie.SDK_VERSION}/${I}`}class Vt{constructor(y,E){this.app=y,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yr(this),this.idTokenSubscription=new yr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=y.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(y,E){var I=this;return E&&(this._popupRedirectResolver=ge(E)),this._initializationPromise=this.queue((0,f.Z)(function*(){var O;I._deleted||(I.persistenceManager=yield wn.create(I,y),!I._deleted&&((null===(O=I._popupRedirectResolver)||void 0===O?void 0:O._shouldInitProactively)&&(yield I._popupRedirectResolver._initialize(I)),yield I.initializeCurrentUser(E),!I._deleted&&(I._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var y=this;return(0,f.Z)(function*(){if(y._deleted)return;const E=yield y.assertedPersistence.getCurrentUser();if(y.currentUser||E){if(y.currentUser&&E&&y.currentUser.uid===E.uid)return y._currentUser._assign(E),void(yield y.currentUser.getIdToken());yield y._updateCurrentUser(E)}})()}initializeCurrentUser(y){var E=this;return(0,f.Z)(function*(){var I;let O=yield E.assertedPersistence.getCurrentUser();if(y&&E.config.authDomain){yield E.getOrInitRedirectPersistenceManager();const P=null===(I=E.redirectUser)||void 0===I?void 0:I._redirectEventId,te=null==O?void 0:O._redirectEventId,xe=yield E.tryRedirectSignIn(y);(!P||P===te)&&(null==xe?void 0:xe.user)&&(O=xe.user)}return O?O._redirectEventId?(Te(E._popupRedirectResolver,E,"argument-error"),yield E.getOrInitRedirectPersistenceManager(),E.redirectUser&&E.redirectUser._redirectEventId===O._redirectEventId?E.directlySetCurrentUser(O):E.reloadAndSetCurrentUserOrClear(O)):E.reloadAndSetCurrentUserOrClear(O):E.directlySetCurrentUser(null)})()}tryRedirectSignIn(y){var E=this;return(0,f.Z)(function*(){let I=null;try{I=yield E._popupRedirectResolver._completeRedirectFn(E,y,!0)}catch(O){yield E._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(y){var E=this;return(0,f.Z)(function*(){try{yield Qt(y)}catch(I){if("auth/network-request-failed"!==I.code)return E.directlySetCurrentUser(null)}return E.directlySetCurrentUser(y)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var y=this;return(0,f.Z)(function*(){y._deleted=!0})()}updateCurrentUser(y){var E=this;return(0,f.Z)(function*(){const I=y?(0,G.m9)(y):null;return I&&Te(I.auth.config.apiKey===E.config.apiKey,E,"invalid-user-token"),E._updateCurrentUser(I&&I._clone(E))})()}_updateCurrentUser(y){var E=this;return(0,f.Z)(function*(){if(!E._deleted)return y&&Te(E.tenantId===y.tenantId,E,"tenant-id-mismatch"),E.queue((0,f.Z)(function*(){yield E.directlySetCurrentUser(y),E.notifyAuthListeners()}))})()}signOut(){var y=this;return(0,f.Z)(function*(){return(y.redirectPersistenceManager||y._popupRedirectResolver)&&(yield y._setRedirectUser(null)),y._updateCurrentUser(null)})()}setPersistence(y){var E=this;return this.queue((0,f.Z)(function*(){yield E.assertedPersistence.setPersistence(ge(y))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(y){this._errorFactory=new G.LL("auth","Firebase",y())}onAuthStateChanged(y,E,I){return this.registerStateListener(this.authStateSubscription,y,E,I)}onIdTokenChanged(y,E,I){return this.registerStateListener(this.idTokenSubscription,y,E,I)}toJSON(){var y;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(y=this._currentUser)||void 0===y?void 0:y.toJSON()}}_setRedirectUser(y,E){var I=this;return(0,f.Z)(function*(){const O=yield I.getOrInitRedirectPersistenceManager(E);return null===y?O.removeCurrentUser():O.setCurrentUser(y)})()}getOrInitRedirectPersistenceManager(y){var E=this;return(0,f.Z)(function*(){if(!E.redirectPersistenceManager){const I=y&&ge(y)||E._popupRedirectResolver;Te(I,E,"argument-error"),E.redirectPersistenceManager=yield wn.create(E,[ge(I._redirectPersistence)],"redirectUser"),E.redirectUser=yield E.redirectPersistenceManager.getCurrentUser()}return E.redirectPersistenceManager})()}_redirectUserForId(y){var E=this;return(0,f.Z)(function*(){var I,O;return E._isInitialized&&(yield E.queue((0,f.Z)(function*(){}))),(null===(I=E._currentUser)||void 0===I?void 0:I._redirectEventId)===y?E._currentUser:(null===(O=E.redirectUser)||void 0===O?void 0:O._redirectEventId)===y?E.redirectUser:null})()}_persistUserIfCurrent(y){var E=this;return(0,f.Z)(function*(){if(y===E.currentUser)return E.queue((0,f.Z)(function*(){return E.directlySetCurrentUser(y)}))})()}_notifyListenersIfCurrent(y){y===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var y,E;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(E=null===(y=this.currentUser)||void 0===y?void 0:y.uid)&&void 0!==E?E:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(y,E,I,O){if(this._deleted)return()=>{};const P="function"==typeof E?E:E.next.bind(E),te=this._isInitialized?Promise.resolve():this._initializationPromise;return Te(te,this,"internal-error"),te.then(()=>P(this.currentUser)),"function"==typeof E?y.addObserver(E,I,O):y.addObserver(E)}directlySetCurrentUser(y){var E=this;return(0,f.Z)(function*(){E.currentUser&&E.currentUser!==y&&(E._currentUser._stopProactiveRefresh(),y&&E.isProactiveRefreshEnabled&&y._startProactiveRefresh()),E.currentUser=y,y?yield E.assertedPersistence.setCurrentUser(y):yield E.assertedPersistence.removeCurrentUser()})()}queue(y){return this.operations=this.operations.then(y,y),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(y){!y||this.frameworks.includes(y)||(this.frameworks.push(y),this.frameworks.sort(),this.clientVersion=ze(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Rt(C){return(0,G.m9)(C)}class yr{constructor(y){this.auth=y,this.observer=null,this.addObserver=(0,G.ne)(E=>this.observer=E)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function On(C){const y=C.indexOf(":");return y<0?"":C.substr(0,y+1)}function yn(C){if(!C)return null;const y=Number(C);return isNaN(y)?null:y}class fi{constructor(y,E){this.providerId=y,this.signInMethod=E}toJSON(){return Nt("not implemented")}_getIdTokenResponse(y){return Nt("not implemented")}_linkToIdToken(y,E){return Nt("not implemented")}_getReauthenticationResolver(y){return Nt("not implemented")}}function Tt(C,y){return xi.apply(this,arguments)}function xi(){return(xi=(0,f.Z)(function*(C,y){return It(C,"POST","/v1/accounts:resetPassword",hn(C,y))})).apply(this,arguments)}function gn(C,y){return vo.apply(this,arguments)}function vo(){return(vo=(0,f.Z)(function*(C,y){return It(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Ho(C,y){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,f.Z)(function*(C,y){return It(C,"POST","/v1/accounts:update",hn(C,y))})).apply(this,arguments)}function Ri(){return(Ri=(0,f.Z)(function*(C,y){return Yn(C,"POST","/v1/accounts:signInWithPassword",hn(C,y))})).apply(this,arguments)}function vr(C,y){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,f.Z)(function*(C,y){return It(C,"POST","/v1/accounts:sendOobCode",hn(C,y))})).apply(this,arguments)}function mu(C,y){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,f.Z)(function*(C,y){return vr(C,y)})).apply(this,arguments)}function Jr(C,y){return $o.apply(this,arguments)}function $o(){return($o=(0,f.Z)(function*(C,y){return vr(C,y)})).apply(this,arguments)}function Hn(C,y){return _s.apply(this,arguments)}function _s(){return(_s=(0,f.Z)(function*(C,y){return vr(C,y)})).apply(this,arguments)}function Xr(C,y){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,f.Z)(function*(C,y){return vr(C,y)})).apply(this,arguments)}function pi(){return(pi=(0,f.Z)(function*(C,y){return Yn(C,"POST","/v1/accounts:signInWithEmailLink",hn(C,y))})).apply(this,arguments)}function zs(){return(zs=(0,f.Z)(function*(C,y){return Yn(C,"POST","/v1/accounts:signInWithEmailLink",hn(C,y))})).apply(this,arguments)}class ys extends fi{constructor(y,E,I,O=null){super("password",I),this._email=y,this._password=E,this._tenantId=O}static _fromEmailAndPassword(y,E){return new ys(y,E,"password")}static _fromEmailAndCode(y,E,I=null){return new ys(y,E,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(y){const E="string"==typeof y?JSON.parse(y):y;if((null==E?void 0:E.email)&&(null==E?void 0:E.password)){if("password"===E.signInMethod)return this._fromEmailAndPassword(E.email,E.password);if("emailLink"===E.signInMethod)return this._fromEmailAndCode(E.email,E.password,E.tenantId)}return null}_getIdTokenResponse(y){var E=this;return(0,f.Z)(function*(){switch(E.signInMethod){case"password":return function(C,y){return Ri.apply(this,arguments)}(y,{returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function(C,y){return pi.apply(this,arguments)}(y,{email:E._email,oobCode:E._password});default:Ve(y,"internal-error")}})()}_linkToIdToken(y,E){var I=this;return(0,f.Z)(function*(){switch(I.signInMethod){case"password":return gn(y,{idToken:E,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function(C,y){return zs.apply(this,arguments)}(y,{idToken:E,email:I._email,oobCode:I._password});default:Ve(y,"internal-error")}})()}_getReauthenticationResolver(y){return this._getIdTokenResponse(y)}}function pr(C,y){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,f.Z)(function*(C,y){return Yn(C,"POST","/v1/accounts:signInWithIdp",hn(C,y))})).apply(this,arguments)}class Ji extends fi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(y){const E=new Ji(y.providerId,y.signInMethod);return y.idToken||y.accessToken?(y.idToken&&(E.idToken=y.idToken),y.accessToken&&(E.accessToken=y.accessToken),y.nonce&&!y.pendingToken&&(E.nonce=y.nonce),y.pendingToken&&(E.pendingToken=y.pendingToken)):y.oauthToken&&y.oauthTokenSecret?(E.accessToken=y.oauthToken,E.secret=y.oauthTokenSecret):Ve("argument-error"),E}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(y){const E="string"==typeof y?JSON.parse(y):y,{providerId:I,signInMethod:O}=E,P=(0,_e._T)(E,["providerId","signInMethod"]);if(!I||!O)return null;const te=new Ji(I,O);return Object.assign(te,P),te}_getIdTokenResponse(y){return pr(y,this.buildRequest())}_linkToIdToken(y,E){const I=this.buildRequest();return I.idToken=E,pr(y,I)}_getReauthenticationResolver(y){const E=this.buildRequest();return E.autoCreate=!1,pr(y,E)}buildRequest(){const y={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)y.pendingToken=this.pendingToken;else{const E={};this.idToken&&(E.id_token=this.idToken),this.accessToken&&(E.access_token=this.accessToken),this.secret&&(E.oauth_token_secret=this.secret),E.providerId=this.providerId,this.nonce&&!this.pendingToken&&(E.nonce=this.nonce),y.postBody=(0,G.xO)(E)}return y}}function ah(C,y){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,f.Z)(function*(C,y){return It(C,"POST","/v1/accounts:sendVerificationCode",hn(C,y))})).apply(this,arguments)}function Da(){return(Da=(0,f.Z)(function*(C,y){return Yn(C,"POST","/v1/accounts:signInWithPhoneNumber",hn(C,y))})).apply(this,arguments)}function Aa(){return(Aa=(0,f.Z)(function*(C,y){const E=yield Yn(C,"POST","/v1/accounts:signInWithPhoneNumber",hn(C,y));if(E.temporaryProof)throw Rr(C,"account-exists-with-different-credential",E);return E})).apply(this,arguments)}const Yp={USER_NOT_FOUND:"user-not-found"};function Ul(){return(Ul=(0,f.Z)(function*(C,y){return Yn(C,"POST","/v1/accounts:signInWithPhoneNumber",hn(C,Object.assign(Object.assign({},y),{operation:"REAUTH"})),Yp)})).apply(this,arguments)}class qs extends fi{constructor(y){super("phone","phone"),this.params=y}static _fromVerification(y,E){return new qs({verificationId:y,verificationCode:E})}static _fromTokenResponse(y,E){return new qs({phoneNumber:y,temporaryProof:E})}_getIdTokenResponse(y){return function(C,y){return Da.apply(this,arguments)}(y,this._makeVerificationRequest())}_linkToIdToken(y,E){return function(C,y){return Aa.apply(this,arguments)}(y,Object.assign({idToken:E},this._makeVerificationRequest()))}_getReauthenticationResolver(y){return function(C,y){return Ul.apply(this,arguments)}(y,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:y,phoneNumber:E,verificationId:I,verificationCode:O}=this.params;return y&&E?{temporaryProof:y,phoneNumber:E}:{sessionInfo:I,code:O}}toJSON(){const y={providerId:this.providerId};return this.params.phoneNumber&&(y.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(y.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(y.verificationCode=this.params.verificationCode),this.params.verificationId&&(y.verificationId=this.params.verificationId),y}static fromJSON(y){"string"==typeof y&&(y=JSON.parse(y));const{verificationId:E,verificationCode:I,phoneNumber:O,temporaryProof:P}=y;return I||E||O||P?new qs({verificationId:E,verificationCode:I,phoneNumber:O,temporaryProof:P}):null}}class zo{constructor(y){var E,I,O,P,te,xe;const qe=(0,G.zd)((0,G.pd)(y)),nt=null!==(E=qe.apiKey)&&void 0!==E?E:null,pt=null!==(I=qe.oobCode)&&void 0!==I?I:null,vt=function(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(O=qe.mode)&&void 0!==O?O:null);Te(nt&&pt&&vt,"argument-error"),this.apiKey=nt,this.operation=vt,this.code=pt,this.continueUrl=null!==(P=qe.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(te=qe.languageCode)&&void 0!==te?te:null,this.tenantId=null!==(xe=qe.tenantId)&&void 0!==xe?xe:null}static parseLink(y){const E=function(C){const y=(0,G.zd)((0,G.pd)(C)).link,E=y?(0,G.zd)((0,G.pd)(y)).deep_link_id:null,I=(0,G.zd)((0,G.pd)(C)).deep_link_id;return(I?(0,G.zd)((0,G.pd)(I)).link:null)||I||E||y||C}(y);try{return new zo(E)}catch(I){return null}}}let Ma=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(E,I){return ys._fromEmailAndPassword(E,I)}static credentialWithLink(E,I){const O=zo.parseLink(I);return Te(O,"argument-error"),ys._fromEmailAndCode(E,O.code,O.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class bs{constructor(y){this.providerId=y,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(y){this.defaultLanguageCode=y}setCustomParameters(y){return this.customParameters=y,this}getCustomParameters(){return this.customParameters}}class Ws extends bs{constructor(){super(...arguments),this.scopes=[]}addScope(y){return this.scopes.includes(y)||this.scopes.push(y),this}getScopes(){return[...this.scopes]}}class Es extends Ws{static credentialFromJSON(y){const E="string"==typeof y?JSON.parse(y):y;return Te("providerId"in E&&"signInMethod"in E,"argument-error"),Ji._fromParams(E)}credential(y){return this._credential(y)}_credential(y){return Te(y.idToken||y.accessToken,"argument-error"),Ji._fromParams(Object.assign(Object.assign({},y),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(y){return Es.oauthCredentialFromTaggedObject(y)}static credentialFromError(y){return Es.oauthCredentialFromTaggedObject(y.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:E,oauthAccessToken:I,oauthTokenSecret:O,pendingToken:P,nonce:te,providerId:xe}=y;if(!I&&!O&&!E&&!P||!xe)return null;try{return new Es(xe)._credential({idToken:E,accessToken:I,rawNonce:te,pendingToken:P})}catch(qe){return null}}}let Gl=(()=>{class C extends Ws{constructor(){super("facebook.com")}static credential(E){return Ji._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:E})}static credentialFromResult(E){return C.credentialFromTaggedObject(E)}static credentialFromError(E){return C.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E||!("oauthAccessToken"in E)||!E.oauthAccessToken)return null;try{return C.credential(E.oauthAccessToken)}catch(I){return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),qo=(()=>{class C extends Ws{constructor(){super("google.com"),this.addScope("profile")}static credential(E,I){return Ji._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:E,accessToken:I})}static credentialFromResult(E){return C.credentialFromTaggedObject(E)}static credentialFromError(E){return C.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthIdToken:I,oauthAccessToken:O}=E;if(!I&&!O)return null;try{return C.credential(I,O)}catch(P){return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),$l=(()=>{class C extends Ws{constructor(){super("github.com")}static credential(E){return Ji._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:E})}static credentialFromResult(E){return C.credentialFromTaggedObject(E)}static credentialFromError(E){return C.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E||!("oauthAccessToken"in E)||!E.oauthAccessToken)return null;try{return C.credential(E.oauthAccessToken)}catch(I){return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class bo extends fi{constructor(y,E){super(y,y),this.pendingToken=E}_getIdTokenResponse(y){return pr(y,this.buildRequest())}_linkToIdToken(y,E){const I=this.buildRequest();return I.idToken=E,pr(y,I)}_getReauthenticationResolver(y){const E=this.buildRequest();return E.autoCreate=!1,pr(y,E)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(y){const E="string"==typeof y?JSON.parse(y):y,{providerId:I,signInMethod:O,pendingToken:P}=E;return I&&O&&P&&I===O?new bo(I,P):null}static _create(y,E){return new bo(y,E)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let xa=(()=>{class C extends Ws{constructor(){super("twitter.com")}static credential(E,I){return Ji._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:E,oauthTokenSecret:I})}static credentialFromResult(E){return C.credentialFromTaggedObject(E)}static credentialFromError(E){return C.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthAccessToken:I,oauthTokenSecret:O}=E;if(!I||!O)return null;try{return C.credential(I,O)}catch(P){return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function yu(C,y){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,f.Z)(function*(C,y){return Yn(C,"POST","/v1/accounts:signUp",hn(C,y))})).apply(this,arguments)}class br{constructor(y){this.user=y.user,this.providerId=y.providerId,this._tokenResponse=y._tokenResponse,this.operationType=y.operationType}static _fromIdTokenResponse(y,E,I,O=!1){return(0,f.Z)(function*(){const P=yield tt._fromIdTokenResponse(y,I,O),te=Ra(I);return new br({user:P,providerId:te,_tokenResponse:I,operationType:E})})()}static _forOperation(y,E,I){return(0,f.Z)(function*(){yield y._updateTokensIfNecessary(I,!0);const O=Ra(I);return new br({user:y,providerId:O,_tokenResponse:I,operationType:E})})()}}function Ra(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function Oa(){return(Oa=(0,f.Z)(function*(C){var y;const E=Rt(C);if(yield E._initializationPromise,null===(y=E.currentUser)||void 0===y?void 0:y.isAnonymous)return new br({user:E.currentUser,providerId:null,operationType:"signIn"});const I=yield yu(E,{returnSecureToken:!0}),O=yield br._fromIdTokenResponse(E,"signIn",I,!0);return yield E._updateCurrentUser(O.user),O})).apply(this,arguments)}class Er extends G.ZR{constructor(y,E,I,O){var P;super(E.code,E.message),this.operationType=I,this.user=O,this.name="FirebaseError",Object.setPrototypeOf(this,Er.prototype),this.appName=y.name,this.code=E.code,this.tenantId=null!==(P=y.tenantId)&&void 0!==P?P:void 0,this.serverResponse=E.customData.serverResponse}static _fromErrorAndOperation(y,E,I,O){return new Er(y,E,I,O)}}function ka(C,y,E,I){return("reauthenticate"===y?E._getReauthenticationResolver(C):E._getIdTokenResponse(C)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?Er._fromErrorAndOperation(C,P,y,I):P})}function zl(C){return new Set(C.map(({providerId:y})=>y).filter(y=>!!y))}function Pa(){return(Pa=(0,f.Z)(function*(C,y){const E=(0,G.m9)(C);yield fn(!0,E,y);const{providerUserInfo:I}=yield Ki(E.auth,{idToken:yield E.getIdToken(),deleteProvider:[y]}),O=zl(I||[]);return E.providerData=E.providerData.filter(P=>O.has(P.providerId)),O.has("phone")||(E.phoneNumber=null),yield E.auth._persistUserIfCurrent(E),E})).apply(this,arguments)}function Fa(C,y){return ql.apply(this,arguments)}function ql(){return(ql=(0,f.Z)(function*(C,y,E=!1){const I=yield je(C,y._linkToIdToken(C.auth,yield C.getIdToken()),E);return br._forOperation(C,"link",I)})).apply(this,arguments)}function fn(C,y,E){return B.apply(this,arguments)}function B(){return(B=(0,f.Z)(function*(C,y,E){yield Qt(y);const O=!1===C?"provider-already-linked":"no-such-provider";Te(zl(y.providerData).has(E)===C,y.auth,O)})).apply(this,arguments)}function W(C,y){return ae.apply(this,arguments)}function ae(){return(ae=(0,f.Z)(function*(C,y,E=!1){const{auth:I}=C,O="reauthenticate";try{const P=yield je(C,ka(I,O,y,C),E);Te(P.idToken,I,"internal-error");const te=er(P.idToken);Te(te,I,"internal-error");const{sub:xe}=te;return Te(C.uid===xe,I,"user-mismatch"),br._forOperation(C,O,P)}catch(P){throw"auth/user-not-found"===(null==P?void 0:P.code)&&Ve(I,"user-mismatch"),P}})).apply(this,arguments)}function Ie(C,y){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,f.Z)(function*(C,y,E=!1){const I="signIn",O=yield ka(C,I,y),P=yield br._fromIdTokenResponse(C,I,O);return E||(yield C._updateCurrentUser(P.user)),P})).apply(this,arguments)}function Ke(C,y){return ot.apply(this,arguments)}function ot(){return(ot=(0,f.Z)(function*(C,y){return Ie(Rt(C),y)})).apply(this,arguments)}function at(C,y){return nn.apply(this,arguments)}function nn(){return(nn=(0,f.Z)(function*(C,y){const E=(0,G.m9)(C);return yield fn(!1,E,y.providerId),Fa(E,y)})).apply(this,arguments)}function tr(C,y){return wr.apply(this,arguments)}function wr(){return(wr=(0,f.Z)(function*(C,y){return W((0,G.m9)(C),y)})).apply(this,arguments)}function nr(C,y){return wo.apply(this,arguments)}function wo(){return(wo=(0,f.Z)(function*(C,y){return Yn(C,"POST","/v1/accounts:signInWithCustomToken",hn(C,y))})).apply(this,arguments)}function La(){return(La=(0,f.Z)(function*(C,y){const E=Rt(C),I=yield nr(E,{token:y,returnSecureToken:!0}),O=yield br._fromIdTokenResponse(E,"signIn",I);return yield E._updateCurrentUser(O.user),O})).apply(this,arguments)}class ws{constructor(y,E){this.factorId=y,this.uid=E.mfaEnrollmentId,this.enrollmentTime=new Date(E.enrolledAt).toUTCString(),this.displayName=E.displayName}static _fromServerResponse(y,E){return"phoneInfo"in E?bu._fromServerResponse(y,E):Ve(y,"internal-error")}}class bu extends ws{constructor(y){super("phone",y),this.phoneNumber=y.phoneInfo}static _fromServerResponse(y,E){return new bu(E)}}function Va(C,y,E){var I;Te((null===(I=E.url)||void 0===I?void 0:I.length)>0,C,"invalid-continue-uri"),Te(void 0===E.dynamicLinkDomain||E.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),y.continueUrl=E.url,y.dynamicLinkDomain=E.dynamicLinkDomain,y.canHandleCodeInApp=E.handleCodeInApp,E.iOS&&(Te(E.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),y.iosBundleId=E.iOS.bundleId),E.android&&(Te(E.android.packageName.length>0,C,"missing-android-pkg-name"),y.androidInstallApp=E.android.installApp,y.androidMinimumVersionCode=E.android.minimumVersion,y.androidPackageName=E.android.packageName)}function ch(){return(ch=(0,f.Z)(function*(C,y,E){const I=(0,G.m9)(C),O={requestType:"PASSWORD_RESET",email:y};E&&Va(I,O,E),yield Jr(I,O)})).apply(this,arguments)}function uh(){return(uh=(0,f.Z)(function*(C,y,E){yield Tt((0,G.m9)(C),{oobCode:y,newPassword:E})})).apply(this,arguments)}function dh(){return(dh=(0,f.Z)(function*(C,y){yield Ho((0,G.m9)(C),{oobCode:y})})).apply(this,arguments)}function Kp(C,y){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,f.Z)(function*(C,y){const E=(0,G.m9)(C),I=yield Tt(E,{oobCode:y}),O=I.requestType;switch(Te(O,E,"internal-error"),O){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Te(I.newEmail,E,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Te(I.mfaInfo,E,"internal-error");default:Te(I.email,E,"internal-error")}let P=null;return I.mfaInfo&&(P=ws._fromServerResponse(Rt(E),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:P},operation:O}})).apply(this,arguments)}function Gt(){return(Gt=(0,f.Z)(function*(C,y){const{data:E}=yield Kp((0,G.m9)(C),y);return E.email})).apply(this,arguments)}function mn(){return(mn=(0,f.Z)(function*(C,y,E){const I=Rt(C),O=yield yu(I,{returnSecureToken:!0,email:y,password:E}),P=yield br._fromIdTokenResponse(I,"signIn",O);return yield I._updateCurrentUser(P.user),P})).apply(this,arguments)}function ti(){return(ti=(0,f.Z)(function*(C,y,E){const I=(0,G.m9)(C),O={requestType:"EMAIL_SIGNIN",email:y};Te(E.handleCodeInApp,I,"argument-error"),E&&Va(I,O,E),yield Hn(I,O)})).apply(this,arguments)}function Qp(){return(Qp=(0,f.Z)(function*(C,y,E){const I=(0,G.m9)(C),O=Ma.credentialWithLink(y,E||Ce());return Te(O._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),Ke(I,O)})).apply(this,arguments)}function wy(C,y){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,f.Z)(function*(C,y){return It(C,"POST","/v1/accounts:createAuthUri",hn(C,y))})).apply(this,arguments)}function Gn(){return(Gn=(0,f.Z)(function*(C,y){const I={identifier:y,continueUri:ce()?Ce():"http://localhost"},{signinMethods:O}=yield wy((0,G.m9)(C),I);return O||[]})).apply(this,arguments)}function ph(){return(ph=(0,f.Z)(function*(C,y){const E=(0,G.m9)(C),O={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};y&&Va(E.auth,O,y);const{email:P}=yield mu(E.auth,O);P!==C.email&&(yield C.reload())})).apply(this,arguments)}function gi(){return(gi=(0,f.Z)(function*(C,y,E){const I=(0,G.m9)(C),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:y};E&&Va(I.auth,P,E);const{email:te}=yield Xr(I.auth,P);te!==C.email&&(yield C.reload())})).apply(this,arguments)}function o0(C,y){return Su.apply(this,arguments)}function Su(){return(Su=(0,f.Z)(function*(C,y){return It(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function gh(){return(gh=(0,f.Z)(function*(C,{displayName:y,photoURL:E}){if(void 0===y&&void 0===E)return;const I=(0,G.m9)(C),P={idToken:yield I.getIdToken(),displayName:y,photoUrl:E,returnSecureToken:!0},te=yield je(I,o0(I.auth,P));I.displayName=te.displayName||null,I.photoURL=te.photoUrl||null;const xe=I.providerData.find(({providerId:qe})=>"password"===qe);xe&&(xe.displayName=I.displayName,xe.photoURL=I.photoURL),yield I._updateTokensIfNecessary(te)})).apply(this,arguments)}function yh(C,y,E){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,f.Z)(function*(C,y,E){const{auth:I}=C,P={idToken:yield C.getIdToken(),returnSecureToken:!0};y&&(P.email=y),E&&(P.password=E);const te=yield je(C,gn(I,P));yield C._updateTokensIfNecessary(te,!0)})).apply(this,arguments)}class Qo{constructor(y,E,I={}){this.isNewUser=y,this.providerId=E,this.profile=I}}class Wl extends Qo{constructor(y,E,I,O){super(y,E,I),this.username=O}}class eg extends Qo{constructor(y,E){super(y,"facebook.com",E)}}class Cy extends Wl{constructor(y,E){super(y,"github.com",E,"string"==typeof(null==E?void 0:E.login)?null==E?void 0:E.login:null)}}class tg extends Qo{constructor(y,E){super(y,"google.com",E)}}class Sy extends Wl{constructor(y,E,I){super(y,"twitter.com",E,I)}}function Zl(C){const{user:y,_tokenResponse:E}=C;return y.isAnonymous&&!E?{providerId:null,isNewUser:!1,profile:null}:function(C){var y,E;if(!C)return null;const{providerId:I}=C,O=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},P=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!I&&(null==C?void 0:C.idToken)){const te=null===(E=null===(y=er(C.idToken))||void 0===y?void 0:y.firebase)||void 0===E?void 0:E.sign_in_provider;if(te)return new Qo(P,"anonymous"!==te&&"custom"!==te?te:null)}if(!I)return null;switch(I){case"facebook.com":return new eg(P,O);case"github.com":return new Cy(P,O);case"google.com":return new tg(P,O);case"twitter.com":return new Sy(P,O,C.screenName||null);case"custom":case"anonymous":return new Qo(P,null);default:return new Qo(P,I,O)}}(E)}class Jo{constructor(y,E){this.type=y,this.credential=E}static _fromIdtoken(y){return new Jo("enroll",y)}static _fromMfaPendingCredential(y){return new Jo("signin",y)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(y){var E,I;if(null==y?void 0:y.multiFactorSession){if(null===(E=y.multiFactorSession)||void 0===E?void 0:E.pendingCredential)return Jo._fromMfaPendingCredential(y.multiFactorSession.pendingCredential);if(null===(I=y.multiFactorSession)||void 0===I?void 0:I.idToken)return Jo._fromIdtoken(y.multiFactorSession.idToken)}return null}}class vh{constructor(y,E,I){this.session=y,this.hints=E,this.signInResolver=I}static _fromError(y,E){const I=Rt(y),O=(E.serverResponse.mfaInfo||[]).map(te=>ws._fromServerResponse(I,te));Te(E.serverResponse.mfaPendingCredential,I,"internal-error");const P=Jo._fromMfaPendingCredential(E.serverResponse.mfaPendingCredential);return new vh(P,O,function(){var te=(0,f.Z)(function*(xe){const qe=yield xe._process(I,P);delete E.serverResponse.mfaInfo,delete E.serverResponse.mfaPendingCredential;const nt=Object.assign(Object.assign({},E.serverResponse),{idToken:qe.idToken,refreshToken:qe.refreshToken});switch(E.operationType){case"signIn":const pt=yield br._fromIdTokenResponse(I,E.operationType,nt);return yield I._updateCurrentUser(pt.user),pt;case"reauthenticate":return Te(E.user,I,"internal-error"),br._forOperation(E.user,E.operationType,nt);default:Ve(I,"internal-error")}});return function(xe){return te.apply(this,arguments)}}())}resolveSignIn(y){var E=this;return(0,f.Z)(function*(){return E.signInResolver(y)})()}}function Tu(C,y){return It(C,"POST","/v2/accounts/mfaEnrollment:start",Object.assign({tenantId:C.tenantId},y))}class Yl{constructor(y){this.user=y,this.enrolledFactors=[],y._onReload(E=>{E.mfaInfo&&(this.enrolledFactors=E.mfaInfo.map(I=>ws._fromServerResponse(y.auth,I)))})}static _fromUser(y){return new Yl(y)}getSession(){var y=this;return(0,f.Z)(function*(){return Jo._fromIdtoken(yield y.user.getIdToken())})()}enroll(y,E){var I=this;return(0,f.Z)(function*(){const O=y,P=yield I.getSession(),te=yield je(I.user,O._process(I.user.auth,P,E));return yield I.user._updateTokensIfNecessary(te),I.user.reload()})()}unenroll(y){var E=this;return(0,f.Z)(function*(){const I="string"==typeof y?y:y.uid,O=yield E.user.getIdToken(),P=yield je(E.user,function(C,y){return It(C,"POST","/v2/accounts/mfaEnrollment:withdraw",Object.assign({tenantId:C.tenantId},y))}(E.user.auth,{idToken:O,mfaEnrollmentId:I}));E.enrolledFactors=E.enrolledFactors.filter(({uid:te})=>te!==I),yield E.user._updateTokensIfNecessary(P);try{yield E.user.reload()}catch(te){if("auth/user-token-expired"!==te.code)throw te}})()}}const Au=new WeakMap,rs="__sak";class Kl{constructor(y,E){this.storage=y,this.type=E}_isAvailable(){try{return this.storage?(this.storage.setItem(rs,"1"),this.storage.removeItem(rs),Promise.resolve(!0)):Promise.resolve(!1)}catch(y){return Promise.resolve(!1)}}_set(y,E){return this.storage.setItem(y,JSON.stringify(E)),Promise.resolve()}_get(y){const E=this.storage.getItem(y);return Promise.resolve(E?JSON.parse(E):null)}_remove(y){return this.storage.removeItem(y),Promise.resolve()}}const Ga=(()=>{class C extends Kl{constructor(){super(window.localStorage,"LOCAL"),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const C=(0,G.z$)();return Qi(C)||Cn(C)}()&&function(){try{return!(!window||window===window.top)}catch(C){return!1}}(),this.fallbackToPolling=oh(),this._shouldAllowMigration=!0,this.boundEventHandler=this.onStorageEvent.bind(this)}forAllChangedKeys(E){for(const I of Object.keys(this.listeners)){const O=this.storage.getItem(I),P=this.localCache[I];O!==P&&E(I,P,O)}}onStorageEvent(E,I=!1){if(!E.key)return void this.forAllChangedKeys((xe,qe,nt)=>{this.notifyListeners(xe,nt)});const O=E.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const xe=this.storage.getItem(O);if(E.newValue!==xe)null!==E.newValue?this.storage.setItem(O,E.newValue):this.storage.removeItem(O);else if(this.localCache[O]===E.newValue&&!I)return}const P=()=>{const xe=this.storage.getItem(O);!I&&this.localCache[O]===xe||this.notifyListeners(O,xe)},te=this.storage.getItem(O);(0,G.w1)()&&10===document.documentMode&&te!==E.newValue&&E.newValue!==E.oldValue?setTimeout(P,10):P()}notifyListeners(E,I){this.localCache[E]=I;const O=this.listeners[E];if(O)for(const P of Array.from(O))P(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((E,I,O)=>{this.onStorageEvent(new StorageEvent("storage",{key:E,oldValue:I,newValue:O}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(E,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[E]||(this.listeners[E]=new Set,this.localCache[E]=this.storage.getItem(E)),this.listeners[E].add(I)}_removeListener(E,I){this.listeners[E]&&(this.listeners[E].delete(I),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(E,I){var O=()=>super._set,P=this;return(0,f.Z)(function*(){yield O().call(P,E,I),P.localCache[E]=JSON.stringify(I)})()}_get(E){var I=()=>super._get,O=this;return(0,f.Z)(function*(){const P=yield I().call(O,E);return O.localCache[E]=JSON.stringify(P),P})()}_remove(E){var I=()=>super._remove,O=this;return(0,f.Z)(function*(){yield I().call(O,E),delete O.localCache[E]})()}}return C.type="LOCAL",C})(),Xo=(()=>{class C extends Kl{constructor(){super(window.sessionStorage,"SESSION")}_addListener(E,I){}_removeListener(E,I){}}return C.type="SESSION",C})();let Mu=(()=>{class C{constructor(E){this.eventTarget=E,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(E){const I=this.receivers.find(P=>P.isListeningto(E));if(I)return I;const O=new C(E);return this.receivers.push(O),O}isListeningto(E){return this.eventTarget===E}handleEvent(E){var I=this;return(0,f.Z)(function*(){const O=E,{eventId:P,eventType:te,data:xe}=O.data,qe=I.handlersMap[te];if(!(null==qe?void 0:qe.size))return;O.ports[0].postMessage({status:"ack",eventId:P,eventType:te});const nt=Array.from(qe).map(function(){var vt=(0,f.Z)(function*(Jn){return Jn(O.origin,xe)});return function(Jn){return vt.apply(this,arguments)}}()),pt=yield function(C){return Promise.all(C.map(function(){var y=(0,f.Z)(function*(E){try{return{fulfilled:!0,value:yield E}}catch(I){return{fulfilled:!1,reason:I}}});return function(E){return y.apply(this,arguments)}}()))}(nt);O.ports[0].postMessage({status:"done",eventId:P,eventType:te,response:pt})})()}_subscribe(E,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[E]||(this.handlersMap[E]=new Set),this.handlersMap[E].add(I)}_unsubscribe(E,I){this.handlersMap[E]&&I&&this.handlersMap[E].delete(I),(!I||0===this.handlersMap[E].size)&&delete this.handlersMap[E],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function ea(C="",y=10){let E="";for(let I=0;I<y;I++)E+=Math.floor(10*Math.random());return C+E}class Cs{constructor(y){this.target=y,this.handlers=new Set}removeMessageHandler(y){y.messageChannel&&(y.messageChannel.port1.removeEventListener("message",y.onMessage),y.messageChannel.port1.close()),this.handlers.delete(y)}_send(y,E,I=50){var O=this;return(0,f.Z)(function*(){const P="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let te,xe;return new Promise((qe,nt)=>{const pt=ea("",20);P.port1.start();const vt=setTimeout(()=>{nt(new Error("unsupported_event"))},I);xe={messageChannel:P,onMessage(Jn){const Fi=Jn;if(Fi.data.eventId===pt)switch(Fi.data.status){case"ack":clearTimeout(vt),te=setTimeout(()=>{nt(new Error("timeout"))},3e3);break;case"done":clearTimeout(te),qe(Fi.data.response);break;default:clearTimeout(vt),clearTimeout(te),nt(new Error("invalid_response"))}}},O.handlers.add(xe),P.port1.addEventListener("message",xe.onMessage),O.target.postMessage({eventType:y,eventId:pt,data:E},[P.port2])}).finally(()=>{xe&&O.removeMessageHandler(xe)})})()}}function Dn(){return window}function $a(){return void 0!==Dn().WorkerGlobalScope&&"function"==typeof Dn().importScripts}function ig(){return(ig=(0,f.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(C){return null}})).apply(this,arguments)}const Xl="firebaseLocalStorageDb",ec="firebaseLocalStorage",og="fbase_key";class xu{constructor(y){this.request=y}toPromise(){return new Promise((y,E)=>{this.request.addEventListener("success",()=>{y(this.request.result)}),this.request.addEventListener("error",()=>{E(this.request.error)})})}}function bh(C,y){return C.transaction([ec],y?"readwrite":"readonly").objectStore(ec)}function Ru(){const C=indexedDB.open(Xl,1);return new Promise((y,E)=>{C.addEventListener("error",()=>{E(C.error)}),C.addEventListener("upgradeneeded",()=>{const I=C.result;try{I.createObjectStore(ec,{keyPath:og})}catch(O){E(O)}}),C.addEventListener("success",(0,f.Z)(function*(){const I=C.result;I.objectStoreNames.contains(ec)?y(I):(I.close(),yield function(){const C=indexedDB.deleteDatabase(Xl);return new xu(C).toPromise()}(),y(yield Ru()))}))})}function Ot(C,y,E){return na.apply(this,arguments)}function na(){return(na=(0,f.Z)(function*(C,y,E){const I=bh(C,!0).put({[og]:y,value:E});return new xu(I).toPromise()})).apply(this,arguments)}function Xe(){return(Xe=(0,f.Z)(function*(C,y){const E=bh(C,!1).get(y),I=yield new xu(E).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function ag(C,y){const E=bh(C,!0).delete(y);return new xu(E).toPromise()}const nc=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var E=this;return(0,f.Z)(function*(){return E.db||(E.db=yield Ru()),E.db})()}_withRetries(E){var I=this;return(0,f.Z)(function*(){let O=0;for(;;)try{const P=yield I._openDb();return yield E(P)}catch(P){if(O++>3)throw P;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var E=this;return(0,f.Z)(function*(){return $a()?E.initializeReceiver():E.initializeSender()})()}initializeReceiver(){var E=this;return(0,f.Z)(function*(){E.receiver=Mu._getInstance($a()?self:null),E.receiver._subscribe("keyChanged",function(){var I=(0,f.Z)(function*(O,P){return{keyProcessed:(yield E._poll()).includes(P.key)}});return function(O,P){return I.apply(this,arguments)}}()),E.receiver._subscribe("ping",function(){var I=(0,f.Z)(function*(O,P){return["keyChanged"]});return function(O,P){return I.apply(this,arguments)}}())})()}initializeSender(){var E=this;return(0,f.Z)(function*(){var I,O;if(E.activeServiceWorker=yield function(){return ig.apply(this,arguments)}(),!E.activeServiceWorker)return;E.sender=new Cs(E.activeServiceWorker);const P=yield E.sender._send("ping",{},800);!P||(null===(I=P[0])||void 0===I?void 0:I.fulfilled)&&(null===(O=P[0])||void 0===O?void 0:O.value.includes("keyChanged"))&&(E.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(E){var I=this;return(0,f.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function(){var C;return(null===(C=null==navigator?void 0:navigator.serviceWorker)||void 0===C?void 0:C.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:E},I.serviceWorkerReceiverAvailable?800:50)}catch(O){}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const E=yield Ru();return yield Ot(E,rs,"1"),yield ag(E,rs),!0}catch(E){}return!1})()}_withPendingWrite(E){var I=this;return(0,f.Z)(function*(){I.pendingWrites++;try{yield E()}finally{I.pendingWrites--}})()}_set(E,I){var O=this;return(0,f.Z)(function*(){return O._withPendingWrite((0,f.Z)(function*(){return yield O._withRetries(P=>Ot(P,E,I)),O.localCache[E]=I,O.notifyServiceWorker(E)}))})()}_get(E){var I=this;return(0,f.Z)(function*(){const O=yield I._withRetries(P=>function(C,y){return Xe.apply(this,arguments)}(P,E));return I.localCache[E]=O,O})()}_remove(E){var I=this;return(0,f.Z)(function*(){return I._withPendingWrite((0,f.Z)(function*(){return yield I._withRetries(O=>ag(O,E)),delete I.localCache[E],I.notifyServiceWorker(E)}))})()}_poll(){var E=this;return(0,f.Z)(function*(){const I=yield E._withRetries(te=>{const xe=bh(te,!1).getAll();return new xu(xe).toPromise()});if(!I)return[];if(0!==E.pendingWrites)return[];const O=[],P=new Set;for(const{fbase_key:te,value:xe}of I)P.add(te),JSON.stringify(E.localCache[te])!==JSON.stringify(xe)&&(E.notifyListeners(te,xe),O.push(te));for(const te of Object.keys(E.localCache))E.localCache[te]&&!P.has(te)&&(E.notifyListeners(te,null),O.push(te));return O})()}notifyListeners(E,I){this.localCache[E]=I;const O=this.listeners[E];if(O)for(const P of Array.from(O))P(I)}startPolling(){var E=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return E._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(E,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[E]||(this.listeners[E]=new Set,this._get(E)),this.listeners[E].add(I)}_removeListener(E,I){this.listeners[E]&&(this.listeners[E].delete(I),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})();function My(C,y){return It(C,"POST","/v2/accounts/mfaSignIn:start",Object.assign({tenantId:C.tenantId},y))}function lg(){return(lg=(0,f.Z)(function*(C){return(yield It(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ku(C){return new Promise((y,E)=>{const I=document.createElement("script");I.setAttribute("src",C),I.onload=y,I.onerror=O=>{const P=Je("internal-error");P.customData=O,E(P)},I.type="text/javascript",I.charset="UTF-8",function(){var C,y;return null!==(y=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==y?y:document}().appendChild(I)})}function ra(C){return`__${C}${Math.floor(1e6*Math.random())}`}const ic=1e12;class sc{constructor(y){this.auth=y,this.counter=ic,this._widgets=new Map}render(y,E){const I=this.counter;return this._widgets.set(I,new oc(y,this.auth.name,E||{})),this.counter++,I}reset(y){var E;const I=y||ic;null===(E=this._widgets.get(I))||void 0===E||E.delete(),this._widgets.delete(I)}getResponse(y){var E;return(null===(E=this._widgets.get(y||ic))||void 0===E?void 0:E.getResponse())||""}execute(y){var E=this;return(0,f.Z)(function*(){var I;return null===(I=E._widgets.get(y||ic))||void 0===I||I.execute(),""})()}}class oc{constructor(y,E,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const O="string"==typeof y?document.getElementById(y):y;Te(O,"argument-error",{appName:E}),this.container=O,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(C){const y=[],E="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<50;I++)y.push(E.charAt(Math.floor(Math.random()*E.length)));return y.join("")}();const{callback:y,"expired-callback":E}=this.params;if(y)try{y(this.responseToken)}catch(I){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,E)try{E()}catch(I){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const za=ra("rcb"),ug=new ut(3e4,6e4);class vA{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Dn().grecaptcha}load(y,E=""){return Te((C=E).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C),y,"argument-error"),this.shouldResolveImmediately(E)?Promise.resolve(Dn().grecaptcha):new Promise((I,O)=>{const P=Dn().setTimeout(()=>{O(Je(y,"network-request-failed"))},ug.get());Dn()[za]=()=>{Dn().clearTimeout(P),delete Dn()[za];const xe=Dn().grecaptcha;if(!xe)return void O(Je(y,"internal-error"));const qe=xe.render;xe.render=(nt,pt)=>{const vt=qe(nt,pt);return this.counter++,vt},this.hostLanguage=E,I(xe)},ku(`https://www.google.com/recaptcha/api.js??${(0,G.xO)({onload:za,render:"explicit",hl:E})}`).catch(()=>{clearTimeout(P),O(Je(y,"internal-error"))})});var C}clearedOneInstance(){this.counter--}shouldResolveImmediately(y){return!!Dn().grecaptcha&&(y===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class h0{load(y){return(0,f.Z)(function*(){return new sc(y)})()}clearedOneInstance(){}}const f0="recaptcha",p0={theme:"light",type:"image"};class kn{constructor(y,E=Object.assign({},p0),I){this.parameters=E,this.type=f0,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Rt(I),this.isInvisible="invisible"===this.parameters.size,Te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const O="string"==typeof y?document.getElementById(y):y;Te(O,this.auth,"argument-error"),this.container=O,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new h0:new vA,this.validateStartingState()}verify(){var y=this;return(0,f.Z)(function*(){y.assertNotDestroyed();const E=yield y.render(),I=y.getAssertedRecaptcha();return I.getResponse(E)||new Promise(P=>{const te=xe=>{!xe||(y.tokenChangeListeners.delete(te),P(xe))};y.tokenChangeListeners.add(te),y.isInvisible&&I.execute(E)})})()}render(){try{this.assertNotDestroyed()}catch(y){return Promise.reject(y)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(y=>{throw this.renderPromise=null,y})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(y=>{this.container.removeChild(y)})}validateStartingState(){Te(!this.parameters.sitekey,this.auth,"argument-error"),Te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(y){return E=>{if(this.tokenChangeListeners.forEach(I=>I(E)),"function"==typeof y)y(E);else if("string"==typeof y){const I=Dn()[y];"function"==typeof I&&I(E)}}}assertNotDestroyed(){Te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var y=this;return(0,f.Z)(function*(){if(yield y.init(),!y.widgetId){let E=y.container;if(!y.isInvisible){const I=document.createElement("div");E.appendChild(I),E=I}y.widgetId=y.getAssertedRecaptcha().render(E,y.parameters)}return y.widgetId})()}init(){var y=this;return(0,f.Z)(function*(){Te(ce()&&!$a(),y.auth,"internal-error"),yield function(){let C=null;return new Promise(y=>{"complete"!==document.readyState?(C=()=>y(),window.addEventListener("load",C)):y()}).catch(y=>{throw C&&window.removeEventListener("load",C),y})}(),y.recaptcha=yield y._recaptchaLoader.load(y.auth,y.auth.languageCode||void 0);const E=yield function(C){return lg.apply(this,arguments)}(y.auth);Te(E,y.auth,"internal-error"),y.parameters.sitekey=E})()}getAssertedRecaptcha(){return Te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Eh{constructor(y,E){this.verificationId=y,this.onConfirmation=E}confirm(y){const E=qs._fromVerification(this.verificationId,y);return this.onConfirmation(E)}}function Oy(){return(Oy=(0,f.Z)(function*(C,y,E){const I=Rt(C),O=yield dg(I,y,(0,G.m9)(E));return new Eh(O,P=>Ke(I,P))})).apply(this,arguments)}function ky(){return(ky=(0,f.Z)(function*(C,y,E){const I=(0,G.m9)(C);yield fn(!1,I,"phone");const O=yield dg(I.auth,y,(0,G.m9)(E));return new Eh(O,P=>at(I,P))})).apply(this,arguments)}function Ny(){return(Ny=(0,f.Z)(function*(C,y,E){const I=(0,G.m9)(C),O=yield dg(I.auth,y,(0,G.m9)(E));return new Eh(O,P=>tr(I,P))})).apply(this,arguments)}function dg(C,y,E){return Py.apply(this,arguments)}function Py(){return(Py=(0,f.Z)(function*(C,y,E){var I;const O=yield E.verify();try{let P;if(Te("string"==typeof O,C,"argument-error"),Te(E.type===f0,C,"argument-error"),P="string"==typeof y?{phoneNumber:y}:y,"session"in P){const te=P.session;if("phoneNumber"in P)return Te("enroll"===te.type,C,"internal-error"),(yield Tu(C,{idToken:te.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:O}})).phoneSessionInfo.sessionInfo;{Te("signin"===te.type,C,"internal-error");const xe=(null===(I=P.multiFactorHint)||void 0===I?void 0:I.uid)||P.multiFactorUid;return Te(xe,C,"missing-multi-factor-info"),(yield My(C,{mfaPendingCredential:te.credential,mfaEnrollmentId:xe,phoneSignInInfo:{recaptchaToken:O}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:te}=yield ah(C,{phoneNumber:P.phoneNumber,recaptchaToken:O});return te}}finally{E._reset()}})).apply(this,arguments)}function Wa(){return(Wa=(0,f.Z)(function*(C,y){yield Fa((0,G.m9)(C),y)})).apply(this,arguments)}let wh=(()=>{class C{constructor(E){this.providerId=C.PROVIDER_ID,this.auth=Rt(E)}verifyPhoneNumber(E,I){return dg(this.auth,E,(0,G.m9)(I))}static credential(E,I){return qs._fromVerification(E,I)}static credentialFromResult(E){return C.credentialFromTaggedObject(E)}static credentialFromError(E){return C.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{phoneNumber:I,temporaryProof:O}=E;return I&&O?qs._fromTokenResponse(I,O):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function vn(C,y){return y?ge(y):(Te(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class lc extends fi{constructor(y){super("custom","custom"),this.params=y}_getIdTokenResponse(y){return pr(y,this._buildIdpRequest())}_linkToIdToken(y,E){return pr(y,this._buildIdpRequest(E))}_getReauthenticationResolver(y){return pr(y,this._buildIdpRequest())}_buildIdpRequest(y){const E={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return y&&(E.idToken=y),E}}function Ch(C){return Ie(C.auth,new lc(C),C.bypassAuthState)}function IA(C){const{auth:y,user:E}=C;return Te(E,y,"internal-error"),W(E,new lc(C),C.bypassAuthState)}function m0(C){return mi.apply(this,arguments)}function mi(){return(mi=(0,f.Z)(function*(C){const{auth:y,user:E}=C;return Te(E,y,"internal-error"),Fa(E,new lc(C),C.bypassAuthState)})).apply(this,arguments)}class Ss{constructor(y,E,I,O,P=!1){this.auth=y,this.resolver=I,this.user=O,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(E)?E:[E]}execute(){var y=this;return new Promise(function(){var E=(0,f.Z)(function*(I,O){y.pendingPromise={resolve:I,reject:O};try{y.eventManager=yield y.resolver._initialize(y.auth),yield y.onExecution(),y.eventManager.registerConsumer(y)}catch(P){y.reject(P)}});return function(I,O){return E.apply(this,arguments)}}())}onAuthEvent(y){var E=this;return(0,f.Z)(function*(){const{urlResponse:I,sessionId:O,postBody:P,tenantId:te,error:xe,type:qe}=y;if(xe)return void E.reject(xe);const nt={auth:E.auth,requestUri:I,sessionId:O,tenantId:te||void 0,postBody:P||void 0,user:E.user,bypassAuthState:E.bypassAuthState};try{E.resolve(yield E.getIdpTask(qe)(nt))}catch(pt){E.reject(pt)}})()}onError(y){this.reject(y)}getIdpTask(y){switch(y){case"signInViaPopup":case"signInViaRedirect":return Ch;case"linkViaPopup":case"linkViaRedirect":return m0;case"reauthViaPopup":case"reauthViaRedirect":return IA;default:Ve(this.auth,"internal-error")}}resolve(y){Et(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(y),this.unregisterAndCleanUp()}reject(y){Et(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(y),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Sh=new ut(2e3,1e4);function Ys(){return(Ys=(0,f.Z)(function*(C,y,E){const I=Rt(C);Te(y instanceof bs,C,"argument-error");const O=vn(I,E);return new Vy(I,"signInViaPopup",y,O).executeNotNull()})).apply(this,arguments)}function hg(){return(hg=(0,f.Z)(function*(C,y,E){const I=(0,G.m9)(C);Te(y instanceof bs,I.auth,"argument-error");const O=vn(I.auth,E);return new Vy(I.auth,"reauthViaPopup",y,O,I).executeNotNull()})).apply(this,arguments)}function Ly(){return(Ly=(0,f.Z)(function*(C,y,E){const I=(0,G.m9)(C);Te(y instanceof bs,I.auth,"argument-error");const O=vn(I.auth,E);return new Vy(I.auth,"linkViaPopup",y,O,I).executeNotNull()})).apply(this,arguments)}let Vy=(()=>{class C extends Ss{constructor(E,I,O,P,te){super(E,I,P,te),this.provider=O,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var E=this;return(0,f.Z)(function*(){const I=yield E.execute();return Te(I,E.auth,"internal-error"),I})()}onExecution(){var E=this;return(0,f.Z)(function*(){Et(1===E.filter.length,"Popup operations only handle one event");const I=ea();E.authWindow=yield E.resolver._openPopup(E.auth,E.provider,E.filter[0],I),E.authWindow.associatedEvent=I,E.resolver._originValidation(E.auth).catch(O=>{E.reject(O)}),E.resolver._isIframeWebStorageSupported(E.auth,O=>{O||E.reject(Je(E.auth,"web-storage-unsupported"))}),E.pollUserCancellation()})()}get eventId(){var E;return(null===(E=this.authWindow)||void 0===E?void 0:E.associatedEvent)||null}cancel(){this.reject(Je(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const E=()=>{var I,O;this.pollId=(null===(O=null===(I=this.authWindow)||void 0===I?void 0:I.window)||void 0===O?void 0:O.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Je(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(E,Sh.get())};E()}}return C.currentPopupAction=null,C})();const ni=new Map;class fg extends Ss{constructor(y,E,I=!1){super(y,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],E,void 0,I),this.eventId=null}execute(){var y=()=>super.execute,E=this;return(0,f.Z)(function*(){let I=ni.get(E.auth._key());if(!I){try{const P=(yield function(C,y){return Uy.apply(this,arguments)}(E.resolver,E.auth))?yield y().call(E):null;I=()=>Promise.resolve(P)}catch(O){I=()=>Promise.reject(O)}ni.set(E.auth._key(),I)}return I()})()}onAuthEvent(y){var E=()=>super.onAuthEvent,I=this;return(0,f.Z)(function*(){if("signInViaRedirect"===y.type)return E().call(I,y);if("unknown"!==y.type){if(y.eventId){const O=yield I.auth._redirectUserForId(y.eventId);if(O)return I.user=O,E().call(I,y);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function Uy(){return(Uy=(0,f.Z)(function*(C,y){const E=mg(y),I="true"===(yield gg(C)._get(E));return yield gg(C)._remove(E),I})).apply(this,arguments)}function Ih(C,y){return pg.apply(this,arguments)}function pg(){return(pg=(0,f.Z)(function*(C,y){return gg(C)._set(mg(y),"true")})).apply(this,arguments)}function gg(C){return ge(C._redirectPersistence)}function mg(C){return Lt("pendingRedirect",C.config.apiKey,C.name)}function Pu(){return(Pu=(0,f.Z)(function*(C,y,E){const I=Rt(C);Te(y instanceof bs,C,"argument-error");const O=vn(I,E);return yield Ih(O,I),O._openRedirect(I,y,"signInViaRedirect")})).apply(this,arguments)}function Ya(){return(Ya=(0,f.Z)(function*(C,y,E){const I=(0,G.m9)(C);Te(y instanceof bs,I.auth,"argument-error");const O=vn(I.auth,E);yield Ih(O,I.auth);const P=yield Dh(I);return O._openRedirect(I.auth,y,"reauthViaRedirect",P)})).apply(this,arguments)}function yg(){return(yg=(0,f.Z)(function*(C,y,E){const I=(0,G.m9)(C);Te(y instanceof bs,I.auth,"argument-error");const O=vn(I.auth,E);yield fn(!1,I,y.providerId),yield Ih(O,I.auth);const P=yield Dh(I);return O._openRedirect(I.auth,y,"linkViaRedirect",P)})).apply(this,arguments)}function vg(){return(vg=(0,f.Z)(function*(C,y){return yield Rt(C)._initializationPromise,dc(C,y,!1)})).apply(this,arguments)}function dc(C,y){return jy.apply(this,arguments)}function jy(){return(jy=(0,f.Z)(function*(C,y,E=!1){const I=Rt(C),O=vn(I,y),te=yield new fg(I,O,E).execute();return te&&!E&&(delete te.user._redirectEventId,yield I._persistUserIfCurrent(te.user),yield I._setRedirectUser(null,y)),te})).apply(this,arguments)}function Dh(C){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,f.Z)(function*(C){const y=ea(`${C.uid}:::`);return C._redirectEventId=y,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),y})).apply(this,arguments)}class Hy{constructor(y){this.auth=y,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(y){this.consumers.add(y),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,y)&&(this.sendToConsumer(this.queuedRedirectEvent,y),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(y){this.consumers.delete(y)}onEvent(y){if(this.hasEventBeenHandled(y))return!1;let E=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(y,I)&&(E=!0,this.sendToConsumer(y,I),this.saveEventToCache(y))}),this.hasHandledPotentialRedirect||!function(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bg(C);default:return!1}}(y)||(this.hasHandledPotentialRedirect=!0,E||(this.queuedRedirectEvent=y,E=!0)),E}sendToConsumer(y,E){var I;if(y.error&&!bg(y)){const O=(null===(I=y.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";E.onError(Je(this.auth,O))}else E.onAuthEvent(y)}isEventForConsumer(y,E){const I=null===E.eventId||!!y.eventId&&y.eventId===E.eventId;return E.filter.includes(y.type)&&I}hasEventBeenHandled(y){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Nn(y))}saveEventToCache(y){this.cachedEventUids.add(Nn(y)),this.lastProcessedEventTime=Date.now()}}function Nn(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(y=>y).join("-")}function bg({type:C,error:y}){return"unknown"===C&&"auth/no-auth-event"===(null==y?void 0:y.code)}function ia(C){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,f.Z)(function*(C,y={}){return It(C,"GET","/v1/projects",y)})).apply(this,arguments)}const w0=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gy=/^https?/;function zy(){return(zy=(0,f.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:y}=yield ia(C);for(const E of y)try{if(fc(E))return}catch(I){}Ve(C,"unauthorized-domain")})).apply(this,arguments)}function fc(C){const y=Ce(),{protocol:E,hostname:I}=new URL(y);if(C.startsWith("chrome-extension://")){const te=new URL(C);return""===te.hostname&&""===I?"chrome-extension:"===E&&C.replace("chrome-extension://","")===y.replace("chrome-extension://",""):"chrome-extension:"===E&&te.hostname===I}if(!Gy.test(E))return!1;if(w0.test(C))return I===C;const O=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+O+"|"+O+")$","i").test(I)}const Co=new ut(3e4,6e4);function Fu(){const C=Dn().___jsl;if(null==C?void 0:C.H)for(const y of Object.keys(C.H))if(C.H[y].r=C.H[y].r||[],C.H[y].L=C.H[y].L||[],C.H[y].r=[...C.H[y].L],C.CP)for(let E=0;E<C.CP.length;E++)C.CP[E]=null}let Ah=null;function qy(C){return Ah=Ah||function(C){return new Promise((y,E)=>{var I,O,P;function te(){Fu(),gapi.load("gapi.iframes",{callback:()=>{y(gapi.iframes.getContext())},ontimeout:()=>{Fu(),E(Je(C,"network-request-failed"))},timeout:Co.get()})}if(null===(O=null===(I=Dn().gapi)||void 0===I?void 0:I.iframes)||void 0===O?void 0:O.Iframe)y(gapi.iframes.getContext());else{if(!(null===(P=Dn().gapi)||void 0===P?void 0:P.load)){const xe=ra("iframefcb");return Dn()[xe]=()=>{gapi.load?te():E(Je(C,"network-request-failed"))},ku(`https://apis.google.com/js/api.js?onload=${xe}`)}te()}}).catch(y=>{throw Ah=null,y})}(C),Ah}const Eg=new ut(5e3,15e3),C0={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},S0=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pc(C){const y=C.config;Te(y.authDomain,C,"auth-domain-config-required");const E=y.emulator?_t(y,"emulator/auth/iframe"):`https://${C.config.authDomain}/__/auth/iframe`,I={apiKey:y.apiKey,appName:C.name,v:ie.SDK_VERSION},O=S0.get(C.config.apiHost);O&&(I.eid=O);const P=C._getFrameworks();return P.length&&(I.fw=P.join(",")),`${E}?${(0,G.xO)(I).slice(1)}`}function wg(){return(wg=(0,f.Z)(function*(C){const y=yield qy(C),E=Dn().gapi;return Te(E,C,"internal-error"),y.open({where:document.body,url:pc(C),messageHandlersFilter:E.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:C0,dontclear:!0},I=>new Promise(function(){var O=(0,f.Z)(function*(P,te){yield I.restyle({setHideOnLeave:!1});const xe=Je(C,"network-request-failed"),qe=Dn().setTimeout(()=>{te(xe)},Eg.get());function nt(){Dn().clearTimeout(qe),P(I)}I.ping(nt).then(nt,()=>{te(xe)})});return function(P,te){return O.apply(this,arguments)}}()))})).apply(this,arguments)}const DA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Yy{constructor(y){this.window=y,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(y){}}}function Sg(C,y,E,I,O,P){Te(C.config.authDomain,C,"auth-domain-config-required"),Te(C.config.apiKey,C,"invalid-api-key");const te={apiKey:C.config.apiKey,appName:C.name,authType:E,redirectUrl:I,v:ie.SDK_VERSION,eventId:O};if(y instanceof bs){y.setDefaultLanguage(C.languageCode),te.providerId=y.providerId||"",(0,G.xb)(y.getCustomParameters())||(te.customParameters=JSON.stringify(y.getCustomParameters()));for(const[qe,nt]of Object.entries(P||{}))te[qe]=nt}if(y instanceof Ws){const qe=y.getScopes().filter(nt=>""!==nt);qe.length>0&&(te.scopes=qe.join(","))}C.tenantId&&(te.tid=C.tenantId);const xe=te;for(const qe of Object.keys(xe))void 0===xe[qe]&&delete xe[qe];return`${function({config:C}){return C.emulator?_t(C,"emulator/auth/handler"):`https://${C.authDomain}/__/auth/handler`}(C)}?${(0,G.xO)(xe).slice(1)}`}const Ky="webStorageSupport";class Rh extends class{constructor(y){this.factorId=y}_process(y,E,I){switch(E.type){case"enroll":return this._finalizeEnroll(y,E.credential,I);case"signin":return this._finalizeSignIn(y,E.credential);default:return Nt("unexpected MultiFactorSessionType")}}}{constructor(y){super("phone"),this.credential=y}static _fromCredential(y){return new Rh(y)}_finalizeEnroll(y,E,I){return function(C,y){return It(C,"POST","/v2/accounts/mfaEnrollment:finalize",Object.assign({tenantId:C.tenantId},y))}(y,{idToken:E,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(y,E){return function(C,y){return It(C,"POST","/v2/accounts/mfaSignIn:finalize",Object.assign({tenantId:C.tenantId},y))}(y,{mfaPendingCredential:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Oh{constructor(){}static assertion(y){return Rh._fromCredential(y)}}var C;class Qy{constructor(y){this.auth=y,this.internalListeners=new Map}getUid(){var y;return this.assertAuthConfigured(),(null===(y=this.auth.currentUser)||void 0===y?void 0:y.uid)||null}getToken(y){var E=this;return(0,f.Z)(function*(){return E.assertAuthConfigured(),yield E.auth._initializationPromise,E.auth.currentUser?{accessToken:yield E.auth.currentUser.getIdToken(y)}:null})()}addAuthTokenListener(y){if(this.assertAuthConfigured(),this.internalListeners.has(y))return;const E=this.auth.onIdTokenChanged(I=>{var O;y((null===(O=I)||void 0===O?void 0:O.stsTokenManager.accessToken)||null)});this.internalListeners.set(y,E),this.updateProactiveRefresh()}removeAuthTokenListener(y){this.assertAuthConfigured();const E=this.internalListeners.get(y);!E||(this.internalListeners.delete(y),E(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Br(){return window}function kh(){return(kh=(0,f.Z)(function*(C,y,E){var I;const{BuildInfo:O}=Br();Et(y.sessionId,"AuthEvent did not contain a session ID");const P=yield nv(y.sessionId),te={};return Cn()?te.ibi=O.packageName:ms()?te.apn=O.packageName:Ve(C,"operation-not-supported-in-this-environment"),O.displayName&&(te.appDisplayName=O.displayName),te.sessionId=P,Sg(C,E,y.type,void 0,null!==(I=y.eventId)&&void 0!==I?I:void 0,te)})).apply(this,arguments)}function Cr(){return(Cr=(0,f.Z)(function*(C){const{BuildInfo:y}=Br(),E={};Cn()?E.iosBundleId=y.packageName:ms()?E.androidPackageName=y.packageName:Ve(C,"operation-not-supported-in-this-environment"),yield ia(C,E)})).apply(this,arguments)}function An(){return(An=(0,f.Z)(function*(C,y,E){const{cordova:I}=Br();let O=()=>{};try{yield new Promise((P,te)=>{let xe=null;function qe(){var vt;P();const Jn=null===(vt=I.plugins.browsertab)||void 0===vt?void 0:vt.close;"function"==typeof Jn&&Jn(),"function"==typeof(null==E?void 0:E.close)&&E.close()}function nt(){xe||(xe=window.setTimeout(()=>{te(Je(C,"redirect-cancelled-by-user"))},2e3))}function pt(){"visible"===(null==document?void 0:document.visibilityState)&&nt()}y.addPassiveListener(qe),document.addEventListener("resume",nt,!1),ms()&&document.addEventListener("visibilitychange",pt,!1),O=()=>{y.removePassiveListener(qe),document.removeEventListener("resume",nt,!1),document.removeEventListener("visibilitychange",pt,!1),xe&&window.clearTimeout(xe)}})}finally{O()}})).apply(this,arguments)}function nv(C){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,f.Z)(function*(C){const y=zn(C),E=yield crypto.subtle.digest("SHA-256",y);return Array.from(new Uint8Array(E)).map(O=>O.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function zn(C){if(Et(/[0-9a-zA-Z]+/.test(C),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(C);const y=new ArrayBuffer(C.length),E=new Uint8Array(y);for(let I=0;I<C.length;I++)E[I]=C.charCodeAt(I);return E}C="Browser",(0,ie._registerComponent)(new oe.wA("auth",(y,{options:E})=>{const I=y.getProvider("app").getImmediate(),{apiKey:O,authDomain:P}=I.options;return(te=>{Te(O&&!O.includes(":"),"invalid-api-key",{appName:te.name}),Te(!(null==P?void 0:P.includes(":")),"argument-error",{appName:te.name});const xe={apiKey:O,authDomain:P,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ze(C)},qe=new Vt(te,xe);return function(C,y){const E=(null==y?void 0:y.persistence)||[],I=(Array.isArray(E)?E:[E]).map(ge);(null==y?void 0:y.errorMap)&&C._updateErrorMap(y.errorMap),C._initializeWithPersistence(I,null==y?void 0:y.popupRedirectResolver)}(qe,E),qe})(I)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((y,E,I)=>{y.getProvider("auth-internal").initialize()})),(0,ie._registerComponent)(new oe.wA("auth-internal",y=>{const E=Rt(y.getProvider("auth").getImmediate());return new Qy(E)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ie.registerVersion)("@firebase/auth","0.17.0",void 0);class x0 extends Hy{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(y=>{this.resolveInialized=y})}addPassiveListener(y){this.passiveListeners.add(y)}removePassiveListener(y){this.passiveListeners.delete(y)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(y){return this.resolveInialized(),this.passiveListeners.forEach(E=>E(y)),super.onEvent(y)}initialized(){var y=this;return(0,f.Z)(function*(){yield y.initPromise})()}}function Ur(C){return ki.apply(this,arguments)}function ki(){return(ki=(0,f.Z)(function*(C){const y=yield So()._get(Tg(C));return y&&(yield So()._remove(Tg(C))),y})).apply(this,arguments)}function rv(){const C=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<20;E++){const I=Math.floor(Math.random()*y.length);C.push(y.charAt(I))}return C.join("")}function So(){return ge(Ga)}function Tg(C){return Lt("authEvent",C.config.apiKey,C.name)}function Ni(C){if(!(null==C?void 0:C.includes("?")))return{};const[y,...E]=C.split("?");return(0,G.zd)(E.join("?"))}function iv(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Je("no-auth-event")}}function la(){var C;return(null===(C=null==self?void 0:self.location)||void 0===C?void 0:C.protocol)||null}function mc(C=(0,G.z$)()){return!("file:"!==la()&&"ionic:"!==la()||!C.toLowerCase().match(/iphone|ipad|ipod|android/))}function ov(){try{const C=self.localStorage,y=ea();if(C)return C.setItem(y,"1"),C.removeItem(y),!function(C=(0,G.z$)()){return(0,G.w1)()&&11===(null==document?void 0:document.documentMode)||function(C=(0,G.z$)()){return/Edge\/\d+/.test(C)}(C)}()||(0,G.hl)()}catch(C){return Uh()&&(0,G.hl)()}return!1}function Uh(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function tl(){return("http:"===la()||"https:"===la()||(0,G.ru)()||mc())&&!((0,G.b$)()||(0,G.UG)())&&ov()&&!Uh()}function xg(){return mc()&&"undefined"!=typeof document}function ju(){return(ju=(0,f.Z)(function*(){return!!xg()&&new Promise(C=>{const y=setTimeout(()=>{C(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(y),C(!0)})})})).apply(this,arguments)}const Pi={LOCAL:"local",NONE:"none",SESSION:"session"},_c=Te,av="persistence";function lv(C){return nl.apply(this,arguments)}function nl(){return(nl=(0,f.Z)(function*(C){yield C._initializationPromise;const y=jh(),E=Lt(av,C.config.apiKey,C.name);(null==y?void 0:y.sessionStorage)&&y.sessionStorage.setItem(E,C._getPersistence())})).apply(this,arguments)}function jh(){return"undefined"!=typeof window?window:null}const cv=Te;class Io{constructor(){this.browserResolver=ge(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xo,this._completeRedirectFn=dc}_openPopup(y,E,I,O){var P=this;return(0,f.Z)(function*(){var te;Et(null===(te=P.eventManagers[y._key()])||void 0===te?void 0:te.manager,"_initialize() not called before _openPopup()");const xe=Sg(y,E,I,Ce(),O);return function(C,y,E,I=500,O=600){const P=Math.max((window.screen.availHeight-O)/2,0).toString(),te=Math.max((window.screen.availWidth-I)/2,0).toString();let xe="";const qe=Object.assign(Object.assign({},DA),{width:I.toString(),height:O.toString(),top:P,left:te}),nt=(0,G.z$)().toLowerCase();E&&(xe=gs(nt)?"_blank":E),Kn(nt)&&(y=y||"http://localhost",qe.scrollbars="yes");const pt=Object.entries(qe).reduce((Jn,[Fi,Ts])=>`${Jn}${Fi}=${Ts},`,"");if(function(C=(0,G.z$)()){var y;return Cn(C)&&!!(null===(y=window.navigator)||void 0===y?void 0:y.standalone)}(nt)&&"_self"!==xe)return function(C,y){const E=document.createElement("a");E.href=C,E.target=y;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),E.dispatchEvent(I)}(y||"",xe),new Yy(null);const vt=window.open(y||"",xe,pt);Te(vt,C,"popup-blocked");try{vt.focus()}catch(Jn){}return new Yy(vt)}(y,xe,ea())})()}_openRedirect(y,E,I,O){var P=this;return(0,f.Z)(function*(){return yield P._originValidation(y),C=Sg(y,E,I,Ce(),O),Dn().location.href=C,new Promise(()=>{});var C})()}_initialize(y){const E=y._key();if(this.eventManagers[E]){const{manager:O,promise:P}=this.eventManagers[E];return O?Promise.resolve(O):(Et(P,"If manager is not set, promise should be"),P)}const I=this.initAndGetManager(y);return this.eventManagers[E]={promise:I},I}initAndGetManager(y){var E=this;return(0,f.Z)(function*(){const I=yield function(C){return wg.apply(this,arguments)}(y),O=new Hy(y);return I.register("authEvent",P=>(Te(null==P?void 0:P.authEvent,y,"invalid-auth-event"),{status:O.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),E.eventManagers[y._key()]={manager:O},E.iframes[y._key()]=I,O})()}_isIframeWebStorageSupported(y,E){this.iframes[y._key()].send(Ky,{type:Ky},O=>{var P;const te=null===(P=null==O?void 0:O[0])||void 0===P?void 0:P[Ky];void 0!==te&&E(!!te),Ve(y,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(y){const E=y._key();return this.originValidationPromises[E]||(this.originValidationPromises[E]=function(C){return zy.apply(this,arguments)}(y)),this.originValidationPromises[E]}get _shouldInitProactively(){return oh()||Qi()||Cn()}}),this.cordovaResolver=ge(class{constructor(){this._redirectPersistence=Xo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=dc}_initialize(y){var E=this;return(0,f.Z)(function*(){const I=y._key();let O=E.eventManagers.get(I);return O||(O=new x0(y),E.eventManagers.set(I,O),E.attachCallbackListeners(y,O)),O})()}_openPopup(y){Ve(y,"operation-not-supported-in-this-environment")}_openRedirect(y,E,I,O){var P=this;return(0,f.Z)(function*(){!function(C){var y,E,I,O,P,te,xe,qe,nt,pt;const vt=Br();Te("function"==typeof(null===(y=null==vt?void 0:vt.universalLinks)||void 0===y?void 0:y.subscribe),C,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Te(void 0!==(null===(E=null==vt?void 0:vt.BuildInfo)||void 0===E?void 0:E.packageName),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Te("function"==typeof(null===(P=null===(O=null===(I=null==vt?void 0:vt.cordova)||void 0===I?void 0:I.plugins)||void 0===O?void 0:O.browsertab)||void 0===P?void 0:P.openUrl),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Te("function"==typeof(null===(qe=null===(xe=null===(te=null==vt?void 0:vt.cordova)||void 0===te?void 0:te.plugins)||void 0===xe?void 0:xe.browsertab)||void 0===qe?void 0:qe.isAvailable),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Te("function"==typeof(null===(pt=null===(nt=null==vt?void 0:vt.cordova)||void 0===nt?void 0:nt.InAppBrowser)||void 0===pt?void 0:pt.open),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(y);const te=yield P._initialize(y);yield te.initialized(),te.resetRedirect(),ni.clear(),yield P._originValidation(y);const xe=function(C,y,E=null){return{type:y,eventId:E,urlResponse:null,sessionId:rv(),postBody:null,tenantId:C.tenantId,error:Je(C,"no-auth-event")}}(y,I,O);yield function(C,y){return So()._set(Tg(C),y)}(y,xe);const qe=yield function(C,y,E){return kh.apply(this,arguments)}(y,xe,E),nt=yield function(C){const{cordova:y}=Br();return new Promise(E=>{y.plugins.browsertab.isAvailable(I=>{let O=null;I?y.plugins.browsertab.openUrl(C):O=y.InAppBrowser.open(C,function(C=(0,G.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}()?"_blank":"_system","location=yes"),E(O)})})}(qe);return function(C,y,E){return An.apply(this,arguments)}(y,te,nt)})()}_isIframeWebStorageSupported(y,E){throw new Error("Method not implemented.")}_originValidation(y){const E=y._key();return this.originValidationPromises[E]||(this.originValidationPromises[E]=function(C){return Cr.apply(this,arguments)}(y)),this.originValidationPromises[E]}attachCallbackListeners(y,E){const{universalLinks:I,handleOpenURL:O,BuildInfo:P}=Br(),te=setTimeout((0,f.Z)(function*(){yield Ur(y),E.onEvent(iv())}),500),xe=function(){var pt=(0,f.Z)(function*(vt){clearTimeout(te);const Jn=yield Ur(y);let Fi=null;Jn&&(null==vt?void 0:vt.url)&&(Fi=function(C,y){var E,I;const O=function(C){const y=Ni(C),E=y.link?decodeURIComponent(y.link):void 0,I=Ni(E).link,O=y.deep_link_id?decodeURIComponent(y.deep_link_id):void 0;return Ni(O).link||O||I||E||C}(y);if(O.includes("/__/auth/callback")){const P=Ni(O),te=P.firebaseError?function(C){try{return JSON.parse(C)}catch(y){return null}}(decodeURIComponent(P.firebaseError)):null,xe=null===(I=null===(E=null==te?void 0:te.code)||void 0===E?void 0:E.split("auth/"))||void 0===I?void 0:I[1],qe=xe?Je(xe):null;return qe?{type:C.type,eventId:C.eventId,tenantId:C.tenantId,error:qe,urlResponse:null,sessionId:null,postBody:null}:{type:C.type,eventId:C.eventId,tenantId:C.tenantId,sessionId:C.sessionId,urlResponse:O,postBody:null}}return null}(Jn,vt.url)),E.onEvent(Fi||iv())});return function(Jn){return pt.apply(this,arguments)}}();void 0!==I&&"function"==typeof I.subscribe&&I.subscribe(null,xe);const qe=O,nt=`${P.packageName.toLowerCase()}://`;Br().handleOpenURL=function(){var pt=(0,f.Z)(function*(vt){if(vt.toLowerCase().startsWith(nt)&&xe({url:vt}),"function"==typeof qe)try{qe(vt)}catch(Jn){console.error(Jn)}});return function(vt){return pt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Xo,this._completeRedirectFn=dc}_initialize(y){var E=this;return(0,f.Z)(function*(){return yield E.selectUnderlyingResolver(),E.assertedUnderlyingResolver._initialize(y)})()}_openPopup(y,E,I,O){var P=this;return(0,f.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openPopup(y,E,I,O)})()}_openRedirect(y,E,I,O){var P=this;return(0,f.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openRedirect(y,E,I,O)})()}_isIframeWebStorageSupported(y,E){this.assertedUnderlyingResolver._isIframeWebStorageSupported(y,E)}_originValidation(y){return this.assertedUnderlyingResolver._originValidation(y)}get _shouldInitProactively(){return xg()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return cv(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var y=this;return(0,f.Z)(function*(){if(y.underlyingResolver)return;const E=yield function(){return ju.apply(this,arguments)}();y.underlyingResolver=E?y.cordovaResolver:y.browserResolver})()}}function Sr(C){return C.unwrap()}function Rg(C){return kg(C)}function Og(C,y){var E;const I=null===(E=y.customData)||void 0===E?void 0:E._tokenResponse;if("auth/multi-factor-auth-required"===y.code)y.resolver=new Ng(C,function(C,y){var E;const I=(0,G.m9)(C),O=y;return Te(y.operationType,I,"argument-error"),Te(null===(E=O.serverResponse)||void 0===E?void 0:E.mfaPendingCredential,I,"argument-error"),vh._fromError(I,O)}(C,y));else if(I){const O=kg(y),P=y;O&&(P.credential=O,P.tenantId=I.tenantId||void 0,P.email=I.email||void 0,P.phoneNumber=I.phoneNumber||void 0)}}function kg(C){const{_tokenResponse:y}=C instanceof G.ZR?C.customData:C;if(!y)return null;if(!(C instanceof G.ZR)&&"temporaryProof"in y&&"phoneNumber"in y)return wh.credentialFromResult(C);const E=y.providerId;if(!E||"password"===E)return null;let I;switch(E){case"google.com":I=qo;break;case"facebook.com":I=Gl;break;case"github.com":I=$l;break;case"twitter.com":I=xa;break;default:const{oauthIdToken:O,oauthAccessToken:P,oauthTokenSecret:te,pendingToken:xe,nonce:qe}=y;return P||te||O||xe?xe?E.startsWith("saml.")?bo._create(E,xe):Ji._fromParams({providerId:E,signInMethod:E,pendingToken:xe,idToken:O,accessToken:P}):new Es(E).credential({idToken:O,accessToken:P,rawNonce:qe}):null}return C instanceof G.ZR?I.credentialFromError(C):I.credentialFromResult(C)}function jr(C,y){return Hh.apply(this,arguments)}function Hh(){return(Hh=(0,f.Z)(function*(C,y){let E;try{E=yield y}catch(P){throw P instanceof G.ZR&&Og(C,P),P}const{operationType:I,user:O}=E;return{operationType:I,credential:Rg(E),additionalUserInfo:Zl(E),user:Qs.getOrCreate(O)}})).apply(this,arguments)}function Gu(C,y){return Gh.apply(this,arguments)}function Gh(){return(Gh=(0,f.Z)(function*(C,y){const E=yield y;return{verificationId:E.verificationId,confirm:I=>jr(C,E.confirm(I))}})).apply(this,arguments)}class Ng{constructor(y,E){this.resolver=E,this.auth=function(C){return C.wrapped()}(y)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(y){return jr(Sr(this.auth),this.resolver.resolveSignIn(y))}}class Qs{constructor(y){this._delegate=y,this.multiFactor=function(C){const y=(0,G.m9)(C);return Au.has(y)||Au.set(y,Yl._fromUser(y)),Au.get(y)}(y)}static getOrCreate(y){return Qs.USER_MAP.has(y)||Qs.USER_MAP.set(y,new Qs(y)),Qs.USER_MAP.get(y)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(y){return this._delegate.getIdTokenResult(y)}getIdToken(y){return this._delegate.getIdToken(y)}linkAndRetrieveDataWithCredential(y){return this.linkWithCredential(y)}linkWithCredential(y){var E=this;return(0,f.Z)(function*(){return jr(E.auth,at(E._delegate,y))})()}linkWithPhoneNumber(y,E){var I=this;return(0,f.Z)(function*(){return Gu(I.auth,function(C,y,E){return ky.apply(this,arguments)}(I._delegate,y,E))})()}linkWithPopup(y){var E=this;return(0,f.Z)(function*(){return jr(E.auth,function(C,y,E){return Ly.apply(this,arguments)}(E._delegate,y,Io))})()}linkWithRedirect(y){var E=this;return(0,f.Z)(function*(){return yield lv(Rt(E.auth)),function(C,y,E){return function(C,y,E){return yg.apply(this,arguments)}(C,y,E)}(E._delegate,y,Io)})()}reauthenticateAndRetrieveDataWithCredential(y){return this.reauthenticateWithCredential(y)}reauthenticateWithCredential(y){var E=this;return(0,f.Z)(function*(){return jr(E.auth,tr(E._delegate,y))})()}reauthenticateWithPhoneNumber(y,E){return Gu(this.auth,function(C,y,E){return Ny.apply(this,arguments)}(this._delegate,y,E))}reauthenticateWithPopup(y){return jr(this.auth,function(C,y,E){return hg.apply(this,arguments)}(this._delegate,y,Io))}reauthenticateWithRedirect(y){var E=this;return(0,f.Z)(function*(){return yield lv(Rt(E.auth)),function(C,y,E){return function(C,y,E){return Ya.apply(this,arguments)}(C,y,E)}(E._delegate,y,Io)})()}sendEmailVerification(y){return function(C,y){return ph.apply(this,arguments)}(this._delegate,y)}unlink(y){var E=this;return(0,f.Z)(function*(){return yield function(C,y){return Pa.apply(this,arguments)}(E._delegate,y),E})()}updateEmail(y){return function(C,y){return yh((0,G.m9)(C),y,null)}(this._delegate,y)}updatePassword(y){return function(C,y){return yh((0,G.m9)(C),null,y)}(this._delegate,y)}updatePhoneNumber(y){return function(C,y){return Wa.apply(this,arguments)}(this._delegate,y)}updateProfile(y){return function(C,y){return gh.apply(this,arguments)}(this._delegate,y)}verifyBeforeUpdateEmail(y,E){return function(C,y,E){return gi.apply(this,arguments)}(this._delegate,y,E)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Qs.USER_MAP=new WeakMap;const rl=Te;let $h=(()=>{class C{constructor(E,I){if(this.app=E,I.isInitialized())return this._delegate=I.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:O}=E.options;rl(O,"invalid-api-key",{appName:E.name});let P=[Zt];if("undefined"!=typeof window){P=function(C,y){const E=jh();if(!(null==E?void 0:E.sessionStorage))return[];const I=Lt(av,C,y);switch(E.sessionStorage.getItem(I)){case Pi.NONE:return[Zt];case Pi.LOCAL:return[nc,Xo];case Pi.SESSION:return[Xo];default:return[]}}(O,E.name);for(const xe of[nc,Ga,Xo])P.includes(xe)||P.push(xe)}rl(O,"invalid-api-key",{appName:E.name});const te="undefined"!=typeof window?Io:void 0;this._delegate=I.initialize({options:{persistence:P,popupRedirectResolver:te}}),this._delegate._updateErrorMap(Me),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Qs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(E){this._delegate.languageCode=E}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(E){this._delegate.tenantId=E}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(E,I){!function(C,y,E){const I=Rt(C);Te(I._canInitEmulator,I,"emulator-config-failed"),Te(/^https?:\/\//.test(y),I,"invalid-emulator-scheme");const O=!!(null==E?void 0:E.disableWarnings),P=On(y),{host:te,port:xe}=function(C){const y=On(C),E=/(\/\/)?([^?#/]+)/.exec(C.substr(y.length));if(!E)return{host:"",port:null};const I=E[2].split("@").pop()||"",O=/^(\[[^\]]+\])(:|$)/.exec(I);if(O){const P=O[1];return{host:P,port:yn(I.substr(P.length+1))}}{const[P,te]=I.split(":");return{host:P,port:yn(te)}}}(y);I.config.emulator={url:`${P}//${te}${null===xe?"":`:${xe}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:te,port:xe,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:O})}),function(C){function y(){const E=document.createElement("p"),I=E.style;E.innerText="Running in emulator mode. Do not use with production credentials.",I.position="fixed",I.width="100%",I.backgroundColor="#ffffff",I.border=".1em solid #000000",I.color="#b50000",I.bottom="0px",I.left="0px",I.margin="0px",I.zIndex="10000",I.textAlign="center",E.classList.add("firebase-emulator-warning"),document.body.appendChild(E)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&!C&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}(O)}(this._delegate,E,I)}applyActionCode(E){return function(C,y){return dh.apply(this,arguments)}(this._delegate,E)}checkActionCode(E){return Kp(this._delegate,E)}confirmPasswordReset(E,I){return function(C,y,E){return uh.apply(this,arguments)}(this._delegate,E,I)}createUserWithEmailAndPassword(E,I){var O=this;return(0,f.Z)(function*(){return jr(O._delegate,function(C,y,E){return mn.apply(this,arguments)}(O._delegate,E,I))})()}fetchProvidersForEmail(E){return this.fetchSignInMethodsForEmail(E)}fetchSignInMethodsForEmail(E){return function(C,y){return Gn.apply(this,arguments)}(this._delegate,E)}isSignInWithEmailLink(E){return function(C,y){const E=zo.parseLink(y);return"EMAIL_SIGNIN"===(null==E?void 0:E.operation)}(0,E)}getRedirectResult(){var E=this;return(0,f.Z)(function*(){rl(tl(),E._delegate,"operation-not-supported-in-this-environment");const I=yield function(C,y){return vg.apply(this,arguments)}(E._delegate,Io);return I?jr(E._delegate,Promise.resolve(I)):{credential:null,user:null}})()}addFrameworkForLogging(E){!function(C,y){Rt(C)._logFramework(y)}(this._delegate,E)}onAuthStateChanged(E,I,O){const{next:P,error:te,complete:xe}=zh(E,I,O);return this._delegate.onAuthStateChanged(P,te,xe)}onIdTokenChanged(E,I,O){const{next:P,error:te,complete:xe}=zh(E,I,O);return this._delegate.onIdTokenChanged(P,te,xe)}sendSignInLinkToEmail(E,I){return function(C,y,E){return ti.apply(this,arguments)}(this._delegate,E,I)}sendPasswordResetEmail(E,I){return function(C,y,E){return ch.apply(this,arguments)}(this._delegate,E,I||void 0)}setPersistence(E){var I=this;return(0,f.Z)(function*(){let O;switch(function(C,y){_c(Object.values(Pi).includes(y),C,"invalid-persistence-type"),(0,G.b$)()?_c(y!==Pi.SESSION,C,"unsupported-persistence-type"):(0,G.UG)()?_c(y===Pi.NONE,C,"unsupported-persistence-type"):Uh()?_c(y===Pi.NONE||y===Pi.LOCAL&&(0,G.hl)(),C,"unsupported-persistence-type"):_c(y===Pi.NONE||ov(),C,"unsupported-persistence-type")}(I._delegate,E),E){case Pi.SESSION:O=Xo;break;case Pi.LOCAL:O=(yield ge(nc)._isAvailable())?nc:Ga;break;case Pi.NONE:O=Zt;break;default:return Ve("argument-error",{appName:I._delegate.name})}return I._delegate.setPersistence(O)})()}signInAndRetrieveDataWithCredential(E){return this.signInWithCredential(E)}signInAnonymously(){return jr(this._delegate,function(C){return Oa.apply(this,arguments)}(this._delegate))}signInWithCredential(E){return jr(this._delegate,Ke(this._delegate,E))}signInWithCustomToken(E){return jr(this._delegate,function(C,y){return La.apply(this,arguments)}(this._delegate,E))}signInWithEmailAndPassword(E,I){return jr(this._delegate,function(C,y,E){return Ke((0,G.m9)(C),Ma.credential(y,E))}(this._delegate,E,I))}signInWithEmailLink(E,I){return jr(this._delegate,function(C,y,E){return Qp.apply(this,arguments)}(this._delegate,E,I))}signInWithPhoneNumber(E,I){return Gu(this._delegate,function(C,y,E){return Oy.apply(this,arguments)}(this._delegate,E,I))}signInWithPopup(E){var I=this;return(0,f.Z)(function*(){return rl(tl(),I._delegate,"operation-not-supported-in-this-environment"),jr(I._delegate,function(C,y,E){return Ys.apply(this,arguments)}(I._delegate,E,Io))})()}signInWithRedirect(E){var I=this;return(0,f.Z)(function*(){return rl(tl(),I._delegate,"operation-not-supported-in-this-environment"),yield lv(I._delegate),function(C,y,E){return function(C,y,E){return Pu.apply(this,arguments)}(C,y,E)}(I._delegate,E,Io)})()}updateCurrentUser(E){return this._delegate.updateCurrentUser(E)}verifyPasswordResetCode(E){return function(C,y){return Gt.apply(this,arguments)}(this._delegate,E)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return C.Persistence=Pi,C})();function zh(C,y,E){let I=C;"function"!=typeof C&&({next:I,error:y,complete:E}=C);const O=I;return{next:te=>O(te&&Qs.getOrCreate(te)),error:y,complete:E}}class yc{constructor(){this.providerId="phone",this._delegate=new wh(Sr(fe.Z.auth()))}static credential(y,E){return wh.credential(y,E)}verifyPhoneNumber(y,E){return this._delegate.verifyPhoneNumber(y,E)}unwrap(){return this._delegate}}yc.PHONE_SIGN_IN_METHOD=wh.PHONE_SIGN_IN_METHOD,yc.PROVIDER_ID=wh.PROVIDER_ID;const Pg=Te;class uv{constructor(y,E,I=fe.Z.app()){var O;Pg(null===(O=I.options)||void 0===O?void 0:O.apiKey,"invalid-api-key",{appName:I.name}),this._delegate=new kn(y,E,I.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(C){C.INTERNAL.registerComponent(new oe.wA("auth-compat",y=>{const E=y.getProvider("app-compat").getImmediate(),I=y.getProvider("auth");return new $h(E,I)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ma,FacebookAuthProvider:Gl,GithubAuthProvider:$l,GoogleAuthProvider:qo,OAuthProvider:Es,PhoneAuthProvider:yc,PhoneMultiFactorGenerator:Oh,RecaptchaVerifier:uv,TwitterAuthProvider:xa,Auth:$h,AuthCredential:fi,Error:G.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),C.registerVersion("@firebase/auth-compat","0.1.0")}(fe.Z)},6676:function(et,Oe){!function(V){"use strict";function f(pe){return Array.prototype.slice.call(pe)}function fe(pe){return new Promise(function(ne,Ee){pe.onsuccess=function(){ne(pe.result)},pe.onerror=function(){Ee(pe.error)}})}function G(pe,ne,Ee){var We,Ve=new Promise(function(Je,Mt){fe(We=pe[ne].apply(pe,Ee)).then(Je,Mt)});return Ve.request=We,Ve}function ie(pe,ne,Ee){var We=G(pe,ne,Ee);return We.then(function(Ve){if(Ve)return new U(Ve,We.request)})}function _e(pe,ne,Ee){Ee.forEach(function(We){Object.defineProperty(pe.prototype,We,{get:function(){return this[ne][We]},set:function(Ve){this[ne][We]=Ve}})})}function ee(pe,ne,Ee,We){We.forEach(function(Ve){Ve in Ee.prototype&&(pe.prototype[Ve]=function(){return G(this[ne],Ve,arguments)})})}function oe(pe,ne,Ee,We){We.forEach(function(Ve){Ve in Ee.prototype&&(pe.prototype[Ve]=function(){return this[ne][Ve].apply(this[ne],arguments)})})}function re(pe,ne,Ee,We){We.forEach(function(Ve){Ve in Ee.prototype&&(pe.prototype[Ve]=function(){return ie(this[ne],Ve,arguments)})})}function Y(pe){this._index=pe}function U(pe,ne){this._cursor=pe,this._request=ne}function K(pe){this._store=pe}function F(pe){this._tx=pe,this.complete=new Promise(function(ne,Ee){pe.oncomplete=function(){ne()},pe.onerror=function(){Ee(pe.error)},pe.onabort=function(){Ee(pe.error)}})}function Q(pe,ne,Ee){this._db=pe,this.oldVersion=ne,this.transaction=new F(Ee)}function le(pe){this._db=pe}_e(Y,"_index",["name","keyPath","multiEntry","unique"]),ee(Y,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),re(Y,"_index",IDBIndex,["openCursor","openKeyCursor"]),_e(U,"_cursor",["direction","key","primaryKey","value"]),ee(U,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(pe){pe in IDBCursor.prototype&&(U.prototype[pe]=function(){var ne=this,Ee=arguments;return Promise.resolve().then(function(){return ne._cursor[pe].apply(ne._cursor,Ee),fe(ne._request).then(function(We){if(We)return new U(We,ne._request)})})})}),K.prototype.createIndex=function(){return new Y(this._store.createIndex.apply(this._store,arguments))},K.prototype.index=function(){return new Y(this._store.index.apply(this._store,arguments))},_e(K,"_store",["name","keyPath","indexNames","autoIncrement"]),ee(K,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),re(K,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),oe(K,"_store",IDBObjectStore,["deleteIndex"]),F.prototype.objectStore=function(){return new K(this._tx.objectStore.apply(this._tx,arguments))},_e(F,"_tx",["objectStoreNames","mode"]),oe(F,"_tx",IDBTransaction,["abort"]),Q.prototype.createObjectStore=function(){return new K(this._db.createObjectStore.apply(this._db,arguments))},_e(Q,"_db",["name","version","objectStoreNames"]),oe(Q,"_db",IDBDatabase,["deleteObjectStore","close"]),le.prototype.transaction=function(){return new F(this._db.transaction.apply(this._db,arguments))},_e(le,"_db",["name","version","objectStoreNames"]),oe(le,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(pe){[K,Y].forEach(function(ne){pe in ne.prototype&&(ne.prototype[pe.replace("open","iterate")]=function(){var Ee=f(arguments),We=Ee[Ee.length-1],Ve=this._store||this._index,Je=Ve[pe].apply(Ve,Ee.slice(0,-1));Je.onsuccess=function(){We(Je.result)}})})}),[Y,K].forEach(function(pe){pe.prototype.getAll||(pe.prototype.getAll=function(ne,Ee){var We=this,Ve=[];return new Promise(function(Je){We.iterateCursor(ne,function(Mt){Mt?(Ve.push(Mt.value),void 0===Ee||Ve.length!=Ee?Mt.continue():Je(Ve)):Je(Ve)})})})}),V.openDb=function(pe,ne,Ee){var We=G(indexedDB,"open",[pe,ne]),Ve=We.request;return Ve&&(Ve.onupgradeneeded=function(Je){Ee&&Ee(new Q(Ve.result,Je.oldVersion,Ve.transaction))}),We.then(function(Je){return new le(Je)})},V.deleteDb=function(pe){return G(indexedDB,"deleteDatabase",[pe])},Object.defineProperty(V,"__esModule",{value:!0})}(Oe)},7574:(et,Oe,V)=>{"use strict";V.d(Oe,{y:()=>K});var f=V(7393),G=V(9181),ie=V(6490),ee=V(6554),oe=V(4487);var U=V(2494);let K=(()=>{class Q{constructor(Me){this._isScalar=!1,Me&&(this._subscribe=Me)}lift(Me){const ve=new Q;return ve.source=this,ve.operator=Me,ve}subscribe(Me,ve,pe){const{operator:ne}=this,Ee=function(Q,le,Me){if(Q){if(Q instanceof f.L)return Q;if(Q[G.b])return Q[G.b]()}return Q||le||Me?new f.L(Q,le,Me):new f.L(ie.c)}(Me,ve,pe);if(Ee.add(ne?ne.call(Ee,this.source):this.source||U.v.useDeprecatedSynchronousErrorHandling&&!Ee.syncErrorThrowable?this._subscribe(Ee):this._trySubscribe(Ee)),U.v.useDeprecatedSynchronousErrorHandling&&Ee.syncErrorThrowable&&(Ee.syncErrorThrowable=!1,Ee.syncErrorThrown))throw Ee.syncErrorValue;return Ee}_trySubscribe(Me){try{return this._subscribe(Me)}catch(ve){U.v.useDeprecatedSynchronousErrorHandling&&(Me.syncErrorThrown=!0,Me.syncErrorValue=ve),function(Q){for(;Q;){const{closed:le,destination:Me,isStopped:ve}=Q;if(le||ve)return!1;Q=Me&&Me instanceof f.L?Me:null}return!0}(Me)?Me.error(ve):console.warn(ve)}}forEach(Me,ve){return new(ve=F(ve))((pe,ne)=>{let Ee;Ee=this.subscribe(We=>{try{Me(We)}catch(Ve){ne(Ve),Ee&&Ee.unsubscribe()}},ne,pe)})}_subscribe(Me){const{source:ve}=this;return ve&&ve.subscribe(Me)}[ee.L](){return this}pipe(...Me){return 0===Me.length?this:function(Q){return 0===Q.length?oe.y:1===Q.length?Q[0]:function(Me){return Q.reduce((ve,pe)=>pe(ve),Me)}}(Me)(this)}toPromise(Me){return new(Me=F(Me))((ve,pe)=>{let ne;this.subscribe(Ee=>ne=Ee,Ee=>pe(Ee),()=>ve(ne))})}}return Q.create=le=>new Q(le),Q})();function F(Q){if(Q||(Q=U.v.Promise||Promise),!Q)throw new Error("no Promise impl found");return Q}},6490:(et,Oe,V)=>{"use strict";V.d(Oe,{c:()=>G});var f=V(2494),fe=V(4449);const G={closed:!0,next(ie){},error(ie){if(f.v.useDeprecatedSynchronousErrorHandling)throw ie;(0,fe.z)(ie)},complete(){}}},9765:(et,Oe,V)=>{"use strict";V.d(Oe,{Yc:()=>oe,xQ:()=>re});var f=V(7574),fe=V(7393),G=V(5319),ie=V(7971),_e=V(8858),ee=V(9181);class oe extends fe.L{constructor(K){super(K),this.destination=K}}let re=(()=>{class U extends f.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ee.b](){return new oe(this)}lift(F){const Q=new Y(this,this);return Q.operator=F,Q}next(F){if(this.closed)throw new ie.N;if(!this.isStopped){const{observers:Q}=this,le=Q.length,Me=Q.slice();for(let ve=0;ve<le;ve++)Me[ve].next(F)}}error(F){if(this.closed)throw new ie.N;this.hasError=!0,this.thrownError=F,this.isStopped=!0;const{observers:Q}=this,le=Q.length,Me=Q.slice();for(let ve=0;ve<le;ve++)Me[ve].error(F);this.observers.length=0}complete(){if(this.closed)throw new ie.N;this.isStopped=!0;const{observers:F}=this,Q=F.length,le=F.slice();for(let Me=0;Me<Q;Me++)le[Me].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(F){if(this.closed)throw new ie.N;return super._trySubscribe(F)}_subscribe(F){if(this.closed)throw new ie.N;return this.hasError?(F.error(this.thrownError),G.w.EMPTY):this.isStopped?(F.complete(),G.w.EMPTY):(this.observers.push(F),new _e.W(this,F))}asObservable(){const F=new f.y;return F.source=this,F}}return U.create=(K,F)=>new Y(K,F),U})();class Y extends re{constructor(K,F){super(),this.destination=K,this.source=F}next(K){const{destination:F}=this;F&&F.next&&F.next(K)}error(K){const{destination:F}=this;F&&F.error&&this.destination.error(K)}complete(){const{destination:K}=this;K&&K.complete&&this.destination.complete()}_subscribe(K){const{source:F}=this;return F?this.source.subscribe(K):G.w.EMPTY}}},8858:(et,Oe,V)=>{"use strict";V.d(Oe,{W:()=>fe});var f=V(5319);class fe extends f.w{constructor(ie,_e){super(),this.subject=ie,this.subscriber=_e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ie=this.subject,_e=ie.observers;if(this.subject=null,!_e||0===_e.length||ie.isStopped||ie.closed)return;const ee=_e.indexOf(this.subscriber);-1!==ee&&_e.splice(ee,1)}}},7393:(et,Oe,V)=>{"use strict";V.d(Oe,{L:()=>oe});var f=V(9105),fe=V(6490),G=V(5319),ie=V(9181),_e=V(2494),ee=V(4449);class oe extends G.w{constructor(U,K,F){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=fe.c;break;case 1:if(!U){this.destination=fe.c;break}if("object"==typeof U){U instanceof oe?(this.syncErrorThrowable=U.syncErrorThrowable,this.destination=U,U.add(this)):(this.syncErrorThrowable=!0,this.destination=new re(this,U));break}default:this.syncErrorThrowable=!0,this.destination=new re(this,U,K,F)}}[ie.b](){return this}static create(U,K,F){const Q=new oe(U,K,F);return Q.syncErrorThrowable=!1,Q}next(U){this.isStopped||this._next(U)}error(U){this.isStopped||(this.isStopped=!0,this._error(U))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(U){this.destination.next(U)}_error(U){this.destination.error(U),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:U}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=U,this}}class re extends oe{constructor(U,K,F,Q){super(),this._parentSubscriber=U;let le,Me=this;(0,f.m)(K)?le=K:K&&(le=K.next,F=K.error,Q=K.complete,K!==fe.c&&(Me=Object.create(K),(0,f.m)(Me.unsubscribe)&&this.add(Me.unsubscribe.bind(Me)),Me.unsubscribe=this.unsubscribe.bind(this))),this._context=Me,this._next=le,this._error=F,this._complete=Q}next(U){if(!this.isStopped&&this._next){const{_parentSubscriber:K}=this;_e.v.useDeprecatedSynchronousErrorHandling&&K.syncErrorThrowable?this.__tryOrSetError(K,this._next,U)&&this.unsubscribe():this.__tryOrUnsub(this._next,U)}}error(U){if(!this.isStopped){const{_parentSubscriber:K}=this,{useDeprecatedSynchronousErrorHandling:F}=_e.v;if(this._error)F&&K.syncErrorThrowable?(this.__tryOrSetError(K,this._error,U),this.unsubscribe()):(this.__tryOrUnsub(this._error,U),this.unsubscribe());else if(K.syncErrorThrowable)F?(K.syncErrorValue=U,K.syncErrorThrown=!0):(0,ee.z)(U),this.unsubscribe();else{if(this.unsubscribe(),F)throw U;(0,ee.z)(U)}}}complete(){if(!this.isStopped){const{_parentSubscriber:U}=this;if(this._complete){const K=()=>this._complete.call(this._context);_e.v.useDeprecatedSynchronousErrorHandling&&U.syncErrorThrowable?(this.__tryOrSetError(U,K),this.unsubscribe()):(this.__tryOrUnsub(K),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(U,K){try{U.call(this._context,K)}catch(F){if(this.unsubscribe(),_e.v.useDeprecatedSynchronousErrorHandling)throw F;(0,ee.z)(F)}}__tryOrSetError(U,K,F){if(!_e.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{K.call(this._context,F)}catch(Q){return _e.v.useDeprecatedSynchronousErrorHandling?(U.syncErrorValue=Q,U.syncErrorThrown=!0,!0):((0,ee.z)(Q),!0)}return!1}_unsubscribe(){const{_parentSubscriber:U}=this;this._context=null,this._parentSubscriber=null,U.unsubscribe()}}},5319:(et,Oe,V)=>{"use strict";V.d(Oe,{w:()=>ee});var f=V(9796),fe=V(1555),G=V(9105);const _e=(()=>{function re(Y){return Error.call(this),this.message=Y?`${Y.length} errors occurred during unsubscription:\n${Y.map((U,K)=>`${K+1}) ${U.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Y,this}return re.prototype=Object.create(Error.prototype),re})();class ee{constructor(Y){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,Y&&(this._ctorUnsubscribe=!0,this._unsubscribe=Y)}unsubscribe(){let Y;if(this.closed)return;let{_parentOrParents:U,_ctorUnsubscribe:K,_unsubscribe:F,_subscriptions:Q}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,U instanceof ee)U.remove(this);else if(null!==U)for(let le=0;le<U.length;++le)U[le].remove(this);if((0,G.m)(F)){K&&(this._unsubscribe=void 0);try{F.call(this)}catch(le){Y=le instanceof _e?oe(le.errors):[le]}}if((0,f.k)(Q)){let le=-1,Me=Q.length;for(;++le<Me;){const ve=Q[le];if((0,fe.K)(ve))try{ve.unsubscribe()}catch(pe){Y=Y||[],pe instanceof _e?Y=Y.concat(oe(pe.errors)):Y.push(pe)}}}if(Y)throw new _e(Y)}add(Y){let U=Y;if(!Y)return ee.EMPTY;switch(typeof Y){case"function":U=new ee(Y);case"object":if(U===this||U.closed||"function"!=typeof U.unsubscribe)return U;if(this.closed)return U.unsubscribe(),U;if(!(U instanceof ee)){const Q=U;U=new ee,U._subscriptions=[Q]}break;default:throw new Error("unrecognized teardown "+Y+" added to Subscription.")}let{_parentOrParents:K}=U;if(null===K)U._parentOrParents=this;else if(K instanceof ee){if(K===this)return U;U._parentOrParents=[K,this]}else{if(-1!==K.indexOf(this))return U;K.push(this)}const F=this._subscriptions;return null===F?this._subscriptions=[U]:F.push(U),U}remove(Y){const U=this._subscriptions;if(U){const K=U.indexOf(Y);-1!==K&&U.splice(K,1)}}}var re;function oe(re){return re.reduce((Y,U)=>Y.concat(U instanceof _e?U.errors:U),[])}ee.EMPTY=((re=new ee).closed=!0,re)},2494:(et,Oe,V)=>{"use strict";V.d(Oe,{v:()=>fe});let f=!1;const fe={Promise:void 0,set useDeprecatedSynchronousErrorHandling(G){if(G){const ie=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ie.stack)}else f&&console.log("RxJS: Back to a better error behavior. Thank you. <3");f=G},get useDeprecatedSynchronousErrorHandling(){return f}}},5345:(et,Oe,V)=>{"use strict";V.d(Oe,{IY:()=>ie,Ds:()=>ee,ft:()=>re});var f=V(7393),fe=V(7574),G=V(7444);class ie extends f.L{constructor(U){super(),this.parent=U}_next(U){this.parent.notifyNext(U)}_error(U){this.parent.notifyError(U),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ee extends f.L{notifyNext(U){this.destination.next(U)}notifyError(U){this.destination.error(U)}notifyComplete(){this.destination.complete()}}function re(Y,U){if(U.closed)return;if(Y instanceof fe.y)return Y.subscribe(U);let K;try{K=(0,G.s)(Y)(U)}catch(F){U.error(F)}return K}},2441:(et,Oe,V)=>{"use strict";V.d(Oe,{c:()=>_e,N:()=>ee});var f=V(9765),fe=V(7574),G=V(5319),ie=V(1307);class _e extends fe.y{constructor(K,F){super(),this.source=K,this.subjectFactory=F,this._refCount=0,this._isComplete=!1}_subscribe(K){return this.getSubject().subscribe(K)}getSubject(){const K=this._subject;return(!K||K.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let K=this._connection;return K||(this._isComplete=!1,K=this._connection=new G.w,K.add(this.source.subscribe(new oe(this.getSubject(),this))),K.closed&&(this._connection=null,K=G.w.EMPTY)),K}refCount(){return(0,ie.x)()(this)}}const ee=(()=>{const U=_e.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:U._subscribe},_isComplete:{value:U._isComplete,writable:!0},getSubject:{value:U.getSubject},connect:{value:U.connect},refCount:{value:U.refCount}}})();class oe extends f.Yc{constructor(K,F){super(K),this.connectable=F}_error(K){this._unsubscribe(),super._error(K)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const K=this.connectable;if(K){this.connectable=null;const F=K._connection;K._refCount=0,K._subject=null,K._connection=null,F&&F.unsubscribe()}}}},9193:(et,Oe,V)=>{"use strict";V.d(Oe,{E:()=>fe,c:()=>G});var f=V(7574);const fe=new f.y(_e=>_e.complete());function G(_e){return _e?function(_e){return new f.y(ee=>_e.schedule(()=>ee.complete()))}(_e):fe}},4402:(et,Oe,V)=>{"use strict";V.d(Oe,{D:()=>Me});var f=V(7574),fe=V(7444),G=V(5319),ie=V(6554),oe=V(4087),re=V(377),K=V(4072),F=V(9489);function Me(ve,pe){return pe?function(ve,pe){if(null!=ve){if(function(ve){return ve&&"function"==typeof ve[ie.L]}(ve))return function(ve,pe){return new f.y(ne=>{const Ee=new G.w;return Ee.add(pe.schedule(()=>{const We=ve[ie.L]();Ee.add(We.subscribe({next(Ve){Ee.add(pe.schedule(()=>ne.next(Ve)))},error(Ve){Ee.add(pe.schedule(()=>ne.error(Ve)))},complete(){Ee.add(pe.schedule(()=>ne.complete()))}}))})),Ee})}(ve,pe);if((0,K.t)(ve))return function(ve,pe){return new f.y(ne=>{const Ee=new G.w;return Ee.add(pe.schedule(()=>ve.then(We=>{Ee.add(pe.schedule(()=>{ne.next(We),Ee.add(pe.schedule(()=>ne.complete()))}))},We=>{Ee.add(pe.schedule(()=>ne.error(We)))}))),Ee})}(ve,pe);if((0,F.z)(ve))return(0,oe.r)(ve,pe);if(function(ve){return ve&&"function"==typeof ve[re.hZ]}(ve)||"string"==typeof ve)return function(ve,pe){if(!ve)throw new Error("Iterable cannot be null");return new f.y(ne=>{const Ee=new G.w;let We;return Ee.add(()=>{We&&"function"==typeof We.return&&We.return()}),Ee.add(pe.schedule(()=>{We=ve[re.hZ](),Ee.add(pe.schedule(function(){if(ne.closed)return;let Ve,Je;try{const Mt=We.next();Ve=Mt.value,Je=Mt.done}catch(Mt){return void ne.error(Mt)}Je?ne.complete():(ne.next(Ve),this.schedule())}))})),Ee})}(ve,pe)}throw new TypeError((null!==ve&&typeof ve||ve)+" is not observable")}(ve,pe):ve instanceof f.y?ve:new f.y((0,fe.s)(ve))}},6693:(et,Oe,V)=>{"use strict";V.d(Oe,{n:()=>ie});var f=V(7574),fe=V(5015),G=V(4087);function ie(_e,ee){return ee?(0,G.r)(_e,ee):new f.y((0,fe.V)(_e))}},6682:(et,Oe,V)=>{"use strict";V.d(Oe,{T:()=>_e});var f=V(7574),fe=V(4869),G=V(3282),ie=V(6693);function _e(...ee){let oe=Number.POSITIVE_INFINITY,re=null,Y=ee[ee.length-1];return(0,fe.K)(Y)?(re=ee.pop(),ee.length>1&&"number"==typeof ee[ee.length-1]&&(oe=ee.pop())):"number"==typeof Y&&(oe=ee.pop()),null===re&&1===ee.length&&ee[0]instanceof f.y?ee[0]:(0,G.J)(oe)((0,ie.n)(ee,re))}},5917:(et,Oe,V)=>{"use strict";V.d(Oe,{of:()=>ie});var f=V(4869),fe=V(6693),G=V(4087);function ie(..._e){let ee=_e[_e.length-1];return(0,f.K)(ee)?(_e.pop(),(0,G.r)(_e,ee)):(0,fe.n)(_e)}},205:(et,Oe,V)=>{"use strict";V.d(Oe,{_:()=>fe});var f=V(7574);function fe(ie,_e){return new f.y(_e?ee=>_e.schedule(G,0,{error:ie,subscriber:ee}):ee=>ee.error(ie))}function G({error:ie,subscriber:_e}){_e.error(ie)}},8002:(et,Oe,V)=>{"use strict";V.d(Oe,{U:()=>fe});var f=V(7393);function fe(_e,ee){return function(re){if("function"!=typeof _e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return re.lift(new G(_e,ee))}}class G{constructor(ee,oe){this.project=ee,this.thisArg=oe}call(ee,oe){return oe.subscribe(new ie(ee,this.project,this.thisArg))}}class ie extends f.L{constructor(ee,oe,re){super(ee),this.project=oe,this.count=0,this.thisArg=re||this}_next(ee){let oe;try{oe=this.project.call(this.thisArg,ee,this.count++)}catch(re){return void this.destination.error(re)}this.destination.next(oe)}}},3282:(et,Oe,V)=>{"use strict";V.d(Oe,{J:()=>G});var f=V(9773),fe=V(4487);function G(ie=Number.POSITIVE_INFINITY){return(0,f.zg)(fe.y,ie)}},9773:(et,Oe,V)=>{"use strict";V.d(Oe,{zg:()=>ie});var f=V(8002),fe=V(4402),G=V(5345);function ie(re,Y,U=Number.POSITIVE_INFINITY){return"function"==typeof Y?K=>K.pipe(ie((F,Q)=>(0,fe.D)(re(F,Q)).pipe((0,f.U)((le,Me)=>Y(F,le,Q,Me))),U)):("number"==typeof Y&&(U=Y),K=>K.lift(new _e(re,U)))}class _e{constructor(Y,U=Number.POSITIVE_INFINITY){this.project=Y,this.concurrent=U}call(Y,U){return U.subscribe(new ee(Y,this.project,this.concurrent))}}class ee extends G.Ds{constructor(Y,U,K=Number.POSITIVE_INFINITY){super(Y),this.project=U,this.concurrent=K,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(Y){this.active<this.concurrent?this._tryNext(Y):this.buffer.push(Y)}_tryNext(Y){let U;const K=this.index++;try{U=this.project(Y,K)}catch(F){return void this.destination.error(F)}this.active++,this._innerSub(U)}_innerSub(Y){const U=new G.IY(this),K=this.destination;K.add(U);const F=(0,G.ft)(Y,U);F!==U&&K.add(F)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(Y){this.destination.next(Y)}notifyComplete(){const Y=this.buffer;this.active--,Y.length>0?this._next(Y.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},6136:(et,Oe,V)=>{"use strict";V.d(Oe,{ht:()=>Y,QV:()=>oe});var f=V(7393),fe=V(9193),G=V(5917),ie=V(205);class ee{constructor(F,Q,le){this.kind=F,this.value=Q,this.error=le,this.hasValue="N"===F}observe(F){switch(this.kind){case"N":return F.next&&F.next(this.value);case"E":return F.error&&F.error(this.error);case"C":return F.complete&&F.complete()}}do(F,Q,le){switch(this.kind){case"N":return F&&F(this.value);case"E":return Q&&Q(this.error);case"C":return le&&le()}}accept(F,Q,le){return F&&"function"==typeof F.next?this.observe(F):this.do(F,Q,le)}toObservable(){switch(this.kind){case"N":return(0,G.of)(this.value);case"E":return(0,ie._)(this.error);case"C":return(0,fe.c)()}throw new Error("unexpected notification kind value")}static createNext(F){return void 0!==F?new ee("N",F):ee.undefinedValueNotification}static createError(F){return new ee("E",void 0,F)}static createComplete(){return ee.completeNotification}}function oe(K,F=0){return function(le){return le.lift(new re(K,F))}}ee.completeNotification=new ee("C"),ee.undefinedValueNotification=new ee("N",void 0);class re{constructor(F,Q=0){this.scheduler=F,this.delay=Q}call(F,Q){return Q.subscribe(new Y(F,this.scheduler,this.delay))}}class Y extends f.L{constructor(F,Q,le=0){super(F),this.scheduler=Q,this.delay=le}static dispatch(F){const{notification:Q,destination:le}=F;Q.observe(le),this.unsubscribe()}scheduleMessage(F){this.destination.add(this.scheduler.schedule(Y.dispatch,this.delay,new U(F,this.destination)))}_next(F){this.scheduleMessage(ee.createNext(F))}_error(F){this.scheduleMessage(ee.createError(F)),this.unsubscribe()}_complete(){this.scheduleMessage(ee.createComplete()),this.unsubscribe()}}class U{constructor(F,Q){this.notification=F,this.destination=Q}}},1307:(et,Oe,V)=>{"use strict";V.d(Oe,{x:()=>fe});var f=V(7393);function fe(){return function(ee){return ee.lift(new G(ee))}}class G{constructor(ee){this.connectable=ee}call(ee,oe){const{connectable:re}=this;re._refCount++;const Y=new ie(ee,re),U=oe.subscribe(Y);return Y.closed||(Y.connection=re.connect()),U}}class ie extends f.L{constructor(ee,oe){super(ee),this.connectable=oe}_unsubscribe(){const{connectable:ee}=this;if(!ee)return void(this.connection=null);this.connectable=null;const oe=ee._refCount;if(oe<=0)return void(this.connection=null);if(ee._refCount=oe-1,oe>1)return void(this.connection=null);const{connection:re}=this,Y=ee._connection;this.connection=null,Y&&(!re||Y===re)&&Y.unsubscribe()}}},8819:(et,Oe,V)=>{"use strict";V.d(Oe,{B:()=>oe});var f=V(2441);var ie=V(1307),_e=V(9765);function ee(){return new _e.xQ}function oe(){return re=>(0,ie.x)()(function(re,Y){return function(K){let F;F="function"==typeof re?re:function(){return re};const Q=Object.create(K,f.N);return Q.source=K,Q.subjectFactory=F,Q}}(ee)(re))}},9673:(et,Oe,V)=>{"use strict";V.d(Oe,{R:()=>_e});var f=V(7574),fe=V(4581),G=V(6561);class ie extends f.y{constructor(re,Y=0,U=fe.e){super(),this.source=re,this.delayTime=Y,this.scheduler=U,(!(0,G.k)(Y)||Y<0)&&(this.delayTime=0),(!U||"function"!=typeof U.schedule)&&(this.scheduler=fe.e)}static create(re,Y=0,U=fe.e){return new ie(re,Y,U)}static dispatch(re){const{source:Y,subscriber:U}=re;return this.add(Y.subscribe(U))}_subscribe(re){return this.scheduler.schedule(ie.dispatch,this.delayTime,{source:this.source,subscriber:re})}}function _e(oe,re=0){return function(U){return U.lift(new ee(oe,re))}}class ee{constructor(re,Y){this.scheduler=re,this.delay=Y}call(re,Y){return new ie(Y,this.delay,this.scheduler).subscribe(re)}}},3342:(et,Oe,V)=>{"use strict";V.d(Oe,{b:()=>ie});var f=V(7393);function fe(){}var G=V(9105);function ie(oe,re,Y){return function(K){return K.lift(new _e(oe,re,Y))}}class _e{constructor(re,Y,U){this.nextOrObserver=re,this.error=Y,this.complete=U}call(re,Y){return Y.subscribe(new ee(re,this.nextOrObserver,this.error,this.complete))}}class ee extends f.L{constructor(re,Y,U,K){super(re),this._tapNext=fe,this._tapError=fe,this._tapComplete=fe,this._tapError=U||fe,this._tapComplete=K||fe,(0,G.m)(Y)?(this._context=this,this._tapNext=Y):Y&&(this._context=Y,this._tapNext=Y.next||fe,this._tapError=Y.error||fe,this._tapComplete=Y.complete||fe)}_next(re){try{this._tapNext.call(this._context,re)}catch(Y){return void this.destination.error(Y)}this.destination.next(re)}_error(re){try{this._tapError.call(this._context,re)}catch(Y){return void this.destination.error(Y)}this.destination.error(re)}_complete(){try{this._tapComplete.call(this._context)}catch(re){return void this.destination.error(re)}return this.destination.complete()}}},4087:(et,Oe,V)=>{"use strict";V.d(Oe,{r:()=>G});var f=V(7574),fe=V(5319);function G(ie,_e){return new f.y(ee=>{const oe=new fe.w;let re=0;return oe.add(_e.schedule(function(){re!==ie.length?(ee.next(ie[re++]),ee.closed||oe.add(this.schedule())):ee.complete()})),oe})}},6465:(et,Oe,V)=>{"use strict";V.d(Oe,{o:()=>G});var f=V(5319);class fe extends f.w{constructor(_e,ee){super()}schedule(_e,ee=0){return this}}class G extends fe{constructor(_e,ee){super(_e,ee),this.scheduler=_e,this.work=ee,this.pending=!1}schedule(_e,ee=0){if(this.closed)return this;this.state=_e;const oe=this.id,re=this.scheduler;return null!=oe&&(this.id=this.recycleAsyncId(re,oe,ee)),this.pending=!0,this.delay=ee,this.id=this.id||this.requestAsyncId(re,this.id,ee),this}requestAsyncId(_e,ee,oe=0){return setInterval(_e.flush.bind(_e,this),oe)}recycleAsyncId(_e,ee,oe=0){if(null!==oe&&this.delay===oe&&!1===this.pending)return ee;clearInterval(ee)}execute(_e,ee){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const oe=this._execute(_e,ee);if(oe)return oe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(_e,ee){let re,oe=!1;try{this.work(_e)}catch(Y){oe=!0,re=!!Y&&Y||new Error(Y)}if(oe)return this.unsubscribe(),re}_unsubscribe(){const _e=this.id,ee=this.scheduler,oe=ee.actions,re=oe.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==re&&oe.splice(re,1),null!=_e&&(this.id=this.recycleAsyncId(ee,_e,null)),this.delay=null}}},6102:(et,Oe,V)=>{"use strict";V.d(Oe,{v:()=>fe});let f=(()=>{class G{constructor(_e,ee=G.now){this.SchedulerAction=_e,this.now=ee}schedule(_e,ee=0,oe){return new this.SchedulerAction(this,_e).schedule(oe,ee)}}return G.now=()=>Date.now(),G})();class fe extends f{constructor(ie,_e=f.now){super(ie,()=>fe.delegate&&fe.delegate!==this?fe.delegate.now():_e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ie,_e=0,ee){return fe.delegate&&fe.delegate!==this?fe.delegate.schedule(ie,_e,ee):super.schedule(ie,_e,ee)}flush(ie){const{actions:_e}=this;if(this.active)return void _e.push(ie);let ee;this.active=!0;do{if(ee=ie.execute(ie.state,ie.delay))break}while(ie=_e.shift());if(this.active=!1,ee){for(;ie=_e.shift();)ie.unsubscribe();throw ee}}}},4581:(et,Oe,V)=>{"use strict";V.d(Oe,{e:()=>F,E:()=>K});let f=1;const fe=Promise.resolve(),G={};function ie(Q){return Q in G&&(delete G[Q],!0)}const _e={setImmediate(Q){const le=f++;return G[le]=!0,fe.then(()=>ie(le)&&Q()),le},clearImmediate(Q){ie(Q)}};var oe=V(6465),Y=V(6102);const K=new class extends Y.v{flush(le){this.active=!0,this.scheduled=void 0;const{actions:Me}=this;let ve,pe=-1,ne=Me.length;le=le||Me.shift();do{if(ve=le.execute(le.state,le.delay))break}while(++pe<ne&&(le=Me.shift()));if(this.active=!1,ve){for(;++pe<ne&&(le=Me.shift());)le.unsubscribe();throw ve}}}(class extends oe.o{constructor(le,Me){super(le,Me),this.scheduler=le,this.work=Me}requestAsyncId(le,Me,ve=0){return null!==ve&&ve>0?super.requestAsyncId(le,Me,ve):(le.actions.push(this),le.scheduled||(le.scheduled=_e.setImmediate(le.flush.bind(le,null))))}recycleAsyncId(le,Me,ve=0){if(null!==ve&&ve>0||null===ve&&this.delay>0)return super.recycleAsyncId(le,Me,ve);0===le.actions.length&&(_e.clearImmediate(Me),le.scheduled=void 0)}}),F=K},3637:(et,Oe,V)=>{"use strict";V.d(Oe,{z:()=>G,P:()=>ie});var f=V(6465);const G=new(V(6102).v)(f.o),ie=G},7771:(et,Oe,V)=>{"use strict";V.d(Oe,{c:()=>ee,N:()=>_e});var f=V(6465),G=V(6102);const _e=new class extends G.v{}(class extends f.o{constructor(re,Y){super(re,Y),this.scheduler=re,this.work=Y}schedule(re,Y=0){return Y>0?super.schedule(re,Y):(this.delay=Y,this.state=re,this.scheduler.flush(this),this)}execute(re,Y){return Y>0||this.closed?super.execute(re,Y):this._execute(re,Y)}requestAsyncId(re,Y,U=0){return null!==U&&U>0||null===U&&this.delay>0?super.requestAsyncId(re,Y,U):re.flush(this)}}),ee=_e},377:(et,Oe,V)=>{"use strict";V.d(Oe,{hZ:()=>fe});const fe="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(et,Oe,V)=>{"use strict";V.d(Oe,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(et,Oe,V)=>{"use strict";V.d(Oe,{b:()=>f});const f="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(et,Oe,V)=>{"use strict";V.d(Oe,{N:()=>fe});const fe=(()=>{function G(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return G.prototype=Object.create(Error.prototype),G})()},4449:(et,Oe,V)=>{"use strict";function f(fe){setTimeout(()=>{throw fe},0)}V.d(Oe,{z:()=>f})},4487:(et,Oe,V)=>{"use strict";function f(fe){return fe}V.d(Oe,{y:()=>f})},9796:(et,Oe,V)=>{"use strict";V.d(Oe,{k:()=>f});const f=Array.isArray||(fe=>fe&&"number"==typeof fe.length)},9489:(et,Oe,V)=>{"use strict";V.d(Oe,{z:()=>f});const f=fe=>fe&&"number"==typeof fe.length&&"function"!=typeof fe},9105:(et,Oe,V)=>{"use strict";function f(fe){return"function"==typeof fe}V.d(Oe,{m:()=>f})},6561:(et,Oe,V)=>{"use strict";V.d(Oe,{k:()=>fe});var f=V(9796);function fe(G){return!(0,f.k)(G)&&G-parseFloat(G)+1>=0}},1555:(et,Oe,V)=>{"use strict";function f(fe){return null!==fe&&"object"==typeof fe}V.d(Oe,{K:()=>f})},4072:(et,Oe,V)=>{"use strict";function f(fe){return!!fe&&"function"!=typeof fe.subscribe&&"function"==typeof fe.then}V.d(Oe,{t:()=>f})},4869:(et,Oe,V)=>{"use strict";function f(fe){return fe&&"function"==typeof fe.schedule}V.d(Oe,{K:()=>f})},7444:(et,Oe,V)=>{"use strict";V.d(Oe,{s:()=>K});var f=V(5015),fe=V(4449),ie=V(377),ee=V(6554),re=V(9489),Y=V(4072),U=V(1555);const K=F=>{if(F&&"function"==typeof F[ee.L])return(F=>Q=>{const le=F[ee.L]();if("function"!=typeof le.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return le.subscribe(Q)})(F);if((0,re.z)(F))return(0,f.V)(F);if((0,Y.t)(F))return(F=>Q=>(F.then(le=>{Q.closed||(Q.next(le),Q.complete())},le=>Q.error(le)).then(null,fe.z),Q))(F);if(F&&"function"==typeof F[ie.hZ])return(F=>Q=>{const le=F[ie.hZ]();for(;;){let Me;try{Me=le.next()}catch(ve){return Q.error(ve),Q}if(Me.done){Q.complete();break}if(Q.next(Me.value),Q.closed)break}return"function"==typeof le.return&&Q.add(()=>{le.return&&le.return()}),Q})(F);{const le=`You provided ${(0,U.K)(F)?"an invalid object":`'${F}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(le)}}},5015:(et,Oe,V)=>{"use strict";V.d(Oe,{V:()=>f});const f=fe=>G=>{for(let ie=0,_e=fe.length;ie<_e&&!G.closed;ie++)G.next(fe[ie]);G.complete()}},17:(et,Oe,V)=>{"use strict";var f=V(7716);let fe=null;function G(){return fe}const oe=new f.OlP("DocumentToken");let re=(()=>{class s{historyGo(i){throw new Error("Not implemented")}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=(0,f.Yz7)({factory:Y,token:s,providedIn:"platform"}),s})();function Y(){return(0,f.LFG)(K)}const U=new f.OlP("Location Initialized");let K=(()=>{class s extends re{constructor(i){super(),this._doc=i,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return G().getBaseHref(this._doc)}onPopState(i){const o=G().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",i,!1),()=>o.removeEventListener("popstate",i)}onHashChange(i){const o=G().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",i,!1),()=>o.removeEventListener("hashchange",i)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(i){this.location.pathname=i}pushState(i,o,c){F()?this._history.pushState(i,o,c):this.location.hash=c}replaceState(i,o,c){F()?this._history.replaceState(i,o,c):this.location.hash=c}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(oe))},s.\u0275prov=(0,f.Yz7)({factory:Q,token:s,providedIn:"platform"}),s})();function F(){return!!window.history.pushState}function Q(){return new K((0,f.LFG)(oe))}function le(s,r){if(0==s.length)return r;if(0==r.length)return s;let i=0;return s.endsWith("/")&&i++,r.startsWith("/")&&i++,2==i?s+r.substring(1):1==i?s+r:s+"/"+r}function Me(s){const r=s.match(/#|\?|$/),i=r&&r.index||s.length;return s.slice(0,i-("/"===s[i-1]?1:0))+s.slice(i)}function ve(s){return s&&"?"!==s[0]?"?"+s:s}let pe=(()=>{class s{historyGo(i){throw new Error("Not implemented")}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=(0,f.Yz7)({factory:ne,token:s,providedIn:"root"}),s})();function ne(s){const r=(0,f.LFG)(oe).location;return new We((0,f.LFG)(re),r&&r.origin||"")}const Ee=new f.OlP("appBaseHref");let We=(()=>{class s extends pe{constructor(i,o){if(super(),this._platformLocation=i,this._removeListenerFns=[],null==o&&(o=this._platformLocation.getBaseHrefFromDOM()),null==o)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=o}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return le(this._baseHref,i)}path(i=!1){const o=this._platformLocation.pathname+ve(this._platformLocation.search),c=this._platformLocation.hash;return c&&i?`${o}${c}`:o}pushState(i,o,c,d){const m=this.prepareExternalUrl(c+ve(d));this._platformLocation.pushState(i,o,m)}replaceState(i,o,c,d){const m=this.prepareExternalUrl(c+ve(d));this._platformLocation.replaceState(i,o,m)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(i=0){var o,c;null===(c=(o=this._platformLocation).historyGo)||void 0===c||c.call(o,i)}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(re),f.LFG(Ee,8))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})(),Ve=(()=>{class s extends pe{constructor(i,o){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(i){const o=le(this._baseHref,i);return o.length>0?"#"+o:o}pushState(i,o,c,d){let m=this.prepareExternalUrl(c+ve(d));0==m.length&&(m=this._platformLocation.pathname),this._platformLocation.pushState(i,o,m)}replaceState(i,o,c,d){let m=this.prepareExternalUrl(c+ve(d));0==m.length&&(m=this._platformLocation.pathname),this._platformLocation.replaceState(i,o,m)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(i=0){var o,c;null===(c=(o=this._platformLocation).historyGo)||void 0===c||c.call(o,i)}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(re),f.LFG(Ee,8))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})(),Je=(()=>{class s{constructor(i,o){this._subject=new f.vpe,this._urlChangeListeners=[],this._platformStrategy=i;const c=this._platformStrategy.getBaseHref();this._platformLocation=o,this._baseHref=Me(Nt(c)),this._platformStrategy.onPopState(d=>{this._subject.emit({url:this.path(!0),pop:!0,state:d.state,type:d.type})})}path(i=!1){return this.normalize(this._platformStrategy.path(i))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(i,o=""){return this.path()==this.normalize(i+ve(o))}normalize(i){return s.stripTrailingSlash(function(s,r){return s&&r.startsWith(s)?r.substring(s.length):r}(this._baseHref,Nt(i)))}prepareExternalUrl(i){return i&&"/"!==i[0]&&(i="/"+i),this._platformStrategy.prepareExternalUrl(i)}go(i,o="",c=null){this._platformStrategy.pushState(c,"",i,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+ve(o)),c)}replaceState(i,o="",c=null){this._platformStrategy.replaceState(c,"",i,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+ve(o)),c)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(i=0){var o,c;null===(c=(o=this._platformStrategy).historyGo)||void 0===c||c.call(o,i)}onUrlChange(i){this._urlChangeListeners.push(i),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}))}_notifyUrlChangeListeners(i="",o){this._urlChangeListeners.forEach(c=>c(i,o))}subscribe(i,o,c){return this._subject.subscribe({next:i,error:o,complete:c})}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(pe),f.LFG(re))},s.normalizeQueryParams=ve,s.joinWithSlash=le,s.stripTrailingSlash=Me,s.\u0275prov=(0,f.Yz7)({factory:Mt,token:s,providedIn:"root"}),s})();function Mt(){return new Je((0,f.LFG)(pe),(0,f.LFG)(re))}function Nt(s){return s.replace(/\/index.html$/,"")}const Et={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var we=(()=>((we=we||{})[we.Decimal=0]="Decimal",we[we.Percent=1]="Percent",we[we.Currency=2]="Currency",we[we.Scientific=3]="Scientific",we))(),ge=(()=>((ge=ge||{})[ge.Zero=0]="Zero",ge[ge.One=1]="One",ge[ge.Two=2]="Two",ge[ge.Few=3]="Few",ge[ge.Many=4]="Many",ge[ge.Other=5]="Other",ge))(),ce=(()=>((ce=ce||{})[ce.Decimal=0]="Decimal",ce[ce.Group=1]="Group",ce[ce.List=2]="List",ce[ce.PercentSign=3]="PercentSign",ce[ce.PlusSign=4]="PlusSign",ce[ce.MinusSign=5]="MinusSign",ce[ce.Exponential=6]="Exponential",ce[ce.SuperscriptingExponent=7]="SuperscriptingExponent",ce[ce.PerMille=8]="PerMille",ce[ce.Infinity=9]="Infinity",ce[ce.NaN=10]="NaN",ce[ce.TimeSeparator=11]="TimeSeparator",ce[ce.CurrencyDecimal=12]="CurrencyDecimal",ce[ce.CurrencyGroup=13]="CurrencyGroup",ce))();function ln(s,r){const i=(0,f.cg1)(s),o=i[f.wAp.NumberSymbols][r];if(void 0===o){if(r===ce.CurrencyDecimal)return i[f.wAp.NumberSymbols][ce.Decimal];if(r===ce.CurrencyGroup)return i[f.wAp.NumberSymbols][ce.Group]}return o}const Rr=f.kL8;const Uo=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function yr(s,r,i,o,c){const m=function(s,r="-"){const i={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},o=s.split(";"),c=o[0],d=o[1],m=-1!==c.indexOf(".")?c.split("."):[c.substring(0,c.lastIndexOf("0")+1),c.substring(c.lastIndexOf("0")+1)],v=m[0],S=m[1]||"";i.posPre=v.substr(0,v.indexOf("#"));for(let x=0;x<S.length;x++){const k=S.charAt(x);"0"===k?i.minFrac=i.maxFrac=x+1:"#"===k?i.maxFrac=x+1:i.posSuf+=k}const D=v.split(",");if(i.gSize=D[1]?D[1].length:0,i.lgSize=D[2]||D[1]?(D[2]||D[1]).length:0,d){const x=c.length-i.posPre.length-i.posSuf.length,k=d.indexOf("#");i.negPre=d.substr(0,k).replace(/'/g,""),i.negSuf=d.substr(k+x).replace(/'/g,"")}else i.negPre=r+i.posPre,i.negSuf=i.posSuf;return i}(function(s,r){return(0,f.cg1)(s)[f.wAp.NumberFormats][r]}(r,we.Currency),ln(r,ce.MinusSign));return m.minFrac=function(s){let r;const i=Et[s];return i&&(r=i[2]),"number"==typeof r?r:2}(o),m.maxFrac=m.minFrac,function(s,r,i,o,c,d,m=!1){let v="",S=!1;if(isFinite(s)){let D=function(s){let o,c,d,m,v,r=Math.abs(s)+"",i=0;for((c=r.indexOf("."))>-1&&(r=r.replace(".","")),(d=r.search(/e/i))>0?(c<0&&(c=d),c+=+r.slice(d+1),r=r.substring(0,d)):c<0&&(c=r.length),d=0;"0"===r.charAt(d);d++);if(d===(v=r.length))o=[0],c=1;else{for(v--;"0"===r.charAt(v);)v--;for(c-=d,o=[],m=0;d<=v;d++,m++)o[m]=Number(r.charAt(d))}return c>22&&(o=o.splice(0,21),i=c-1,c=1),{digits:o,exponent:i,integerLen:c}}(s);m&&(D=function(s){if(0===s.digits[0])return s;const r=s.digits.length-s.integerLen;return s.exponent?s.exponent+=2:(0===r?s.digits.push(0,0):1===r&&s.digits.push(0),s.integerLen+=2),s}(D));let x=r.minInt,k=r.minFrac,j=r.maxFrac;if(d){const Ye=d.match(Uo);if(null===Ye)throw new Error(`${d} is not a valid digit info`);const Qe=Ye[1],mt=Ye[3],pn=Ye[5];null!=Qe&&(x=Tt(Qe)),null!=mt&&(k=Tt(mt)),null!=pn?j=Tt(pn):null!=mt&&k>j&&(j=k)}!function(s,r,i){if(r>i)throw new Error(`The minimum number of digits after fraction (${r}) is higher than the maximum (${i}).`);let o=s.digits,c=o.length-s.integerLen;const d=Math.min(Math.max(r,c),i);let m=d+s.integerLen,v=o[m];if(m>0){o.splice(Math.max(s.integerLen,m));for(let k=m;k<o.length;k++)o[k]=0}else{c=Math.max(0,c),s.integerLen=1,o.length=Math.max(1,m=d+1),o[0]=0;for(let k=1;k<m;k++)o[k]=0}if(v>=5)if(m-1<0){for(let k=0;k>m;k--)o.unshift(0),s.integerLen++;o.unshift(1),s.integerLen++}else o[m-1]++;for(;c<Math.max(0,d);c++)o.push(0);let S=0!==d;const D=r+s.integerLen,x=o.reduceRight(function(k,j,H,X){return X[H]=(j+=k)<10?j:j-10,S&&(0===X[H]&&H>=D?X.pop():S=!1),j>=10?1:0},0);x&&(o.unshift(x),s.integerLen++)}(D,k,j);let H=D.digits,X=D.integerLen;const ye=D.exponent;let Re=[];for(S=H.every(Ye=>!Ye);X<x;X++)H.unshift(0);for(;X<0;X++)H.unshift(0);X>0?Re=H.splice(X,H.length):(Re=H,H=[0]);const Ge=[];for(H.length>=r.lgSize&&Ge.unshift(H.splice(-r.lgSize,H.length).join(""));H.length>r.gSize;)Ge.unshift(H.splice(-r.gSize,H.length).join(""));H.length&&Ge.unshift(H.join("")),v=Ge.join(ln(i,o)),Re.length&&(v+=ln(i,c)+Re.join("")),ye&&(v+=ln(i,ce.Exponential)+"+"+ye)}else v=ln(i,ce.Infinity);return v=s<0&&!S?r.negPre+v+r.negSuf:r.posPre+v+r.posSuf,v}(s,m,r,ce.CurrencyGroup,ce.CurrencyDecimal,c).replace("\xa4",i).replace("\xa4","").trim()}function Tt(s){const r=parseInt(s);if(isNaN(r))throw new Error("Invalid integer literal when parsing "+s);return r}class xi{}let vo=(()=>{class s extends xi{constructor(i){super(),this.locale=i}getPluralCategory(i,o){switch(Rr(o||this.locale)(i)){case ge.Zero:return"zero";case ge.One:return"one";case ge.Two:return"two";case ge.Few:return"few";case ge.Many:return"many";default:return"other"}}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(f.soG))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();class vr{constructor(r,i,o,c){this.$implicit=r,this.ngForOf=i,this.index=o,this.count=c}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Yt=(()=>{class s{constructor(i,o,c){this._viewContainer=i,this._template=o,this._differs=c,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const i=this._ngForOf;if(!this._differ&&i)try{this._differ=this._differs.find(i).create(this.ngForTrackBy)}catch(o){throw new Error(`Cannot find a differ supporting object '${i}' of type '${function(s){return s.name||typeof s}(i)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){const o=[];i.forEachOperation((c,d,m)=>{if(null==c.previousIndex){const v=this._viewContainer.createEmbeddedView(this._template,new vr(null,this._ngForOf,-1,-1),null===m?void 0:m),S=new mu(c,v);o.push(S)}else if(null==m)this._viewContainer.remove(null===d?void 0:d);else if(null!==d){const v=this._viewContainer.get(d);this._viewContainer.move(v,m);const S=new mu(c,v);o.push(S)}});for(let c=0;c<o.length;c++)this._perViewChange(o[c].view,o[c].record);for(let c=0,d=this._viewContainer.length;c<d;c++){const m=this._viewContainer.get(c);m.context.index=c,m.context.count=d,m.context.ngForOf=this._ngForOf}i.forEachIdentityChange(c=>{this._viewContainer.get(c.currentIndex).context.$implicit=c.item})}_perViewChange(i,o){i.context.$implicit=o.item}static ngTemplateContextGuard(i,o){return!0}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},s.\u0275dir=f.lG2({type:s,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),s})();class mu{constructor(r,i){this.record=r,this.view=i}}let Jr=(()=>{class s{constructor(i,o){this._viewContainer=i,this._context=new $o,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){Hn("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){Hn("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,o){return!0}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(f.s_b),f.Y36(f.Rgc))},s.\u0275dir=f.lG2({type:s,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),s})();class $o{constructor(){this.$implicit=null,this.ngIf=null}}function Hn(s,r){if(r&&!r.createEmbeddedView)throw new Error(`${s} must be a TemplateRef, but received '${(0,f.AaK)(r)}'.`)}class _s{constructor(r,i){this._viewContainerRef=r,this._templateRef=i,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(r){r&&!this._created?this.create():!r&&this._created&&this.destroy()}}let Xr=(()=>{class s{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(i){this._ngSwitch=i,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(i){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(i)}_matchCase(i){const o=i==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||o,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),o}_updateDefaultCases(i){if(this._defaultViews&&i!==this._defaultUsed){this._defaultUsed=i;for(let o=0;o<this._defaultViews.length;o++)this._defaultViews[o].enforceState(i)}}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275dir=f.lG2({type:s,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),s})(),Sn=(()=>{class s{constructor(i,o,c){this.ngSwitch=c,c._addCase(),this._view=new _s(i,o)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(Xr,9))},s.\u0275dir=f.lG2({type:s,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),s})(),pr=(()=>{class s{constructor(i){this._viewContainerRef=i,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(i){if(i.ngTemplateOutlet){const o=this._viewContainerRef;this._viewRef&&o.remove(o.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?o.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&i.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(f.s_b))},s.\u0275dir=f.lG2({type:s,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[f.TTD]}),s})();let Gl=(()=>{class s{constructor(i,o="USD"){this._locale=i,this._defaultCurrencyCode=o}transform(i,o=this._defaultCurrencyCode,c="symbol",d,m){if(!function(s){return!(null==s||""===s||s!=s)}(i))return null;m=m||this._locale,"boolean"==typeof c&&(c=c?"symbol":"code");let v=o||this._defaultCurrencyCode;"code"!==c&&(v="symbol"===c||"symbol-narrow"===c?function(s,r,i="en"){const o=function(s){return(0,f.cg1)(s)[f.wAp.Currencies]}(i)[s]||Et[s]||[],c=o[1];return"narrow"===r&&"string"==typeof c?c:o[0]||s}(v,"symbol"===c?"wide":"narrow",m):c);try{return yr(function(s){if("string"==typeof s&&!isNaN(Number(s)-parseFloat(s)))return Number(s);if("number"!=typeof s)throw new Error(`${s} is not a number`);return s}(i),m,v,o,d)}catch(S){throw function(s,r){return Error(`InvalidPipeArgument: '${r}' for pipe '${(0,f.AaK)(s)}'`)}(s,S.message)}}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(f.soG,16),f.Y36(f.EJc,16))},s.\u0275pipe=f.Yjl({name:"currency",type:s,pure:!0}),s})();let es=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({providers:[{provide:xi,useClass:vo}]}),s})();function br(s){return"browser"===s}function Ra(s){return"server"===s}let ka=(()=>{class s{}return s.\u0275prov=(0,f.Yz7)({token:s,providedIn:"root",factory:()=>new zl((0,f.LFG)(oe),window)}),s})();class zl{constructor(r,i){this.document=r,this.window=i,this.offset=()=>[0,0]}setOffset(r){this.offset=Array.isArray(r)?()=>r:r}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(r){this.supportsScrolling()&&this.window.scrollTo(r[0],r[1])}scrollToAnchor(r){if(!this.supportsScrolling())return;const i=function(s,r){const i=s.getElementById(r)||s.getElementsByName(r)[0];if(i)return i;if("function"==typeof s.createTreeWalker&&s.body&&(s.body.createShadowRoot||s.body.attachShadow)){const o=s.createTreeWalker(s.body,NodeFilter.SHOW_ELEMENT);let c=o.currentNode;for(;c;){const d=c.shadowRoot;if(d){const m=d.getElementById(r)||d.querySelector(`[name="${r}"]`);if(m)return m}c=o.nextNode()}}return null}(this.document,r);i&&(this.scrollToElement(i),this.attemptFocus(i))}setHistoryScrollRestoration(r){if(this.supportScrollRestoration()){const i=this.window.history;i&&i.scrollRestoration&&(i.scrollRestoration=r)}}scrollToElement(r){const i=r.getBoundingClientRect(),o=i.left+this.window.pageXOffset,c=i.top+this.window.pageYOffset,d=this.offset();this.window.scrollTo(o-d[0],c-d[1])}attemptFocus(r){return r.focus(),this.document.activeElement===r}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const r=Na(this.window.history)||Na(Object.getPrototypeOf(this.window.history));return!(!r||!r.writable&&!r.set)}catch(r){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(r){return!1}}}function Na(s){return Object.getOwnPropertyDescriptor(s,"scrollRestoration")}class B extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var s;s=new B,fe||(fe=s)}onAndCancel(r,i,o){return r.addEventListener(i,o,!1),()=>{r.removeEventListener(i,o,!1)}}dispatchEvent(r,i){r.dispatchEvent(i)}remove(r){r.parentNode&&r.parentNode.removeChild(r)}createElement(r,i){return(i=i||this.getDefaultDocument()).createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,i){return"window"===i?window:"document"===i?r:"body"===i?r.body:null}getBaseHref(r){const i=(W=W||document.querySelector("base"),W?W.getAttribute("href"):null);return null==i?null:function(s){Ie=Ie||document.createElement("a"),Ie.setAttribute("href",s);const r=Ie.pathname;return"/"===r.charAt(0)?r:`/${r}`}(i)}resetBaseElement(){W=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return function(s,r){r=encodeURIComponent(r);for(const i of s.split(";")){const o=i.indexOf("="),[c,d]=-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)];if(c.trim()===r)return decodeURIComponent(d)}return null}(document.cookie,r)}}let Ie,W=null;const Ke=new f.OlP("TRANSITION_ID"),at=[{provide:f.ip1,useFactory:function(s,r,i){return()=>{i.get(f.CZH).donePromise.then(()=>{const o=G(),c=r.querySelectorAll(`style[ng-transition="${s}"]`);for(let d=0;d<c.length;d++)o.remove(c[d])})}},deps:[Ke,oe,f.zs3],multi:!0}];class nn{static init(){(0,f.VLi)(new nn)}addToWindow(r){f.dqk.getAngularTestability=(o,c=!0)=>{const d=r.findTestabilityInTree(o,c);if(null==d)throw new Error("Could not find testability for element.");return d},f.dqk.getAllAngularTestabilities=()=>r.getAllTestabilities(),f.dqk.getAllAngularRootElements=()=>r.getAllRootElements(),f.dqk.frameworkStabilizers||(f.dqk.frameworkStabilizers=[]),f.dqk.frameworkStabilizers.push(o=>{const c=f.dqk.getAllAngularTestabilities();let d=c.length,m=!1;const v=function(S){m=m||S,d--,0==d&&o(m)};c.forEach(function(S){S.whenStable(v)})})}findTestabilityInTree(r,i,o){if(null==i)return null;const c=r.getTestability(i);return null!=c?c:o?G().isShadowRoot(i)?this.findTestabilityInTree(r,i.host,!0):this.findTestabilityInTree(r,i.parentElement,!0):null}}let tr=(()=>{class s{build(){return new XMLHttpRequest}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();const Zo=new f.OlP("EventManagerPlugins");let Ne=(()=>{class s{constructor(i,o){this._zone=o,this._eventNameToPlugin=new Map,i.forEach(c=>c.manager=this),this._plugins=i.slice().reverse()}addEventListener(i,o,c){return this._findPluginFor(o).addEventListener(i,o,c)}addGlobalEventListener(i,o,c){return this._findPluginFor(o).addGlobalEventListener(i,o,c)}getZone(){return this._zone}_findPluginFor(i){const o=this._eventNameToPlugin.get(i);if(o)return o;const c=this._plugins;for(let d=0;d<c.length;d++){const m=c[d];if(m.supports(i))return this._eventNameToPlugin.set(i,m),m}throw new Error(`No event manager plugin found for event ${i}`)}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(Zo),f.LFG(f.R0b))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();class Gt{constructor(r){this._doc=r}addGlobalEventListener(r,i,o){const c=G().getGlobalEventTarget(this._doc,r);if(!c)throw new Error(`Unsupported event target ${c} for event ${i}`);return this.addEventListener(c,i,o)}}let hh=(()=>{class s{constructor(){this._stylesSet=new Set}addStyles(i){const o=new Set;i.forEach(c=>{this._stylesSet.has(c)||(this._stylesSet.add(c),o.add(c))}),this.onStylesAdded(o)}onStylesAdded(i){}getAllStyles(){return Array.from(this._stylesSet)}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})(),mn=(()=>{class s extends hh{constructor(i){super(),this._doc=i,this._hostNodes=new Map,this._hostNodes.set(i.head,[])}_addStylesToHost(i,o,c){i.forEach(d=>{const m=this._doc.createElement("style");m.textContent=d,c.push(o.appendChild(m))})}addHost(i){const o=[];this._addStylesToHost(this._stylesSet,i,o),this._hostNodes.set(i,o)}removeHost(i){const o=this._hostNodes.get(i);o&&o.forEach(fh),this._hostNodes.delete(i)}onStylesAdded(i){this._hostNodes.forEach((o,c)=>{this._addStylesToHost(i,c,o)})}ngOnDestroy(){this._hostNodes.forEach(i=>i.forEach(fh))}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(oe))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();function fh(s){G().remove(s)}const Yo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ti=/%COMP%/g;function Gn(s,r,i){for(let o=0;o<r.length;o++){let c=r[o];Array.isArray(c)?Gn(s,c,i):(c=c.replace(ti,s),i.push(c))}return i}function ns(s){return r=>{if("__ngUnwrap__"===r)return s;!1===s(r)&&(r.preventDefault(),r.returnValue=!1)}}let Zs=(()=>{class s{constructor(i,o,c){this.eventManager=i,this.sharedStylesHost=o,this.appId=c,this.rendererByCompId=new Map,this.defaultRenderer=new gi(i)}createRenderer(i,o){if(!i||!o)return this.defaultRenderer;switch(o.encapsulation){case f.ifc.Emulated:{let c=this.rendererByCompId.get(o.id);return c||(c=new gh(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,c)),c.applyToHost(i),c}case 1:case f.ifc.ShadowDom:return new mh(this.eventManager,this.sharedStylesHost,i,o);default:if(!this.rendererByCompId.has(o.id)){const c=Gn(o.id,o.styles,[]);this.sharedStylesHost.addStyles(c),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(Ne),f.LFG(mn),f.LFG(f.AFp))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();class gi{constructor(r){this.eventManager=r,this.data=Object.create(null)}destroy(){}createElement(r,i){return i?document.createElementNS(Yo[i]||i,r):document.createElement(r)}createComment(r){return document.createComment(r)}createText(r){return document.createTextNode(r)}appendChild(r,i){r.appendChild(i)}insertBefore(r,i,o){r&&r.insertBefore(i,o)}removeChild(r,i){r&&r.removeChild(i)}selectRootElement(r,i){let o="string"==typeof r?document.querySelector(r):r;if(!o)throw new Error(`The selector "${r}" did not match any elements`);return i||(o.textContent=""),o}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,i,o,c){if(c){i=c+":"+i;const d=Yo[c];d?r.setAttributeNS(d,i,o):r.setAttribute(i,o)}else r.setAttribute(i,o)}removeAttribute(r,i,o){if(o){const c=Yo[o];c?r.removeAttributeNS(c,i):r.removeAttribute(`${o}:${i}`)}else r.removeAttribute(i)}addClass(r,i){r.classList.add(i)}removeClass(r,i){r.classList.remove(i)}setStyle(r,i,o,c){c&(f.JOm.DashCase|f.JOm.Important)?r.style.setProperty(i,o,c&f.JOm.Important?"important":""):r.style[i]=o}removeStyle(r,i,o){o&f.JOm.DashCase?r.style.removeProperty(i):r.style[i]=""}setProperty(r,i,o){r[i]=o}setValue(r,i){r.nodeValue=i}listen(r,i,o){return"string"==typeof r?this.eventManager.addGlobalEventListener(r,i,ns(o)):this.eventManager.addEventListener(r,i,ns(o))}}class gh extends gi{constructor(r,i,o,c){super(r),this.component=o;const d=Gn(c+"-"+o.id,o.styles,[]);i.addStyles(d),this.contentAttr="_ngcontent-%COMP%".replace(ti,c+"-"+o.id),this.hostAttr=function(s){return"_nghost-%COMP%".replace(ti,s)}(c+"-"+o.id)}applyToHost(r){super.setAttribute(r,this.hostAttr,"")}createElement(r,i){const o=super.createElement(r,i);return super.setAttribute(o,this.contentAttr,""),o}}class mh extends gi{constructor(r,i,o,c){super(r),this.sharedStylesHost=i,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=Gn(c.id,c.styles,[]);for(let m=0;m<d.length;m++){const v=document.createElement("style");v.textContent=d[m],this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(r,i){return super.appendChild(this.nodeOrShadowRoot(r),i)}insertBefore(r,i,o){return super.insertBefore(this.nodeOrShadowRoot(r),i,o)}removeChild(r,i){return super.removeChild(this.nodeOrShadowRoot(r),i)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}}let _h=(()=>{class s extends Gt{constructor(i){super(i)}supports(i){return!0}addEventListener(i,o,c){return i.addEventListener(o,c,!1),()=>this.removeEventListener(i,o,c)}removeEventListener(i,o,c){return i.removeEventListener(o,c)}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(oe))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();const Zl=["alt","control","meta","shift"],l0={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Fr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Iu={alt:s=>s.altKey,control:s=>s.ctrlKey,meta:s=>s.metaKey,shift:s=>s.shiftKey};let Jo=(()=>{class s extends Gt{constructor(i){super(i)}supports(i){return null!=s.parseEventName(i)}addEventListener(i,o,c){const d=s.parseEventName(o),m=s.eventCallback(d.fullKey,c,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>G().onAndCancel(i,d.domEventName,m))}static parseEventName(i){const o=i.toLowerCase().split("."),c=o.shift();if(0===o.length||"keydown"!==c&&"keyup"!==c)return null;const d=s._normalizeKey(o.pop());let m="";if(Zl.forEach(S=>{const D=o.indexOf(S);D>-1&&(o.splice(D,1),m+=S+".")}),m+=d,0!=o.length||0===d.length)return null;const v={};return v.domEventName=c,v.fullKey=m,v}static getEventFullKey(i){let o="",c=function(s){let r=s.key;if(null==r){if(r=s.keyIdentifier,null==r)return"Unidentified";r.startsWith("U+")&&(r=String.fromCharCode(parseInt(r.substring(2),16)),3===s.location&&Fr.hasOwnProperty(r)&&(r=Fr[r]))}return l0[r]||r}(i);return c=c.toLowerCase()," "===c?c="space":"."===c&&(c="dot"),Zl.forEach(d=>{d!=c&&Iu[d](i)&&(o+=d+".")}),o+=c,o}static eventCallback(i,o,c){return d=>{s.getEventFullKey(d)===i&&c.runGuarded(()=>o(d))}}static _normalizeKey(i){switch(i){case"esc":return"escape";default:return i}}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(oe))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})(),ja=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=(0,f.Yz7)({factory:function(){return(0,f.LFG)(Ha)},token:s,providedIn:"root"}),s})(),Ha=(()=>{class s extends ja{constructor(i){super(),this._doc=i}sanitize(i,o){if(null==o)return null;switch(i){case f.q3G.NONE:return o;case f.q3G.HTML:return(0,f.qzn)(o,"HTML")?(0,f.z3N)(o):(0,f.EiD)(this._doc,String(o)).toString();case f.q3G.STYLE:return(0,f.qzn)(o,"Style")?(0,f.z3N)(o):o;case f.q3G.SCRIPT:if((0,f.qzn)(o,"Script"))return(0,f.z3N)(o);throw new Error("unsafe value used in a script context");case f.q3G.URL:return(0,f.yhl)(o),(0,f.qzn)(o,"URL")?(0,f.z3N)(o):(0,f.mCW)(String(o));case f.q3G.RESOURCE_URL:if((0,f.qzn)(o,"ResourceURL"))return(0,f.z3N)(o);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${i} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(i){return(0,f.JVY)(i)}bypassSecurityTrustStyle(i){return(0,f.L6k)(i)}bypassSecurityTrustScript(i){return(0,f.eBb)(i)}bypassSecurityTrustUrl(i){return(0,f.LAX)(i)}bypassSecurityTrustResourceUrl(i){return(0,f.pB0)(i)}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(oe))},s.\u0275prov=(0,f.Yz7)({factory:function(){return function(s){return new Ha(s.get(oe))}((0,f.LFG)(f.gxx))},token:s,providedIn:"root"}),s})();const Ql=(0,f.eFA)(f._c5,"browser",[{provide:f.Lbi,useValue:"browser"},{provide:f.g9A,useValue:function(){B.makeCurrent(),nn.init()},multi:!0},{provide:oe,useFactory:function(){return(0,f.RDi)(document),document},deps:[]}]),ng=[[],{provide:f.zSh,useValue:"root"},{provide:f.qLn,useFactory:function(){return new f.qLn},deps:[]},{provide:Zo,useClass:_h,multi:!0,deps:[oe,f.R0b,f.Lbi]},{provide:Zo,useClass:Jo,multi:!0,deps:[oe]},[],{provide:Zs,useClass:Zs,deps:[Ne,mn,f.AFp]},{provide:f.FYo,useExisting:Zs},{provide:hh,useExisting:mn},{provide:mn,useClass:mn,deps:[oe]},{provide:f.dDg,useClass:f.dDg,deps:[f.R0b]},{provide:Ne,useClass:Ne,deps:[Zo,f.R0b]},{provide:class{},useClass:tr,deps:[]},[]];let Ga=(()=>{class s{constructor(i){if(i)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(i){return{ngModule:s,providers:[{provide:f.AFp,useValue:i.appId},{provide:Ke,useExisting:f.AFp},at]}}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(s,12))},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({providers:ng,imports:[es,f.hGG]}),s})();function Mu(){return new ea((0,f.LFG)(oe))}let ea=(()=>{class s{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(oe))},s.\u0275prov=(0,f.Yz7)({factory:Mu,token:s,providedIn:"root"}),s})();"undefined"!=typeof window&&window;var Ot=V(9765),na=V(7971);class Lr extends Ot.xQ{constructor(r){super(),this._value=r}get value(){return this.getValue()}_subscribe(r){const i=super._subscribe(r);return i&&!i.closed&&r.next(this._value),i}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new na.N;return this._value}next(r){super.next(this._value=r)}}var Xe=V(5917);var rr=V(7393);const Oh=(()=>{function s(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return s.prototype=Object.create(Error.prototype),s})();var Vr=V(9193);function Ks(s){return r=>0===s?(0,Vr.c)():r.lift(new Qy(s))}class Qy{constructor(r){if(this.total=r,this.total<0)throw new Oh}call(r,i){return i.subscribe(new Jy(r,this.total))}}class Jy extends rr.L{constructor(r,i){super(r),this.total=i,this.count=0}_next(r){const i=this.total,o=++this.count;o<=i&&(this.destination.next(r),o===i&&(this.destination.complete(),this.unsubscribe()))}}class M0{constructor(r){this.total=r}call(r,i){return i.subscribe(new Br(r,this.total))}}class Br extends rr.L{constructor(r,i){super(r),this.total=i,this.count=0}_next(r){++this.count>this.total&&this.destination.next(r)}}function Is(s,r){return i=>i.lift(new Ig(s,r))}class Ig{constructor(r,i){this.compare=r,this.keySelector=i}call(r,i){return i.subscribe(new kh(r,this.compare,this.keySelector))}}class kh extends rr.L{constructor(r,i,o){super(r),this.keySelector=o,this.hasKey=!1,"function"==typeof i&&(this.compare=i)}compare(r,i){return r===i}_next(r){let i;try{const{keySelector:c}=this;i=c?c(r):r}catch(c){return this.destination.error(c)}let o=!1;if(this.hasKey)try{const{compare:c}=this;o=c(this.key,i)}catch(c){return this.destination.error(c)}else this.hasKey=!0;o||(this.key=i,this.destination.next(r))}}var Oi=V(5345);function Cr(s){return r=>r.lift(new ev(s))}class ev{constructor(r){this.notifier=r}call(r,i){const o=new tv(r),c=(0,Oi.ft)(this.notifier,new Oi.IY(o));return c&&!o.seenValue?(o.add(c),i.subscribe(o)):o}}class tv extends Oi.Ds{constructor(r){super(r),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function An(s){return null!=s&&"false"!=`${s}`}function _i(s,r=0){return function(s){return!isNaN(parseFloat(s))&&!isNaN(Number(s))}(s)?Number(s):r}function Bu(s){return Array.isArray(s)?s:[s]}function zn(s){return null==s?"":"string"==typeof s?s:`${s}px`}function Xa(s){return s instanceof f.SBq?s.nativeElement:s}let oa;try{oa="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(s){oa=!1}let So,Ph,Ni,Ag,cn=(()=>{class s{constructor(i){this._platformId=i,this.isBrowser=this._platformId?br(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!oa)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(f.Lbi))},s.\u0275prov=f.Yz7({factory:function(){return new s(f.LFG(f.Lbi))},token:s,providedIn:"root"}),s})(),Ur=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({}),s})();function Dg(s){return function(){if(null==So&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>So=!0}))}finally{So=So||!1}return So}()?s:!!s.capture}function Uu(){if(null==Ni){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ni=!1,Ni;if("scrollBehavior"in document.documentElement.style)Ni=!0;else{const s=Element.prototype.scrollTo;Ni=!!s&&!/\{\s*\[native code\]\s*\}/.test(s.toString())}}return Ni}function aa(){if("object"!=typeof document||!document)return 0;if(null==Ph){const s=document.createElement("div"),r=s.style;s.dir="rtl",r.width="1px",r.overflow="auto",r.visibility="hidden",r.pointerEvents="none",r.position="absolute";const i=document.createElement("div"),o=i.style;o.width="2px",o.height="1px",s.appendChild(i),document.body.appendChild(s),Ph=0,0===s.scrollLeft&&(s.scrollLeft=1,Ph=0===s.scrollLeft?1:2),s.parentNode.removeChild(s)}return Ph}function Fh(s){if(function(){if(null==Ag){const s="undefined"!=typeof document?document.head:null;Ag=!(!s||!s.createShadowRoot&&!s.attachShadow)}return Ag}()){const r=s.getRootNode?s.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&r instanceof ShadowRoot)return r}return null}function el(s){return s.composedPath?s.composedPath()[0]:s.target}var qn=V(7574),la=V(3637);class mc{constructor(r,i){this.dueTime=r,this.scheduler=i}call(r,i){return i.subscribe(new Mg(r,this.dueTime,this.scheduler))}}class Mg extends rr.L{constructor(r,i,o){super(r),this.dueTime=i,this.scheduler=o,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(r){this.clearDebounce(),this.lastValue=r,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Vh,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:r}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(r)}}clearDebounce(){const r=this.debouncedSubscription;null!==r&&(this.remove(r),r.unsubscribe(),this.debouncedSubscription=null)}}function Vh(s){s.debouncedNext()}let Og=(()=>{class s{constructor(i){this._platform=i}isDisabled(i){return i.hasAttribute("disabled")}isVisible(i){return function(s){return!!(s.offsetWidth||s.offsetHeight||"function"==typeof s.getClientRects&&s.getClientRects().length)}(i)&&"visible"===getComputedStyle(i).visibility}isTabbable(i){if(!this._platform.isBrowser)return!1;const o=function(s){try{return s.frameElement}catch(r){return null}}(function(s){return s.ownerDocument&&s.ownerDocument.defaultView||window}(i));if(o&&(-1===$h(o)||!this.isVisible(o)))return!1;let c=i.nodeName.toLowerCase(),d=$h(i);return i.hasAttribute("contenteditable")?-1!==d:!("iframe"===c||"object"===c||this._platform.WEBKIT&&this._platform.IOS&&!function(s){let r=s.nodeName.toLowerCase(),i="input"===r&&s.type;return"text"===i||"password"===i||"select"===r||"textarea"===r}(i))&&("audio"===c?!!i.hasAttribute("controls")&&-1!==d:"video"===c?-1!==d&&(null!==d||this._platform.FIREFOX||i.hasAttribute("controls")):i.tabIndex>=0)}isFocusable(i,o){return function(s){return!function(s){return function(s){return"input"==s.nodeName.toLowerCase()}(s)&&"hidden"==s.type}(s)&&(function(s){let r=s.nodeName.toLowerCase();return"input"===r||"select"===r||"button"===r||"textarea"===r}(s)||function(s){return function(s){return"a"==s.nodeName.toLowerCase()}(s)&&s.hasAttribute("href")}(s)||s.hasAttribute("contenteditable")||rl(s))}(i)&&!this.isDisabled(i)&&((null==o?void 0:o.ignoreVisibility)||this.isVisible(i))}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(cn))},s.\u0275prov=f.Yz7({factory:function(){return new s(f.LFG(cn))},token:s,providedIn:"root"}),s})();function rl(s){if(!s.hasAttribute("tabindex")||void 0===s.tabIndex)return!1;let r=s.getAttribute("tabindex");return"-32768"!=r&&!(!r||isNaN(parseInt(r,10)))}function $h(s){if(!rl(s))return null;const r=parseInt(s.getAttribute("tabindex")||"",10);return isNaN(r)?-1:r}class uv{constructor(r,i,o,c,d=!1){this._element=r,this._checker=i,this._ngZone=o,this._document=c,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,d||this.attachAnchors()}get enabled(){return this._enabled}set enabled(r){this._enabled=r,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(r,this._startAnchor),this._toggleAnchorTabIndex(r,this._endAnchor))}destroy(){const r=this._startAnchor,i=this._endAnchor;r&&(r.removeEventListener("focus",this.startAnchorListener),r.parentNode&&r.parentNode.removeChild(r)),i&&(i.removeEventListener("focus",this.endAnchorListener),i.parentNode&&i.parentNode.removeChild(i)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(r){return new Promise(i=>{this._executeOnStable(()=>i(this.focusInitialElement(r)))})}focusFirstTabbableElementWhenReady(r){return new Promise(i=>{this._executeOnStable(()=>i(this.focusFirstTabbableElement(r)))})}focusLastTabbableElementWhenReady(r){return new Promise(i=>{this._executeOnStable(()=>i(this.focusLastTabbableElement(r)))})}_getRegionBoundary(r){let i=this._element.querySelectorAll(`[cdk-focus-region-${r}], [cdkFocusRegion${r}], [cdk-focus-${r}]`);for(let o=0;o<i.length;o++)i[o].hasAttribute(`cdk-focus-${r}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${r}', use 'cdkFocusRegion${r}' instead. The deprecated attribute will be removed in 8.0.0.`,i[o]):i[o].hasAttribute(`cdk-focus-region-${r}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${r}', use 'cdkFocusRegion${r}' instead. The deprecated attribute will be removed in 8.0.0.`,i[o]);return"start"==r?i.length?i[0]:this._getFirstTabbableElement(this._element):i.length?i[i.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(r){const i=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(i){if(i.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",i),!this._checker.isFocusable(i)){const o=this._getFirstTabbableElement(i);return null==o||o.focus(r),!!o}return i.focus(r),!0}return this.focusFirstTabbableElement(r)}focusFirstTabbableElement(r){const i=this._getRegionBoundary("start");return i&&i.focus(r),!!i}focusLastTabbableElement(r){const i=this._getRegionBoundary("end");return i&&i.focus(r),!!i}hasAttached(){return this._hasAttached}_getFirstTabbableElement(r){if(this._checker.isFocusable(r)&&this._checker.isTabbable(r))return r;let i=r.children||r.childNodes;for(let o=0;o<i.length;o++){let c=i[o].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(i[o]):null;if(c)return c}return null}_getLastTabbableElement(r){if(this._checker.isFocusable(r)&&this._checker.isTabbable(r))return r;let i=r.children||r.childNodes;for(let o=i.length-1;o>=0;o--){let c=i[o].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(i[o]):null;if(c)return c}return null}_createAnchor(){const r=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,r),r.classList.add("cdk-visually-hidden"),r.classList.add("cdk-focus-trap-anchor"),r.setAttribute("aria-hidden","true"),r}_toggleAnchorTabIndex(r,i){r?i.setAttribute("tabindex","0"):i.removeAttribute("tabindex")}toggleAnchors(r){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(r,this._startAnchor),this._toggleAnchorTabIndex(r,this._endAnchor))}_executeOnStable(r){this._ngZone.isStable?r():this._ngZone.onStable.pipe(Ks(1)).subscribe(r)}}let dv=(()=>{class s{constructor(i,o,c){this._checker=i,this._ngZone=o,this._document=c}create(i,o=!1){return new uv(i,this._checker,this._ngZone,this._document,o)}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(Og),f.LFG(f.R0b),f.LFG(oe))},s.\u0275prov=f.Yz7({factory:function(){return new s(f.LFG(Og),f.LFG(f.R0b),f.LFG(oe))},token:s,providedIn:"root"}),s})();function nt(s){return 0===s.offsetX&&0===s.offsetY}function pt(s){const r=s.touches&&s.touches[0]||s.changedTouches&&s.changedTouches[0];return!(!r||-1!==r.identifier||null!=r.radiusX&&1!==r.radiusX||null!=r.radiusY&&1!==r.radiusY)}"undefined"!=typeof Element&&Element;const vt=new f.OlP("cdk-input-modality-detector-options"),Jn={ignoreKeys:[18,17,224,91,16]},Ts=Dg({passive:!0,capture:!0});let Fg=(()=>{class s{constructor(i,o,c,d){this._platform=i,this._mostRecentTarget=null,this._modality=new Lr(null),this._lastTouchMs=0,this._onKeydown=m=>{var v,S;(null===(S=null===(v=this._options)||void 0===v?void 0:v.ignoreKeys)||void 0===S?void 0:S.some(D=>D===m.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=el(m))},this._onMousedown=m=>{Date.now()-this._lastTouchMs<650||(this._modality.next(nt(m)?"keyboard":"mouse"),this._mostRecentTarget=el(m))},this._onTouchstart=m=>{pt(m)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=el(m))},this._options=Object.assign(Object.assign({},Jn),d),this.modalityDetected=this._modality.pipe(r=>r.lift(new M0(1))),this.modalityChanged=this.modalityDetected.pipe(Is()),i.isBrowser&&o.runOutsideAngular(()=>{c.addEventListener("keydown",this._onKeydown,Ts),c.addEventListener("mousedown",this._onMousedown,Ts),c.addEventListener("touchstart",this._onTouchstart,Ts)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){!this._platform.isBrowser||(document.removeEventListener("keydown",this._onKeydown,Ts),document.removeEventListener("mousedown",this._onMousedown,Ts),document.removeEventListener("touchstart",this._onTouchstart,Ts))}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(cn),f.LFG(f.R0b),f.LFG(oe),f.LFG(vt,8))},s.\u0275prov=f.Yz7({factory:function(){return new s(f.LFG(cn),f.LFG(f.R0b),f.LFG(oe),f.LFG(vt,8))},token:s,providedIn:"root"}),s})();const Li=new f.OlP("cdk-focus-monitor-default-options"),bc=Dg({passive:!0,capture:!0});let $u=(()=>{class s{constructor(i,o,c,d,m){this._ngZone=i,this._platform=o,this._inputModalityDetector=c,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ot.xQ,this._rootNodeFocusAndBlurListener=v=>{const S=el(v),D="focus"===v.type?this._onFocus:this._onBlur;for(let x=S;x;x=x.parentElement)D.call(this,v,x)},this._document=d,this._detectionMode=(null==m?void 0:m.detectionMode)||0}monitor(i,o=!1){const c=Xa(i);if(!this._platform.isBrowser||1!==c.nodeType)return(0,Xe.of)(null);const d=Fh(c)||this._getDocument(),m=this._elementInfo.get(c);if(m)return o&&(m.checkChildren=!0),m.subject;const v={checkChildren:o,subject:new Ot.xQ,rootNode:d};return this._elementInfo.set(c,v),this._registerGlobalListeners(v),v.subject}stopMonitoring(i){const o=Xa(i),c=this._elementInfo.get(o);c&&(c.subject.complete(),this._setClasses(o),this._elementInfo.delete(o),this._removeGlobalListeners(c))}focusVia(i,o,c){const d=Xa(i);d===this._getDocument().activeElement?this._getClosestElementsInfo(d).forEach(([v,S])=>this._originChanged(v,o,S)):(this._setOrigin(o),"function"==typeof d.focus&&d.focus(c))}ngOnDestroy(){this._elementInfo.forEach((i,o)=>this.stopMonitoring(o))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(i,o,c){c?i.classList.add(o):i.classList.remove(o)}_getFocusOrigin(i){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(i)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(i){return 1===this._detectionMode||!!(null==i?void 0:i.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(i,o){this._toggleClass(i,"cdk-focused",!!o),this._toggleClass(i,"cdk-touch-focused","touch"===o),this._toggleClass(i,"cdk-keyboard-focused","keyboard"===o),this._toggleClass(i,"cdk-mouse-focused","mouse"===o),this._toggleClass(i,"cdk-program-focused","program"===o)}_setOrigin(i,o=!1){this._ngZone.runOutsideAngular(()=>{this._origin=i,this._originFromTouchInteraction="touch"===i&&o,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(i,o){const c=this._elementInfo.get(o),d=el(i);!c||!c.checkChildren&&o!==d||this._originChanged(o,this._getFocusOrigin(d),c)}_onBlur(i,o){const c=this._elementInfo.get(o);!c||c.checkChildren&&i.relatedTarget instanceof Node&&o.contains(i.relatedTarget)||(this._setClasses(o),this._emitOrigin(c.subject,null))}_emitOrigin(i,o){this._ngZone.run(()=>i.next(o))}_registerGlobalListeners(i){if(!this._platform.isBrowser)return;const o=i.rootNode,c=this._rootNodeFocusListenerCount.get(o)||0;c||this._ngZone.runOutsideAngular(()=>{o.addEventListener("focus",this._rootNodeFocusAndBlurListener,bc),o.addEventListener("blur",this._rootNodeFocusAndBlurListener,bc)}),this._rootNodeFocusListenerCount.set(o,c+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Cr(this._stopInputModalityDetector)).subscribe(d=>{this._setOrigin(d,!0)}))}_removeGlobalListeners(i){const o=i.rootNode;if(this._rootNodeFocusListenerCount.has(o)){const c=this._rootNodeFocusListenerCount.get(o);c>1?this._rootNodeFocusListenerCount.set(o,c-1):(o.removeEventListener("focus",this._rootNodeFocusAndBlurListener,bc),o.removeEventListener("blur",this._rootNodeFocusAndBlurListener,bc),this._rootNodeFocusListenerCount.delete(o))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(i,o,c){this._setClasses(i,o),this._emitOrigin(c.subject,o),this._lastFocusOrigin=o}_getClosestElementsInfo(i){const o=[];return this._elementInfo.forEach((c,d)=>{(d===i||c.checkChildren&&d.contains(i))&&o.push([d,c])}),o}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(f.R0b),f.LFG(cn),f.LFG(Fg),f.LFG(oe,8),f.LFG(Li,8))},s.\u0275prov=f.Yz7({factory:function(){return new s(f.LFG(f.R0b),f.LFG(cn),f.LFG(Fg),f.LFG(oe,8),f.LFG(Li,8))},token:s,providedIn:"root"}),s})();const Zh="cdk-high-contrast-black-on-white",is="cdk-high-contrast-white-on-black",Yh="cdk-high-contrast-active";let Vg=(()=>{class s{constructor(i,o){this._platform=i,this._document=o}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const i=this._document.createElement("div");i.style.backgroundColor="rgb(1,2,3)",i.style.position="absolute",this._document.body.appendChild(i);const o=this._document.defaultView||window,c=o&&o.getComputedStyle?o.getComputedStyle(i):null,d=(c&&c.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(i),d){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const i=this._document.body.classList;i.remove(Yh),i.remove(Zh),i.remove(is),this._hasCheckedHighContrastMode=!0;const o=this.getHighContrastMode();1===o?(i.add(Yh),i.add(Zh)):2===o&&(i.add(Yh),i.add(is))}}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(cn),f.LFG(oe))},s.\u0275prov=f.Yz7({factory:function(){return new s(f.LFG(cn),f.LFG(oe))},token:s,providedIn:"root"}),s})();const pv=new f.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,f.f3M)(oe)}});let sl=(()=>{class s{constructor(i){if(this.value="ltr",this.change=new f.vpe,i){const c=i.documentElement?i.documentElement.dir:null,d=(i.body?i.body.dir:null)||c;this.value="ltr"===d||"rtl"===d?d:"ltr"}}ngOnDestroy(){this.change.complete()}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(pv,8))},s.\u0275prov=f.Yz7({factory:function(){return new s(f.LFG(pv,8))},token:s,providedIn:"root"}),s})(),Ec=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({}),s})();const Bg=new f.GfV("12.2.3");var Qh=V(3282);function ol(...s){return(0,Qh.J)(1)((0,Xe.of)(...s))}var zu=V(4869);function Js(...s){const r=s[s.length-1];return(0,zu.K)(r)?(s.pop(),i=>ol(s,i,r)):i=>ol(s,i)}class k0{}const ca="*";function N0(s,r){return{type:7,name:s,definitions:r,options:{}}}function Ug(s,r=null){return{type:4,styles:r,timings:s}}function P0(s,r=null){return{type:2,steps:s,options:r}}function wc(s){return{type:6,styles:s,offset:null}}function Jh(s,r,i){return{type:0,name:s,styles:r,options:i}}function Xh(s,r,i=null){return{type:1,expr:s,animation:r,options:i}}function al(s){Promise.resolve(null).then(s)}class Cc{constructor(r=0,i=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=r+i}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}onStart(r){this._onStartFns.push(r)}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){al(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(r=>r()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(r){this._position=this.totalTime?r*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(r){const i="start"==r?this._onStartFns:this._onDoneFns;i.forEach(o=>o()),i.length=0}}class mv{constructor(r){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=r;let i=0,o=0,c=0;const d=this.players.length;0==d?al(()=>this._onFinish()):this.players.forEach(m=>{m.onDone(()=>{++i==d&&this._onFinish()}),m.onDestroy(()=>{++o==d&&this._onDestroy()}),m.onStart(()=>{++c==d&&this._onStart()})}),this.totalTime=this.players.reduce((m,v)=>Math.max(m,v.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this.players.forEach(r=>r.init())}onStart(r){this._onStartFns.push(r)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(r=>r()),this._onStartFns=[])}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(r=>r.play())}pause(){this.players.forEach(r=>r.pause())}restart(){this.players.forEach(r=>r.restart())}finish(){this._onFinish(),this.players.forEach(r=>r.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(r=>r.destroy()),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}reset(){this.players.forEach(r=>r.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(r){const i=r*this.totalTime;this.players.forEach(o=>{const c=o.totalTime?Math.min(1,i/o.totalTime):1;o.setPosition(c)})}getPosition(){const r=this.players.reduce((i,o)=>null===i||o.totalTime>i.totalTime?o:i,null);return null!=r?r.getPosition():0}beforeDestroy(){this.players.forEach(r=>{r.beforeDestroy&&r.beforeDestroy()})}triggerCallback(r){const i="start"==r?this._onStartFns:this._onDoneFns;i.forEach(o=>o()),i.length=0}}function ef(){return"undefined"!=typeof window&&void 0!==window.document}function yv(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function ua(s){switch(s.length){case 0:return new Cc;case 1:return s[0];default:return new mv(s)}}function vv(s,r,i,o,c={},d={}){const m=[],v=[];let S=-1,D=null;if(o.forEach(x=>{const k=x.offset,j=k==S,H=j&&D||{};Object.keys(x).forEach(X=>{let ye=X,Re=x[X];if("offset"!==X)switch(ye=r.normalizePropertyName(ye,m),Re){case"!":Re=c[X];break;case ca:Re=d[X];break;default:Re=r.normalizeStyleValue(X,ye,Re,m)}H[ye]=Re}),j||v.push(H),D=H,S=k}),m.length){const x="\n - ";throw new Error(`Unable to animate due to the following errors:${x}${m.join(x)}`)}return v}function jg(s,r,i,o){switch(r){case"start":s.onStart(()=>o(i&&tf(i,"start",s)));break;case"done":s.onDone(()=>o(i&&tf(i,"done",s)));break;case"destroy":s.onDestroy(()=>o(i&&tf(i,"destroy",s)))}}function tf(s,r,i){const o=i.totalTime,d=Hg(s.element,s.triggerName,s.fromState,s.toState,r||s.phaseName,null==o?s.totalTime:o,!!i.disabled),m=s._data;return null!=m&&(d._data=m),d}function Hg(s,r,i,o,c="",d=0,m){return{element:s,triggerName:r,fromState:i,toState:o,phaseName:c,totalTime:d,disabled:!!m}}function ii(s,r,i){let o;return s instanceof Map?(o=s.get(r),o||s.set(r,o=i)):(o=s[r],o||(o=s[r]=i)),o}function nf(s){const r=s.indexOf(":");return[s.substring(1,r),s.substr(r+1)]}let Gg=(s,r)=>!1,$g=(s,r)=>!1,qu=(s,r,i)=>[];const bv=yv();(bv||"undefined"!=typeof Element)&&(Gg=ef()?(s,r)=>{for(;r&&r!==document.documentElement;){if(r===s)return!0;r=r.parentNode||r.host}return!1}:(s,r)=>s.contains(r),$g=(()=>{if(bv||Element.prototype.matches)return(s,r)=>s.matches(r);{const s=Element.prototype,r=s.matchesSelector||s.mozMatchesSelector||s.msMatchesSelector||s.oMatchesSelector||s.webkitMatchesSelector;return r?(i,o)=>r.apply(i,[o]):$g}})(),qu=(s,r,i)=>{let o=[];if(i){const c=s.querySelectorAll(r);for(let d=0;d<c.length;d++)o.push(c[d])}else{const c=s.querySelector(r);c&&o.push(c)}return o});let Sc=null,Ev=!1;function rf(s){Sc||(Sc=("undefined"!=typeof document?document.body:null)||{},Ev=!!Sc.style&&"WebkitAppearance"in Sc.style);let r=!0;return Sc.style&&!function(s){return"ebkit"==s.substring(1,6)}(s)&&(r=s in Sc.style,!r&&Ev&&(r="Webkit"+s.charAt(0).toUpperCase()+s.substr(1)in Sc.style)),r}const j0=$g,zg=Gg,wv=qu;function Cv(s){const r={};return Object.keys(s).forEach(i=>{const o=i.replace(/([a-z])([A-Z])/g,"$1-$2");r[o]=s[i]}),r}let H0=(()=>{class s{validateStyleProperty(i){return rf(i)}matchesElement(i,o){return j0(i,o)}containsElement(i,o){return zg(i,o)}query(i,o,c){return wv(i,o,c)}computeStyle(i,o,c){return c||""}animate(i,o,c,d,m,v=[],S){return new Cc(c,d)}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();class qg{}qg.NOOP=new H0;const Sv="ng-enter",Wg="ng-leave",sf="ng-trigger",Zg=".ng-trigger",z0="ng-animating",Iv=".ng-animating";function Ct(s){if("number"==typeof s)return s;const r=s.match(/^(-?[\.\d]+)(m?s)/);return!r||r.length<2?0:Yg(parseFloat(r[1]),r[2])}function Yg(s,r){switch(r){case"s":return 1e3*s;default:return s}}function of(s,r,i){return s.hasOwnProperty("duration")?s:function(s,r,i){let c,d=0,m="";if("string"==typeof s){const v=s.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===v)return r.push(`The provided timing value "${s}" is invalid.`),{duration:0,delay:0,easing:""};c=Yg(parseFloat(v[1]),v[2]);const S=v[3];null!=S&&(d=Yg(parseFloat(S),v[4]));const D=v[5];D&&(m=D)}else c=s;if(!i){let v=!1,S=r.length;c<0&&(r.push("Duration values below 0 are not allowed for this animation step."),v=!0),d<0&&(r.push("Delay values below 0 are not allowed for this animation step."),v=!0),v&&r.splice(S,0,`The provided timing value "${s}" is invalid.`)}return{duration:c,delay:d,easing:m}}(s,r,i)}function si(s,r={}){return Object.keys(s).forEach(i=>{r[i]=s[i]}),r}function ll(s,r,i={}){if(r)for(let o in s)i[o]=s[o];else si(s,i);return i}function Qg(s,r,i){return i?r+":"+i+";":""}function To(s){let r="";for(let i=0;i<s.style.length;i++){const o=s.style.item(i);r+=Qg(0,o,s.style.getPropertyValue(o))}for(const i in s.style)s.style.hasOwnProperty(i)&&!i.startsWith("_")&&(r+=Qg(0,P1(i),s.style[i]));s.setAttribute("style",r)}function Ds(s,r,i){s.style&&(Object.keys(r).forEach(o=>{const c=af(o);i&&!i.hasOwnProperty(o)&&(i[o]=s.style[c]),s.style[c]=r[o]}),yv()&&To(s))}function cl(s,r){s.style&&(Object.keys(r).forEach(i=>{const o=af(i);s.style[o]=""}),yv()&&To(s))}function Ic(s){return Array.isArray(s)?1==s.length?s[0]:P0(s):s}const Jg=new RegExp("{{\\s*(.+?)\\s*}}","g");function kA(s){let r=[];if("string"==typeof s){let i;for(;i=Jg.exec(s);)r.push(i[1]);Jg.lastIndex=0}return r}function As(s,r,i){const o=s.toString(),c=o.replace(Jg,(d,m)=>{let v=r[m];return r.hasOwnProperty(m)||(i.push(`Please provide a value for the animation param ${m}`),v=""),v.toString()});return c==o?s:c}function Tc(s){const r=[];let i=s.next();for(;!i.done;)r.push(i.value),i=s.next();return r}const Xg=/-+([a-z0-9])/g;function af(s){return s.replace(Xg,(...r)=>r[1].toUpperCase())}function P1(s){return s.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function q0(s,r){return 0===s||0===r}function Dv(s,r,i){const o=Object.keys(i);if(o.length&&r.length){let d=r[0],m=[];if(o.forEach(v=>{d.hasOwnProperty(v)||m.push(v),d[v]=i[v]}),m.length)for(var c=1;c<r.length;c++){let v=r[c];m.forEach(function(S){v[S]=Av(s,S)})}}return r}function Ms(s,r,i){switch(r.type){case 7:return s.visitTrigger(r,i);case 0:return s.visitState(r,i);case 1:return s.visitTransition(r,i);case 2:return s.visitSequence(r,i);case 3:return s.visitGroup(r,i);case 4:return s.visitAnimate(r,i);case 5:return s.visitKeyframes(r,i);case 6:return s.visitStyle(r,i);case 8:return s.visitReference(r,i);case 9:return s.visitAnimateChild(r,i);case 10:return s.visitAnimateRef(r,i);case 11:return s.visitQuery(r,i);case 12:return s.visitStagger(r,i);default:throw new Error(`Unable to resolve animation metadata node #${r.type}`)}}function Av(s,r){return window.getComputedStyle(s)[r]}function W0(s,r){const i=[];return"string"==typeof s?s.split(/\s*,\s*/).forEach(o=>function(s,r,i){if(":"==s[0]){const S=function(s,r){switch(s){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(i,o)=>parseFloat(o)>parseFloat(i);case":decrement":return(i,o)=>parseFloat(o)<parseFloat(i);default:return r.push(`The transition alias value "${s}" is not supported`),"* => *"}}(s,i);if("function"==typeof S)return void r.push(S);s=S}const o=s.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==o||o.length<4)return i.push(`The provided transition expression "${s}" is not supported`),r;const c=o[1],d=o[2],m=o[3];r.push(PA(c,m));"<"==d[0]&&!("*"==c&&"*"==m)&&r.push(PA(m,c))}(o,i,r)):i.push(s),i}const Wu=new Set(["true","1"]),xv=new Set(["false","0"]);function PA(s,r){const i=Wu.has(s)||xv.has(s),o=Wu.has(r)||xv.has(r);return(c,d)=>{let m="*"==s||s==c,v="*"==r||r==d;return!m&&i&&"boolean"==typeof c&&(m=c?Wu.has(s):xv.has(s)),!v&&o&&"boolean"==typeof d&&(v=d?Wu.has(r):xv.has(r)),m&&v}}const F1=new RegExp("s*:selfs*,?","g");function Y0(s,r,i){return new L1(s).build(r,i)}class L1{constructor(r){this._driver=r}build(r,i){const o=new U1(i);return this._resetContextStyleTimingState(o),Ms(this,Ic(r),o)}_resetContextStyleTimingState(r){r.currentQuerySelector="",r.collectedStyles={},r.collectedStyles[""]={},r.currentTime=0}visitTrigger(r,i){let o=i.queryCount=0,c=i.depCount=0;const d=[],m=[];return"@"==r.name.charAt(0)&&i.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),r.definitions.forEach(v=>{if(this._resetContextStyleTimingState(i),0==v.type){const S=v,D=S.name;D.toString().split(/\s*,\s*/).forEach(x=>{S.name=x,d.push(this.visitState(S,i))}),S.name=D}else if(1==v.type){const S=this.visitTransition(v,i);o+=S.queryCount,c+=S.depCount,m.push(S)}else i.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:r.name,states:d,transitions:m,queryCount:o,depCount:c,options:null}}visitState(r,i){const o=this.visitStyle(r.styles,i),c=r.options&&r.options.params||null;if(o.containsDynamicStyles){const d=new Set,m=c||{};if(o.styles.forEach(v=>{if(eo(v)){const S=v;Object.keys(S).forEach(D=>{kA(S[D]).forEach(x=>{m.hasOwnProperty(x)||d.add(x)})})}}),d.size){const v=Tc(d.values());i.errors.push(`state("${r.name}", ...) must define default values for all the following style substitutions: ${v.join(", ")}`)}}return{type:0,name:r.name,style:o,options:c?{params:c}:null}}visitTransition(r,i){i.queryCount=0,i.depCount=0;const o=Ms(this,Ic(r.animation),i);return{type:1,matchers:W0(r.expr,i.errors),animation:o,queryCount:i.queryCount,depCount:i.depCount,options:Dc(r.options)}}visitSequence(r,i){return{type:2,steps:r.steps.map(o=>Ms(this,o,i)),options:Dc(r.options)}}visitGroup(r,i){const o=i.currentTime;let c=0;const d=r.steps.map(m=>{i.currentTime=o;const v=Ms(this,m,i);return c=Math.max(c,i.currentTime),v});return i.currentTime=c,{type:3,steps:d,options:Dc(r.options)}}visitAnimate(r,i){const o=function(s,r){let i=null;if(s.hasOwnProperty("duration"))i=s;else if("number"==typeof s)return em(of(s,r).duration,0,"");const o=s;if(o.split(/\s+/).some(d=>"{"==d.charAt(0)&&"{"==d.charAt(1))){const d=em(0,0,"");return d.dynamic=!0,d.strValue=o,d}return i=i||of(o,r),em(i.duration,i.delay,i.easing)}(r.timings,i.errors);i.currentAnimateTimings=o;let c,d=r.styles?r.styles:wc({});if(5==d.type)c=this.visitKeyframes(d,i);else{let m=r.styles,v=!1;if(!m){v=!0;const D={};o.easing&&(D.easing=o.easing),m=wc(D)}i.currentTime+=o.duration+o.delay;const S=this.visitStyle(m,i);S.isEmptyStep=v,c=S}return i.currentAnimateTimings=null,{type:4,timings:o,style:c,options:null}}visitStyle(r,i){const o=this._makeStyleAst(r,i);return this._validateStyleAst(o,i),o}_makeStyleAst(r,i){const o=[];Array.isArray(r.styles)?r.styles.forEach(m=>{"string"==typeof m?m==ca?o.push(m):i.errors.push(`The provided style string value ${m} is not allowed.`):o.push(m)}):o.push(r.styles);let c=!1,d=null;return o.forEach(m=>{if(eo(m)){const v=m,S=v.easing;if(S&&(d=S,delete v.easing),!c)for(let D in v)if(v[D].toString().indexOf("{{")>=0){c=!0;break}}}),{type:6,styles:o,easing:d,offset:r.offset,containsDynamicStyles:c,options:null}}_validateStyleAst(r,i){const o=i.currentAnimateTimings;let c=i.currentTime,d=i.currentTime;o&&d>0&&(d-=o.duration+o.delay),r.styles.forEach(m=>{"string"!=typeof m&&Object.keys(m).forEach(v=>{if(!this._driver.validateStyleProperty(v))return void i.errors.push(`The provided animation property "${v}" is not a supported CSS property for animations`);const S=i.collectedStyles[i.currentQuerySelector],D=S[v];let x=!0;D&&(d!=c&&d>=D.startTime&&c<=D.endTime&&(i.errors.push(`The CSS property "${v}" that exists between the times of "${D.startTime}ms" and "${D.endTime}ms" is also being animated in a parallel animation between the times of "${d}ms" and "${c}ms"`),x=!1),d=D.startTime),x&&(S[v]={startTime:d,endTime:c}),i.options&&function(s,r,i){const o=r.params||{},c=kA(s);c.length&&c.forEach(d=>{o.hasOwnProperty(d)||i.push(`Unable to resolve the local animation param ${d} in the given list of values`)})}(m[v],i.options,i.errors)})})}visitKeyframes(r,i){const o={type:5,styles:[],options:null};if(!i.currentAnimateTimings)return i.errors.push("keyframes() must be placed inside of a call to animate()"),o;let d=0;const m=[];let v=!1,S=!1,D=0;const x=r.steps.map(Ge=>{const Ye=this._makeStyleAst(Ge,i);let Qe=null!=Ye.offset?Ye.offset:function(s){if("string"==typeof s)return null;let r=null;if(Array.isArray(s))s.forEach(i=>{if(eo(i)&&i.hasOwnProperty("offset")){const o=i;r=parseFloat(o.offset),delete o.offset}});else if(eo(s)&&s.hasOwnProperty("offset")){const i=s;r=parseFloat(i.offset),delete i.offset}return r}(Ye.styles),mt=0;return null!=Qe&&(d++,mt=Ye.offset=Qe),S=S||mt<0||mt>1,v=v||mt<D,D=mt,m.push(mt),Ye});S&&i.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),v&&i.errors.push("Please ensure that all keyframe offsets are in order");const k=r.steps.length;let j=0;d>0&&d<k?i.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==d&&(j=1/(k-1));const H=k-1,X=i.currentTime,ye=i.currentAnimateTimings,Re=ye.duration;return x.forEach((Ge,Ye)=>{const Qe=j>0?Ye==H?1:j*Ye:m[Ye],mt=Qe*Re;i.currentTime=X+ye.delay+mt,ye.duration=mt,this._validateStyleAst(Ge,i),Ge.offset=Qe,o.styles.push(Ge)}),o}visitReference(r,i){return{type:8,animation:Ms(this,Ic(r.animation),i),options:Dc(r.options)}}visitAnimateChild(r,i){return i.depCount++,{type:9,options:Dc(r.options)}}visitAnimateRef(r,i){return{type:10,animation:this.visitReference(r.animation,i),options:Dc(r.options)}}visitQuery(r,i){const o=i.currentQuerySelector,c=r.options||{};i.queryCount++,i.currentQuery=r;const[d,m]=function(s){const r=!!s.split(/\s*,\s*/).find(i=>":self"==i);return r&&(s=s.replace(F1,"")),[s=s.replace(/@\*/g,Zg).replace(/@\w+/g,i=>Zg+"-"+i.substr(1)).replace(/:animating/g,Iv),r]}(r.selector);i.currentQuerySelector=o.length?o+" "+d:d,ii(i.collectedStyles,i.currentQuerySelector,{});const v=Ms(this,Ic(r.animation),i);return i.currentQuery=null,i.currentQuerySelector=o,{type:11,selector:d,limit:c.limit||0,optional:!!c.optional,includeSelf:m,animation:v,originalSelector:r.selector,options:Dc(r.options)}}visitStagger(r,i){i.currentQuery||i.errors.push("stagger() can only be used inside of query()");const o="full"===r.timings?{duration:0,delay:0,easing:"full"}:of(r.timings,i.errors,!0);return{type:12,animation:Ms(this,Ic(r.animation),i),timings:o,options:null}}}class U1{constructor(r){this.errors=r,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function eo(s){return!Array.isArray(s)&&"object"==typeof s}function Dc(s){return s?(s=si(s)).params&&(s.params=function(s){return s?si(s):null}(s.params)):s={},s}function em(s,r,i){return{duration:s,delay:r,easing:i}}function lf(s,r,i,o,c,d,m=null,v=!1){return{type:1,element:s,keyframes:r,preStyleProps:i,postStyleProps:o,duration:c,delay:d,totalTime:c+d,easing:m,subTimeline:v}}class cf{constructor(){this._map=new Map}consume(r){let i=this._map.get(r);return i?this._map.delete(r):i=[],i}append(r,i){let o=this._map.get(r);o||this._map.set(r,o=[]),o.push(...i)}has(r){return this._map.has(r)}clear(){this._map.clear()}}const ul=new RegExp(":enter","g"),BA=new RegExp(":leave","g");function Q0(s,r,i,o,c,d={},m={},v,S,D=[]){return(new kv).buildKeyframes(s,r,i,o,c,d,m,v,S,D)}class kv{buildKeyframes(r,i,o,c,d,m,v,S,D,x=[]){D=D||new cf;const k=new nm(r,i,D,c,d,x,[]);k.options=S,k.currentTimeline.setStyles([m],null,k.errors,S),Ms(this,o,k);const j=k.timelines.filter(H=>H.containsAnimation());if(j.length&&Object.keys(v).length){const H=j[j.length-1];H.allowOnlyTimelineStyles()||H.setStyles([v],null,k.errors,S)}return j.length?j.map(H=>H.buildKeyframes()):[lf(i,[],[],[],0,0,"",!1)]}visitTrigger(r,i){}visitState(r,i){}visitTransition(r,i){}visitAnimateChild(r,i){const o=i.subInstructions.consume(i.element);if(o){const c=i.createSubContext(r.options),d=i.currentTimeline.currentTime,m=this._visitSubInstructions(o,c,c.options);d!=m&&i.transformIntoNewTimeline(m)}i.previousNode=r}visitAnimateRef(r,i){const o=i.createSubContext(r.options);o.transformIntoNewTimeline(),this.visitReference(r.animation,o),i.transformIntoNewTimeline(o.currentTimeline.currentTime),i.previousNode=r}_visitSubInstructions(r,i,o){let d=i.currentTimeline.currentTime;const m=null!=o.duration?Ct(o.duration):null,v=null!=o.delay?Ct(o.delay):null;return 0!==m&&r.forEach(S=>{const D=i.appendInstructionToTimeline(S,m,v);d=Math.max(d,D.duration+D.delay)}),d}visitReference(r,i){i.updateOptions(r.options,!0),Ms(this,r.animation,i),i.previousNode=r}visitSequence(r,i){const o=i.subContextCount;let c=i;const d=r.options;if(d&&(d.params||d.delay)&&(c=i.createSubContext(d),c.transformIntoNewTimeline(),null!=d.delay)){6==c.previousNode.type&&(c.currentTimeline.snapshotCurrentStyles(),c.previousNode=tm);const m=Ct(d.delay);c.delayNextStep(m)}r.steps.length&&(r.steps.forEach(m=>Ms(this,m,c)),c.currentTimeline.applyStylesToKeyframe(),c.subContextCount>o&&c.transformIntoNewTimeline()),i.previousNode=r}visitGroup(r,i){const o=[];let c=i.currentTimeline.currentTime;const d=r.options&&r.options.delay?Ct(r.options.delay):0;r.steps.forEach(m=>{const v=i.createSubContext(r.options);d&&v.delayNextStep(d),Ms(this,m,v),c=Math.max(c,v.currentTimeline.currentTime),o.push(v.currentTimeline)}),o.forEach(m=>i.currentTimeline.mergeTimelineCollectedStyles(m)),i.transformIntoNewTimeline(c),i.previousNode=r}_visitTiming(r,i){if(r.dynamic){const o=r.strValue;return of(i.params?As(o,i.params,i.errors):o,i.errors)}return{duration:r.duration,delay:r.delay,easing:r.easing}}visitAnimate(r,i){const o=i.currentAnimateTimings=this._visitTiming(r.timings,i),c=i.currentTimeline;o.delay&&(i.incrementTime(o.delay),c.snapshotCurrentStyles());const d=r.style;5==d.type?this.visitKeyframes(d,i):(i.incrementTime(o.duration),this.visitStyle(d,i),c.applyStylesToKeyframe()),i.currentAnimateTimings=null,i.previousNode=r}visitStyle(r,i){const o=i.currentTimeline,c=i.currentAnimateTimings;!c&&o.getCurrentStyleProperties().length&&o.forwardFrame();const d=c&&c.easing||r.easing;r.isEmptyStep?o.applyEmptyStep(d):o.setStyles(r.styles,d,i.errors,i.options),i.previousNode=r}visitKeyframes(r,i){const o=i.currentAnimateTimings,c=i.currentTimeline.duration,d=o.duration,v=i.createSubContext().currentTimeline;v.easing=o.easing,r.styles.forEach(S=>{v.forwardTime((S.offset||0)*d),v.setStyles(S.styles,S.easing,i.errors,i.options),v.applyStylesToKeyframe()}),i.currentTimeline.mergeTimelineCollectedStyles(v),i.transformIntoNewTimeline(c+d),i.previousNode=r}visitQuery(r,i){const o=i.currentTimeline.currentTime,c=r.options||{},d=c.delay?Ct(c.delay):0;d&&(6===i.previousNode.type||0==o&&i.currentTimeline.getCurrentStyleProperties().length)&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=tm);let m=o;const v=i.invokeQuery(r.selector,r.originalSelector,r.limit,r.includeSelf,!!c.optional,i.errors);i.currentQueryTotal=v.length;let S=null;v.forEach((D,x)=>{i.currentQueryIndex=x;const k=i.createSubContext(r.options,D);d&&k.delayNextStep(d),D===i.element&&(S=k.currentTimeline),Ms(this,r.animation,k),k.currentTimeline.applyStylesToKeyframe(),m=Math.max(m,k.currentTimeline.currentTime)}),i.currentQueryIndex=0,i.currentQueryTotal=0,i.transformIntoNewTimeline(m),S&&(i.currentTimeline.mergeTimelineCollectedStyles(S),i.currentTimeline.snapshotCurrentStyles()),i.previousNode=r}visitStagger(r,i){const o=i.parentContext,c=i.currentTimeline,d=r.timings,m=Math.abs(d.duration),v=m*(i.currentQueryTotal-1);let S=m*i.currentQueryIndex;switch(d.duration<0?"reverse":d.easing){case"reverse":S=v-S;break;case"full":S=o.currentStaggerTime}const x=i.currentTimeline;S&&x.delayNextStep(S);const k=x.currentTime;Ms(this,r.animation,i),i.previousNode=r,o.currentStaggerTime=c.currentTime-k+(c.startTime-o.currentTimeline.startTime)}}const tm={};class nm{constructor(r,i,o,c,d,m,v,S){this._driver=r,this.element=i,this.subInstructions=o,this._enterClassName=c,this._leaveClassName=d,this.errors=m,this.timelines=v,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=tm,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=S||new rm(this._driver,i,0),v.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(r,i){if(!r)return;const o=r;let c=this.options;null!=o.duration&&(c.duration=Ct(o.duration)),null!=o.delay&&(c.delay=Ct(o.delay));const d=o.params;if(d){let m=c.params;m||(m=this.options.params={}),Object.keys(d).forEach(v=>{(!i||!m.hasOwnProperty(v))&&(m[v]=As(d[v],m,this.errors))})}}_copyOptions(){const r={};if(this.options){const i=this.options.params;if(i){const o=r.params={};Object.keys(i).forEach(c=>{o[c]=i[c]})}}return r}createSubContext(r=null,i,o){const c=i||this.element,d=new nm(this._driver,c,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(c,o||0));return d.previousNode=this.previousNode,d.currentAnimateTimings=this.currentAnimateTimings,d.options=this._copyOptions(),d.updateOptions(r),d.currentQueryIndex=this.currentQueryIndex,d.currentQueryTotal=this.currentQueryTotal,d.parentContext=this,this.subContextCount++,d}transformIntoNewTimeline(r){return this.previousNode=tm,this.currentTimeline=this.currentTimeline.fork(this.element,r),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(r,i,o){const c={duration:null!=i?i:r.duration,delay:this.currentTimeline.currentTime+(null!=o?o:0)+r.delay,easing:""},d=new UA(this._driver,r.element,r.keyframes,r.preStyleProps,r.postStyleProps,c,r.stretchStartingKeyframe);return this.timelines.push(d),c}incrementTime(r){this.currentTimeline.forwardTime(this.currentTimeline.duration+r)}delayNextStep(r){r>0&&this.currentTimeline.delayNextStep(r)}invokeQuery(r,i,o,c,d,m){let v=[];if(c&&v.push(this.element),r.length>0){r=(r=r.replace(ul,"."+this._enterClassName)).replace(BA,"."+this._leaveClassName);let D=this._driver.query(this.element,r,1!=o);0!==o&&(D=o<0?D.slice(D.length+o,D.length):D.slice(0,o)),v.push(...D)}return!d&&0==v.length&&m.push(`\`query("${i}")\` returned zero elements. (Use \`query("${i}", { optional: true })\` if you wish to allow this.)`),v}}class rm{constructor(r,i,o,c){this._driver=r,this.element=i,this.startTime=o,this._elementTimelineStylesLookup=c,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(i),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(i,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(r){const i=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||i?(this.forwardTime(this.currentTime+r),i&&this.snapshotCurrentStyles()):this.startTime+=r}fork(r,i){return this.applyStylesToKeyframe(),new rm(this._driver,r,i||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(r){this.applyStylesToKeyframe(),this.duration=r,this._loadKeyframe()}_updateStyle(r,i){this._localTimelineStyles[r]=i,this._globalTimelineStyles[r]=i,this._styleSummary[r]={time:this.currentTime,value:i}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(r){r&&(this._previousKeyframe.easing=r),Object.keys(this._globalTimelineStyles).forEach(i=>{this._backFill[i]=this._globalTimelineStyles[i]||ca,this._currentKeyframe[i]=ca}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(r,i,o,c){i&&(this._previousKeyframe.easing=i);const d=c&&c.params||{},m=function(s,r){const i={};let o;return s.forEach(c=>{"*"===c?(o=o||Object.keys(r),o.forEach(d=>{i[d]=ca})):ll(c,!1,i)}),i}(r,this._globalTimelineStyles);Object.keys(m).forEach(v=>{const S=As(m[v],d,o);this._pendingStyles[v]=S,this._localTimelineStyles.hasOwnProperty(v)||(this._backFill[v]=this._globalTimelineStyles.hasOwnProperty(v)?this._globalTimelineStyles[v]:ca),this._updateStyle(v,S)})}applyStylesToKeyframe(){const r=this._pendingStyles,i=Object.keys(r);0!=i.length&&(this._pendingStyles={},i.forEach(o=>{this._currentKeyframe[o]=r[o]}),Object.keys(this._localTimelineStyles).forEach(o=>{this._currentKeyframe.hasOwnProperty(o)||(this._currentKeyframe[o]=this._localTimelineStyles[o])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(r=>{const i=this._localTimelineStyles[r];this._pendingStyles[r]=i,this._updateStyle(r,i)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const r=[];for(let i in this._currentKeyframe)r.push(i);return r}mergeTimelineCollectedStyles(r){Object.keys(r._styleSummary).forEach(i=>{const o=this._styleSummary[i],c=r._styleSummary[i];(!o||c.time>o.time)&&this._updateStyle(i,c.value)})}buildKeyframes(){this.applyStylesToKeyframe();const r=new Set,i=new Set,o=1===this._keyframes.size&&0===this.duration;let c=[];this._keyframes.forEach((v,S)=>{const D=ll(v,!0);Object.keys(D).forEach(x=>{const k=D[x];"!"==k?r.add(x):k==ca&&i.add(x)}),o||(D.offset=S/this.duration),c.push(D)});const d=r.size?Tc(r.values()):[],m=i.size?Tc(i.values()):[];if(o){const v=c[0],S=si(v);v.offset=0,S.offset=1,c=[v,S]}return lf(this.element,c,d,m,this.duration,this.startTime,this.easing,!1)}}class UA extends rm{constructor(r,i,o,c,d,m,v=!1){super(r,i,m.delay),this.keyframes=o,this.preStyleProps=c,this.postStyleProps=d,this._stretchStartingKeyframe=v,this.timings={duration:m.duration,delay:m.delay,easing:m.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let r=this.keyframes,{delay:i,duration:o,easing:c}=this.timings;if(this._stretchStartingKeyframe&&i){const d=[],m=o+i,v=i/m,S=ll(r[0],!1);S.offset=0,d.push(S);const D=ll(r[0],!1);D.offset=Zu(v),d.push(D);const x=r.length-1;for(let k=1;k<=x;k++){let j=ll(r[k],!1);j.offset=Zu((i+j.offset*o)/m),d.push(j)}o=m,i=0,c="",r=d}return lf(this.element,r,this.preStyleProps,this.postStyleProps,o,i,c,!0)}}function Zu(s,r=3){const i=Math.pow(10,r-1);return Math.round(s*i)/i}class dl{}class Ku extends dl{normalizePropertyName(r,i){return af(r)}normalizeStyleValue(r,i,o,c){let d="";const m=o.toString().trim();if(X0[i]&&0!==o&&"0"!==o)if("number"==typeof o)d="px";else{const v=o.match(/^[+-]?[\d\.]+([a-z]*)$/);v&&0==v[1].length&&c.push(`Please provide a CSS unit value for ${r}:${o}`)}return m+d}}const X0=(()=>function(s){const r={};return s.forEach(i=>r[i]=!0),r}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function sm(s,r,i,o,c,d,m,v,S,D,x,k,j){return{type:0,element:s,triggerName:r,isRemovalTransition:c,fromState:i,fromStyles:d,toState:o,toStyles:m,timelines:v,queriedElements:S,preStyleProps:D,postStyleProps:x,totalTime:k,errors:j}}const uf={};class Nv{constructor(r,i,o){this._triggerName=r,this.ast=i,this._stateStyles=o}match(r,i,o,c){return function(s,r,i,o,c){return s.some(d=>d(r,i,o,c))}(this.ast.matchers,r,i,o,c)}buildStyles(r,i,o){const c=this._stateStyles["*"],d=this._stateStyles[r],m=c?c.buildStyles(i,o):{};return d?d.buildStyles(i,o):m}build(r,i,o,c,d,m,v,S,D,x){const k=[],j=this.ast.options&&this.ast.options.params||uf,X=this.buildStyles(o,v&&v.params||uf,k),ye=S&&S.params||uf,Re=this.buildStyles(c,ye,k),Ge=new Set,Ye=new Map,Qe=new Map,mt="void"===c,pn={params:Object.assign(Object.assign({},j),ye)},Ii=x?[]:Q0(r,i,this.ast.animation,d,m,X,Re,pn,D,k);let Ti=0;if(Ii.forEach(fu=>{Ti=Math.max(fu.duration+fu.delay,Ti)}),k.length)return sm(i,this._triggerName,o,c,mt,X,Re,[],[],Ye,Qe,Ti,k);Ii.forEach(fu=>{const pu=fu.element,D2=ii(Ye,pu,{});fu.preStyleProps.forEach(zp=>D2[zp]=!0);const r0=ii(Qe,pu,{});fu.postStyleProps.forEach(zp=>r0[zp]=!0),pu!==i&&Ge.add(pu)});const hu=Tc(Ge.values());return sm(i,this._triggerName,o,c,mt,X,Re,Ii,hu,Ye,Qe,Ti)}}class jA{constructor(r,i,o){this.styles=r,this.defaultParams=i,this.normalizer=o}buildStyles(r,i){const o={},c=si(this.defaultParams);return Object.keys(r).forEach(d=>{const m=r[d];null!=m&&(c[d]=m)}),this.styles.styles.forEach(d=>{if("string"!=typeof d){const m=d;Object.keys(m).forEach(v=>{let S=m[v];S.length>1&&(S=As(S,c,i));const D=this.normalizer.normalizePropertyName(v,i);S=this.normalizer.normalizeStyleValue(v,D,S,i),o[D]=S})}}),o}}class G1{constructor(r,i,o){this.name=r,this.ast=i,this._normalizer=o,this.transitionFactories=[],this.states={},i.states.forEach(c=>{this.states[c.name]=new jA(c.style,c.options&&c.options.params||{},o)}),Pv(this.states,"true","1"),Pv(this.states,"false","0"),i.transitions.forEach(c=>{this.transitionFactories.push(new Nv(r,c,this.states))}),this.fallbackTransition=function(s,r,i){return new Nv(s,{type:1,animation:{type:2,steps:[],options:null},matchers:[(m,v)=>!0],options:null,queryCount:0,depCount:0},r)}(r,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(r,i,o,c){return this.transitionFactories.find(m=>m.match(r,i,o,c))||null}matchStyles(r,i,o){return this.fallbackTransition.buildStyles(r,i,o)}}function Pv(s,r,i){s.hasOwnProperty(r)?s.hasOwnProperty(i)||(s[i]=s[r]):s.hasOwnProperty(i)&&(s[r]=s[i])}const HA=new cf;class rC{constructor(r,i,o){this.bodyNode=r,this._driver=i,this._normalizer=o,this._animations={},this._playersById={},this.players=[]}register(r,i){const o=[],c=Y0(this._driver,i,o);if(o.length)throw new Error(`Unable to build the animation due to the following errors: ${o.join("\n")}`);this._animations[r]=c}_buildPlayer(r,i,o){const c=r.element,d=vv(0,this._normalizer,0,r.keyframes,i,o);return this._driver.animate(c,d,r.duration,r.delay,r.easing,[],!0)}create(r,i,o={}){const c=[],d=this._animations[r];let m;const v=new Map;if(d?(m=Q0(this._driver,i,d,Sv,Wg,{},{},o,HA,c),m.forEach(x=>{const k=ii(v,x.element,{});x.postStyleProps.forEach(j=>k[j]=null)})):(c.push("The requested animation doesn't exist or has already been destroyed"),m=[]),c.length)throw new Error(`Unable to create the animation due to the following errors: ${c.join("\n")}`);v.forEach((x,k)=>{Object.keys(x).forEach(j=>{x[j]=this._driver.computeStyle(k,j,ca)})});const D=ua(m.map(x=>{const k=v.get(x.element);return this._buildPlayer(x,{},k)}));return this._playersById[r]=D,D.onDestroy(()=>this.destroy(r)),this.players.push(D),D}destroy(r){const i=this._getPlayer(r);i.destroy(),delete this._playersById[r];const o=this.players.indexOf(i);o>=0&&this.players.splice(o,1)}_getPlayer(r){const i=this._playersById[r];if(!i)throw new Error(`Unable to find the timeline player referenced by ${r}`);return i}listen(r,i,o,c){const d=Hg(i,"","","");return jg(this._getPlayer(r),o,d,c),()=>{}}command(r,i,o,c){if("register"==o)return void this.register(r,c[0]);if("create"==o)return void this.create(r,i,c[0]||{});const d=this._getPlayer(r);switch(o){case"play":d.play();break;case"pause":d.pause();break;case"reset":d.reset();break;case"restart":d.restart();break;case"finish":d.finish();break;case"init":d.init();break;case"setPosition":d.setPosition(parseFloat(c[0]));break;case"destroy":this.destroy(r)}}}const iC="ng-animate-queued",Vi="ng-animate-disabled",sC=".ng-animate-disabled",z1=[],Fv={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},q1={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},xs="__ng_removed";class df{constructor(r,i=""){this.namespaceId=i;const o=r&&r.hasOwnProperty("value");if(this.value=null!=(s=o?r.value:r)?s:null,o){const d=si(r);delete d.value,this.options=d}else this.options={};var s;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(r){const i=r.params;if(i){const o=this.options.params;Object.keys(i).forEach(c=>{null==o[c]&&(o[c]=i[c])})}}}const Qu="void",Lv=new df(Qu);class zA{constructor(r,i,o){this.id=r,this.hostElement=i,this._engine=o,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+r,Rs(i,this._hostClassName)}listen(r,i,o,c){if(!this._triggers.hasOwnProperty(i))throw new Error(`Unable to listen on the animation trigger event "${o}" because the animation trigger "${i}" doesn't exist!`);if(null==o||0==o.length)throw new Error(`Unable to listen on the animation trigger "${i}" because the provided event is undefined!`);if("start"!=(s=o)&&"done"!=s)throw new Error(`The provided animation trigger event "${o}" for the animation trigger "${i}" is not supported!`);var s;const d=ii(this._elementListeners,r,[]),m={name:i,phase:o,callback:c};d.push(m);const v=ii(this._engine.statesByElement,r,{});return v.hasOwnProperty(i)||(Rs(r,sf),Rs(r,sf+"-"+i),v[i]=Lv),()=>{this._engine.afterFlush(()=>{const S=d.indexOf(m);S>=0&&d.splice(S,1),this._triggers[i]||delete v[i]})}}register(r,i){return!this._triggers[r]&&(this._triggers[r]=i,!0)}_getTrigger(r){const i=this._triggers[r];if(!i)throw new Error(`The provided animation trigger "${r}" has not been registered!`);return i}trigger(r,i,o,c=!0){const d=this._getTrigger(i),m=new am(this.id,i,r);let v=this._engine.statesByElement.get(r);v||(Rs(r,sf),Rs(r,sf+"-"+i),this._engine.statesByElement.set(r,v={}));let S=v[i];const D=new df(o,this.id);if(!(o&&o.hasOwnProperty("value"))&&S&&D.absorbOptions(S.options),v[i]=D,S||(S=Lv),D.value!==Qu&&S.value===D.value){if(!function(s,r){const i=Object.keys(s),o=Object.keys(r);if(i.length!=o.length)return!1;for(let c=0;c<i.length;c++){const d=i[c];if(!r.hasOwnProperty(d)||s[d]!==r[d])return!1}return!0}(S.params,D.params)){const ye=[],Re=d.matchStyles(S.value,S.params,ye),Ge=d.matchStyles(D.value,D.params,ye);ye.length?this._engine.reportError(ye):this._engine.afterFlush(()=>{cl(r,Re),Ds(r,Ge)})}return}const j=ii(this._engine.playersByElement,r,[]);j.forEach(ye=>{ye.namespaceId==this.id&&ye.triggerName==i&&ye.queued&&ye.destroy()});let H=d.matchTransition(S.value,D.value,r,D.params),X=!1;if(!H){if(!c)return;H=d.fallbackTransition,X=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:i,transition:H,fromState:S,toState:D,player:m,isFallbackTransition:X}),X||(Rs(r,iC),m.onStart(()=>{Ju(r,iC)})),m.onDone(()=>{let ye=this.players.indexOf(m);ye>=0&&this.players.splice(ye,1);const Re=this._engine.playersByElement.get(r);if(Re){let Ge=Re.indexOf(m);Ge>=0&&Re.splice(Ge,1)}}),this.players.push(m),j.push(m),m}deregister(r){delete this._triggers[r],this._engine.statesByElement.forEach((i,o)=>{delete i[r]}),this._elementListeners.forEach((i,o)=>{this._elementListeners.set(o,i.filter(c=>c.name!=r))})}clearElementCache(r){this._engine.statesByElement.delete(r),this._elementListeners.delete(r);const i=this._engine.playersByElement.get(r);i&&(i.forEach(o=>o.destroy()),this._engine.playersByElement.delete(r))}_signalRemovalForInnerTriggers(r,i){const o=this._engine.driver.query(r,Zg,!0);o.forEach(c=>{if(c[xs])return;const d=this._engine.fetchNamespacesByElement(c);d.size?d.forEach(m=>m.triggerLeaveAnimation(c,i,!1,!0)):this.clearElementCache(c)}),this._engine.afterFlushAnimationsDone(()=>o.forEach(c=>this.clearElementCache(c)))}triggerLeaveAnimation(r,i,o,c){const d=this._engine.statesByElement.get(r);if(d){const m=[];if(Object.keys(d).forEach(v=>{if(this._triggers[v]){const S=this.trigger(r,v,Qu,c);S&&m.push(S)}}),m.length)return this._engine.markElementAsRemoved(this.id,r,!0,i),o&&ua(m).onDone(()=>this._engine.processLeaveNode(r)),!0}return!1}prepareLeaveAnimationListeners(r){const i=this._elementListeners.get(r),o=this._engine.statesByElement.get(r);if(i&&o){const c=new Set;i.forEach(d=>{const m=d.name;if(c.has(m))return;c.add(m);const S=this._triggers[m].fallbackTransition,D=o[m]||Lv,x=new df(Qu),k=new am(this.id,m,r);this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:m,transition:S,fromState:D,toState:x,player:k,isFallbackTransition:!0})})}}removeNode(r,i){const o=this._engine;if(r.childElementCount&&this._signalRemovalForInnerTriggers(r,i),this.triggerLeaveAnimation(r,i,!0))return;let c=!1;if(o.totalAnimations){const d=o.players.length?o.playersByQueriedElement.get(r):[];if(d&&d.length)c=!0;else{let m=r;for(;m=m.parentNode;)if(o.statesByElement.get(m)){c=!0;break}}}if(this.prepareLeaveAnimationListeners(r),c)o.markElementAsRemoved(this.id,r,!1,i);else{const d=r[xs];(!d||d===Fv)&&(o.afterFlush(()=>this.clearElementCache(r)),o.destroyInnerAnimations(r),o._onRemovalComplete(r,i))}}insertNode(r,i){Rs(r,this._hostClassName)}drainQueuedTransitions(r){const i=[];return this._queue.forEach(o=>{const c=o.player;if(c.destroyed)return;const d=o.element,m=this._elementListeners.get(d);m&&m.forEach(v=>{if(v.name==o.triggerName){const S=Hg(d,o.triggerName,o.fromState.value,o.toState.value);S._data=r,jg(o.player,v.phase,S,v.callback)}}),c.markedForDestroy?this._engine.afterFlush(()=>{c.destroy()}):i.push(o)}),this._queue=[],i.sort((o,c)=>{const d=o.transition.ast.depCount,m=c.transition.ast.depCount;return 0==d||0==m?d-m:this._engine.driver.containsElement(o.element,c.element)?1:-1})}destroy(r){this.players.forEach(i=>i.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,r)}elementContainsData(r){let i=!1;return this._elementListeners.has(r)&&(i=!0),i=!!this._queue.find(o=>o.element===r)||i,i}}class qA{constructor(r,i,o){this.bodyNode=r,this.driver=i,this._normalizer=o,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(c,d)=>{}}_onRemovalComplete(r,i){this.onRemovalComplete(r,i)}get queuedPlayers(){const r=[];return this._namespaceList.forEach(i=>{i.players.forEach(o=>{o.queued&&r.push(o)})}),r}createNamespace(r,i){const o=new zA(r,i,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,i)?this._balanceNamespaceList(o,i):(this.newHostElements.set(i,o),this.collectEnterElement(i)),this._namespaceLookup[r]=o}_balanceNamespaceList(r,i){const o=this._namespaceList.length-1;if(o>=0){let c=!1;for(let d=o;d>=0;d--)if(this.driver.containsElement(this._namespaceList[d].hostElement,i)){this._namespaceList.splice(d+1,0,r),c=!0;break}c||this._namespaceList.splice(0,0,r)}else this._namespaceList.push(r);return this.namespacesByHostElement.set(i,r),r}register(r,i){let o=this._namespaceLookup[r];return o||(o=this.createNamespace(r,i)),o}registerTrigger(r,i,o){let c=this._namespaceLookup[r];c&&c.register(i,o)&&this.totalAnimations++}destroy(r,i){if(!r)return;const o=this._fetchNamespace(r);this.afterFlush(()=>{this.namespacesByHostElement.delete(o.hostElement),delete this._namespaceLookup[r];const c=this._namespaceList.indexOf(o);c>=0&&this._namespaceList.splice(c,1)}),this.afterFlushAnimationsDone(()=>o.destroy(i))}_fetchNamespace(r){return this._namespaceLookup[r]}fetchNamespacesByElement(r){const i=new Set,o=this.statesByElement.get(r);if(o){const c=Object.keys(o);for(let d=0;d<c.length;d++){const m=o[c[d]].namespaceId;if(m){const v=this._fetchNamespace(m);v&&i.add(v)}}}return i}trigger(r,i,o,c){if(lm(i)){const d=this._fetchNamespace(r);if(d)return d.trigger(i,o,c),!0}return!1}insertNode(r,i,o,c){if(!lm(i))return;const d=i[xs];if(d&&d.setForRemoval){d.setForRemoval=!1,d.setForMove=!0;const m=this.collectedLeaveElements.indexOf(i);m>=0&&this.collectedLeaveElements.splice(m,1)}if(r){const m=this._fetchNamespace(r);m&&m.insertNode(i,o)}c&&this.collectEnterElement(i)}collectEnterElement(r){this.collectedEnterElements.push(r)}markElementAsDisabled(r,i){i?this.disabledNodes.has(r)||(this.disabledNodes.add(r),Rs(r,Vi)):this.disabledNodes.has(r)&&(this.disabledNodes.delete(r),Ju(r,Vi))}removeNode(r,i,o,c){if(lm(i)){const d=r?this._fetchNamespace(r):null;if(d?d.removeNode(i,c):this.markElementAsRemoved(r,i,!1,c),o){const m=this.namespacesByHostElement.get(i);m&&m.id!==r&&m.removeNode(i,c)}}else this._onRemovalComplete(i,c)}markElementAsRemoved(r,i,o,c){this.collectedLeaveElements.push(i),i[xs]={namespaceId:r,setForRemoval:c,hasAnimation:o,removedBeforeQueried:!1}}listen(r,i,o,c,d){return lm(i)?this._fetchNamespace(r).listen(i,o,c,d):()=>{}}_buildInstruction(r,i,o,c,d){return r.transition.build(this.driver,r.element,r.fromState.value,r.toState.value,o,c,r.fromState.options,r.toState.options,i,d)}destroyInnerAnimations(r){let i=this.driver.query(r,Zg,!0);i.forEach(o=>this.destroyActiveAnimationsForElement(o)),0!=this.playersByQueriedElement.size&&(i=this.driver.query(r,Iv,!0),i.forEach(o=>this.finishActiveQueriedAnimationOnElement(o)))}destroyActiveAnimationsForElement(r){const i=this.playersByElement.get(r);i&&i.forEach(o=>{o.queued?o.markedForDestroy=!0:o.destroy()})}finishActiveQueriedAnimationOnElement(r){const i=this.playersByQueriedElement.get(r);i&&i.forEach(o=>o.finish())}whenRenderingDone(){return new Promise(r=>{if(this.players.length)return ua(this.players).onDone(()=>r());r()})}processLeaveNode(r){const i=r[xs];if(i&&i.setForRemoval){if(r[xs]=Fv,i.namespaceId){this.destroyInnerAnimations(r);const o=this._fetchNamespace(i.namespaceId);o&&o.clearElementCache(r)}this._onRemovalComplete(r,i.setForRemoval)}this.driver.matchesElement(r,sC)&&this.markElementAsDisabled(r,!1),this.driver.query(r,sC,!0).forEach(o=>{this.markElementAsDisabled(o,!1)})}flush(r=-1){let i=[];if(this.newHostElements.size&&(this.newHostElements.forEach((o,c)=>this._balanceNamespaceList(o,c)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let o=0;o<this.collectedEnterElements.length;o++)Rs(this.collectedEnterElements[o],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const o=[];try{i=this._flushAnimations(o,r)}finally{for(let c=0;c<o.length;c++)o[c]()}}else for(let o=0;o<this.collectedLeaveElements.length;o++)this.processLeaveNode(this.collectedLeaveElements[o]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(o=>o()),this._flushFns=[],this._whenQuietFns.length){const o=this._whenQuietFns;this._whenQuietFns=[],i.length?ua(i).onDone(()=>{o.forEach(c=>c())}):o.forEach(c=>c())}}reportError(r){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${r.join("\n")}`)}_flushAnimations(r,i){const o=new cf,c=[],d=new Map,m=[],v=new Map,S=new Map,D=new Map,x=new Set;this.disabledNodes.forEach(ct=>{x.add(ct);const St=this.driver.query(ct,".ng-animate-queued",!0);for(let Bt=0;Bt<St.length;Bt++)x.add(St[Bt])});const k=this.bodyNode,j=Array.from(this.statesByElement.keys()),H=aC(j,this.collectedEnterElements),X=new Map;let ye=0;H.forEach((ct,St)=>{const Bt=Sv+ye++;X.set(St,Bt),ct.forEach(an=>Rs(an,Bt))});const Re=[],Ge=new Set,Ye=new Set;for(let ct=0;ct<this.collectedLeaveElements.length;ct++){const St=this.collectedLeaveElements[ct],Bt=St[xs];Bt&&Bt.setForRemoval&&(Re.push(St),Ge.add(St),Bt.hasAnimation?this.driver.query(St,".ng-star-inserted",!0).forEach(an=>Ge.add(an)):Ye.add(St))}const Qe=new Map,mt=aC(j,Array.from(Ge));mt.forEach((ct,St)=>{const Bt=Wg+ye++;Qe.set(St,Bt),ct.forEach(an=>Rs(an,Bt))}),r.push(()=>{H.forEach((ct,St)=>{const Bt=X.get(St);ct.forEach(an=>Ju(an,Bt))}),mt.forEach((ct,St)=>{const Bt=Qe.get(St);ct.forEach(an=>Ju(an,Bt))}),Re.forEach(ct=>{this.processLeaveNode(ct)})});const pn=[],Ii=[];for(let ct=this._namespaceList.length-1;ct>=0;ct--)this._namespaceList[ct].drainQueuedTransitions(i).forEach(Bt=>{const an=Bt.player,di=Bt.element;if(pn.push(an),this.collectedEnterElements.length){const Fl=di[xs];if(Fl&&Fl.setForMove)return void an.destroy()}const Pl=!k||!this.driver.containsElement(k,di),_o=Qe.get(di),sh=X.get(di),dr=this._buildInstruction(Bt,o,sh,_o,Pl);if(dr.errors&&dr.errors.length)Ii.push(dr);else{if(Pl)return an.onStart(()=>cl(di,dr.fromStyles)),an.onDestroy(()=>Ds(di,dr.toStyles)),void c.push(an);if(Bt.isFallbackTransition)return an.onStart(()=>cl(di,dr.fromStyles)),an.onDestroy(()=>Ds(di,dr.toStyles)),void c.push(an);dr.timelines.forEach(Fl=>Fl.stretchStartingKeyframe=!0),o.append(di,dr.timelines),m.push({instruction:dr,player:an,element:di}),dr.queriedElements.forEach(Fl=>ii(v,Fl,[]).push(an)),dr.preStyleProps.forEach((Fl,s0)=>{const pA=Object.keys(Fl);if(pA.length){let qp=S.get(s0);qp||S.set(s0,qp=new Set),pA.forEach(I1=>qp.add(I1))}}),dr.postStyleProps.forEach((Fl,s0)=>{const pA=Object.keys(Fl);let qp=D.get(s0);qp||D.set(s0,qp=new Set),pA.forEach(I1=>qp.add(I1))})}});if(Ii.length){const ct=[];Ii.forEach(St=>{ct.push(`@${St.triggerName} has failed due to:\n`),St.errors.forEach(Bt=>ct.push(`- ${Bt}\n`))}),pn.forEach(St=>St.destroy()),this.reportError(ct)}const Ti=new Map,hu=new Map;m.forEach(ct=>{const St=ct.element;o.has(St)&&(hu.set(St,St),this._beforeAnimationBuild(ct.player.namespaceId,ct.instruction,Ti))}),c.forEach(ct=>{const St=ct.element;this._getPreviousPlayers(St,!1,ct.namespaceId,ct.triggerName,null).forEach(an=>{ii(Ti,St,[]).push(an),an.destroy()})});const fu=Re.filter(ct=>dC(ct,S,D)),pu=new Map;Bv(pu,this.driver,Ye,D,ca).forEach(ct=>{dC(ct,S,D)&&fu.push(ct)});const r0=new Map;H.forEach((ct,St)=>{Bv(r0,this.driver,new Set(ct),S,"!")}),fu.forEach(ct=>{const St=pu.get(ct),Bt=r0.get(ct);pu.set(ct,Object.assign(Object.assign({},St),Bt))});const zp=[],A2=[],M2={};m.forEach(ct=>{const{element:St,player:Bt,instruction:an}=ct;if(o.has(St)){if(x.has(St))return Bt.onDestroy(()=>Ds(St,an.toStyles)),Bt.disabled=!0,Bt.overrideTotalTime(an.totalTime),void c.push(Bt);let di=M2;if(hu.size>1){let _o=St;const sh=[];for(;_o=_o.parentNode;){const dr=hu.get(_o);if(dr){di=dr;break}sh.push(_o)}sh.forEach(dr=>hu.set(dr,di))}const Pl=this._buildAnimation(Bt.namespaceId,an,Ti,d,r0,pu);if(Bt.setRealPlayer(Pl),di===M2)zp.push(Bt);else{const _o=this.playersByElement.get(di);_o&&_o.length&&(Bt.parentPlayer=ua(_o)),c.push(Bt)}}else cl(St,an.fromStyles),Bt.onDestroy(()=>Ds(St,an.toStyles)),A2.push(Bt),x.has(St)&&c.push(Bt)}),A2.forEach(ct=>{const St=d.get(ct.element);if(St&&St.length){const Bt=ua(St);ct.setRealPlayer(Bt)}}),c.forEach(ct=>{ct.parentPlayer?ct.syncPlayerEvents(ct.parentPlayer):ct.destroy()});for(let ct=0;ct<Re.length;ct++){const St=Re[ct],Bt=St[xs];if(Ju(St,Wg),Bt&&Bt.hasAnimation)continue;let an=[];if(v.size){let Pl=v.get(St);Pl&&Pl.length&&an.push(...Pl);let _o=this.driver.query(St,Iv,!0);for(let sh=0;sh<_o.length;sh++){let dr=v.get(_o[sh]);dr&&dr.length&&an.push(...dr)}}const di=an.filter(Pl=>!Pl.destroyed);di.length?W1(this,St,di):this.processLeaveNode(St)}return Re.length=0,zp.forEach(ct=>{this.players.push(ct),ct.onDone(()=>{ct.destroy();const St=this.players.indexOf(ct);this.players.splice(St,1)}),ct.play()}),zp}elementContainsData(r,i){let o=!1;const c=i[xs];return c&&c.setForRemoval&&(o=!0),this.playersByElement.has(i)&&(o=!0),this.playersByQueriedElement.has(i)&&(o=!0),this.statesByElement.has(i)&&(o=!0),this._fetchNamespace(r).elementContainsData(i)||o}afterFlush(r){this._flushFns.push(r)}afterFlushAnimationsDone(r){this._whenQuietFns.push(r)}_getPreviousPlayers(r,i,o,c,d){let m=[];if(i){const v=this.playersByQueriedElement.get(r);v&&(m=v)}else{const v=this.playersByElement.get(r);if(v){const S=!d||d==Qu;v.forEach(D=>{D.queued||!S&&D.triggerName!=c||m.push(D)})}}return(o||c)&&(m=m.filter(v=>!(o&&o!=v.namespaceId||c&&c!=v.triggerName))),m}_beforeAnimationBuild(r,i,o){const d=i.element,m=i.isRemovalTransition?void 0:r,v=i.isRemovalTransition?void 0:i.triggerName;for(const S of i.timelines){const D=S.element,x=D!==d,k=ii(o,D,[]);this._getPreviousPlayers(D,x,m,v,i.toState).forEach(H=>{const X=H.getRealPlayer();X.beforeDestroy&&X.beforeDestroy(),H.destroy(),k.push(H)})}cl(d,i.fromStyles)}_buildAnimation(r,i,o,c,d,m){const v=i.triggerName,S=i.element,D=[],x=new Set,k=new Set,j=i.timelines.map(X=>{const ye=X.element;x.add(ye);const Re=ye[xs];if(Re&&Re.removedBeforeQueried)return new Cc(X.duration,X.delay);const Ge=ye!==S,Ye=function(s){const r=[];return uC(s,r),r}((o.get(ye)||z1).map(Ti=>Ti.getRealPlayer())).filter(Ti=>!!Ti.element&&Ti.element===ye),Qe=d.get(ye),mt=m.get(ye),pn=vv(0,this._normalizer,0,X.keyframes,Qe,mt),Ii=this._buildPlayer(X,pn,Ye);if(X.subTimeline&&c&&k.add(ye),Ge){const Ti=new am(r,v,ye);Ti.setRealPlayer(Ii),D.push(Ti)}return Ii});D.forEach(X=>{ii(this.playersByQueriedElement,X.element,[]).push(X),X.onDone(()=>function(s,r,i){let o;if(s instanceof Map){if(o=s.get(r),o){if(o.length){const c=o.indexOf(i);o.splice(c,1)}0==o.length&&s.delete(r)}}else if(o=s[r],o){if(o.length){const c=o.indexOf(i);o.splice(c,1)}0==o.length&&delete s[r]}return o}(this.playersByQueriedElement,X.element,X))}),x.forEach(X=>Rs(X,z0));const H=ua(j);return H.onDestroy(()=>{x.forEach(X=>Ju(X,z0)),Ds(S,i.toStyles)}),k.forEach(X=>{ii(c,X,[]).push(H)}),H}_buildPlayer(r,i,o){return i.length>0?this.driver.animate(r.element,i,r.duration,r.delay,r.easing,o):new Cc(r.duration,r.delay)}}class am{constructor(r,i,o){this.namespaceId=r,this.triggerName=i,this.element=o,this._player=new Cc,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(r){this._containsRealPlayer||(this._player=r,Object.keys(this._queuedCallbacks).forEach(i=>{this._queuedCallbacks[i].forEach(o=>jg(r,i,void 0,o))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(r.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(r){this.totalTime=r}syncPlayerEvents(r){const i=this._player;i.triggerCallback&&r.onStart(()=>i.triggerCallback("start")),r.onDone(()=>this.finish()),r.onDestroy(()=>this.destroy())}_queueEvent(r,i){ii(this._queuedCallbacks,r,[]).push(i)}onDone(r){this.queued&&this._queueEvent("done",r),this._player.onDone(r)}onStart(r){this.queued&&this._queueEvent("start",r),this._player.onStart(r)}onDestroy(r){this.queued&&this._queueEvent("destroy",r),this._player.onDestroy(r)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(r){this.queued||this._player.setPosition(r)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(r){const i=this._player;i.triggerCallback&&i.triggerCallback(r)}}function lm(s){return s&&1===s.nodeType}function Vv(s,r){const i=s.style.display;return s.style.display=null!=r?r:"none",i}function Bv(s,r,i,o,c){const d=[];i.forEach(S=>d.push(Vv(S)));const m=[];o.forEach((S,D)=>{const x={};S.forEach(k=>{const j=x[k]=r.computeStyle(D,k,c);(!j||0==j.length)&&(D[xs]=q1,m.push(D))}),s.set(D,x)});let v=0;return i.forEach(S=>Vv(S,d[v++])),m}function aC(s,r){const i=new Map;if(s.forEach(v=>i.set(v,[])),0==r.length)return i;const c=new Set(r),d=new Map;function m(v){if(!v)return 1;let S=d.get(v);if(S)return S;const D=v.parentNode;return S=i.has(D)?D:c.has(D)?1:m(D),d.set(v,S),S}return r.forEach(v=>{const S=m(v);1!==S&&i.get(S).push(v)}),i}const ss="$$classes";function Rs(s,r){if(s.classList)s.classList.add(r);else{let i=s[ss];i||(i=s[ss]={}),i[r]=!0}}function Ju(s,r){if(s.classList)s.classList.remove(r);else{let i=s[ss];i&&delete i[r]}}function W1(s,r,i){ua(i).onDone(()=>s.processLeaveNode(r))}function uC(s,r){for(let i=0;i<s.length;i++){const o=s[i];o instanceof mv?uC(o.players,r):r.push(o)}}function dC(s,r,i){const o=i.get(s);if(!o)return!1;let c=r.get(s);return c?o.forEach(d=>c.add(d)):r.set(s,o),i.delete(s),!0}class Xu{constructor(r,i,o){this.bodyNode=r,this._driver=i,this._normalizer=o,this._triggerCache={},this.onRemovalComplete=(c,d)=>{},this._transitionEngine=new qA(r,i,o),this._timelineEngine=new rC(r,i,o),this._transitionEngine.onRemovalComplete=(c,d)=>this.onRemovalComplete(c,d)}registerTrigger(r,i,o,c,d){const m=r+"-"+c;let v=this._triggerCache[m];if(!v){const S=[],D=Y0(this._driver,d,S);if(S.length)throw new Error(`The animation trigger "${c}" has failed to build due to the following errors:\n - ${S.join("\n - ")}`);v=function(s,r,i){return new G1(s,r,i)}(c,D,this._normalizer),this._triggerCache[m]=v}this._transitionEngine.registerTrigger(i,c,v)}register(r,i){this._transitionEngine.register(r,i)}destroy(r,i){this._transitionEngine.destroy(r,i)}onInsert(r,i,o,c){this._transitionEngine.insertNode(r,i,o,c)}onRemove(r,i,o,c){this._transitionEngine.removeNode(r,i,c||!1,o)}disableAnimations(r,i){this._transitionEngine.markElementAsDisabled(r,i)}process(r,i,o,c){if("@"==o.charAt(0)){const[d,m]=nf(o);this._timelineEngine.command(d,i,m,c)}else this._transitionEngine.trigger(r,i,o,c)}listen(r,i,o,c,d){if("@"==o.charAt(0)){const[m,v]=nf(o);return this._timelineEngine.listen(m,i,v,d)}return this._transitionEngine.listen(r,i,o,c,d)}flush(r=-1){this._transitionEngine.flush(r)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function hC(s,r){let i=null,o=null;return Array.isArray(r)&&r.length?(i=td(r[0]),r.length>1&&(o=td(r[r.length-1]))):r&&(i=td(r)),i||o?new ed(s,i,o):null}class ed{constructor(r,i,o){this._element=r,this._startStyles=i,this._endStyles=o,this._state=0;let c=ed.initialStylesByElement.get(r);c||ed.initialStylesByElement.set(r,c={}),this._initialStyles=c}start(){this._state<1&&(this._startStyles&&Ds(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ds(this._element,this._initialStyles),this._endStyles&&(Ds(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(ed.initialStylesByElement.delete(this._element),this._startStyles&&(cl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(cl(this._element,this._endStyles),this._endStyles=null),Ds(this._element,this._initialStyles),this._state=3)}}function td(s){let r=null;const i=Object.keys(s);for(let o=0;o<i.length;o++){const c=i[o];Uv(c)&&(r=r||{},r[c]=s[c])}return r}function Uv(s){return"display"===s||"position"===s}ed.initialStylesByElement=new WeakMap;const cm="animation",um="animationend";class QA{constructor(r,i,o,c,d,m,v){this._element=r,this._name=i,this._duration=o,this._delay=c,this._easing=d,this._fillMode=m,this._onDoneFn=v,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=S=>this._handleCallback(S)}apply(){(function(s,r){const i=hm(s,"").trim();let o=0;i.length&&(function(s,r){let i=0;for(let o=0;o<s.length;o++)","===s.charAt(o)&&i++;return i}(i)+1,r=`${i}, ${r}`),hf(s,"",r)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Hv(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){pC(this._element,this._name,"paused")}resume(){pC(this._element,this._name,"running")}setPosition(r){const i=gC(this._element,this._name);this._position=r*this._duration,hf(this._element,"Delay",`-${this._position}ms`,i)}getPosition(){return this._position}_handleCallback(r){const i=r._ngTestManualTimestamp||Date.now(),o=1e3*parseFloat(r.elapsedTime.toFixed(3));r.animationName==this._name&&Math.max(i-this._startTime,0)>=this._delay&&o>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Hv(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(s,r){const o=hm(s,"").split(","),c=dm(o,r);c>=0&&(o.splice(c,1),hf(s,"",o.join(",")))}(this._element,this._name))}}function pC(s,r,i){hf(s,"PlayState",i,gC(s,r))}function gC(s,r){const i=hm(s,"");return i.indexOf(",")>0?dm(i.split(","),r):dm([i],r)}function dm(s,r){for(let i=0;i<s.length;i++)if(s[i].indexOf(r)>=0)return i;return-1}function Hv(s,r,i){i?s.removeEventListener(um,r):s.addEventListener(um,r)}function hf(s,r,i,o){const c=cm+r;if(null!=o){const d=s.style[c];if(d.length){const m=d.split(",");m[o]=i,i=m.join(",")}}s.style[c]=i}function hm(s,r){return s.style[cm+r]||""}class _C{constructor(r,i,o,c,d,m,v,S){this.element=r,this.keyframes=i,this.animationName=o,this._duration=c,this._delay=d,this._finalStyles=v,this._specialStyles=S,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=m||"linear",this.totalTime=c+d,this._buildStyler()}onStart(r){this._onStartFns.push(r)}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(r=>r()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(r=>r()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(r){this._styler.setPosition(r)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new QA(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(r){const i="start"==r?this._onStartFns:this._onDoneFns;i.forEach(o=>o()),i.length=0}beforeDestroy(){this.init();const r={};if(this.hasStarted()){const i=this._state>=3;Object.keys(this._finalStyles).forEach(o=>{"offset"!=o&&(r[o]=i?this._finalStyles[o]:Av(this.element,o))})}this.currentSnapshot=r}}class JA extends Cc{constructor(r,i){super(),this.element=r,this._startingStyles={},this.__initialized=!1,this._styles=Cv(i)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(r=>{this._startingStyles[r]=this.element.style[r]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(r=>this.element.style.setProperty(r,this._styles[r])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(r=>{const i=this._startingStyles[r];i?this.element.style.setProperty(r,i):this.element.style.removeProperty(r)}),this._startingStyles=null,super.destroy())}}class Gv{constructor(){this._count=0}validateStyleProperty(r){return rf(r)}matchesElement(r,i){return j0(r,i)}containsElement(r,i){return zg(r,i)}query(r,i,o){return wv(r,i,o)}computeStyle(r,i,o){return window.getComputedStyle(r)[i]}buildKeyframeElement(r,i,o){o=o.map(v=>Cv(v));let c=`@keyframes ${i} {\n`,d="";o.forEach(v=>{d=" ";const S=parseFloat(v.offset);c+=`${d}${100*S}% {\n`,d+=" ",Object.keys(v).forEach(D=>{const x=v[D];switch(D){case"offset":return;case"easing":return void(x&&(c+=`${d}animation-timing-function: ${x};\n`));default:return void(c+=`${d}${D}: ${x};\n`)}}),c+=`${d}}\n`}),c+="}\n";const m=document.createElement("style");return m.textContent=c,m}animate(r,i,o,c,d,m=[],v){const S=m.filter(Re=>Re instanceof _C),D={};q0(o,c)&&S.forEach(Re=>{let Ge=Re.currentSnapshot;Object.keys(Ge).forEach(Ye=>D[Ye]=Ge[Ye])});const x=function(s){let r={};return s&&(Array.isArray(s)?s:[s]).forEach(o=>{Object.keys(o).forEach(c=>{"offset"==c||"easing"==c||(r[c]=o[c])})}),r}(i=Dv(r,i,D));if(0==o)return new JA(r,x);const k="gen_css_kf_"+this._count++,j=this.buildKeyframeElement(r,k,i);(function(s){var r;const i=null===(r=s.getRootNode)||void 0===r?void 0:r.call(s);return"undefined"!=typeof ShadowRoot&&i instanceof ShadowRoot?i:document.head})(r).appendChild(j);const X=hC(r,i),ye=new _C(r,i,k,o,c,d,x,X);return ye.onDestroy(()=>{var s;(s=j).parentNode.removeChild(s)}),ye}}class yC{constructor(r,i,o,c){this.element=r,this.keyframes=i,this.options=o,this._specialStyles=c,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=o.duration,this._delay=o.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const r=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,r,this.options),this._finalKeyframe=r.length?r[r.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(r,i,o){return r.animate(i,o)}onStart(r){this._onStartFns.push(r)}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(r=>r()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}setPosition(r){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=r*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const r={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(i=>{"offset"!=i&&(r[i]=this._finished?this._finalKeyframe[i]:Av(this.element,i))}),this.currentSnapshot=r}triggerCallback(r){const i="start"==r?this._onStartFns:this._onDoneFns;i.forEach(o=>o()),i.length=0}}class vC{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(gm().toString()),this._cssKeyframesDriver=new Gv}validateStyleProperty(r){return rf(r)}matchesElement(r,i){return j0(r,i)}containsElement(r,i){return zg(r,i)}query(r,i,o){return wv(r,i,o)}computeStyle(r,i,o){return window.getComputedStyle(r)[i]}overrideWebAnimationsSupport(r){this._isNativeImpl=r}animate(r,i,o,c,d,m=[],v){if(!v&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(r,i,o,c,d,m);const x={duration:o,delay:c,fill:0==c?"both":"forwards"};d&&(x.easing=d);const k={},j=m.filter(X=>X instanceof yC);q0(o,c)&&j.forEach(X=>{let ye=X.currentSnapshot;Object.keys(ye).forEach(Re=>k[Re]=ye[Re])});const H=hC(r,i=Dv(r,i=i.map(X=>ll(X,!1)),k));return new yC(r,i,x,H)}}function gm(){return ef()&&Element.prototype.animate||{}}let nM=(()=>{class s extends k0{constructor(i,o){super(),this._nextAnimationId=0,this._renderer=i.createRenderer(o.body,{id:"0",encapsulation:f.ifc.None,styles:[],data:{animation:[]}})}build(i){const o=this._nextAnimationId.toString();this._nextAnimationId++;const c=Array.isArray(i)?P0(i):i;return Mc(this._renderer,null,o,"register",[c]),new rM(o,this._renderer)}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(f.FYo),f.LFG(oe))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();class rM extends class{}{constructor(r,i){super(),this._id=r,this._renderer=i}create(r,i){return new bC(this._id,r,i||{},this._renderer)}}class bC{constructor(r,i,o,c){this.id=r,this.element=i,this._renderer=c,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",o)}_listen(r,i){return this._renderer.listen(this.element,`@@${this.id}:${r}`,i)}_command(r,...i){return Mc(this._renderer,this.element,this.id,r,i)}onDone(r){this._listen("done",r)}onStart(r){this._listen("start",r)}onDestroy(r){this._listen("destroy",r)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(r){this._command("setPosition",r)}getPosition(){var r,i;return null!==(i=null===(r=this._renderer.engine.players[+this.id])||void 0===r?void 0:r.getPosition())&&void 0!==i?i:0}}function Mc(s,r,i,o,c){return s.setProperty(r,`@@${i}:${o}`,c)}const EC="@.disabled";let iM=(()=>{class s{constructor(i,o,c){this.delegate=i,this.engine=o,this._zone=c,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),o.onRemovalComplete=(d,m)=>{m&&m.parentNode(d)&&m.removeChild(d.parentNode,d)}}createRenderer(i,o){const d=this.delegate.createRenderer(i,o);if(!(i&&o&&o.data&&o.data.animation)){let x=this._rendererCache.get(d);return x||(x=new xc("",d,this.engine),this._rendererCache.set(d,x)),x}const m=o.id,v=o.id+"-"+this._currentId;this._currentId++,this.engine.register(v,i);const S=x=>{Array.isArray(x)?x.forEach(S):this.engine.registerTrigger(m,v,i,x.name,x)};return o.data.animation.forEach(S),new sM(this,v,d,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(i,o,c){i>=0&&i<this._microtaskId?this._zone.run(()=>o(c)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(d=>{const[m,v]=d;m(v)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([o,c]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(f.FYo),f.LFG(Xu),f.LFG(f.R0b))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();class xc{constructor(r,i,o){this.namespaceId=r,this.delegate=i,this.engine=o,this.destroyNode=this.delegate.destroyNode?c=>i.destroyNode(c):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(r,i){return this.delegate.createElement(r,i)}createComment(r){return this.delegate.createComment(r)}createText(r){return this.delegate.createText(r)}appendChild(r,i){this.delegate.appendChild(r,i),this.engine.onInsert(this.namespaceId,i,r,!1)}insertBefore(r,i,o,c=!0){this.delegate.insertBefore(r,i,o),this.engine.onInsert(this.namespaceId,i,r,c)}removeChild(r,i,o){this.engine.onRemove(this.namespaceId,i,this.delegate,o)}selectRootElement(r,i){return this.delegate.selectRootElement(r,i)}parentNode(r){return this.delegate.parentNode(r)}nextSibling(r){return this.delegate.nextSibling(r)}setAttribute(r,i,o,c){this.delegate.setAttribute(r,i,o,c)}removeAttribute(r,i,o){this.delegate.removeAttribute(r,i,o)}addClass(r,i){this.delegate.addClass(r,i)}removeClass(r,i){this.delegate.removeClass(r,i)}setStyle(r,i,o,c){this.delegate.setStyle(r,i,o,c)}removeStyle(r,i,o){this.delegate.removeStyle(r,i,o)}setProperty(r,i,o){"@"==i.charAt(0)&&i==EC?this.disableAnimations(r,!!o):this.delegate.setProperty(r,i,o)}setValue(r,i){this.delegate.setValue(r,i)}listen(r,i,o){return this.delegate.listen(r,i,o)}disableAnimations(r,i){this.engine.disableAnimations(r,i)}}class sM extends xc{constructor(r,i,o,c){super(i,o,c),this.factory=r,this.namespaceId=i}setProperty(r,i,o){"@"==i.charAt(0)?"."==i.charAt(1)&&i==EC?this.disableAnimations(r,o=void 0===o||!!o):this.engine.process(this.namespaceId,r,i.substr(1),o):this.delegate.setProperty(r,i,o)}listen(r,i,o){if("@"==i.charAt(0)){const c=function(s){switch(s){case"body":return document.body;case"document":return document;case"window":return window;default:return s}}(r);let d=i.substr(1),m="";return"@"!=d.charAt(0)&&([d,m]=function(s){const r=s.indexOf(".");return[s.substring(0,r),s.substr(r+1)]}(d)),this.engine.listen(this.namespaceId,c,d,m,v=>{this.factory.scheduleListenerCallback(v._data||-1,o,v)})}return this.delegate.listen(r,i,o)}}let lM=(()=>{class s extends Xu{constructor(i,o,c){super(i.body,o,c)}ngOnDestroy(){this.flush()}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(oe),f.LFG(qg),f.LFG(dl))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();const Wt=new f.OlP("AnimationModuleType"),mm=[{provide:k0,useClass:nM},{provide:dl,useFactory:function(){return new Ku}},{provide:Xu,useClass:lM},{provide:f.FYo,useFactory:function(s,r,i){return new iM(s,r,i)},deps:[Zs,Xu,f.R0b]}],uM=[{provide:qg,useFactory:function(){return"function"==typeof gm()?new vC:new Gv}},{provide:Wt,useValue:"BrowserAnimations"},...mm],Do=[{provide:qg,useClass:H0},{provide:Wt,useValue:"NoopAnimations"},...mm];let $v=(()=>{class s{static withConfig(i){return{ngModule:s,providers:i.disableAnimations?Do:uM}}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({providers:uM,imports:[Ga]}),s})();const TC=new f.GfV("12.2.3"),zv=new f.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Rc,Pn=(()=>{class s{constructor(i,o,c){this._hasDoneGlobalChecks=!1,this._document=c,i._applyBodyHighContrastModeCssClasses(),this._sanityChecks=o,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const i=this._document.defaultView||window;return"object"==typeof i&&i?i:null}_checkIsEnabled(i){return!(!(0,f.X6Q)()||this._isTestEnv())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[i])}_isTestEnv(){const i=this._getWindow();return i&&(i.__karma__||i.jasmine)}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const i=this._document.createElement("div");i.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(i);const o=getComputedStyle(i);o&&"none"!==o.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(i)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&TC.full!==Bg.full&&console.warn("The Angular Material version ("+TC.full+") does not match the Angular CDK version ("+Bg.full+").\nPlease ensure the versions of these two packages exactly match.")}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(Vg),f.LFG(zv,8),f.LFG(oe))},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({imports:[[Ec],Ec]}),s})();function qv(s){return class extends s{constructor(...r){super(...r),this._disabled=!1}get disabled(){return this._disabled}set disabled(r){this._disabled=An(r)}}}function _f(s,r){return class extends s{constructor(...i){super(...i),this.defaultColor=r,this.color=r}get color(){return this._color}set color(i){const o=i||this.defaultColor;o!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),o&&this._elementRef.nativeElement.classList.add(`mat-${o}`),this._color=o)}}}function DC(s){return class extends s{constructor(...r){super(...r),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(r){this._disableRipple=An(r)}}}try{Rc="undefined"!=typeof Intl}catch(s){Rc=!1}let bM=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({imports:[[Pn],Pn]}),s})();class kC{constructor(r,i,o){this._renderer=r,this.element=i,this.config=o,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const _m={enterDuration:225,exitDuration:150},bf=Dg({passive:!0}),NC=["mousedown","touchstart"],PC=["mouseup","mouseleave","touchend","touchcancel"];class wM{constructor(r,i,o,c){this._target=r,this._ngZone=i,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,c.isBrowser&&(this._containerElement=Xa(o))}fadeInRipple(r,i,o={}){const c=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),d=Object.assign(Object.assign({},_m),o.animation);o.centered&&(r=c.left+c.width/2,i=c.top+c.height/2);const m=o.radius||function(s,r,i){const o=Math.max(Math.abs(s-i.left),Math.abs(s-i.right)),c=Math.max(Math.abs(r-i.top),Math.abs(r-i.bottom));return Math.sqrt(o*o+c*c)}(r,i,c),v=r-c.left,S=i-c.top,D=d.enterDuration,x=document.createElement("div");x.classList.add("mat-ripple-element"),x.style.left=v-m+"px",x.style.top=S-m+"px",x.style.height=2*m+"px",x.style.width=2*m+"px",null!=o.color&&(x.style.backgroundColor=o.color),x.style.transitionDuration=`${D}ms`,this._containerElement.appendChild(x),window.getComputedStyle(x).getPropertyValue("opacity"),x.style.transform="scale(1)";const k=new kC(this,x,o);return k.state=0,this._activeRipples.add(k),o.persistent||(this._mostRecentTransientRipple=k),this._runTimeoutOutsideZone(()=>{const j=k===this._mostRecentTransientRipple;k.state=1,!o.persistent&&(!j||!this._isPointerDown)&&k.fadeOut()},D),k}fadeOutRipple(r){const i=this._activeRipples.delete(r);if(r===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!i)return;const o=r.element,c=Object.assign(Object.assign({},_m),r.config.animation);o.style.transitionDuration=`${c.exitDuration}ms`,o.style.opacity="0",r.state=2,this._runTimeoutOutsideZone(()=>{r.state=3,o.parentNode.removeChild(o)},c.exitDuration)}fadeOutAll(){this._activeRipples.forEach(r=>r.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(r=>{r.config.persistent||r.fadeOut()})}setupTriggerEvents(r){const i=Xa(r);!i||i===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=i,this._registerEvents(NC))}handleEvent(r){"mousedown"===r.type?this._onMousedown(r):"touchstart"===r.type?this._onTouchStart(r):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(PC),this._pointerUpEventsRegistered=!0)}_onMousedown(r){const i=nt(r),o=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!i&&!o&&(this._isPointerDown=!0,this.fadeInRipple(r.clientX,r.clientY,this._target.rippleConfig))}_onTouchStart(r){if(!this._target.rippleDisabled&&!pt(r)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const i=r.changedTouches;for(let o=0;o<i.length;o++)this.fadeInRipple(i[o].clientX,i[o].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(r=>{!r.config.persistent&&(1===r.state||r.config.terminateOnPointerUp&&0===r.state)&&r.fadeOut()}))}_runTimeoutOutsideZone(r,i=0){this._ngZone.runOutsideAngular(()=>setTimeout(r,i))}_registerEvents(r){this._ngZone.runOutsideAngular(()=>{r.forEach(i=>{this._triggerElement.addEventListener(i,this,bf)})})}_removeTriggerEvents(){this._triggerElement&&(NC.forEach(r=>{this._triggerElement.removeEventListener(r,this,bf)}),this._pointerUpEventsRegistered&&PC.forEach(r=>{this._triggerElement.removeEventListener(r,this,bf)}))}}const IM=new f.OlP("mat-ripple-global-options");let Oc=(()=>{class s{constructor(i,o,c,d,m){this._elementRef=i,this._animationMode=m,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=d||{},this._rippleRenderer=new wM(this,o,i,c)}get disabled(){return this._disabled}set disabled(i){i&&this.fadeOutAllNonPersistent(),this._disabled=i,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(i){this._trigger=i,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(i,o=0,c){return"number"==typeof i?this._rippleRenderer.fadeInRipple(i,o,Object.assign(Object.assign({},this.rippleConfig),c)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),i))}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(f.SBq),f.Y36(f.R0b),f.Y36(cn),f.Y36(IM,8),f.Y36(Wt,8))},s.\u0275dir=f.lG2({type:s,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,o){2&i&&f.ekj("mat-ripple-unbounded",o.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),s})(),kc=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({imports:[[Pn,Ur],Pn]}),s})();const rd=["*",[["mat-toolbar-row"]]],id=["*","mat-toolbar-row"],sd=_f(class{constructor(s){this._elementRef=s}});let od=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275dir=f.lG2({type:s,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),s})(),ad=(()=>{class s extends sd{constructor(i,o,c){super(i),this._platform=o,this._document=c}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(f.SBq),f.Y36(cn),f.Y36(oe))},s.\u0275cmp=f.Xpm({type:s,selectors:[["mat-toolbar"]],contentQueries:function(i,o,c){if(1&i&&f.Suo(c,od,5),2&i){let d;f.iGM(d=f.CRH())&&(o._toolbarRows=d)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(i,o){2&i&&f.ekj("mat-toolbar-multiple-rows",o._toolbarRows.length>0)("mat-toolbar-single-row",0===o._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[f.qOj],ngContentSelectors:id,decls:2,vars:0,template:function(i,o){1&i&&(f.F$t(rd),f.Hsn(0),f.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),s})(),ld=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({imports:[[Pn],Pn]}),s})();const Zv=["mat-button",""],Yv=["*"],Kv=".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n",BC=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],UC=_f(qv(DC(class{constructor(s){this._elementRef=s}})));let Pc=(()=>{class s extends UC{constructor(i,o,c){super(i),this._focusMonitor=o,this._animationMode=c,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const d of BC)this._hasHostAttributes(d)&&this._getHostElement().classList.add(d);i.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(i,o){i?this._focusMonitor.focusVia(this._getHostElement(),i,o):this._getHostElement().focus(o)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...i){return i.some(o=>this._getHostElement().hasAttribute(o))}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(f.SBq),f.Y36($u),f.Y36(Wt,8))},s.\u0275cmp=f.Xpm({type:s,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(i,o){if(1&i&&f.Gf(Oc,5),2&i){let c;f.iGM(c=f.CRH())&&(o.ripple=c.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(i,o){2&i&&(f.uIk("disabled",o.disabled||null),f.ekj("_mat-animation-noopable","NoopAnimations"===o._animationMode)("mat-button-disabled",o.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[f.qOj],attrs:Zv,ngContentSelectors:Yv,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(i,o){1&i&&(f.F$t(),f.TgZ(0,"span",0),f.Hsn(1),f.qZA(),f._UZ(2,"span",1),f._UZ(3,"span",2)),2&i&&(f.xp6(2),f.ekj("mat-button-ripple-round",o.isRoundButton||o.isIconButton),f.Q6J("matRippleDisabled",o._isRippleDisabled())("matRippleCentered",o.isIconButton)("matRippleTrigger",o._getHostElement()))},directives:[Oc],styles:[Kv],encapsulation:2,changeDetection:0}),s})(),Qv=(()=>{class s extends Pc{constructor(i,o,c){super(o,i,c)}_haltDisabledEvents(i){this.disabled&&(i.preventDefault(),i.stopImmediatePropagation())}}return s.\u0275fac=function(i){return new(i||s)(f.Y36($u),f.Y36(f.SBq),f.Y36(Wt,8))},s.\u0275cmp=f.Xpm({type:s,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(i,o){1&i&&f.NdJ("click",function(d){return o._haltDisabledEvents(d)}),2&i&&(f.uIk("tabindex",o.disabled?-1:o.tabIndex||0)("disabled",o.disabled||null)("aria-disabled",o.disabled.toString()),f.ekj("_mat-animation-noopable","NoopAnimations"===o._animationMode)("mat-button-disabled",o.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[f.qOj],attrs:Zv,ngContentSelectors:Yv,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(i,o){1&i&&(f.F$t(),f.TgZ(0,"span",0),f.Hsn(1),f.qZA(),f._UZ(2,"span",1),f._UZ(3,"span",2)),2&i&&(f.xp6(2),f.ekj("mat-button-ripple-round",o.isRoundButton||o.isIconButton),f.Q6J("matRippleDisabled",o._isRippleDisabled())("matRippleCentered",o.isIconButton)("matRippleTrigger",o._getHostElement()))},directives:[Oc],styles:[Kv],encapsulation:2,changeDetection:0}),s})(),Jv=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({imports:[[kc,Pn],Pn]}),s})();var AM=V(205),Sf=V(9796),bt=V(8002),jC=V(1555),Fn=V(4402);function HC(...s){if(1===s.length){const r=s[0];if((0,Sf.k)(r))return Xv(r,null);if((0,jC.K)(r)&&Object.getPrototypeOf(r)===Object.prototype){const i=Object.keys(r);return Xv(i.map(o=>r[o]),i)}}if("function"==typeof s[s.length-1]){const r=s.pop();return Xv(s=1===s.length&&(0,Sf.k)(s[0])?s[0]:s,null).pipe((0,bt.U)(i=>r(...i)))}return Xv(s,null)}function Xv(s,r){return new qn.y(i=>{const o=s.length;if(0===o)return void i.complete();const c=new Array(o);let d=0,m=0;for(let v=0;v<o;v++){const S=(0,Fn.D)(s[v]);let D=!1;i.add(S.subscribe({next:x=>{D||(D=!0,m++),c[v]=x},error:x=>i.error(x),complete:()=>{d++,(d===o||!D)&&(m===o&&i.next(r?r.reduce((x,k,j)=>(x[k]=c[j],x),{}):c),i.complete())}}))}})}var Os=V(5319),Hr=V(3342);function hl(s){return function(i){const o=new GC(s),c=i.lift(o);return o.caught=c}}class GC{constructor(r){this.selector=r}call(r,i){return i.subscribe(new MM(r,this.selector,this.caught))}}class MM extends Oi.Ds{constructor(r,i,o){super(r),this.selector=i,this.caught=o}error(r){if(!this.isStopped){let i;try{i=this.selector(r,this.caught)}catch(d){return void super.error(d)}this._unsubscribeAndRecycle();const o=new Oi.IY(this);this.add(o);const c=(0,Oi.ft)(i,o);c!==o&&this.add(c)}}}function $C(s){return r=>r.lift(new sP(s))}class sP{constructor(r){this.callback=r}call(r,i){return i.subscribe(new xM(r,this.callback))}}class xM extends rr.L{constructor(r,i){super(r),this.add(new Os.w(i))}}var zC=V(8819),yi=V(9773);function If(s,r){return(0,yi.zg)(s,r,1)}function Ir(s,r){return function(o){return o.lift(new RM(s,r))}}class RM{constructor(r,i){this.predicate=r,this.thisArg=i}call(r,i){return i.subscribe(new oP(r,this.predicate,this.thisArg))}}class oP extends rr.L{constructor(r,i,o){super(r),this.predicate=i,this.thisArg=o,this.count=0}_next(r){let i;try{i=this.predicate.call(this.thisArg,r,this.count++)}catch(o){return void this.destination.error(o)}i&&this.destination.next(r)}}class qC{}class so{constructor(r){this.normalizedNames=new Map,this.lazyUpdate=null,r?this.lazyInit="string"==typeof r?()=>{this.headers=new Map,r.split("\n").forEach(i=>{const o=i.indexOf(":");if(o>0){const c=i.slice(0,o),d=c.toLowerCase(),m=i.slice(o+1).trim();this.maybeSetNormalizedName(c,d),this.headers.has(d)?this.headers.get(d).push(m):this.headers.set(d,[m])}})}:()=>{this.headers=new Map,Object.keys(r).forEach(i=>{let o=r[i];const c=i.toLowerCase();"string"==typeof o&&(o=[o]),o.length>0&&(this.headers.set(c,o),this.maybeSetNormalizedName(i,c))})}:this.headers=new Map}has(r){return this.init(),this.headers.has(r.toLowerCase())}get(r){this.init();const i=this.headers.get(r.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(r){return this.init(),this.headers.get(r.toLowerCase())||null}append(r,i){return this.clone({name:r,value:i,op:"a"})}set(r,i){return this.clone({name:r,value:i,op:"s"})}delete(r,i){return this.clone({name:r,value:i,op:"d"})}maybeSetNormalizedName(r,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,r)}init(){this.lazyInit&&(this.lazyInit instanceof so?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(r=>this.applyUpdate(r)),this.lazyUpdate=null))}copyFrom(r){r.init(),Array.from(r.headers.keys()).forEach(i=>{this.headers.set(i,r.headers.get(i)),this.normalizedNames.set(i,r.normalizedNames.get(i))})}clone(r){const i=new so;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof so?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([r]),i}applyUpdate(r){const i=r.name.toLowerCase();switch(r.op){case"a":case"s":let o=r.value;if("string"==typeof o&&(o=[o]),0===o.length)return;this.maybeSetNormalizedName(r.name,i);const c=("a"===r.op?this.headers.get(i):void 0)||[];c.push(...o),this.headers.set(i,c);break;case"d":const d=r.value;if(d){let m=this.headers.get(i);if(!m)return;m=m.filter(v=>-1===d.indexOf(v)),0===m.length?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,m)}else this.headers.delete(i),this.normalizedNames.delete(i)}}forEach(r){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>r(this.normalizedNames.get(i),this.headers.get(i)))}}class eb{encodeKey(r){return kM(r)}encodeValue(r){return kM(r)}decodeKey(r){return decodeURIComponent(r)}decodeValue(r){return decodeURIComponent(r)}}const aP=/%(\d[a-f0-9])/gi,lP={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function kM(s){return encodeURIComponent(s).replace(aP,(r,i)=>{var o;return null!==(o=lP[i])&&void 0!==o?o:r})}function ZC(s){return`${s}`}class ha{constructor(r={}){if(this.updates=null,this.cloneFrom=null,this.encoder=r.encoder||new eb,r.fromString){if(r.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(s,r){const i=new Map;return s.length>0&&s.replace(/^\?/,"").split("&").forEach(c=>{const d=c.indexOf("="),[m,v]=-1==d?[r.decodeKey(c),""]:[r.decodeKey(c.slice(0,d)),r.decodeValue(c.slice(d+1))],S=i.get(m)||[];S.push(v),i.set(m,S)}),i}(r.fromString,this.encoder)}else r.fromObject?(this.map=new Map,Object.keys(r.fromObject).forEach(i=>{const o=r.fromObject[i];this.map.set(i,Array.isArray(o)?o:[o])})):this.map=null}has(r){return this.init(),this.map.has(r)}get(r){this.init();const i=this.map.get(r);return i?i[0]:null}getAll(r){return this.init(),this.map.get(r)||null}keys(){return this.init(),Array.from(this.map.keys())}append(r,i){return this.clone({param:r,value:i,op:"a"})}appendAll(r){const i=[];return Object.keys(r).forEach(o=>{const c=r[o];Array.isArray(c)?c.forEach(d=>{i.push({param:o,value:d,op:"a"})}):i.push({param:o,value:c,op:"a"})}),this.clone(i)}set(r,i){return this.clone({param:r,value:i,op:"s"})}delete(r,i){return this.clone({param:r,value:i,op:"d"})}toString(){return this.init(),this.keys().map(r=>{const i=this.encoder.encodeKey(r);return this.map.get(r).map(o=>i+"="+this.encoder.encodeValue(o)).join("&")}).filter(r=>""!==r).join("&")}clone(r){const i=new ha({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(r),i}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(r=>this.map.set(r,this.cloneFrom.map.get(r))),this.updates.forEach(r=>{switch(r.op){case"a":case"s":const i=("a"===r.op?this.map.get(r.param):void 0)||[];i.push(ZC(r.value)),this.map.set(r.param,i);break;case"d":if(void 0===r.value){this.map.delete(r.param);break}{let o=this.map.get(r.param)||[];const c=o.indexOf(ZC(r.value));-1!==c&&o.splice(c,1),o.length>0?this.map.set(r.param,o):this.map.delete(r.param)}}}),this.cloneFrom=this.updates=null)}}class NM{constructor(){this.map=new Map}set(r,i){return this.map.set(r,i),this}get(r){return this.map.has(r)||this.map.set(r,r.defaultValue()),this.map.get(r)}delete(r){return this.map.delete(r),this}keys(){return this.map.keys()}}function YC(s){return"undefined"!=typeof ArrayBuffer&&s instanceof ArrayBuffer}function tb(s){return"undefined"!=typeof Blob&&s instanceof Blob}function KC(s){return"undefined"!=typeof FormData&&s instanceof FormData}class fl{constructor(r,i,o,c){let d;if(this.url=i,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=r.toUpperCase(),function(s){switch(s){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||c?(this.body=void 0!==o?o:null,d=c):d=o,d&&(this.reportProgress=!!d.reportProgress,this.withCredentials=!!d.withCredentials,d.responseType&&(this.responseType=d.responseType),d.headers&&(this.headers=d.headers),d.context&&(this.context=d.context),d.params&&(this.params=d.params)),this.headers||(this.headers=new so),this.context||(this.context=new NM),this.params){const m=this.params.toString();if(0===m.length)this.urlWithParams=i;else{const v=i.indexOf("?");this.urlWithParams=i+(-1===v?"?":v<i.length-1?"&":"")+m}}else this.params=new ha,this.urlWithParams=i}serializeBody(){return null===this.body?null:YC(this.body)||tb(this.body)||KC(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof ha?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||KC(this.body)?null:tb(this.body)?this.body.type||null:YC(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ha?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(r={}){var i;const o=r.method||this.method,c=r.url||this.url,d=r.responseType||this.responseType,m=void 0!==r.body?r.body:this.body,v=void 0!==r.withCredentials?r.withCredentials:this.withCredentials,S=void 0!==r.reportProgress?r.reportProgress:this.reportProgress;let D=r.headers||this.headers,x=r.params||this.params;const k=null!==(i=r.context)&&void 0!==i?i:this.context;return void 0!==r.setHeaders&&(D=Object.keys(r.setHeaders).reduce((j,H)=>j.set(H,r.setHeaders[H]),D)),r.setParams&&(x=Object.keys(r.setParams).reduce((j,H)=>j.set(H,r.setParams[H]),x)),new fl(o,c,m,{params:x,headers:D,context:k,reportProgress:S,responseType:d,withCredentials:v})}}var ir=(()=>((ir=ir||{})[ir.Sent=0]="Sent",ir[ir.UploadProgress=1]="UploadProgress",ir[ir.ResponseHeader=2]="ResponseHeader",ir[ir.DownloadProgress=3]="DownloadProgress",ir[ir.Response=4]="Response",ir[ir.User=5]="User",ir))();class wm extends class{constructor(r,i=200,o="OK"){this.headers=r.headers||new so,this.status=void 0!==r.status?r.status:i,this.statusText=r.statusText||o,this.url=r.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(r={}){super(r),this.type=ir.Response,this.body=void 0!==r.body?r.body:null}clone(r={}){return new wm({body:void 0!==r.body?r.body:this.body,headers:r.headers||this.headers,status:void 0!==r.status?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}}function rb(s,r){return{body:r,headers:s.headers,context:s.context,observe:s.observe,params:s.params,reportProgress:s.reportProgress,responseType:s.responseType,withCredentials:s.withCredentials}}let Cm=(()=>{class s{constructor(i){this.handler=i}request(i,o,c={}){let d;if(i instanceof fl)d=i;else{let S,D;S=c.headers instanceof so?c.headers:new so(c.headers),c.params&&(D=c.params instanceof ha?c.params:new ha({fromObject:c.params})),d=new fl(i,o,void 0!==c.body?c.body:null,{headers:S,context:c.context,params:D,reportProgress:c.reportProgress,responseType:c.responseType||"json",withCredentials:c.withCredentials})}const m=(0,Xe.of)(d).pipe(If(S=>this.handler.handle(S)));if(i instanceof fl||"events"===c.observe)return m;const v=m.pipe(Ir(S=>S instanceof wm));switch(c.observe||"body"){case"body":switch(d.responseType){case"arraybuffer":return v.pipe((0,bt.U)(S=>{if(null!==S.body&&!(S.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return S.body}));case"blob":return v.pipe((0,bt.U)(S=>{if(null!==S.body&&!(S.body instanceof Blob))throw new Error("Response is not a Blob.");return S.body}));case"text":return v.pipe((0,bt.U)(S=>{if(null!==S.body&&"string"!=typeof S.body)throw new Error("Response is not a string.");return S.body}));case"json":default:return v.pipe((0,bt.U)(S=>S.body))}case"response":return v;default:throw new Error(`Unreachable: unhandled observe type ${c.observe}}`)}}delete(i,o={}){return this.request("DELETE",i,o)}get(i,o={}){return this.request("GET",i,o)}head(i,o={}){return this.request("HEAD",i,o)}jsonp(i,o){return this.request("JSONP",i,{params:(new ha).append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,o={}){return this.request("OPTIONS",i,o)}patch(i,o,c={}){return this.request("PATCH",i,rb(c,o))}post(i,o,c={}){return this.request("POST",i,rb(c,o))}put(i,o,c={}){return this.request("PUT",i,rb(c,o))}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(qC))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();const ab=["*"];function Dm(s){return Error(`Unable to find icon with the name "${s}"`)}function cS(s){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${s}".`)}function cb(s){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${s}".`)}class pl{constructor(r,i,o){this.url=r,this.svgText=i,this.options=o}}let ud=(()=>{class s{constructor(i,o,c,d){this._httpClient=i,this._sanitizer=o,this._errorHandler=d,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=c}addSvgIcon(i,o,c){return this.addSvgIconInNamespace("",i,o,c)}addSvgIconLiteral(i,o,c){return this.addSvgIconLiteralInNamespace("",i,o,c)}addSvgIconInNamespace(i,o,c,d){return this._addSvgIconConfig(i,o,new pl(c,null,d))}addSvgIconResolver(i){return this._resolvers.push(i),this}addSvgIconLiteralInNamespace(i,o,c,d){const m=this._sanitizer.sanitize(f.q3G.HTML,c);if(!m)throw cb(c);return this._addSvgIconConfig(i,o,new pl("",m,d))}addSvgIconSet(i,o){return this.addSvgIconSetInNamespace("",i,o)}addSvgIconSetLiteral(i,o){return this.addSvgIconSetLiteralInNamespace("",i,o)}addSvgIconSetInNamespace(i,o,c){return this._addSvgIconSetConfig(i,new pl(o,null,c))}addSvgIconSetLiteralInNamespace(i,o,c){const d=this._sanitizer.sanitize(f.q3G.HTML,o);if(!d)throw cb(o);return this._addSvgIconSetConfig(i,new pl("",d,c))}registerFontClassAlias(i,o=i){return this._fontCssClassesByAlias.set(i,o),this}classNameForFontAlias(i){return this._fontCssClassesByAlias.get(i)||i}setDefaultFontSetClass(i){return this._defaultFontSetClass=i,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(i){const o=this._sanitizer.sanitize(f.q3G.RESOURCE_URL,i);if(!o)throw cS(i);const c=this._cachedIconsByUrl.get(o);return c?(0,Xe.of)(Df(c)):this._loadSvgIconFromConfig(new pl(i,null)).pipe((0,Hr.b)(d=>this._cachedIconsByUrl.set(o,d)),(0,bt.U)(d=>Df(d)))}getNamedSvgIcon(i,o=""){const c=ub(o,i);let d=this._svgIconConfigs.get(c);if(d)return this._getSvgFromConfig(d);if(d=this._getIconConfigFromResolvers(o,i),d)return this._svgIconConfigs.set(c,d),this._getSvgFromConfig(d);const m=this._iconSetConfigs.get(o);return m?this._getSvgFromIconSetConfigs(i,m):(0,AM._)(Dm(c))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(i){return i.svgText?(0,Xe.of)(Df(this._svgElementFromConfig(i))):this._loadSvgIconFromConfig(i).pipe((0,bt.U)(o=>Df(o)))}_getSvgFromIconSetConfigs(i,o){const c=this._extractIconWithNameFromAnySet(i,o);return c?(0,Xe.of)(c):HC(o.filter(m=>!m.svgText).map(m=>this._loadSvgIconSetFromConfig(m).pipe(hl(v=>{const D=`Loading icon set URL: ${this._sanitizer.sanitize(f.q3G.RESOURCE_URL,m.url)} failed: ${v.message}`;return this._errorHandler.handleError(new Error(D)),(0,Xe.of)(null)})))).pipe((0,bt.U)(()=>{const m=this._extractIconWithNameFromAnySet(i,o);if(!m)throw Dm(i);return m}))}_extractIconWithNameFromAnySet(i,o){for(let c=o.length-1;c>=0;c--){const d=o[c];if(d.svgText&&d.svgText.indexOf(i)>-1){const m=this._svgElementFromConfig(d),v=this._extractSvgIconFromSet(m,i,d.options);if(v)return v}}return null}_loadSvgIconFromConfig(i){return this._fetchIcon(i).pipe((0,Hr.b)(o=>i.svgText=o),(0,bt.U)(()=>this._svgElementFromConfig(i)))}_loadSvgIconSetFromConfig(i){return i.svgText?(0,Xe.of)(null):this._fetchIcon(i).pipe((0,Hr.b)(o=>i.svgText=o))}_extractSvgIconFromSet(i,o,c){const d=i.querySelector(`[id="${o}"]`);if(!d)return null;const m=d.cloneNode(!0);if(m.removeAttribute("id"),"svg"===m.nodeName.toLowerCase())return this._setSvgAttributes(m,c);if("symbol"===m.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(m),c);const v=this._svgElementFromString("<svg></svg>");return v.appendChild(m),this._setSvgAttributes(v,c)}_svgElementFromString(i){const o=this._document.createElement("DIV");o.innerHTML=i;const c=o.querySelector("svg");if(!c)throw Error("<svg> tag not found");return c}_toSvgElement(i){const o=this._svgElementFromString("<svg></svg>"),c=i.attributes;for(let d=0;d<c.length;d++){const{name:m,value:v}=c[d];"id"!==m&&o.setAttribute(m,v)}for(let d=0;d<i.childNodes.length;d++)i.childNodes[d].nodeType===this._document.ELEMENT_NODE&&o.appendChild(i.childNodes[d].cloneNode(!0));return o}_setSvgAttributes(i,o){return i.setAttribute("fit",""),i.setAttribute("height","100%"),i.setAttribute("width","100%"),i.setAttribute("preserveAspectRatio","xMidYMid meet"),i.setAttribute("focusable","false"),o&&o.viewBox&&i.setAttribute("viewBox",o.viewBox),i}_fetchIcon(i){var o;const{url:c,options:d}=i,m=null!==(o=null==d?void 0:d.withCredentials)&&void 0!==o&&o;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==c)throw Error(`Cannot fetch icon from URL "${c}".`);const v=this._sanitizer.sanitize(f.q3G.RESOURCE_URL,c);if(!v)throw cS(c);const S=this._inProgressUrlFetches.get(v);if(S)return S;const D=this._httpClient.get(v,{responseType:"text",withCredentials:m}).pipe($C(()=>this._inProgressUrlFetches.delete(v)),(0,zC.B)());return this._inProgressUrlFetches.set(v,D),D}_addSvgIconConfig(i,o,c){return this._svgIconConfigs.set(ub(i,o),c),this}_addSvgIconSetConfig(i,o){const c=this._iconSetConfigs.get(i);return c?c.push(o):this._iconSetConfigs.set(i,[o]),this}_svgElementFromConfig(i){if(!i.svgElement){const o=this._svgElementFromString(i.svgText);this._setSvgAttributes(o,i.options),i.svgElement=o}return i.svgElement}_getIconConfigFromResolvers(i,o){for(let c=0;c<this._resolvers.length;c++){const d=this._resolvers[c](o,i);if(d)return dS(d)?new pl(d.url,null,d.options):new pl(d,null)}}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(Cm,8),f.LFG(ja),f.LFG(oe,8),f.LFG(f.qLn))},s.\u0275prov=f.Yz7({factory:function(){return new s(f.LFG(Cm,8),f.LFG(ja),f.LFG(oe,8),f.LFG(f.qLn))},token:s,providedIn:"root"}),s})();function Df(s){return s.cloneNode(!0)}function ub(s,r){return s+":"+r}function dS(s){return!(!s.url||!s.options)}const db=_f(class{constructor(s){this._elementRef=s}}),hS=new f.OlP("mat-icon-location",{providedIn:"root",factory:function(){const s=(0,f.f3M)(oe),r=s?s.location:null;return{getPathname:()=>r?r.pathname+r.search:""}}}),hb=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],gS=hb.map(s=>`[${s}]`).join(", "),mS=/^url\(['"]?#(.*?)['"]?\)$/;let Am=(()=>{class s extends db{constructor(i,o,c,d,m){super(i),this._iconRegistry=o,this._location=d,this._errorHandler=m,this._inline=!1,this._currentIconFetch=Os.w.EMPTY,c||i.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(i){this._inline=An(i)}get svgIcon(){return this._svgIcon}set svgIcon(i){i!==this._svgIcon&&(i?this._updateSvgIcon(i):this._svgIcon&&this._clearSvgElement(),this._svgIcon=i)}get fontSet(){return this._fontSet}set fontSet(i){const o=this._cleanupFontValue(i);o!==this._fontSet&&(this._fontSet=o,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(i){const o=this._cleanupFontValue(i);o!==this._fontIcon&&(this._fontIcon=o,this._updateFontIconClasses())}_splitIconName(i){if(!i)return["",""];const o=i.split(":");switch(o.length){case 1:return["",o[0]];case 2:return o;default:throw Error(`Invalid icon name: "${i}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const i=this._elementsWithExternalReferences;if(i&&i.size){const o=this._location.getPathname();o!==this._previousPath&&(this._previousPath=o,this._prependPathToReferences(o))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(i){this._clearSvgElement();const o=i.querySelectorAll("style");for(let d=0;d<o.length;d++)o[d].textContent+=" ";const c=this._location.getPathname();this._previousPath=c,this._cacheChildrenWithExternalReferences(i),this._prependPathToReferences(c),this._elementRef.nativeElement.appendChild(i)}_clearSvgElement(){const i=this._elementRef.nativeElement;let o=i.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();o--;){const c=i.childNodes[o];(1!==c.nodeType||"svg"===c.nodeName.toLowerCase())&&i.removeChild(c)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const i=this._elementRef.nativeElement,o=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();o!=this._previousFontSetClass&&(this._previousFontSetClass&&i.classList.remove(this._previousFontSetClass),o&&i.classList.add(o),this._previousFontSetClass=o),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&i.classList.remove(this._previousFontIconClass),this.fontIcon&&i.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(i){return"string"==typeof i?i.trim().split(" ")[0]:i}_prependPathToReferences(i){const o=this._elementsWithExternalReferences;o&&o.forEach((c,d)=>{c.forEach(m=>{d.setAttribute(m.name,`url('${i}#${m.value}')`)})})}_cacheChildrenWithExternalReferences(i){const o=i.querySelectorAll(gS),c=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let d=0;d<o.length;d++)hb.forEach(m=>{const v=o[d],S=v.getAttribute(m),D=S?S.match(mS):null;if(D){let x=c.get(v);x||(x=[],c.set(v,x)),x.push({name:m,value:D[1]})}})}_updateSvgIcon(i){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),i){const[o,c]=this._splitIconName(i);o&&(this._svgNamespace=o),c&&(this._svgName=c),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(c,o).pipe(Ks(1)).subscribe(d=>this._setSvgElement(d),d=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${o}:${c}! ${d.message}`))})}}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(f.SBq),f.Y36(ud),f.$8M("aria-hidden"),f.Y36(hS),f.Y36(f.qLn))},s.\u0275cmp=f.Xpm({type:s,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(i,o){2&i&&(f.uIk("data-mat-icon-type",o._usingFontIcon()?"font":"svg")("data-mat-icon-name",o._svgName||o.fontIcon)("data-mat-icon-namespace",o._svgNamespace||o.fontSet),f.ekj("mat-icon-inline",o.inline)("mat-icon-no-color","primary"!==o.color&&"accent"!==o.color&&"warn"!==o.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[f.qOj],ngContentSelectors:ab,decls:1,vars:0,template:function(i,o){1&i&&(f.F$t(),f.Hsn(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),s})(),_S=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({imports:[[Pn],Pn]}),s})();class dP extends rr.L{notifyNext(r,i,o,c,d){this.destination.next(i)}notifyError(r,i){this.destination.error(r)}notifyComplete(r){this.destination.complete()}}class UM extends rr.L{constructor(r,i,o){super(),this.parent=r,this.outerValue=i,this.outerIndex=o,this.index=0}_next(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)}_error(r){this.parent.notifyError(r,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var jM=V(7444);function yS(s,r,i,o,c=new UM(s,i,o)){if(!c.closed)return r instanceof qn.y?r.subscribe(c):(0,jM.s)(r)(c)}var HM=V(6693);const sr={};class GM{constructor(r){this.resultSelector=r}call(r,i){return i.subscribe(new $M(r,this.resultSelector))}}class $M extends dP{constructor(r,i){super(r),this.resultSelector=i,this.active=0,this.values=[],this.observables=[]}_next(r){this.values.push(sr),this.observables.push(r)}_complete(){const r=this.observables,i=r.length;if(0===i)this.destination.complete();else{this.active=i,this.toRespond=i;for(let o=0;o<i;o++)this.add(yS(this,r[o],void 0,o))}}notifyComplete(r){0==(this.active-=1)&&this.destination.complete()}notifyNext(r,i,o){const c=this.values,m=this.toRespond?c[o]===sr?--this.toRespond:this.toRespond:0;c[o]=i,0===m&&(this.resultSelector?this._tryResultSelector(c):this.destination.next(c.slice()))}_tryResultSelector(r){let i;try{i=this.resultSelector.apply(this,r)}catch(o){return void this.destination.error(o)}this.destination.next(i)}}const Mm=(()=>{function s(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return s.prototype=Object.create(Error.prototype),s})();function fb(s){return new qn.y(r=>{let i;try{i=s()}catch(c){return void r.error(c)}return(i?(0,Fn.D)(i):(0,Vr.c)()).subscribe(r)})}var bS=V(2441);function bn(s,r){return"function"==typeof r?i=>i.pipe(bn((o,c)=>(0,Fn.D)(s(o,c)).pipe((0,bt.U)((d,m)=>r(o,d,c,m))))):i=>i.lift(new qM(s))}class qM{constructor(r){this.project=r}call(r,i){return i.subscribe(new WM(r,this.project))}}class WM extends Oi.Ds{constructor(r,i){super(r),this.project=i,this.index=0}_next(r){let i;const o=this.index++;try{i=this.project(r,o)}catch(c){return void this.destination.error(c)}this._innerSub(i)}_innerSub(r){const i=this.innerSubscription;i&&i.unsubscribe();const o=new Oi.IY(this),c=this.destination;c.add(o),this.innerSubscription=(0,Oi.ft)(r,o),this.innerSubscription!==o&&c.add(this.innerSubscription)}_complete(){const{innerSubscription:r}=this;(!r||r.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(r){this.destination.next(r)}}function dd(s,r){let i=!1;return arguments.length>=2&&(i=!0),function(c){return c.lift(new ZM(s,r,i))}}class ZM{constructor(r,i,o=!1){this.accumulator=r,this.seed=i,this.hasSeed=o}call(r,i){return i.subscribe(new ES(r,this.accumulator,this.seed,this.hasSeed))}}class ES extends rr.L{constructor(r,i,o,c){super(r),this.accumulator=i,this._seed=o,this.hasSeed=c,this.index=0}get seed(){return this._seed}set seed(r){this.hasSeed=!0,this._seed=r}_next(r){if(this.hasSeed)return this._tryNext(r);this.seed=r,this.destination.next(r)}_tryNext(r){const i=this.index++;let o;try{o=this.accumulator(this.seed,r,i)}catch(c){this.destination.error(c)}this.seed=o,this.destination.next(o)}}function wS(s){return function(i){return 0===s?(0,Vr.c)():i.lift(new pb(s))}}class pb{constructor(r){if(this.total=r,this.total<0)throw new Oh}call(r,i){return i.subscribe(new gb(r,this.total))}}class gb extends rr.L{constructor(r,i){super(r),this.total=i,this.ring=new Array,this.count=0}_next(r){const i=this.ring,o=this.total,c=this.count++;i.length<o?i.push(r):i[c%o]=r}_complete(){const r=this.destination;let i=this.count;if(i>0){const o=this.count>=this.total?this.total:this.count,c=this.ring;for(let d=0;d<o;d++){const m=i++%o;r.next(c[m])}}r.complete()}}function ks(s=Ao){return r=>r.lift(new YM(s))}class YM{constructor(r){this.errorFactory=r}call(r,i){return i.subscribe(new CS(r,this.errorFactory))}}class CS extends rr.L{constructor(r,i){super(r),this.errorFactory=i,this.hasValue=!1}_next(r){this.hasValue=!0,this.destination.next(r)}_complete(){if(this.hasValue)return this.destination.complete();{let r;try{r=this.errorFactory()}catch(i){r=i}this.destination.error(r)}}}function Ao(){return new Mm}function Ns(s=null){return r=>r.lift(new oo(s))}class oo{constructor(r){this.defaultValue=r}call(r,i){return i.subscribe(new SS(r,this.defaultValue))}}class SS extends rr.L{constructor(r,i){super(r),this.defaultValue=i,this.isEmpty=!0}_next(r){this.isEmpty=!1,this.destination.next(r)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var mb=V(4487);function Fc(s,r){const i=arguments.length>=2;return o=>o.pipe(s?Ir((c,d)=>s(c,d,o)):mb.y,Ks(1),i?Ns(r):ks(()=>new Mm))}var QM=V(1307);class fa{constructor(r,i){this.id=r,this.url=i}}class Af extends fa{constructor(r,i,o="imperative",c=null){super(r,i),this.navigationTrigger=o,this.restoredState=c}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class pa extends fa{constructor(r,i,o){super(r,i),this.urlAfterRedirects=o}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class IS extends fa{constructor(r,i,o){super(r,i),this.reason=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class TS extends fa{constructor(r,i,o){super(r,i),this.error=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class JM extends fa{constructor(r,i,o,c){super(r,i),this.urlAfterRedirects=o,this.state=c}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class DS extends fa{constructor(r,i,o,c){super(r,i),this.urlAfterRedirects=o,this.state=c}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class AS extends fa{constructor(r,i,o,c,d){super(r,i),this.urlAfterRedirects=o,this.state=c,this.shouldActivate=d}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class xm extends fa{constructor(r,i,o,c){super(r,i),this.urlAfterRedirects=o,this.state=c}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class XM extends fa{constructor(r,i,o,c){super(r,i),this.urlAfterRedirects=o,this.state=c}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _b{constructor(r){this.route=r}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class yb{constructor(r){this.route=r}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class vb{constructor(r){this.snapshot=r}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rm{constructor(r){this.snapshot=r}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bb{constructor(r){this.snapshot=r}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Eb{constructor(r){this.snapshot=r}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wb{constructor(r,i,o){this.routerEvent=r,this.position=i,this.anchor=o}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const qt="primary";class MS{constructor(r){this.params=r||{}}has(r){return Object.prototype.hasOwnProperty.call(this.params,r)}get(r){if(this.has(r)){const i=this.params[r];return Array.isArray(i)?i[0]:i}return null}getAll(r){if(this.has(r)){const i=this.params[r];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}}function Lc(s){return new MS(s)}const Cb="ngNavigationCancelingError";function Om(s){const r=Error("NavigationCancelingError: "+s);return r[Cb]=!0,r}function tx(s,r,i){const o=i.path.split("/");if(o.length>s.length||"full"===i.pathMatch&&(r.hasChildren()||o.length<s.length))return null;const c={};for(let d=0;d<o.length;d++){const m=o[d],v=s[d];if(m.startsWith(":"))c[m.substring(1)]=v;else if(m!==v.path)return null}return{consumed:s.slice(0,o.length),posParams:c}}function Mo(s,r){const i=s?Object.keys(s):void 0,o=r?Object.keys(r):void 0;if(!i||!o||i.length!=o.length)return!1;let c;for(let d=0;d<i.length;d++)if(c=i[d],!xS(s[c],r[c]))return!1;return!0}function xS(s,r){if(Array.isArray(s)&&Array.isArray(r)){if(s.length!==r.length)return!1;const i=[...s].sort(),o=[...r].sort();return i.every((c,d)=>o[d]===c)}return s===r}function RS(s){return Array.prototype.concat.apply([],s)}function OS(s){return s.length>0?s[s.length-1]:null}function Gr(s,r){for(const i in s)s.hasOwnProperty(i)&&r(s[i],i)}function xo(s){return(0,f.CqO)(s)?s:(0,f.QGY)(s)?(0,Fn.D)(Promise.resolve(s)):(0,Xe.of)(s)}const ix={exact:function PS(s,r,i){if(!ml(s.segments,r.segments)||!Mf(s.segments,r.segments,i)||s.numberOfChildren!==r.numberOfChildren)return!1;for(const o in r.children)if(!s.children[o]||!PS(s.children[o],r.children[o],i))return!1;return!0},subset:FS},kS={exact:function(s,r){return Mo(s,r)},subset:function(s,r){return Object.keys(r).length<=Object.keys(s).length&&Object.keys(r).every(i=>xS(s[i],r[i]))},ignored:()=>!0};function NS(s,r,i){return ix[i.paths](s.root,r.root,i.matrixParams)&&kS[i.queryParams](s.queryParams,r.queryParams)&&!("exact"===i.fragment&&s.fragment!==r.fragment)}function FS(s,r,i){return Sb(s,r,r.segments,i)}function Sb(s,r,i,o){if(s.segments.length>i.length){const c=s.segments.slice(0,i.length);return!(!ml(c,i)||r.hasChildren()||!Mf(c,i,o))}if(s.segments.length===i.length){if(!ml(s.segments,i)||!Mf(s.segments,i,o))return!1;for(const c in r.children)if(!s.children[c]||!FS(s.children[c],r.children[c],o))return!1;return!0}{const c=i.slice(0,s.segments.length),d=i.slice(s.segments.length);return!!(ml(s.segments,c)&&Mf(s.segments,c,o)&&s.children[qt])&&Sb(s.children[qt],r,d,o)}}function Mf(s,r,i){return r.every((o,c)=>kS[i](s[c].parameters,o.parameters))}class gl{constructor(r,i,o){this.root=r,this.queryParams=i,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lc(this.queryParams)),this._queryParamMap}toString(){return Ib.serialize(this)}}class Kt{constructor(r,i){this.segments=r,this.children=i,this.parent=null,Gr(i,(o,c)=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ro(this)}}class hd{constructor(r,i){this.path=r,this.parameters=i}get parameterMap(){return this._parameterMap||(this._parameterMap=Lc(this.parameters)),this._parameterMap}toString(){return Ab(this)}}function ml(s,r){return s.length===r.length&&s.every((i,o)=>i.path===r[o].path)}class km{}class Nm{parse(r){const i=new Vm(r);return new gl(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(r){var s;return`${`/${xf(r.root,!0)}`}${function(s){const r=Object.keys(s).map(i=>{const o=s[i];return Array.isArray(o)?o.map(c=>`${ga(i)}=${ga(c)}`).join("&"):`${ga(i)}=${ga(o)}`}).filter(i=>!!i);return r.length?`?${r.join("&")}`:""}(r.queryParams)}${"string"==typeof r.fragment?`#${s=r.fragment,encodeURI(s)}`:""}`}}const Ib=new Nm;function Ro(s){return s.segments.map(r=>Ab(r)).join("/")}function xf(s,r){if(!s.hasChildren())return Ro(s);if(r){const i=s.children[qt]?xf(s.children[qt],!1):"",o=[];return Gr(s.children,(c,d)=>{d!==qt&&o.push(`${d}:${xf(c,!1)}`)}),o.length>0?`${i}(${o.join("//")})`:i}{const i=function(s,r){let i=[];return Gr(s.children,(o,c)=>{c===qt&&(i=i.concat(r(o,c)))}),Gr(s.children,(o,c)=>{c!==qt&&(i=i.concat(r(o,c)))}),i}(s,(o,c)=>c===qt?[xf(s.children[qt],!1)]:[`${c}:${xf(o,!1)}`]);return 1===Object.keys(s.children).length&&null!=s.children[qt]?`${Ro(s)}/${i[0]}`:`${Ro(s)}/(${i.join("//")})`}}function BS(s){return encodeURIComponent(s).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ga(s){return BS(s).replace(/%3B/gi,";")}function Rf(s){return BS(s).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Tb(s){return decodeURIComponent(s)}function Db(s){return Tb(s.replace(/\+/g,"%20"))}function Ab(s){return`${Rf(s.path)}${function(s){return Object.keys(s).map(r=>`;${Rf(r)}=${Rf(s[r])}`).join("")}(s.parameters)}`}const ax=/^[^\/()?;=#]+/;function Pm(s){const r=s.match(ax);return r?r[0]:""}const lx=/^[^=?&#]+/,cx=/^[^?&#]+/;class Vm{constructor(r){this.url=r,this.remaining=r}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Kt([],{}):new Kt([],this.parseChildren())}parseQueryParams(){const r={};if(this.consumeOptional("?"))do{this.parseQueryParam(r)}while(this.consumeOptional("&"));return r}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(r.length>0||Object.keys(i).length>0)&&(o[qt]=new Kt(r,i)),o}parseSegment(){const r=Pm(this.remaining);if(""===r&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(r),new hd(Tb(r),this.parseMatrixParams())}parseMatrixParams(){const r={};for(;this.consumeOptional(";");)this.parseParam(r);return r}parseParam(r){const i=Pm(this.remaining);if(!i)return;this.capture(i);let o="";if(this.consumeOptional("=")){const c=Pm(this.remaining);c&&(o=c,this.capture(o))}r[Tb(i)]=Tb(o)}parseQueryParam(r){const i=function(s){const r=s.match(lx);return r?r[0]:""}(this.remaining);if(!i)return;this.capture(i);let o="";if(this.consumeOptional("=")){const m=function(s){const r=s.match(cx);return r?r[0]:""}(this.remaining);m&&(o=m,this.capture(o))}const c=Db(i),d=Db(o);if(r.hasOwnProperty(c)){let m=r[c];Array.isArray(m)||(m=[m],r[c]=m),m.push(d)}else r[c]=d}parseParens(r){const i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=Pm(this.remaining),c=this.remaining[o.length];if("/"!==c&&")"!==c&&";"!==c)throw new Error(`Cannot parse url '${this.url}'`);let d;o.indexOf(":")>-1?(d=o.substr(0,o.indexOf(":")),this.capture(d),this.capture(":")):r&&(d=qt);const m=this.parseChildren();i[d]=1===Object.keys(m).length?m[qt]:new Kt([],m),this.consumeOptional("//")}return i}peekStartsWith(r){return this.remaining.startsWith(r)}consumeOptional(r){return!!this.peekStartsWith(r)&&(this.remaining=this.remaining.substring(r.length),!0)}capture(r){if(!this.consumeOptional(r))throw new Error(`Expected "${r}".`)}}class Ln{constructor(r){this._root=r}get root(){return this._root.value}parent(r){const i=this.pathFromRoot(r);return i.length>1?i[i.length-2]:null}children(r){const i=US(r,this._root);return i?i.children.map(o=>o.value):[]}firstChild(r){const i=US(r,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(r){const i=Bm(r,this._root);return i.length<2?[]:i[i.length-2].children.map(c=>c.value).filter(c=>c!==r)}pathFromRoot(r){return Bm(r,this._root).map(i=>i.value)}}function US(s,r){if(s===r.value)return r;for(const i of r.children){const o=US(s,i);if(o)return o}return null}function Bm(s,r){if(s===r.value)return[r];for(const i of r.children){const o=Bm(s,i);if(o.length)return o.unshift(r),o}return[]}class ao{constructor(r,i){this.value=r,this.children=i}toString(){return`TreeNode(${this.value})`}}function Of(s){const r={};return s&&s.children.forEach(i=>r[i.value.outlet]=i),r}class Mb extends Ln{constructor(r,i){super(r),this.snapshot=i,Rb(this,r)}toString(){return this.snapshot.toString()}}function xb(s,r){const i=function(s,r){const m=new Um([],{},{},"",{},qt,r,null,s.root,-1,{});return new fd("",new ao(m,[]))}(s,r),o=new Lr([new hd("",{})]),c=new Lr({}),d=new Lr({}),m=new Lr({}),v=new Lr(""),S=new _l(o,c,m,v,d,qt,r,i.root);return S.snapshot=i.root,new Mb(new ao(S,[]),i)}class _l{constructor(r,i,o,c,d,m,v,S){this.url=r,this.params=i,this.queryParams=o,this.fragment=c,this.data=d,this.outlet=m,this.component=v,this._futureSnapshot=S}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,bt.U)(r=>Lc(r)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,bt.U)(r=>Lc(r)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function HS(s,r="emptyOnly"){const i=s.pathFromRoot;let o=0;if("always"!==r)for(o=i.length-1;o>=1;){const c=i[o],d=i[o-1];if(c.routeConfig&&""===c.routeConfig.path)o--;else{if(d.component)break;o--}}return function(s){return s.reduce((r,i)=>({params:Object.assign(Object.assign({},r.params),i.params),data:Object.assign(Object.assign({},r.data),i.data),resolve:Object.assign(Object.assign({},r.resolve),i._resolvedData)}),{params:{},data:{},resolve:{}})}(i.slice(o))}class Um{constructor(r,i,o,c,d,m,v,S,D,x,k){this.url=r,this.params=i,this.queryParams=o,this.fragment=c,this.data=d,this.outlet=m,this.component=v,this.routeConfig=S,this._urlSegment=D,this._lastPathIndex=x,this._resolve=k}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Lc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class fd extends Ln{constructor(r,i){super(i),this.url=r,Rb(this,i)}toString(){return GS(this._root)}}function Rb(s,r){r.value._routerState=s,r.children.forEach(i=>Rb(s,i))}function GS(s){const r=s.children.length>0?` { ${s.children.map(GS).join(", ")} } `:"";return`${s.value}${r}`}function Ob(s){if(s.snapshot){const r=s.snapshot,i=s._futureSnapshot;s.snapshot=i,Mo(r.queryParams,i.queryParams)||s.queryParams.next(i.queryParams),r.fragment!==i.fragment&&s.fragment.next(i.fragment),Mo(r.params,i.params)||s.params.next(i.params),function(s,r){if(s.length!==r.length)return!1;for(let i=0;i<s.length;++i)if(!Mo(s[i],r[i]))return!1;return!0}(r.url,i.url)||s.url.next(i.url),Mo(r.data,i.data)||s.data.next(i.data)}else s.snapshot=s._futureSnapshot,s.data.next(s._futureSnapshot.data)}function pd(s,r){return Mo(s.params,r.params)&&function(s,r){return ml(s,r)&&s.every((i,o)=>Mo(i.parameters,r[o].parameters))}(s.url,r.url)&&!(!s.parent!=!r.parent)&&(!s.parent||pd(s.parent,r.parent))}function kf(s,r,i){if(i&&s.shouldReuseRoute(r.value,i.value.snapshot)){const o=i.value;o._futureSnapshot=r.value;const c=function(s,r,i){return r.children.map(o=>{for(const c of i.children)if(s.shouldReuseRoute(o.value,c.value.snapshot))return kf(s,o,c);return kf(s,o)})}(s,r,i);return new ao(o,c)}{if(s.shouldAttach(r.value)){const d=s.retrieve(r.value);if(null!==d){const m=d.route;return kb(r,m),m}}const o=function(s){return new _l(new Lr(s.url),new Lr(s.params),new Lr(s.queryParams),new Lr(s.fragment),new Lr(s.data),s.outlet,s.component,s)}(r.value),c=r.children.map(d=>kf(s,d));return new ao(o,c)}}function kb(s,r){if(s.value.routeConfig!==r.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(s.children.length!==r.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");r.value._futureSnapshot=s.value;for(let i=0;i<s.children.length;++i)kb(s.children[i],r.children[i])}function jm(s){return"object"==typeof s&&null!=s&&!s.outlets&&!s.segmentPath}function Ff(s){return"object"==typeof s&&null!=s&&s.outlets}function Nb(s,r,i,o,c){let d={};return o&&Gr(o,(m,v)=>{d[v]=Array.isArray(m)?m.map(S=>`${S}`):`${m}`}),new gl(i.root===s?r:Pb(i.root,s,r),d,c)}function Pb(s,r,i){const o={};return Gr(s.children,(c,d)=>{o[d]=c===r?i:Pb(c,r,i)}),new Kt(s.segments,o)}class Fb{constructor(r,i,o){if(this.isAbsolute=r,this.numberOfDoubleDots=i,this.commands=o,r&&o.length>0&&jm(o[0]))throw new Error("Root segment cannot have matrix parameters");const c=o.find(Ff);if(c&&c!==OS(o))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Lb{constructor(r,i,o){this.segmentGroup=r,this.processChildren=i,this.index=o}}function px(s,r,i){if(s||(s=new Kt([],{})),0===s.segments.length&&s.hasChildren())return Vb(s,r,i);const o=function(s,r,i){let o=0,c=r;const d={match:!1,pathIndex:0,commandIndex:0};for(;c<s.segments.length;){if(o>=i.length)return d;const m=s.segments[c],v=i[o];if(Ff(v))break;const S=`${v}`,D=o<i.length-1?i[o+1]:null;if(c>0&&void 0===S)break;if(S&&D&&"object"==typeof D&&void 0===D.outlets){if(!YS(S,D,m))return d;o+=2}else{if(!YS(S,{},m))return d;o++}c++}return{match:!0,pathIndex:c,commandIndex:o}}(s,r,i),c=i.slice(o.commandIndex);if(o.match&&o.pathIndex<s.segments.length){const d=new Kt(s.segments.slice(0,o.pathIndex),{});return d.children[qt]=new Kt(s.segments.slice(o.pathIndex),s.children),Vb(d,0,c)}return o.match&&0===c.length?new Kt(s.segments,{}):o.match&&!s.hasChildren()?WS(s,r,i):o.match?Vb(s,0,c):WS(s,r,i)}function Vb(s,r,i){if(0===i.length)return new Kt(s.segments,{});{const o=function(s){return Ff(s[0])?s[0].outlets:{[qt]:s}}(i),c={};return Gr(o,(d,m)=>{"string"==typeof d&&(d=[d]),null!==d&&(c[m]=px(s.children[m],r,d))}),Gr(s.children,(d,m)=>{void 0===o[m]&&(c[m]=d)}),new Kt(s.segments,c)}}function WS(s,r,i){const o=s.segments.slice(0,r);let c=0;for(;c<i.length;){const d=i[c];if(Ff(d)){const S=ZS(d.outlets);return new Kt(o,S)}if(0===c&&jm(i[0])){o.push(new hd(s.segments[r].path,Lf(i[0]))),c++;continue}const m=Ff(d)?d.outlets[qt]:`${d}`,v=c<i.length-1?i[c+1]:null;m&&v&&jm(v)?(o.push(new hd(m,Lf(v))),c+=2):(o.push(new hd(m,{})),c++)}return new Kt(o,{})}function ZS(s){const r={};return Gr(s,(i,o)=>{"string"==typeof i&&(i=[i]),null!==i&&(r[o]=WS(new Kt([],{}),0,i))}),r}function Lf(s){const r={};return Gr(s,(i,o)=>r[o]=`${i}`),r}function YS(s,r,i){return s==i.path&&Mo(r,i.parameters)}class KS{constructor(r,i,o,c){this.routeReuseStrategy=r,this.futureState=i,this.currState=o,this.forwardEvent=c}activate(r){const i=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,o,r),Ob(this.futureState.root),this.activateChildRoutes(i,o,r)}deactivateChildRoutes(r,i,o){const c=Of(i);r.children.forEach(d=>{const m=d.value.outlet;this.deactivateRoutes(d,c[m],o),delete c[m]}),Gr(c,(d,m)=>{this.deactivateRouteAndItsChildren(d,o)})}deactivateRoutes(r,i,o){const c=r.value,d=i?i.value:null;if(c===d)if(c.component){const m=o.getContext(c.outlet);m&&this.deactivateChildRoutes(r,i,m.children)}else this.deactivateChildRoutes(r,i,o);else d&&this.deactivateRouteAndItsChildren(i,o)}deactivateRouteAndItsChildren(r,i){this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,i):this.deactivateRouteAndOutlet(r,i)}detachAndStoreRouteSubtree(r,i){const o=i.getContext(r.value.outlet);if(o&&o.outlet){const c=o.outlet.detach(),d=o.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:c,route:r,contexts:d})}}deactivateRouteAndOutlet(r,i){const o=i.getContext(r.value.outlet),c=o&&r.value.component?o.children:i,d=Of(r);for(const m of Object.keys(d))this.deactivateRouteAndItsChildren(d[m],c);o&&o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated(),o.attachRef=null,o.resolver=null,o.route=null)}activateChildRoutes(r,i,o){const c=Of(i);r.children.forEach(d=>{this.activateRoutes(d,c[d.value.outlet],o),this.forwardEvent(new Eb(d.value.snapshot))}),r.children.length&&this.forwardEvent(new Rm(r.value.snapshot))}activateRoutes(r,i,o){const c=r.value,d=i?i.value:null;if(Ob(c),c===d)if(c.component){const m=o.getOrCreateContext(c.outlet);this.activateChildRoutes(r,i,m.children)}else this.activateChildRoutes(r,i,o);else if(c.component){const m=o.getOrCreateContext(c.outlet);if(this.routeReuseStrategy.shouldAttach(c.snapshot)){const v=this.routeReuseStrategy.retrieve(c.snapshot);this.routeReuseStrategy.store(c.snapshot,null),m.children.onOutletReAttached(v.contexts),m.attachRef=v.componentRef,m.route=v.route.value,m.outlet&&m.outlet.attach(v.componentRef,v.route.value),gd(v.route)}else{const v=function(s){for(let r=s.parent;r;r=r.parent){const i=r.routeConfig;if(i&&i._loadedConfig)return i._loadedConfig;if(i&&i.component)return null}return null}(c.snapshot),S=v?v.module.componentFactoryResolver:null;m.attachRef=null,m.route=c,m.resolver=S,m.outlet&&m.outlet.activateWith(c,S),this.activateChildRoutes(r,null,m.children)}}else this.activateChildRoutes(r,null,o)}}function gd(s){Ob(s.value),s.children.forEach(gd)}class Bb{constructor(r,i){this.routes=r,this.module=i}}function yl(s){return"function"==typeof s}function Vc(s){return s instanceof gl}const Vf=Symbol("INITIAL_VALUE");function _d(){return bn(s=>function(...s){let r,i;return(0,zu.K)(s[s.length-1])&&(i=s.pop()),"function"==typeof s[s.length-1]&&(r=s.pop()),1===s.length&&(0,Sf.k)(s[0])&&(s=s[0]),(0,HM.n)(s,i).lift(new GM(r))}(s.map(r=>r.pipe(Ks(1),Js(Vf)))).pipe(dd((r,i)=>{let o=!1;return i.reduce((c,d,m)=>c!==Vf?c:(d===Vf&&(o=!0),o||!1!==d&&m!==i.length-1&&!Vc(d)?c:d),r)},Vf),Ir(r=>r!==Vf),(0,bt.U)(r=>Vc(r)?r:!0===r),Ks(1)))}let Ub=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=f.Xpm({type:s,selectors:[["ng-component"]],decls:1,vars:0,template:function(i,o){1&i&&f._UZ(0,"router-outlet")},directives:function(){return[Xb]},encapsulation:2}),s})();function jb(s,r=""){for(let i=0;i<s.length;i++){const o=s[i];bx(o,JS(r,o))}}function bx(s,r){s.children&&jb(s.children,r)}function JS(s,r){return r?s||r.path?s&&!r.path?`${s}/`:!s&&r.path?r.path:`${s}/${r.path}`:"":s}function Hb(s){const r=s.children&&s.children.map(Hb),i=r?Object.assign(Object.assign({},s),{children:r}):Object.assign({},s);return!i.component&&(r||i.loadChildren)&&i.outlet&&i.outlet!==qt&&(i.component=Ub),i}function Bi(s){return s.outlet||qt}function XS(s,r){const i=s.filter(o=>Bi(o)===r);return i.push(...s.filter(o=>Bi(o)!==r)),i}const Gb={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Bf(s,r,i){var o;if(""===r.path)return"full"===r.pathMatch&&(s.hasChildren()||i.length>0)?Object.assign({},Gb):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const d=(r.matcher||tx)(i,s,r);if(!d)return Object.assign({},Gb);const m={};Gr(d.posParams,(S,D)=>{m[D]=S.path});const v=d.consumed.length>0?Object.assign(Object.assign({},m),d.consumed[d.consumed.length-1].parameters):m;return{matched:!0,consumedSegments:d.consumed,lastChild:d.consumed.length,parameters:v,positionalParamSegments:null!==(o=d.posParams)&&void 0!==o?o:{}}}function Hm(s,r,i,o,c="corrected"){if(i.length>0&&function(s,r,i){return i.some(o=>Uf(s,r,o)&&Bi(o)!==qt)}(s,i,o)){const m=new Kt(r,function(s,r,i,o){const c={};c[qt]=o,o._sourceSegment=s,o._segmentIndexShift=r.length;for(const d of i)if(""===d.path&&Bi(d)!==qt){const m=new Kt([],{});m._sourceSegment=s,m._segmentIndexShift=r.length,c[Bi(d)]=m}return c}(s,r,o,new Kt(i,s.children)));return m._sourceSegment=s,m._segmentIndexShift=r.length,{segmentGroup:m,slicedSegments:[]}}if(0===i.length&&function(s,r,i){return i.some(o=>Uf(s,r,o))}(s,i,o)){const m=new Kt(s.segments,function(s,r,i,o,c,d){const m={};for(const v of o)if(Uf(s,i,v)&&!c[Bi(v)]){const S=new Kt([],{});S._sourceSegment=s,S._segmentIndexShift="legacy"===d?s.segments.length:r.length,m[Bi(v)]=S}return Object.assign(Object.assign({},c),m)}(s,r,i,o,s.children,c));return m._sourceSegment=s,m._segmentIndexShift=r.length,{segmentGroup:m,slicedSegments:i}}const d=new Kt(s.segments,s.children);return d._sourceSegment=s,d._segmentIndexShift=r.length,{segmentGroup:d,slicedSegments:i}}function Uf(s,r,i){return(!(s.hasChildren()||r.length>0)||"full"!==i.pathMatch)&&""===i.path}function eI(s,r,i,o){return!!(Bi(s)===o||o!==qt&&Uf(r,i,s))&&("**"===s.path||Bf(r,s,i).matched)}function tI(s,r,i){return 0===r.length&&!s.children[i]}class jf{constructor(r){this.segmentGroup=r||null}}class nI{constructor(r){this.urlTree=r}}function Gm(s){return new qn.y(r=>r.error(new jf(s)))}function rI(s){return new qn.y(r=>r.error(new nI(s)))}function Sx(s){return new qn.y(r=>r.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${s}'`)))}class sI{constructor(r,i,o,c,d){this.configLoader=i,this.urlSerializer=o,this.urlTree=c,this.config=d,this.allowRedirects=!0,this.ngModule=r.get(f.h0i)}apply(){const r=Hm(this.urlTree.root,[],[],this.config).segmentGroup,i=new Kt(r.segments,r.children);return this.expandSegmentGroup(this.ngModule,this.config,i,qt).pipe((0,bt.U)(d=>this.createUrlTree(zb(d),this.urlTree.queryParams,this.urlTree.fragment))).pipe(hl(d=>{if(d instanceof nI)return this.allowRedirects=!1,this.match(d.urlTree);throw d instanceof jf?this.noMatchError(d):d}))}match(r){return this.expandSegmentGroup(this.ngModule,this.config,r.root,qt).pipe((0,bt.U)(c=>this.createUrlTree(zb(c),r.queryParams,r.fragment))).pipe(hl(c=>{throw c instanceof jf?this.noMatchError(c):c}))}noMatchError(r){return new Error(`Cannot match any routes. URL Segment: '${r.segmentGroup}'`)}createUrlTree(r,i,o){const c=r.segments.length>0?new Kt([],{[qt]:r}):r;return new gl(c,i,o)}expandSegmentGroup(r,i,o,c){return 0===o.segments.length&&o.hasChildren()?this.expandChildren(r,i,o).pipe((0,bt.U)(d=>new Kt([],d))):this.expandSegment(r,o,i,o.segments,c,!0)}expandChildren(r,i,o){const c=[];for(const d of Object.keys(o.children))"primary"===d?c.unshift(d):c.push(d);return(0,Fn.D)(c).pipe(If(d=>{const m=o.children[d],v=XS(i,d);return this.expandSegmentGroup(r,v,m,d).pipe((0,bt.U)(S=>({segment:S,outlet:d})))}),dd((d,m)=>(d[m.outlet]=m.segment,d),{}),function(s,r){const i=arguments.length>=2;return o=>o.pipe(s?Ir((c,d)=>s(c,d,o)):mb.y,wS(1),i?Ns(r):ks(()=>new Mm))}())}expandSegment(r,i,o,c,d,m){return(0,Fn.D)(o).pipe(If(v=>this.expandSegmentAgainstRoute(r,i,o,v,c,d,m).pipe(hl(D=>{if(D instanceof jf)return(0,Xe.of)(null);throw D}))),Fc(v=>!!v),hl((v,S)=>{if(v instanceof Mm||"EmptyError"===v.name){if(tI(i,c,d))return(0,Xe.of)(new Kt([],{}));throw new jf(i)}throw v}))}expandSegmentAgainstRoute(r,i,o,c,d,m,v){return eI(c,i,d,m)?void 0===c.redirectTo?this.matchSegmentAgainstRoute(r,i,c,d,m):v&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(r,i,o,c,d,m):Gm(i):Gm(i)}expandSegmentAgainstRouteUsingRedirect(r,i,o,c,d,m){return"**"===c.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(r,o,c,m):this.expandRegularSegmentAgainstRouteUsingRedirect(r,i,o,c,d,m)}expandWildCardWithParamsAgainstRouteUsingRedirect(r,i,o,c){const d=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?rI(d):this.lineralizeSegments(o,d).pipe((0,yi.zg)(m=>{const v=new Kt(m,{});return this.expandSegment(r,v,i,m,c,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(r,i,o,c,d,m){const{matched:v,consumedSegments:S,lastChild:D,positionalParamSegments:x}=Bf(i,c,d);if(!v)return Gm(i);const k=this.applyRedirectCommands(S,c.redirectTo,x);return c.redirectTo.startsWith("/")?rI(k):this.lineralizeSegments(c,k).pipe((0,yi.zg)(j=>this.expandSegment(r,i,o,j.concat(d.slice(D)),m,!1)))}matchSegmentAgainstRoute(r,i,o,c,d){if("**"===o.path)return o.loadChildren?(o._loadedConfig?(0,Xe.of)(o._loadedConfig):this.configLoader.load(r.injector,o)).pipe((0,bt.U)(j=>(o._loadedConfig=j,new Kt(c,{})))):(0,Xe.of)(new Kt(c,{}));const{matched:m,consumedSegments:v,lastChild:S}=Bf(i,o,c);if(!m)return Gm(i);const D=c.slice(S);return this.getChildConfig(r,o,c).pipe((0,yi.zg)(k=>{const j=k.module,H=k.routes,{segmentGroup:X,slicedSegments:ye}=Hm(i,v,D,H),Re=new Kt(X.segments,X.children);if(0===ye.length&&Re.hasChildren())return this.expandChildren(j,H,Re).pipe((0,bt.U)(mt=>new Kt(v,mt)));if(0===H.length&&0===ye.length)return(0,Xe.of)(new Kt(v,{}));const Ge=Bi(o)===d;return this.expandSegment(j,Re,H,ye,Ge?qt:d,!0).pipe((0,bt.U)(Qe=>new Kt(v.concat(Qe.segments),Qe.children)))}))}getChildConfig(r,i,o){return i.children?(0,Xe.of)(new Bb(i.children,r)):i.loadChildren?void 0!==i._loadedConfig?(0,Xe.of)(i._loadedConfig):this.runCanLoadGuards(r.injector,i,o).pipe((0,yi.zg)(c=>{return c?this.configLoader.load(r.injector,i).pipe((0,bt.U)(d=>(i._loadedConfig=d,d))):(s=i,new qn.y(r=>r.error(Om(`Cannot load children because the guard of the route "path: '${s.path}'" returned false`))));var s})):(0,Xe.of)(new Bb([],r))}runCanLoadGuards(r,i,o){const c=i.canLoad;if(!c||0===c.length)return(0,Xe.of)(!0);const d=c.map(m=>{const v=r.get(m);let S;if((s=v)&&yl(s.canLoad))S=v.canLoad(i,o);else{if(!yl(v))throw new Error("Invalid CanLoad guard");S=v(i,o)}var s;return xo(S)});return(0,Xe.of)(d).pipe(_d(),(0,Hr.b)(m=>{if(!Vc(m))return;const v=Om(`Redirecting to "${this.urlSerializer.serialize(m)}"`);throw v.url=m,v}),(0,bt.U)(m=>!0===m))}lineralizeSegments(r,i){let o=[],c=i.root;for(;;){if(o=o.concat(c.segments),0===c.numberOfChildren)return(0,Xe.of)(o);if(c.numberOfChildren>1||!c.children[qt])return Sx(r.redirectTo);c=c.children[qt]}}applyRedirectCommands(r,i,o){return this.applyRedirectCreatreUrlTree(i,this.urlSerializer.parse(i),r,o)}applyRedirectCreatreUrlTree(r,i,o,c){const d=this.createSegmentGroup(r,i.root,o,c);return new gl(d,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(r,i){const o={};return Gr(r,(c,d)=>{if("string"==typeof c&&c.startsWith(":")){const v=c.substring(1);o[d]=i[v]}else o[d]=c}),o}createSegmentGroup(r,i,o,c){const d=this.createSegments(r,i.segments,o,c);let m={};return Gr(i.children,(v,S)=>{m[S]=this.createSegmentGroup(r,v,o,c)}),new Kt(d,m)}createSegments(r,i,o,c){return i.map(d=>d.path.startsWith(":")?this.findPosParam(r,d,c):this.findOrReturn(d,o))}findPosParam(r,i,o){const c=o[i.path.substring(1)];if(!c)throw new Error(`Cannot redirect to '${r}'. Cannot find '${i.path}'.`);return c}findOrReturn(r,i){let o=0;for(const c of i){if(c.path===r.path)return i.splice(o),c;o++}return r}}function zb(s){const r={};for(const o of Object.keys(s.children)){const d=zb(s.children[o]);(d.segments.length>0||d.hasChildren())&&(r[o]=d)}return function(s){if(1===s.numberOfChildren&&s.children[qt]){const r=s.children[qt];return new Kt(s.segments.concat(r.segments),r.children)}return s}(new Kt(s.segments,r))}class aI{constructor(r){this.path=r,this.route=this.path[this.path.length-1]}}class $m{constructor(r,i){this.component=r,this.route=i}}function Dx(s,r,i){const o=s._root;return Bc(o,r?r._root:null,i,[o.value])}function yd(s,r,i){const o=function(s){if(!s)return null;for(let r=s.parent;r;r=r.parent){const i=r.routeConfig;if(i&&i._loadedConfig)return i._loadedConfig}return null}(r);return(o?o.module.injector:i).get(s)}function Bc(s,r,i,o,c={canDeactivateChecks:[],canActivateChecks:[]}){const d=Of(r);return s.children.forEach(m=>{(function(s,r,i,o,c={canDeactivateChecks:[],canActivateChecks:[]}){const d=s.value,m=r?r.value:null,v=i?i.getContext(s.value.outlet):null;if(m&&d.routeConfig===m.routeConfig){const S=function(s,r,i){if("function"==typeof i)return i(s,r);switch(i){case"pathParamsChange":return!ml(s.url,r.url);case"pathParamsOrQueryParamsChange":return!ml(s.url,r.url)||!Mo(s.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!pd(s,r)||!Mo(s.queryParams,r.queryParams);case"paramsChange":default:return!pd(s,r)}}(m,d,d.routeConfig.runGuardsAndResolvers);S?c.canActivateChecks.push(new aI(o)):(d.data=m.data,d._resolvedData=m._resolvedData),Bc(s,r,d.component?v?v.children:null:i,o,c),S&&v&&v.outlet&&v.outlet.isActivated&&c.canDeactivateChecks.push(new $m(v.outlet.component,m))}else m&&Uc(r,v,c),c.canActivateChecks.push(new aI(o)),Bc(s,null,d.component?v?v.children:null:i,o,c)})(m,d[m.value.outlet],i,o.concat([m.value]),c),delete d[m.value.outlet]}),Gr(d,(m,v)=>Uc(m,i.getContext(v),c)),c}function Uc(s,r,i){const o=Of(s),c=s.value;Gr(o,(d,m)=>{Uc(d,c.component?r?r.children.getContext(m):null:r,i)}),i.canDeactivateChecks.push(new $m(c.component&&r&&r.outlet&&r.outlet.isActivated?r.outlet.component:null,c))}class jc{}function kx(s){return new qn.y(r=>r.error(s))}class zm{constructor(r,i,o,c,d,m){this.rootComponentType=r,this.config=i,this.urlTree=o,this.url=c,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=m}recognize(){const r=Hm(this.urlTree.root,[],[],this.config.filter(m=>void 0===m.redirectTo),this.relativeLinkResolution).segmentGroup,i=this.processSegmentGroup(this.config,r,qt);if(null===i)return null;const o=new Um([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},qt,this.rootComponentType,null,this.urlTree.root,-1,{}),c=new ao(o,i),d=new fd(this.url,c);return this.inheritParamsAndData(d._root),d}inheritParamsAndData(r){const i=r.value,o=HS(i,this.paramsInheritanceStrategy);i.params=Object.freeze(o.params),i.data=Object.freeze(o.data),r.children.forEach(c=>this.inheritParamsAndData(c))}processSegmentGroup(r,i,o){return 0===i.segments.length&&i.hasChildren()?this.processChildren(r,i):this.processSegment(r,i,i.segments,o)}processChildren(r,i){const o=[];for(const d of Object.keys(i.children)){const m=i.children[d],v=XS(r,d),S=this.processSegmentGroup(v,m,d);if(null===S)return null;o.push(...S)}const c=Fx(o);return c.sort((r,i)=>r.value.outlet===qt?-1:i.value.outlet===qt?1:r.value.outlet.localeCompare(i.value.outlet)),c}processSegment(r,i,o,c){for(const d of r){const m=this.processSegmentAgainstRoute(d,i,o,c);if(null!==m)return m}return tI(i,o,c)?[]:null}processSegmentAgainstRoute(r,i,o,c){if(r.redirectTo||!eI(r,i,o,c))return null;let d,m=[],v=[];if("**"===r.path){const H=o.length>0?OS(o).parameters:{};d=new Um(o,H,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Lx(r),Bi(r),r.component,r,lo(i),Zb(i)+o.length,Hf(r))}else{const H=Bf(i,r,o);if(!H.matched)return null;m=H.consumedSegments,v=o.slice(H.lastChild),d=new Um(m,H.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Lx(r),Bi(r),r.component,r,lo(i),Zb(i)+m.length,Hf(r))}const S=(s=r).children?s.children:s.loadChildren?s._loadedConfig.routes:[],{segmentGroup:D,slicedSegments:x}=Hm(i,m,v,S.filter(H=>void 0===H.redirectTo),this.relativeLinkResolution);var s;if(0===x.length&&D.hasChildren()){const H=this.processChildren(S,D);return null===H?null:[new ao(d,H)]}if(0===S.length&&0===x.length)return[new ao(d,[])];const k=Bi(r)===c,j=this.processSegment(S,D,x,k?qt:c);return null===j?null:[new ao(d,j)]}}function Px(s){const r=s.value.routeConfig;return r&&""===r.path&&void 0===r.redirectTo}function Fx(s){const r=[],i=new Set;for(const o of s){if(!Px(o)){r.push(o);continue}const c=r.find(d=>o.value.routeConfig===d.value.routeConfig);void 0!==c?(c.children.push(...o.children),i.add(c)):r.push(o)}for(const o of i){const c=Fx(o.children);r.push(new ao(o.value,c))}return r.filter(o=>!i.has(o))}function lo(s){let r=s;for(;r._sourceSegment;)r=r._sourceSegment;return r}function Zb(s){let r=s,i=r._segmentIndexShift?r._segmentIndexShift:0;for(;r._sourceSegment;)r=r._sourceSegment,i+=r._segmentIndexShift?r._segmentIndexShift:0;return i-1}function Lx(s){return s.data||{}}function Hf(s){return s.resolve||{}}function Yb(s){return bn(r=>{const i=s(r);return i?(0,Fn.D)(i).pipe((0,bt.U)(()=>r)):(0,Xe.of)(r)})}class Qb extends class{shouldDetach(r){return!1}store(r,i){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,i){return r.routeConfig===i.routeConfig}}{}const qm=new f.OlP("ROUTES");class pI{constructor(r,i,o,c){this.loader=r,this.compiler=i,this.onLoadStartListener=o,this.onLoadEndListener=c}load(r,i){if(i._loader$)return i._loader$;this.onLoadStartListener&&this.onLoadStartListener(i);const c=this.loadModuleFactory(i.loadChildren).pipe((0,bt.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(i);const m=d.create(r);return new Bb(RS(m.injector.get(qm,void 0,f.XFs.Self|f.XFs.Optional)).map(Hb),m)}),hl(d=>{throw i._loader$=void 0,d}));return i._loader$=new bS.c(c,()=>new Ot.xQ).pipe((0,QM.x)()),i._loader$}loadModuleFactory(r){return"string"==typeof r?(0,Fn.D)(this.loader.load(r)):xo(r()).pipe((0,yi.zg)(i=>i instanceof f.YKP?(0,Xe.of)(i):(0,Fn.D)(this.compiler.compileModuleAsync(i))))}}class vP{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new bd,this.attachRef=null}}class bd{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new vP,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}class Gx{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}function gI(s){throw s}function mI(s,r,i){return r.parse("/")}function Jb(s,r){return(0,Xe.of)(null)}const $x={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},zx={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ai=(()=>{class s{constructor(i,o,c,d,m,v,S,D){this.rootComponentType=i,this.urlSerializer=o,this.rootContexts=c,this.location=d,this.config=D,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ot.xQ,this.errorHandler=gI,this.malformedUriErrorHandler=mI,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Jb,afterPreactivation:Jb},this.urlHandlingStrategy=new Gx,this.routeReuseStrategy=new Qb,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=m.get(f.h0i),this.console=m.get(f.c2e);const j=m.get(f.R0b);this.isNgZoneEnabled=j instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(D),this.currentUrlTree=new gl(new Kt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new pI(v,S,H=>this.triggerEvent(new _b(H)),H=>this.triggerEvent(new yb(H))),this.routerState=xb(this.currentUrlTree,this.rootComponentType),this.transitions=new Lr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var i;return null===(i=this.location.getState())||void 0===i?void 0:i.\u0275routerPageId}setupNavigations(i){const o=this.events;return i.pipe(Ir(c=>0!==c.id),(0,bt.U)(c=>Object.assign(Object.assign({},c),{extractedUrl:this.urlHandlingStrategy.extract(c.rawUrl)})),bn(c=>{let d=!1,m=!1;return(0,Xe.of)(c).pipe((0,Hr.b)(v=>{this.currentNavigation={id:v.id,initialUrl:v.currentRawUrl,extractedUrl:v.extractedUrl,trigger:v.source,extras:v.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),bn(v=>{const S=!this.navigated||v.extractedUrl.toString()!==this.browserUrlTree.toString(),D=("reload"===this.onSameUrlNavigation||S)&&this.urlHandlingStrategy.shouldProcessUrl(v.rawUrl);if(Zm(v.source)&&(this.browserUrlTree=v.rawUrl),D)return(0,Xe.of)(v).pipe(bn(x=>{const k=this.transitions.getValue();return o.next(new Af(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),k!==this.transitions.getValue()?Vr.E:Promise.resolve(x)}),function(s,r,i,o){return bn(c=>function(s,r,i,o,c){return new sI(s,r,i,o,c).apply()}(s,r,i,c.extractedUrl,o).pipe((0,bt.U)(d=>Object.assign(Object.assign({},c),{urlAfterRedirects:d}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Hr.b)(x=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:x.urlAfterRedirects})}),function(s,r,i,o,c){return(0,yi.zg)(d=>function(s,r,i,o,c="emptyOnly",d="legacy"){try{const m=new zm(s,r,i,o,c,d).recognize();return null===m?kx(new jc):(0,Xe.of)(m)}catch(m){return kx(m)}}(s,r,d.urlAfterRedirects,i(d.urlAfterRedirects),o,c).pipe((0,bt.U)(m=>Object.assign(Object.assign({},d),{targetSnapshot:m}))))}(this.rootComponentType,this.config,x=>this.serializeUrl(x),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Hr.b)(x=>{"eager"===this.urlUpdateStrategy&&(x.extras.skipLocationChange||this.setBrowserUrl(x.urlAfterRedirects,x),this.browserUrlTree=x.urlAfterRedirects);const k=new JM(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);o.next(k)}));if(S&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:k,extractedUrl:j,source:H,restoredState:X,extras:ye}=v,Re=new Af(k,this.serializeUrl(j),H,X);o.next(Re);const Ge=xb(j,this.rootComponentType).snapshot;return(0,Xe.of)(Object.assign(Object.assign({},v),{targetSnapshot:Ge,urlAfterRedirects:j,extras:Object.assign(Object.assign({},ye),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=v.rawUrl,this.browserUrlTree=v.urlAfterRedirects,v.resolve(null),Vr.E}),Yb(v=>{const{targetSnapshot:S,id:D,extractedUrl:x,rawUrl:k,extras:{skipLocationChange:j,replaceUrl:H}}=v;return this.hooks.beforePreactivation(S,{navigationId:D,appliedUrlTree:x,rawUrlTree:k,skipLocationChange:!!j,replaceUrl:!!H})}),(0,Hr.b)(v=>{const S=new DS(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(S)}),(0,bt.U)(v=>Object.assign(Object.assign({},v),{guards:Dx(v.targetSnapshot,v.currentSnapshot,this.rootContexts)})),function(s,r){return(0,yi.zg)(i=>{const{targetSnapshot:o,currentSnapshot:c,guards:{canActivateChecks:d,canDeactivateChecks:m}}=i;return 0===m.length&&0===d.length?(0,Xe.of)(Object.assign(Object.assign({},i),{guardsResult:!0})):function(s,r,i,o){return(0,Fn.D)(s).pipe((0,yi.zg)(c=>function(s,r,i,o,c){const d=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!d||0===d.length)return(0,Xe.of)(!0);const m=d.map(v=>{const S=yd(v,r,c);let D;if(function(s){return s&&yl(s.canDeactivate)}(S))D=xo(S.canDeactivate(s,r,i,o));else{if(!yl(S))throw new Error("Invalid CanDeactivate guard");D=xo(S(s,r,i,o))}return D.pipe(Fc())});return(0,Xe.of)(m).pipe(_d())}(c.component,c.route,i,r,o)),Fc(c=>!0!==c,!0))}(m,o,c,s).pipe((0,yi.zg)(v=>v&&function(s){return"boolean"==typeof s}(v)?function(s,r,i,o){return(0,Fn.D)(r).pipe(If(c=>ol(function(s,r){return null!==s&&r&&r(new vb(s)),(0,Xe.of)(!0)}(c.route.parent,o),function(s,r){return null!==s&&r&&r(new bb(s)),(0,Xe.of)(!0)}(c.route,o),function(s,r,i){const o=r[r.length-1],d=r.slice(0,r.length-1).reverse().map(m=>function(s){const r=s.routeConfig?s.routeConfig.canActivateChild:null;return r&&0!==r.length?{node:s,guards:r}:null}(m)).filter(m=>null!==m).map(m=>fb(()=>{const v=m.guards.map(S=>{const D=yd(S,m.node,i);let x;if(function(s){return s&&yl(s.canActivateChild)}(D))x=xo(D.canActivateChild(o,s));else{if(!yl(D))throw new Error("Invalid CanActivateChild guard");x=xo(D(o,s))}return x.pipe(Fc())});return(0,Xe.of)(v).pipe(_d())}));return(0,Xe.of)(d).pipe(_d())}(s,c.path,i),function(s,r,i){const o=r.routeConfig?r.routeConfig.canActivate:null;if(!o||0===o.length)return(0,Xe.of)(!0);const c=o.map(d=>fb(()=>{const m=yd(d,r,i);let v;if(function(s){return s&&yl(s.canActivate)}(m))v=xo(m.canActivate(r,s));else{if(!yl(m))throw new Error("Invalid CanActivate guard");v=xo(m(r,s))}return v.pipe(Fc())}));return(0,Xe.of)(c).pipe(_d())}(s,c.route,i))),Fc(c=>!0!==c,!0))}(o,d,s,r):(0,Xe.of)(v)),(0,bt.U)(v=>Object.assign(Object.assign({},i),{guardsResult:v})))})}(this.ngModule.injector,v=>this.triggerEvent(v)),(0,Hr.b)(v=>{if(Vc(v.guardsResult)){const D=Om(`Redirecting to "${this.serializeUrl(v.guardsResult)}"`);throw D.url=v.guardsResult,D}const S=new AS(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot,!!v.guardsResult);this.triggerEvent(S)}),Ir(v=>!!v.guardsResult||(this.restoreHistory(v),this.cancelNavigationTransition(v,""),!1)),Yb(v=>{if(v.guards.canActivateChecks.length)return(0,Xe.of)(v).pipe((0,Hr.b)(S=>{const D=new xm(S.id,this.serializeUrl(S.extractedUrl),this.serializeUrl(S.urlAfterRedirects),S.targetSnapshot);this.triggerEvent(D)}),bn(S=>{let D=!1;return(0,Xe.of)(S).pipe(function(s,r){return(0,yi.zg)(i=>{const{targetSnapshot:o,guards:{canActivateChecks:c}}=i;if(!c.length)return(0,Xe.of)(i);let d=0;return(0,Fn.D)(c).pipe(If(m=>function(s,r,i,o){return function(s,r,i,o){const c=Object.keys(s);if(0===c.length)return(0,Xe.of)({});const d={};return(0,Fn.D)(c).pipe((0,yi.zg)(m=>function(s,r,i,o){const c=yd(s,r,o);return xo(c.resolve?c.resolve(r,i):c(r,i))}(s[m],r,i,o).pipe((0,Hr.b)(v=>{d[m]=v}))),wS(1),(0,yi.zg)(()=>Object.keys(d).length===c.length?(0,Xe.of)(d):Vr.E))}(s._resolve,s,r,o).pipe((0,bt.U)(d=>(s._resolvedData=d,s.data=Object.assign(Object.assign({},s.data),HS(s,i).resolve),null)))}(m.route,o,s,r)),(0,Hr.b)(()=>d++),wS(1),(0,yi.zg)(m=>d===c.length?(0,Xe.of)(i):Vr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Hr.b)({next:()=>D=!0,complete:()=>{D||(this.restoreHistory(S),this.cancelNavigationTransition(S,"At least one route resolver didn't emit any value."))}}))}),(0,Hr.b)(S=>{const D=new XM(S.id,this.serializeUrl(S.extractedUrl),this.serializeUrl(S.urlAfterRedirects),S.targetSnapshot);this.triggerEvent(D)}))}),Yb(v=>{const{targetSnapshot:S,id:D,extractedUrl:x,rawUrl:k,extras:{skipLocationChange:j,replaceUrl:H}}=v;return this.hooks.afterPreactivation(S,{navigationId:D,appliedUrlTree:x,rawUrlTree:k,skipLocationChange:!!j,replaceUrl:!!H})}),(0,bt.U)(v=>{const S=function(s,r,i){const o=kf(s,r._root,i?i._root:void 0);return new Mb(o,r)}(this.routeReuseStrategy,v.targetSnapshot,v.currentRouterState);return Object.assign(Object.assign({},v),{targetRouterState:S})}),(0,Hr.b)(v=>{this.currentUrlTree=v.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,v.rawUrl),this.routerState=v.targetRouterState,"deferred"===this.urlUpdateStrategy&&(v.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,v),this.browserUrlTree=v.urlAfterRedirects)}),((s,r,i)=>(0,bt.U)(o=>(new KS(r,o.targetRouterState,o.currentRouterState,i).activate(s),o)))(this.rootContexts,this.routeReuseStrategy,v=>this.triggerEvent(v)),(0,Hr.b)({next(){d=!0},complete(){d=!0}}),$C(()=>{if(!d&&!m){const v=`Navigation ID ${c.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(c),this.cancelNavigationTransition(c,v)):this.cancelNavigationTransition(c,v)}this.currentNavigation=null}),hl(v=>{if(m=!0,function(s){return s&&s[Cb]}(v)){const S=Vc(v.url);S||(this.navigated=!0,this.restoreHistory(c,!0));const D=new IS(c.id,this.serializeUrl(c.extractedUrl),v.message);o.next(D),S?setTimeout(()=>{const x=this.urlHandlingStrategy.merge(v.url,this.rawUrlTree),k={skipLocationChange:c.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Zm(c.source)};this.scheduleNavigation(x,"imperative",null,k,{resolve:c.resolve,reject:c.reject,promise:c.promise})},0):c.resolve(!1)}else{this.restoreHistory(c,!0);const S=new TS(c.id,this.serializeUrl(c.extractedUrl),v);o.next(S);try{c.resolve(this.errorHandler(v))}catch(D){c.reject(D)}}return Vr.E}))}))}resetRootComponentType(i){this.rootComponentType=i,this.routerState.root.component=this.rootComponentType}getTransition(){const i=this.transitions.value;return i.urlAfterRedirects=this.browserUrlTree,i}setTransition(i){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),i))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(i=>{const o=this.extractLocationChangeInfoFromEvent(i);this.shouldScheduleNavigation(this.lastLocationChangeInfo,o)&&setTimeout(()=>{const{source:c,state:d,urlTree:m}=o,v={replaceUrl:!0};if(d){const S=Object.assign({},d);delete S.navigationId,delete S.\u0275routerPageId,0!==Object.keys(S).length&&(v.state=S)}this.scheduleNavigation(m,c,d,v)},0),this.lastLocationChangeInfo=o}))}extractLocationChangeInfoFromEvent(i){var o;return{source:"popstate"===i.type?"popstate":"hashchange",urlTree:this.parseUrl(i.url),state:(null===(o=i.state)||void 0===o?void 0:o.navigationId)?i.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(i,o){if(!i)return!0;const c=o.urlTree.toString()===i.urlTree.toString();return o.transitionId!==i.transitionId||!c||!("hashchange"===o.source&&"popstate"===i.source||"popstate"===o.source&&"hashchange"===i.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(i){this.events.next(i)}resetConfig(i){jb(i),this.config=i.map(Hb),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(i,o={}){const{relativeTo:c,queryParams:d,fragment:m,queryParamsHandling:v,preserveFragment:S}=o,D=c||this.routerState.root,x=S?this.currentUrlTree.fragment:m;let k=null;switch(v){case"merge":k=Object.assign(Object.assign({},this.currentUrlTree.queryParams),d);break;case"preserve":k=this.currentUrlTree.queryParams;break;default:k=d||null}return null!==k&&(k=this.removeEmptyProps(k)),function(s,r,i,o,c){if(0===i.length)return Nb(r.root,r.root,r,o,c);const d=function(s){if("string"==typeof s[0]&&1===s.length&&"/"===s[0])return new Fb(!0,0,s);let r=0,i=!1;const o=s.reduce((c,d,m)=>{if("object"==typeof d&&null!=d){if(d.outlets){const v={};return Gr(d.outlets,(S,D)=>{v[D]="string"==typeof S?S.split("/"):S}),[...c,{outlets:v}]}if(d.segmentPath)return[...c,d.segmentPath]}return"string"!=typeof d?[...c,d]:0===m?(d.split("/").forEach((v,S)=>{0==S&&"."===v||(0==S&&""===v?i=!0:".."===v?r++:""!=v&&c.push(v))}),c):[...c,d]},[]);return new Fb(i,r,o)}(i);if(d.toRoot())return Nb(r.root,new Kt([],{}),r,o,c);const m=function(s,r,i){if(s.isAbsolute)return new Lb(r.root,!0,0);if(-1===i.snapshot._lastPathIndex){const d=i.snapshot._urlSegment;return new Lb(d,d===r.root,0)}const o=jm(s.commands[0])?0:1;return function(s,r,i){let o=s,c=r,d=i;for(;d>c;){if(d-=c,o=o.parent,!o)throw new Error("Invalid number of '../'");c=o.segments.length}return new Lb(o,!1,c-d)}(i.snapshot._urlSegment,i.snapshot._lastPathIndex+o,s.numberOfDoubleDots)}(d,r,s),v=m.processChildren?Vb(m.segmentGroup,m.index,d.commands):px(m.segmentGroup,m.index,d.commands);return Nb(m.segmentGroup,v,r,o,c)}(D,this.currentUrlTree,i,k,null!=x?x:null)}navigateByUrl(i,o={skipLocationChange:!1}){const c=Vc(i)?i:this.parseUrl(i),d=this.urlHandlingStrategy.merge(c,this.rawUrlTree);return this.scheduleNavigation(d,"imperative",null,o)}navigate(i,o={skipLocationChange:!1}){return function(s){for(let r=0;r<s.length;r++){const i=s[r];if(null==i)throw new Error(`The requested path contains ${i} segment at index ${r}`)}}(i),this.navigateByUrl(this.createUrlTree(i,o),o)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){let o;try{o=this.urlSerializer.parse(i)}catch(c){o=this.malformedUriErrorHandler(c,this.urlSerializer,i)}return o}isActive(i,o){let c;if(c=!0===o?Object.assign({},$x):!1===o?Object.assign({},zx):o,Vc(i))return NS(this.currentUrlTree,i,c);const d=this.parseUrl(i);return NS(this.currentUrlTree,d,c)}removeEmptyProps(i){return Object.keys(i).reduce((o,c)=>{const d=i[c];return null!=d&&(o[c]=d),o},{})}processNavigations(){this.navigations.subscribe(i=>{this.navigated=!0,this.lastSuccessfulId=i.id,this.currentPageId=i.targetPageId,this.events.next(new pa(i.id,this.serializeUrl(i.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,i.resolve(!0)},i=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(i,o,c,d,m){var v,S;if(this.disposed)return Promise.resolve(!1);const D=this.getTransition(),x=Zm(o)&&D&&!Zm(D.source),H=(this.lastSuccessfulId===D.id||this.currentNavigation?D.rawUrl:D.urlAfterRedirects).toString()===i.toString();if(x&&H)return Promise.resolve(!0);let X,ye,Re;m?(X=m.resolve,ye=m.reject,Re=m.promise):Re=new Promise((Qe,mt)=>{X=Qe,ye=mt});const Ge=++this.navigationId;let Ye;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(c=this.location.getState()),Ye=c&&c.\u0275routerPageId?c.\u0275routerPageId:d.replaceUrl||d.skipLocationChange?null!==(v=this.browserPageId)&&void 0!==v?v:0:(null!==(S=this.browserPageId)&&void 0!==S?S:0)+1):Ye=0,this.setTransition({id:Ge,targetPageId:Ye,source:o,restoredState:c,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:i,extras:d,resolve:X,reject:ye,promise:Re,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Re.catch(Qe=>Promise.reject(Qe))}setBrowserUrl(i,o){const c=this.urlSerializer.serialize(i),d=Object.assign(Object.assign({},o.extras.state),this.generateNgRouterState(o.id,o.targetPageId));this.location.isCurrentPathEqualTo(c)||o.extras.replaceUrl?this.location.replaceState(c,"",d):this.location.go(c,"",d)}restoreHistory(i,o=!1){var c,d;if("computed"===this.canceledNavigationResolution){const m=this.currentPageId-i.targetPageId;"popstate"!==i.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(c=this.currentNavigation)||void 0===c?void 0:c.finalUrl)||0===m?this.currentUrlTree===(null===(d=this.currentNavigation)||void 0===d?void 0:d.finalUrl)&&0===m&&(this.resetState(i),this.browserUrlTree=i.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(m)}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=i.currentRouterState,this.currentUrlTree=i.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(i,o){const c=new IS(i.id,this.serializeUrl(i.extractedUrl),o);this.triggerEvent(c),i.resolve(!1)}generateNgRouterState(i,o){return"computed"===this.canceledNavigationResolution?{navigationId:i,\u0275routerPageId:o}:{navigationId:i}}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(f.DyG),f.LFG(km),f.LFG(bd),f.LFG(Je),f.LFG(f.zs3),f.LFG(f.v3s),f.LFG(f.Sil),f.LFG(void 0))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();function Zm(s){return"imperative"!==s}let Gf=(()=>{class s{constructor(i,o,c,d,m){this.router=i,this.route=o,this.commands=[],this.onChanges=new Ot.xQ,null==c&&d.setAttribute(m.nativeElement,"tabindex","0")}ngOnChanges(i){this.onChanges.next(this)}set routerLink(i){this.commands=null!=i?Array.isArray(i)?i:[i]:[]}onClick(){const i={skipLocationChange:_a(this.skipLocationChange),replaceUrl:_a(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:_a(this.preserveFragment)})}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(ai),f.Y36(_l),f.$8M("tabindex"),f.Y36(f.Qsj),f.Y36(f.SBq))},s.\u0275dir=f.lG2({type:s,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(i,o){1&i&&f.NdJ("click",function(){return o.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[f.TTD]}),s})(),ma=(()=>{class s{constructor(i,o,c){this.router=i,this.route=o,this.locationStrategy=c,this.commands=[],this.onChanges=new Ot.xQ,this.subscription=i.events.subscribe(d=>{d instanceof pa&&this.updateTargetUrlAndHref()})}set routerLink(i){this.commands=null!=i?Array.isArray(i)?i:[i]:[]}ngOnChanges(i){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(i,o,c,d,m){if(0!==i||o||c||d||m||"string"==typeof this.target&&"_self"!=this.target)return!0;const v={skipLocationChange:_a(this.skipLocationChange),replaceUrl:_a(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,v),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:_a(this.preserveFragment)})}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(ai),f.Y36(_l),f.Y36(pe))},s.\u0275dir=f.lG2({type:s,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(i,o){1&i&&f.NdJ("click",function(d){return o.onClick(d.button,d.ctrlKey,d.shiftKey,d.altKey,d.metaKey)}),2&i&&(f.Ikx("href",o.href,f.LSH),f.uIk("target",o.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[f.TTD]}),s})();function _a(s){return""===s||!!s}let Xb=(()=>{class s{constructor(i,o,c,d,m){this.parentContexts=i,this.location=o,this.resolver=c,this.changeDetector=m,this.activated=null,this._activatedRoute=null,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.name=d||qt,i.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const i=this.parentContexts.getContext(this.name);i&&i.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const i=this.activated;return this.activated=null,this._activatedRoute=null,i}attach(i,o){this.activated=i,this._activatedRoute=o,this.location.insert(i.hostView)}deactivate(){if(this.activated){const i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,o){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=i;const m=(o=o||this.resolver).resolveComponentFactory(i._futureSnapshot.routeConfig.component),v=this.parentContexts.getOrCreateContext(this.name).children,S=new bP(i,v,this.location.injector);this.activated=this.location.createComponent(m,this.location.length,S),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(bd),f.Y36(f.s_b),f.Y36(f._Vd),f.$8M("name"),f.Y36(f.sBO))},s.\u0275dir=f.lG2({type:s,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),s})();class bP{constructor(r,i,o){this.route=r,this.childContexts=i,this.parent=o}get(r,i){return r===_l?this.route:r===bd?this.childContexts:this.parent.get(r,i)}}class _I{}class yI{preload(r,i){return(0,Xe.of)(null)}}let vI=(()=>{class s{constructor(i,o,c,d,m){this.router=i,this.injector=d,this.preloadingStrategy=m,this.loader=new pI(o,c,D=>i.triggerEvent(new _b(D)),D=>i.triggerEvent(new yb(D)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ir(i=>i instanceof pa),If(()=>this.preload())).subscribe(()=>{})}preload(){const i=this.injector.get(f.h0i);return this.processRoutes(i,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,o){const c=[];for(const d of o)if(d.loadChildren&&!d.canLoad&&d._loadedConfig){const m=d._loadedConfig;c.push(this.processRoutes(m.module,m.routes))}else d.loadChildren&&!d.canLoad?c.push(this.preloadConfig(i,d)):d.children&&c.push(this.processRoutes(i,d.children));return(0,Fn.D)(c).pipe((0,Qh.J)(),(0,bt.U)(d=>{}))}preloadConfig(i,o){return this.preloadingStrategy.preload(o,()=>(o._loadedConfig?(0,Xe.of)(o._loadedConfig):this.loader.load(i.injector,o)).pipe((0,yi.zg)(d=>(o._loadedConfig=d,this.processRoutes(d.module,d.routes)))))}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(ai),f.LFG(f.v3s),f.LFG(f.Sil),f.LFG(f.zs3),f.LFG(_I))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})(),eE=(()=>{class s{constructor(i,o,c={}){this.router=i,this.viewportScroller=o,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(i=>{i instanceof Af?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof pa&&(this.lastId=i.id,this.scheduleScrollEvent(i,this.router.parseUrl(i.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(i=>{i instanceof wb&&(i.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(i.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,o){this.router.triggerEvent(new wb(i,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(ai),f.LFG(ka),f.LFG(void 0))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();const Hc=new f.OlP("ROUTER_CONFIGURATION"),bI=new f.OlP("ROUTER_FORROOT_GUARD"),wP=[Je,{provide:km,useClass:Nm},{provide:ai,useFactory:function(s,r,i,o,c,d,m,v={},S,D){const x=new ai(null,s,r,i,o,c,d,RS(m));return S&&(x.urlHandlingStrategy=S),D&&(x.routeReuseStrategy=D),function(s,r){s.errorHandler&&(r.errorHandler=s.errorHandler),s.malformedUriErrorHandler&&(r.malformedUriErrorHandler=s.malformedUriErrorHandler),s.onSameUrlNavigation&&(r.onSameUrlNavigation=s.onSameUrlNavigation),s.paramsInheritanceStrategy&&(r.paramsInheritanceStrategy=s.paramsInheritanceStrategy),s.relativeLinkResolution&&(r.relativeLinkResolution=s.relativeLinkResolution),s.urlUpdateStrategy&&(r.urlUpdateStrategy=s.urlUpdateStrategy)}(v,x),v.enableTracing&&x.events.subscribe(k=>{var j,H;null===(j=console.group)||void 0===j||j.call(console,`Router Event: ${k.constructor.name}`),console.log(k.toString()),console.log(k),null===(H=console.groupEnd)||void 0===H||H.call(console)}),x},deps:[km,bd,Je,f.zs3,f.v3s,f.Sil,qm,Hc,[class{},new f.FiY],[class{},new f.FiY]]},bd,{provide:_l,useFactory:function(s){return s.routerState.root},deps:[ai]},{provide:f.v3s,useClass:f.EAV},vI,yI,class{preload(r,i){return i().pipe(hl(()=>(0,Xe.of)(null)))}},{provide:Hc,useValue:{enableTracing:!1}}];function Yx(){return new f.PXZ("Router",ai)}let Ed=(()=>{class s{constructor(i,o){}static forRoot(i,o){return{ngModule:s,providers:[wP,zf(i),{provide:bI,useFactory:Jx,deps:[[ai,new f.FiY,new f.tp0]]},{provide:Hc,useValue:o||{}},{provide:pe,useFactory:Qx,deps:[re,[new f.tBr(Ee),new f.FiY],Hc]},{provide:eE,useFactory:Kx,deps:[ai,ka,Hc]},{provide:_I,useExisting:o&&o.preloadingStrategy?o.preloadingStrategy:yI},{provide:f.PXZ,multi:!0,useFactory:Yx},[wI,{provide:f.ip1,multi:!0,useFactory:eR,deps:[wI]},{provide:CI,useFactory:Ym,deps:[wI]},{provide:f.tb,multi:!0,useExisting:CI}]]}}static forChild(i){return{ngModule:s,providers:[zf(i)]}}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(bI,8),f.LFG(ai,8))},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({}),s})();function Kx(s,r,i){return i.scrollOffset&&r.setOffset(i.scrollOffset),new eE(s,r,i)}function Qx(s,r,i={}){return i.useHash?new Ve(s,r):new We(s,r)}function Jx(s){return"guarded"}function zf(s){return[{provide:f.deG,multi:!0,useValue:s},{provide:qm,multi:!0,useValue:s}]}let wI=(()=>{class s{constructor(i){this.injector=i,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ot.xQ}appInitializer(){return this.injector.get(U,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let o=null;const c=new Promise(v=>o=v),d=this.injector.get(ai),m=this.injector.get(Hc);return"disabled"===m.initialNavigation?(d.setUpLocationChangeListener(),o(!0)):"enabled"===m.initialNavigation||"enabledBlocking"===m.initialNavigation?(d.hooks.afterPreactivation=()=>this.initNavigation?(0,Xe.of)(null):(this.initNavigation=!0,o(!0),this.resultOfPreactivationDone),d.initialNavigation()):o(!0),c})}bootstrapListener(i){const o=this.injector.get(Hc),c=this.injector.get(vI),d=this.injector.get(eE),m=this.injector.get(ai),v=this.injector.get(f.z2F);i===v.components[0]&&(("enabledNonBlocking"===o.initialNavigation||void 0===o.initialNavigation)&&m.initialNavigation(),c.setUpPreloading(),d.init(),m.resetRootComponentType(v.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(f.zs3))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();function eR(s){return s.appInitializer.bind(s)}function Ym(s){return s.bootstrapListener.bind(s)}const CI=new f.OlP("Router Initializer");let SI=(()=>{class s{constructor(){this.menuClicked=!1}ngOnInit(){}openCloseMenu(){this.menuClicked=!this.menuClicked}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=f.Xpm({type:s,selectors:[["app-topbar"]],decls:12,vars:0,consts:[[1,"topbar",2,"margin","0"],["mat-icon-button","","aria-label","Example icon-button with menu icon",1,"example-icon",3,"click"],["routerLink","/",1,"home__link"],[1,"spacer"],["mat-button","","routerLink","/login",1,"menu_btn"],["mat-button","","routerLink","/registro",1,"menu_btn"]],template:function(i,o){1&i&&(f.TgZ(0,"p",0),f.TgZ(1,"mat-toolbar"),f.TgZ(2,"button",1),f.NdJ("click",function(){return o.openCloseMenu()}),f.TgZ(3,"mat-icon"),f._uU(4,"menu"),f.qZA(),f.qZA(),f.TgZ(5,"a",2),f._uU(6,"Wine SPA"),f.qZA(),f._UZ(7,"span",3),f.TgZ(8,"button",4),f._uU(9,"Login"),f.qZA(),f.TgZ(10,"button",5),f._uU(11,"Registro"),f.qZA(),f.qZA(),f.qZA())},directives:[ad,Pc,Am,ma,Gf],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto}.menu_btn[_ngcontent-%COMP%]{color:#bebebe;font-size:1rem}.home__link[_ngcontent-%COMP%], .home__link[_ngcontent-%COMP%]:visited, .home__link[_ngcontent-%COMP%]:link{text-decoration:none;color:#fff;cursor:pointer}"]}),s})();const tE=new Set;let $c,rR=(()=>{class s{constructor(i){this._platform=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):TI}matchMedia(i){return this._platform.WEBKIT&&function(s){if(!tE.has(s))try{$c||($c=document.createElement("style"),$c.setAttribute("type","text/css"),document.head.appendChild($c)),$c.sheet&&($c.sheet.insertRule(`@media ${s} {.fx-query-test{ }}`,0),tE.add(s))}catch(r){console.error(r)}}(i),this._matchMedia(i)}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(cn))},s.\u0275prov=f.Yz7({factory:function(){return new s(f.LFG(cn))},token:s,providedIn:"root"}),s})();function TI(s){return{matches:"all"===s||""===s,media:s,addListener:()=>{},removeListener:()=>{}}}var Km=V(9105);function vl(s,r,i,o){return(0,Km.m)(i)&&(o=i,i=void 0),o?vl(s,r,i).pipe((0,bt.U)(c=>(0,Sf.k)(c)?o(...c):o(c))):new qn.y(c=>{sn(s,r,function(m){c.next(arguments.length>1?Array.prototype.slice.call(arguments):m)},c,i)})}function sn(s,r,i,o,c){let d;if(function(s){return s&&"function"==typeof s.addEventListener&&"function"==typeof s.removeEventListener}(s)){const m=s;s.addEventListener(r,i,c),d=()=>m.removeEventListener(r,i,c)}else if(function(s){return s&&"function"==typeof s.on&&"function"==typeof s.off}(s)){const m=s;s.on(r,i),d=()=>m.off(r,i)}else if(function(s){return s&&"function"==typeof s.addListener&&"function"==typeof s.removeListener}(s)){const m=s;s.addListener(r,i),d=()=>m.removeListener(r,i)}else{if(!s||!s.length)throw new TypeError("Invalid event target");for(let m=0,v=s.length;m<v;m++)sn(s[m],r,i,o,c)}o.add(d)}var SP=V(6465),Ps=V(6102);new class extends Ps.v{flush(r){this.active=!0,this.scheduled=void 0;const{actions:i}=this;let o,c=-1,d=i.length;r=r||i.shift();do{if(o=r.execute(r.state,r.delay))break}while(++c<d&&(r=i.shift()));if(this.active=!1,o){for(;++c<d&&(r=i.shift());)r.unsubscribe();throw o}}}(class extends SP.o{constructor(r,i){super(r,i),this.scheduler=r,this.work=i}requestAsyncId(r,i,o=0){return null!==o&&o>0?super.requestAsyncId(r,i,o):(r.actions.push(this),r.scheduled||(r.scheduled=requestAnimationFrame(()=>r.flush(null))))}recycleAsyncId(r,i,o=0){if(null!==o&&o>0||null===o&&this.delay>0)return super.recycleAsyncId(r,i,o);0===r.actions.length&&(cancelAnimationFrame(i),r.scheduled=void 0)}});V(4581);class oR{constructor(r){this.durationSelector=r}call(r,i){return i.subscribe(new aR(r,this.durationSelector))}}class aR extends Oi.Ds{constructor(r,i){super(r),this.durationSelector=i,this.hasValue=!1}_next(r){if(this.value=r,this.hasValue=!0,!this.throttled){let i;try{const{durationSelector:c}=this;i=c(r)}catch(c){return this.destination.error(c)}const o=(0,Oi.ft)(i,new Oi.IY(this));!o||o.closed?this.clearThrottle():this.add(this.throttled=o)}}clearThrottle(){const{value:r,hasValue:i,throttled:o}=this;o&&(this.remove(o),this.throttled=void 0,o.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(r))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var os=V(6561);function co(s){const{index:r,period:i,subscriber:o}=s;if(o.next(r),!o.closed){if(-1===i)return o.complete();s.index=r+1,this.schedule(s,i)}}function Qm(s,r=la.P){return function(s){return function(i){return i.lift(new oR(s))}}(()=>function(s=0,r,i){let o=-1;return(0,os.k)(r)?o=Number(r)<1?1:Number(r):(0,zu.K)(r)&&(i=r),(0,zu.K)(i)||(i=la.P),new qn.y(c=>{const d=(0,os.k)(s)?s:+s-i.now();return i.schedule(co,d,{index:0,period:o,subscriber:c})})}(s,r))}function Wf(){return s=>s.lift(new AI)}class AI{call(r,i){return i.subscribe(new sE(r))}}class sE extends rr.L{constructor(r){super(r),this.hasPrev=!1}_next(r){let i;this.hasPrev?i=[this.prev,r]:this.hasPrev=!0,this.prev=r,i&&this.destination.next(i)}}var Cd=V(7771),uo=V(6136),lR=V(8858);class qc extends Ot.xQ{constructor(r=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY,o){super(),this.scheduler=o,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=r<1?1:r,this._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(r){if(!this.isStopped){const i=this._events;i.push(r),i.length>this._bufferSize&&i.shift()}super.next(r)}nextTimeWindow(r){this.isStopped||(this._events.push(new cR(this._getNow(),r)),this._trimBufferThenGetEvents()),super.next(r)}_subscribe(r){const i=this._infiniteTimeWindow,o=i?this._events:this._trimBufferThenGetEvents(),c=this.scheduler,d=o.length;let m;if(this.closed)throw new na.N;if(this.isStopped||this.hasError?m=Os.w.EMPTY:(this.observers.push(r),m=new lR.W(this,r)),c&&r.add(r=new uo.ht(r,c)),i)for(let v=0;v<d&&!r.closed;v++)r.next(o[v]);else for(let v=0;v<d&&!r.closed;v++)r.next(o[v].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),m}_getNow(){return(this.scheduler||Cd.c).now()}_trimBufferThenGetEvents(){const r=this._getNow(),i=this._bufferSize,o=this._windowTime,c=this._events,d=c.length;let m=0;for(;m<d&&!(r-c[m].time<o);)m++;return d>i&&(m=Math.max(m,d-i)),m>0&&c.splice(0,m),c}}class cR{constructor(r,i){this.time=r,this.value=i}}function Zf(s,r,i){let o;return o=s&&"object"==typeof s?s:{bufferSize:s,windowTime:r,refCount:!1,scheduler:i},c=>c.lift(function({bufferSize:s=Number.POSITIVE_INFINITY,windowTime:r=Number.POSITIVE_INFINITY,refCount:i,scheduler:o}){let c,m,d=0,v=!1,S=!1;return function(x){let k;d++,!c||v?(v=!1,c=new qc(s,r,o),k=c.subscribe(this),m=x.subscribe({next(j){c.next(j)},error(j){v=!0,c.error(j)},complete(){S=!0,m=void 0,c.complete()}}),S&&(m=void 0)):k=c.subscribe(this),this.add(()=>{d--,k.unsubscribe(),k=void 0,m&&!S&&i&&0===d&&(m.unsubscribe(),m=void 0,c=void 0)})}}(o))}let Qf=(()=>{class s{constructor(i,o,c){this._ngZone=i,this._platform=o,this._scrolled=new Ot.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=c}register(i){this.scrollContainers.has(i)||this.scrollContainers.set(i,i.elementScrolled().subscribe(()=>this._scrolled.next(i)))}deregister(i){const o=this.scrollContainers.get(i);o&&(o.unsubscribe(),this.scrollContainers.delete(i))}scrolled(i=20){return this._platform.isBrowser?new qn.y(o=>{this._globalSubscription||this._addGlobalListener();const c=i>0?this._scrolled.pipe(Qm(i)).subscribe(o):this._scrolled.subscribe(o);return this._scrolledCount++,()=>{c.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Xe.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((i,o)=>this.deregister(o)),this._scrolled.complete()}ancestorScrolled(i,o){const c=this.getAncestorScrollContainers(i);return this.scrolled(o).pipe(Ir(d=>!d||c.indexOf(d)>-1))}getAncestorScrollContainers(i){const o=[];return this.scrollContainers.forEach((c,d)=>{this._scrollableContainsElement(d,i)&&o.push(d)}),o}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(i,o){let c=Xa(o),d=i.getElementRef().nativeElement;do{if(c==d)return!0}while(c=c.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>vl(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(f.R0b),f.LFG(cn),f.LFG(oe,8))},s.\u0275prov=f.Yz7({factory:function(){return new s(f.LFG(f.R0b),f.LFG(cn),f.LFG(oe,8))},token:s,providedIn:"root"}),s})(),Oo=(()=>{class s{constructor(i,o,c,d){this.elementRef=i,this.scrollDispatcher=o,this.ngZone=c,this.dir=d,this._destroyed=new Ot.xQ,this._elementScrolled=new qn.y(m=>this.ngZone.runOutsideAngular(()=>vl(this.elementRef.nativeElement,"scroll").pipe(Cr(this._destroyed)).subscribe(m)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(i){const o=this.elementRef.nativeElement,c=this.dir&&"rtl"==this.dir.value;null==i.left&&(i.left=c?i.end:i.start),null==i.right&&(i.right=c?i.start:i.end),null!=i.bottom&&(i.top=o.scrollHeight-o.clientHeight-i.bottom),c&&0!=aa()?(null!=i.left&&(i.right=o.scrollWidth-o.clientWidth-i.left),2==aa()?i.left=i.right:1==aa()&&(i.left=i.right?-i.right:i.right)):null!=i.right&&(i.left=o.scrollWidth-o.clientWidth-i.right),this._applyScrollToOptions(i)}_applyScrollToOptions(i){const o=this.elementRef.nativeElement;Uu()?o.scrollTo(i):(null!=i.top&&(o.scrollTop=i.top),null!=i.left&&(o.scrollLeft=i.left))}measureScrollOffset(i){const o="left",c="right",d=this.elementRef.nativeElement;if("top"==i)return d.scrollTop;if("bottom"==i)return d.scrollHeight-d.clientHeight-d.scrollTop;const m=this.dir&&"rtl"==this.dir.value;return"start"==i?i=m?c:o:"end"==i&&(i=m?o:c),m&&2==aa()?i==o?d.scrollWidth-d.clientWidth-d.scrollLeft:d.scrollLeft:m&&1==aa()?i==o?d.scrollLeft+d.scrollWidth-d.clientWidth:-d.scrollLeft:i==o?d.scrollLeft:d.scrollWidth-d.clientWidth-d.scrollLeft}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(f.SBq),f.Y36(Qf),f.Y36(f.R0b),f.Y36(sl,8))},s.\u0275dir=f.lG2({type:s,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),s})(),Sd=(()=>{class s{constructor(i,o,c){this._platform=i,this._change=new Ot.xQ,this._changeListener=d=>{this._change.next(d)},this._document=c,o.runOutsideAngular(()=>{if(i.isBrowser){const d=this._getWindow();d.addEventListener("resize",this._changeListener),d.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const i=this._getWindow();i.removeEventListener("resize",this._changeListener),i.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const i={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),i}getViewportRect(){const i=this.getViewportScrollPosition(),{width:o,height:c}=this.getViewportSize();return{top:i.top,left:i.left,bottom:i.top+c,right:i.left+o,height:c,width:o}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const i=this._document,o=this._getWindow(),c=i.documentElement,d=c.getBoundingClientRect();return{top:-d.top||i.body.scrollTop||o.scrollY||c.scrollTop||0,left:-d.left||i.body.scrollLeft||o.scrollX||c.scrollLeft||0}}change(i=20){return i>0?this._change.pipe(Qm(i)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const i=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:i.innerWidth,height:i.innerHeight}:{width:0,height:0}}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(cn),f.LFG(f.R0b),f.LFG(oe,8))},s.\u0275prov=f.Yz7({factory:function(){return new s(f.LFG(cn),f.LFG(f.R0b),f.LFG(oe,8))},token:s,providedIn:"root"}),s})(),e_=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({}),s})(),RI=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({imports:[[Ec,Ur,e_],Ec,e_]}),s})();var Jf=V(6682);function OI(s){return r=>r.lift(new mR(s))}class mR{constructor(r){this.value=r}call(r,i){return i.subscribe(new _R(r,this.value))}}class _R extends rr.L{constructor(r,i){super(r),this.value=i}_next(r){this.destination.next(this.value)}}const t_=["*"];function yR(s,r){if(1&s){const i=f.EpF();f.TgZ(0,"div",2),f.NdJ("click",function(){return f.CHM(i),f.oxw()._onBackdropClicked()}),f.qZA()}if(2&s){const i=f.oxw();f.ekj("mat-drawer-shown",i._isShowingBackdrop())}}function vR(s,r){1&s&&(f.TgZ(0,"mat-drawer-content"),f.Hsn(1,2),f.qZA())}const dE=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],bR=["mat-drawer","mat-drawer-content","*"];function ER(s,r){if(1&s){const i=f.EpF();f.TgZ(0,"div",2),f.NdJ("click",function(){return f.CHM(i),f.oxw()._onBackdropClicked()}),f.qZA()}if(2&s){const i=f.oxw();f.ekj("mat-drawer-shown",i._isShowingBackdrop())}}function kI(s,r){1&s&&(f.TgZ(0,"mat-sidenav-content",3),f.Hsn(1,2),f.qZA())}const hE=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],wR=["mat-sidenav","mat-sidenav-content","*"],CR=".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n",NI={transformDrawer:N0("transform",[Jh("open, open-instant",wc({transform:"none",visibility:"visible"})),Jh("void",wc({"box-shadow":"none",visibility:"hidden"})),Xh("void => open-instant",Ug("0ms")),Xh("void <=> open, open-instant => void",Ug("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},SR=new f.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),fE=new f.OlP("MAT_DRAWER_CONTAINER");let n_=(()=>{class s extends Oo{constructor(i,o,c,d,m){super(c,d,m),this._changeDetectorRef=i,this._container=o}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(f.sBO),f.Y36((0,f.Gpc)(()=>PI)),f.Y36(f.SBq),f.Y36(Qf),f.Y36(f.R0b))},s.\u0275cmp=f.Xpm({type:s,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(i,o){2&i&&f.Udp("margin-left",o._container._contentMargins.left,"px")("margin-right",o._container._contentMargins.right,"px")},features:[f.qOj],ngContentSelectors:t_,decls:1,vars:0,template:function(i,o){1&i&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),s})(),Id=(()=>{class s{constructor(i,o,c,d,m,v,S){this._elementRef=i,this._focusTrapFactory=o,this._focusMonitor=c,this._platform=d,this._ngZone=m,this._doc=v,this._container=S,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Ot.xQ,this._animationEnd=new Ot.xQ,this._animationState="void",this.openedChange=new f.vpe(!0),this._openedStream=this.openedChange.pipe(Ir(D=>D),(0,bt.U)(()=>{})),this.openedStart=this._animationStarted.pipe(Ir(D=>D.fromState!==D.toState&&0===D.toState.indexOf("open")),OI(void 0)),this._closedStream=this.openedChange.pipe(Ir(D=>!D),(0,bt.U)(()=>{})),this.closedStart=this._animationStarted.pipe(Ir(D=>D.fromState!==D.toState&&"void"===D.toState),OI(void 0)),this._destroyed=new Ot.xQ,this.onPositionChanged=new f.vpe,this._modeChanged=new Ot.xQ,this.openedChange.subscribe(D=>{D?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus()}),this._ngZone.runOutsideAngular(()=>{vl(this._elementRef.nativeElement,"keydown").pipe(Ir(D=>27===D.keyCode&&!this.disableClose&&!function(s,...r){return r.length?r.some(i=>s[i]):s.altKey||s.shiftKey||s.ctrlKey||s.metaKey}(D)),Cr(this._destroyed)).subscribe(D=>this._ngZone.run(()=>{this.close(),D.stopPropagation(),D.preventDefault()}))}),this._animationEnd.pipe(Is((D,x)=>D.fromState===x.fromState&&D.toState===x.toState)).subscribe(D=>{const{fromState:x,toState:k}=D;(0===k.indexOf("open")&&"void"===x||"void"===k&&0===x.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(i){(i="end"===i?"end":"start")!=this._position&&(this._position=i,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(i){this._mode=i,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(i){this._disableClose=An(i)}get autoFocus(){const i=this._autoFocus;return null==i?"side"!==this.mode:i}set autoFocus(i){this._autoFocus=An(i)}get opened(){return this._opened}set opened(i){this.toggle(An(i))}_takeFocus(){!this.autoFocus||!this._focusTrap||this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()})}_restoreFocus(){!this.autoFocus||(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,this._openedVia):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null,this._openedVia=null)}_isFocusWithinDrawer(){var i;const o=null===(i=this._doc)||void 0===i?void 0:i.activeElement;return!!o&&this._elementRef.nativeElement.contains(o)}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(i){return this.toggle(!0,i)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0)}toggle(i=!this.opened,o){return this._setOpen(i,!i&&this._isFocusWithinDrawer(),o)}_setOpen(i,o,c="program"){return this._opened=i,i?(this._animationState=this._enableAnimations?"open":"open-instant",this._openedVia=c):(this._animationState="void",o&&this._restoreFocus()),this._updateFocusTrapState(),new Promise(d=>{this.openedChange.pipe(Ks(1)).subscribe(m=>d(m?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_animationStartListener(i){this._animationStarted.next(i)}_animationDoneListener(i){this._animationEnd.next(i)}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(f.SBq),f.Y36(dv),f.Y36($u),f.Y36(cn),f.Y36(f.R0b),f.Y36(oe,8),f.Y36(fE,8))},s.\u0275cmp=f.Xpm({type:s,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(i,o){1&i&&f.WFA("@transform.start",function(d){return o._animationStartListener(d)})("@transform.done",function(d){return o._animationDoneListener(d)}),2&i&&(f.uIk("align",null),f.d8E("@transform",o._animationState),f.ekj("mat-drawer-end","end"===o.position)("mat-drawer-over","over"===o.mode)("mat-drawer-push","push"===o.mode)("mat-drawer-side","side"===o.mode)("mat-drawer-opened",o.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:t_,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(i,o){1&i&&(f.F$t(),f.TgZ(0,"div",0),f.Hsn(1),f.qZA())},directives:[Oo],encapsulation:2,data:{animation:[NI.transformDrawer]},changeDetection:0}),s})(),PI=(()=>{class s{constructor(i,o,c,d,m,v=!1,S){this._dir=i,this._element=o,this._ngZone=c,this._changeDetectorRef=d,this._animationMode=S,this._drawers=new f.n_E,this.backdropClick=new f.vpe,this._destroyed=new Ot.xQ,this._doCheckSubject=new Ot.xQ,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Ot.xQ,i&&i.change.pipe(Cr(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),m.change().pipe(Cr(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=v}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(i){this._autosize=An(i)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(i){this._backdropOverride=null==i?null:An(i)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(Js(this._allDrawers),Cr(this._destroyed)).subscribe(i=>{this._drawers.reset(i.filter(o=>!o._container||o._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Js(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(i=>{this._watchDrawerToggle(i),this._watchDrawerPosition(i),this._watchDrawerMode(i)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(function(s,r=la.P){return i=>i.lift(new mc(s,r))}(10),Cr(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(i=>i.open())}close(){this._drawers.forEach(i=>i.close())}updateContentMargins(){let i=0,o=0;if(this._left&&this._left.opened)if("side"==this._left.mode)i+=this._left._getWidth();else if("push"==this._left.mode){const c=this._left._getWidth();i+=c,o-=c}if(this._right&&this._right.opened)if("side"==this._right.mode)o+=this._right._getWidth();else if("push"==this._right.mode){const c=this._right._getWidth();o+=c,i-=c}i=i||null,o=o||null,(i!==this._contentMargins.left||o!==this._contentMargins.right)&&(this._contentMargins={left:i,right:o},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(i){i._animationStarted.pipe(Ir(o=>o.fromState!==o.toState),Cr(this._drawers.changes)).subscribe(o=>{"open-instant"!==o.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==i.mode&&i.openedChange.pipe(Cr(this._drawers.changes)).subscribe(()=>this._setContainerClass(i.opened))}_watchDrawerPosition(i){!i||i.onPositionChanged.pipe(Cr(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(Ks(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(i){i&&i._modeChanged.pipe(Cr((0,Jf.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(i){const o=this._element.nativeElement.classList,c="mat-drawer-container-has-open";i?o.add(c):o.remove(c)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(i=>{"end"==i.position?this._end=i:this._start=i}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(i=>i&&!i.disableClose&&this._canHaveBackdrop(i)).forEach(i=>i._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(i){return"side"!==i.mode||!!this._backdropOverride}_isDrawerOpen(i){return null!=i&&i.opened}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(sl,8),f.Y36(f.SBq),f.Y36(f.R0b),f.Y36(f.sBO),f.Y36(Sd),f.Y36(SR),f.Y36(Wt,8))},s.\u0275cmp=f.Xpm({type:s,selectors:[["mat-drawer-container"]],contentQueries:function(i,o,c){if(1&i&&(f.Suo(c,n_,5),f.Suo(c,Id,5)),2&i){let d;f.iGM(d=f.CRH())&&(o._content=d.first),f.iGM(d=f.CRH())&&(o._allDrawers=d)}},viewQuery:function(i,o){if(1&i&&f.Gf(n_,5),2&i){let c;f.iGM(c=f.CRH())&&(o._userContent=c.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(i,o){2&i&&f.ekj("mat-drawer-container-explicit-backdrop",o._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[f._Bn([{provide:fE,useExisting:s}])],ngContentSelectors:bR,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,o){1&i&&(f.F$t(dE),f.YNc(0,yR,1,2,"div",0),f.Hsn(1),f.Hsn(2,1),f.YNc(3,vR,2,0,"mat-drawer-content",1)),2&i&&(f.Q6J("ngIf",o.hasBackdrop),f.xp6(3),f.Q6J("ngIf",!o._content))},directives:[Jr,n_],styles:[CR],encapsulation:2,changeDetection:0}),s})(),pE=(()=>{class s extends n_{constructor(i,o,c,d,m){super(i,o,c,d,m)}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(f.sBO),f.Y36((0,f.Gpc)(()=>Td)),f.Y36(f.SBq),f.Y36(Qf),f.Y36(f.R0b))},s.\u0275cmp=f.Xpm({type:s,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(i,o){2&i&&f.Udp("margin-left",o._container._contentMargins.left,"px")("margin-right",o._container._contentMargins.right,"px")},features:[f.qOj],ngContentSelectors:t_,decls:1,vars:0,template:function(i,o){1&i&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),s})(),gE=(()=>{class s extends Id{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(i){this._fixedInViewport=An(i)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(i){this._fixedTopGap=_i(i)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(i){this._fixedBottomGap=_i(i)}}return s.\u0275fac=function(){let r;return function(o){return(r||(r=f.n5z(s)))(o||s)}}(),s.\u0275cmp=f.Xpm({type:s,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(i,o){2&i&&(f.uIk("align",null),f.Udp("top",o.fixedInViewport?o.fixedTopGap:null,"px")("bottom",o.fixedInViewport?o.fixedBottomGap:null,"px"),f.ekj("mat-drawer-end","end"===o.position)("mat-drawer-over","over"===o.mode)("mat-drawer-push","push"===o.mode)("mat-drawer-side","side"===o.mode)("mat-drawer-opened",o.opened)("mat-sidenav-fixed",o.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[f.qOj],ngContentSelectors:t_,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(i,o){1&i&&(f.F$t(),f.TgZ(0,"div",0),f.Hsn(1),f.qZA())},directives:[Oo],encapsulation:2,data:{animation:[NI.transformDrawer]},changeDetection:0}),s})(),Td=(()=>{class s extends PI{}return s.\u0275fac=function(){let r;return function(o){return(r||(r=f.n5z(s)))(o||s)}}(),s.\u0275cmp=f.Xpm({type:s,selectors:[["mat-sidenav-container"]],contentQueries:function(i,o,c){if(1&i&&(f.Suo(c,pE,5),f.Suo(c,gE,5)),2&i){let d;f.iGM(d=f.CRH())&&(o._content=d.first),f.iGM(d=f.CRH())&&(o._allDrawers=d)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(i,o){2&i&&f.ekj("mat-drawer-container-explicit-backdrop",o._backdropOverride)},exportAs:["matSidenavContainer"],features:[f._Bn([{provide:fE,useExisting:s}]),f.qOj],ngContentSelectors:wR,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],["cdkScrollable","",4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"],["cdkScrollable",""]],template:function(i,o){1&i&&(f.F$t(hE),f.YNc(0,ER,1,2,"div",0),f.Hsn(1),f.Hsn(2,1),f.YNc(3,kI,2,0,"mat-sidenav-content",1)),2&i&&(f.Q6J("ngIf",o.hasBackdrop),f.xp6(3),f.Q6J("ngIf",!o._content))},directives:[Jr,pE,Oo],styles:[CR],encapsulation:2,changeDetection:0}),s})(),xP=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({imports:[[es,Pn,Ur,e_],e_,Pn]}),s})();const FI=["*"];let TR=(()=>{class s{constructor(i){this.media=i,this.opened=!0,this.mediaMatch=this.media.matchMedia("(max-width: 60em)")}ngOnDestroy(){}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(rR))},s.\u0275cmp=f.Xpm({type:s,selectors:[["app-sidenav"]],inputs:{opened:"opened"},ngContentSelectors:FI,decls:13,vars:4,consts:[[1,"sidenav__container"],[1,"sidenav__side",3,"mode","opened","openedChange"],["mat-button","","routerLink","/noExiste",1,"sidenav_btn"],[1,"copyright"],[2,"height","100vh"]],template:function(i,o){1&i&&(f.F$t(),f.TgZ(0,"mat-sidenav-container",0),f.TgZ(1,"mat-sidenav",1),f.NdJ("openedChange",function(d){return o.opened=d}),f.TgZ(2,"a",2),f._uU(3,"Opcion 1"),f.qZA(),f.TgZ(4,"a",2),f._uU(5,"Opcion 2"),f.qZA(),f.TgZ(6,"a",2),f._uU(7,"Opcion 3"),f.qZA(),f.TgZ(8,"p",3),f._uU(9," Esta pagina fue dise\xf1ada y programada por Federico Tocco para entrega del Trabajo Final del curso de Angular de la UTN. Todos los derechos reservados "),f.qZA(),f.qZA(),f.TgZ(10,"mat-sidenav-content",4),f.TgZ(11,"div"),f.Hsn(12),f.qZA(),f.qZA(),f.qZA()),2&i&&(f.xp6(1),f.Q6J("mode",o.mediaMatch.matches?"over":"side")("opened",o.opened),f.xp6(10),f.Tol(o.opened?"content content__onOpen":"content content__onClose"))},directives:[Td,gE,Qv,ma,pE],styles:[".sidenav__container[_ngcontent-%COMP%]{width:100%;background-color:#000;color:#000}.sidenav__side[_ngcontent-%COMP%]{padding:.8rem 0;min-width:14rem;width:20rem}@media (max-width: 70em){.sidenav__side[_ngcontent-%COMP%]{width:14rem}}@media (max-width: 60em){.sidenav__side[_ngcontent-%COMP%]{width:100%;height:40%;transform:translateY(-100%)}}.sidenav_btn[_ngcontent-%COMP%]{width:100%;padding:.3rem 0}.content[_ngcontent-%COMP%]{transition:all .9s .04s;height:calc(100vh - 160px);overflow-y:scroll}.content__onOpen[_ngcontent-%COMP%]{padding:3rem 2rem}.content__onClose[_ngcontent-%COMP%]{padding:3rem 5rem}@media (max-width: 90em){.content__onClose[_ngcontent-%COMP%]{padding:3rem 1rem}}.copyright[_ngcontent-%COMP%]{color:#fff;line-height:1.3;font-weight:300;font-size:.7rem;position:absolute;top:79%;right:50%;text-align:center;transform:translate(50%);width:85%}"]}),s})(),DR=(()=>{class s{constructor(){this.title="tpFinal"}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=f.Xpm({type:s,selectors:[["app-root"]],decls:4,vars:1,consts:[["topbar",""],[3,"opened"]],template:function(i,o){if(1&i&&(f._UZ(0,"app-topbar",null,0),f.TgZ(2,"app-sidenav",1),f._UZ(3,"router-outlet"),f.qZA()),2&i){const c=f.MAs(1);f.xp6(2),f.Q6J("opened",c.menuClicked)}},directives:[SI,TR,Xb],styles:[""]}),s})(),jI=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({imports:[[bM,Pn],bM,Pn]}),s})();const yE=["*",[["mat-card-footer"]]],FR=["*","mat-card-footer"];let VR=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275dir=f.lG2({type:s,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),s})(),zI=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275dir=f.lG2({type:s,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),s})(),vE=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275dir=f.lG2({type:s,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),s})(),BR=(()=>{class s{constructor(){this.align="start"}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275dir=f.lG2({type:s,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(i,o){2&i&&f.ekj("mat-card-actions-align-end","end"===o.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),s})(),UR=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275dir=f.lG2({type:s,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),s})(),HR=(()=>{class s{constructor(i){this._animationMode=i}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(Wt,8))},s.\u0275cmp=f.Xpm({type:s,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(i,o){2&i&&f.ekj("_mat-animation-noopable","NoopAnimations"===o._animationMode)},exportAs:["matCard"],ngContentSelectors:FR,decls:2,vars:0,template:function(i,o){1&i&&(f.F$t(yE),f.Hsn(0),f.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),s})(),bE=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({imports:[[Pn],Pn]}),s})();function $R(s,r){if(1&s&&(f.O4$(),f._UZ(0,"circle",3)),2&s){const i=f.oxw();f.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+i._spinnerAnimationLabel)("stroke-dashoffset",i._getStrokeDashOffset(),"px")("stroke-dasharray",i._getStrokeCircumference(),"px")("stroke-width",i._getCircleStrokeWidth(),"%"),f.uIk("r",i._getCircleRadius())}}function qI(s,r){if(1&s&&(f.O4$(),f._UZ(0,"circle",3)),2&s){const i=f.oxw();f.Udp("stroke-dashoffset",i._getStrokeDashOffset(),"px")("stroke-dasharray",i._getStrokeCircumference(),"px")("stroke-width",i._getCircleStrokeWidth(),"%"),f.uIk("r",i._getCircleRadius())}}function zR(s,r){if(1&s&&(f.O4$(),f._UZ(0,"circle",3)),2&s){const i=f.oxw();f.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+i._spinnerAnimationLabel)("stroke-dashoffset",i._getStrokeDashOffset(),"px")("stroke-dasharray",i._getStrokeCircumference(),"px")("stroke-width",i._getCircleStrokeWidth(),"%"),f.uIk("r",i._getCircleRadius())}}function qR(s,r){if(1&s&&(f.O4$(),f._UZ(0,"circle",3)),2&s){const i=f.oxw();f.Udp("stroke-dashoffset",i._getStrokeDashOffset(),"px")("stroke-dasharray",i._getStrokeCircumference(),"px")("stroke-width",i._getCircleStrokeWidth(),"%"),f.uIk("r",i._getCircleRadius())}}const WI=".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:currentColor;stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n",ZR=_f(class{constructor(s){this._elementRef=s}},"primary"),ZI=new f.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});class No extends ZR{constructor(r,i,o,c,d){super(r),this._document=o,this._diameter=100,this._value=0,this._fallbackAnimation=!1,this.mode="determinate";const m=No._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),m.has(o.head)||m.set(o.head,new Set([100])),this._fallbackAnimation=i.EDGE||i.TRIDENT,this._noopAnimations="NoopAnimations"===c&&!!d&&!d._forceAnimations,d&&(d.diameter&&(this.diameter=d.diameter),d.strokeWidth&&(this.strokeWidth=d.strokeWidth))}get diameter(){return this._diameter}set diameter(r){this._diameter=_i(r),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(r){this._strokeWidth=_i(r)}get value(){return"determinate"===this.mode?this._value:0}set value(r){this._value=Math.max(0,Math.min(100,_i(r)))}ngOnInit(){const r=this._elementRef.nativeElement;this._styleRoot=Fh(r)||this._document.head,this._attachStyleNode(),r.classList.add(`mat-progress-spinner-indeterminate${this._fallbackAnimation?"-fallback":""}-animation`)}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const r=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${r} ${r}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._getStrokeCircumference():null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const r=this._styleRoot,i=this._diameter,o=No._diameters;let c=o.get(r);if(!c||!c.has(i)){const d=this._document.createElement("style");d.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),d.textContent=this._getAnimationText(),r.appendChild(d),c||(c=new Set,o.set(r,c)),c.add(i)}}_getAnimationText(){const r=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*r).replace(/END_VALUE/g,""+.2*r).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}No.\u0275fac=function(r){return new(r||No)(f.Y36(f.SBq),f.Y36(cn),f.Y36(oe,8),f.Y36(Wt,8),f.Y36(ZI))},No.\u0275cmp=f.Xpm({type:No,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(r,i){2&r&&(f.uIk("aria-valuemin","determinate"===i.mode?0:null)("aria-valuemax","determinate"===i.mode?100:null)("aria-valuenow","determinate"===i.mode?i.value:null)("mode",i.mode),f.Udp("width",i.diameter,"px")("height",i.diameter,"px"),f.ekj("_mat-animation-noopable",i._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[f.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(r,i){1&r&&(f.O4$(),f.TgZ(0,"svg",0),f.YNc(1,$R,1,9,"circle",1),f.YNc(2,qI,1,7,"circle",2),f.qZA()),2&r&&(f.Udp("width",i.diameter,"px")("height",i.diameter,"px"),f.Q6J("ngSwitch","indeterminate"===i.mode),f.uIk("viewBox",i._getViewBox()),f.xp6(1),f.Q6J("ngSwitchCase",!0),f.xp6(1),f.Q6J("ngSwitchCase",!1))},directives:[Xr,Sn],styles:[WI],encapsulation:2,changeDetection:0}),No._diameters=new WeakMap;let YI=(()=>{class s extends No{constructor(i,o,c,d,m){super(i,o,c,d,m),this.mode="indeterminate"}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(f.SBq),f.Y36(cn),f.Y36(oe,8),f.Y36(Wt,8),f.Y36(ZI))},s.\u0275cmp=f.Xpm({type:s,selectors:[["mat-spinner"]],hostAttrs:["role","progressbar","mode","indeterminate",1,"mat-spinner","mat-progress-spinner"],hostVars:6,hostBindings:function(i,o){2&i&&(f.Udp("width",o.diameter,"px")("height",o.diameter,"px"),f.ekj("_mat-animation-noopable",o._noopAnimations))},inputs:{color:"color"},features:[f.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(i,o){1&i&&(f.O4$(),f.TgZ(0,"svg",0),f.YNc(1,zR,1,9,"circle",1),f.YNc(2,qR,1,7,"circle",2),f.qZA()),2&i&&(f.Udp("width",o.diameter,"px")("height",o.diameter,"px"),f.Q6J("ngSwitch","indeterminate"===o.mode),f.uIk("viewBox",o._getViewBox()),f.xp6(1),f.Q6J("ngSwitchCase",!0),f.xp6(1),f.Q6J("ngSwitchCase",!1))},directives:[Xr,Sn],styles:[WI],encapsulation:2,changeDetection:0}),s})(),KI=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({imports:[[Pn,es],Pn]}),s})();class wE{attach(r){return this._attachedHost=r,r.attach(this)}detach(){let r=this._attachedHost;null!=r&&(this._attachedHost=null,r.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(r){this._attachedHost=r}}class QI extends wE{constructor(r,i,o,c){super(),this.component=r,this.viewContainerRef=i,this.injector=o,this.componentFactoryResolver=c}}class CE extends wE{constructor(r,i,o){super(),this.templateRef=r,this.viewContainerRef=i,this.context=o}get origin(){return this.templateRef.elementRef}attach(r,i=this.context){return this.context=i,super.attach(r)}detach(){return this.context=void 0,super.detach()}}class tp extends wE{constructor(r){super(),this.element=r instanceof f.SBq?r.nativeElement:r}}class SE extends class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(r){return r instanceof QI?(this._attachedPortal=r,this.attachComponentPortal(r)):r instanceof CE?(this._attachedPortal=r,this.attachTemplatePortal(r)):this.attachDomPortal&&r instanceof tp?(this._attachedPortal=r,this.attachDomPortal(r)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(r){this._disposeFn=r}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(r,i,o,c,d){super(),this.outletElement=r,this._componentFactoryResolver=i,this._appRef=o,this._defaultInjector=c,this.attachDomPortal=m=>{const v=m.element,S=this._document.createComment("dom-portal");v.parentNode.insertBefore(S,v),this.outletElement.appendChild(v),this._attachedPortal=m,super.setDisposeFn(()=>{S.parentNode&&S.parentNode.replaceChild(v,S)})},this._document=d}attachComponentPortal(r){const o=(r.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(r.component);let c;return r.viewContainerRef?(c=r.viewContainerRef.createComponent(o,r.viewContainerRef.length,r.injector||r.viewContainerRef.injector),this.setDisposeFn(()=>c.destroy())):(c=o.create(r.injector||this._defaultInjector),this._appRef.attachView(c.hostView),this.setDisposeFn(()=>{this._appRef.detachView(c.hostView),c.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(c)),this._attachedPortal=r,c}attachTemplatePortal(r){let i=r.viewContainerRef,o=i.createEmbeddedView(r.templateRef,r.context);return o.rootNodes.forEach(c=>this.outletElement.appendChild(c)),o.detectChanges(),this.setDisposeFn(()=>{let c=i.indexOf(o);-1!==c&&i.remove(c)}),this._attachedPortal=r,o}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(r){return r.hostView.rootNodes[0]}}let XR=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({}),s})();const s_=Uu();class eO{constructor(r,i){this._viewportRuler=r,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=i}attach(){}enable(){if(this._canBeEnabled()){const r=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=r.style.left||"",this._previousHTMLStyles.top=r.style.top||"",r.style.left=zn(-this._previousScrollPosition.left),r.style.top=zn(-this._previousScrollPosition.top),r.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const r=this._document.documentElement,o=r.style,c=this._document.body.style,d=o.scrollBehavior||"",m=c.scrollBehavior||"";this._isEnabled=!1,o.left=this._previousHTMLStyles.left,o.top=this._previousHTMLStyles.top,r.classList.remove("cdk-global-scrollblock"),s_&&(o.scrollBehavior=c.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),s_&&(o.scrollBehavior=d,c.scrollBehavior=m)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const i=this._document.body,o=this._viewportRuler.getViewportSize();return i.scrollHeight>o.height||i.scrollWidth>o.width}}class tO{constructor(r,i,o,c){this._scrollDispatcher=r,this._ngZone=i,this._viewportRuler=o,this._config=c,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(r){this._overlayRef=r}enable(){if(this._scrollSubscription)return;const r=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=r.subscribe(()=>{const i=this._viewportRuler.getViewportScrollPosition().top;Math.abs(i-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=r.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class tT{enable(){}disable(){}attach(){}}function o_(s,r){return r.some(i=>s.bottom<i.top||s.top>i.bottom||s.right<i.left||s.left>i.right)}function a_(s,r){return r.some(i=>s.top<i.top||s.bottom>i.bottom||s.left<i.left||s.right>i.right)}class nT{constructor(r,i,o,c){this._scrollDispatcher=r,this._viewportRuler=i,this._ngZone=o,this._config=c,this._scrollSubscription=null}attach(r){this._overlayRef=r}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const i=this._overlayRef.overlayElement.getBoundingClientRect(),{width:o,height:c}=this._viewportRuler.getViewportSize();o_(i,[{width:o,height:c,bottom:c,right:o,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let rT=(()=>{class s{constructor(i,o,c,d){this._scrollDispatcher=i,this._viewportRuler=o,this._ngZone=c,this.noop=()=>new tT,this.close=m=>new tO(this._scrollDispatcher,this._ngZone,this._viewportRuler,m),this.block=()=>new eO(this._viewportRuler,this._document),this.reposition=m=>new nT(this._scrollDispatcher,this._viewportRuler,this._ngZone,m),this._document=d}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(Qf),f.LFG(Sd),f.LFG(f.R0b),f.LFG(oe))},s.\u0275prov=f.Yz7({factory:function(){return new s(f.LFG(Qf),f.LFG(Sd),f.LFG(f.R0b),f.LFG(oe))},token:s,providedIn:"root"}),s})();class DE{constructor(r){if(this.scrollStrategy=new tT,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,r){const i=Object.keys(r);for(const o of i)void 0!==r[o]&&(this[o]=r[o])}}}class iT{constructor(r,i,o,c,d){this.offsetX=o,this.offsetY=c,this.panelClass=d,this.originX=r.originX,this.originY=r.originY,this.overlayX=i.overlayX,this.overlayY=i.overlayY}}class sT{constructor(r,i){this.connectionPair=r,this.scrollableViewProperties=i}}let AE=(()=>{class s{constructor(i){this._attachedOverlays=[],this._document=i}ngOnDestroy(){this.detach()}add(i){this.remove(i),this._attachedOverlays.push(i)}remove(i){const o=this._attachedOverlays.indexOf(i);o>-1&&this._attachedOverlays.splice(o,1),0===this._attachedOverlays.length&&this.detach()}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(oe))},s.\u0275prov=f.Yz7({factory:function(){return new s(f.LFG(oe))},token:s,providedIn:"root"}),s})(),oT=(()=>{class s extends AE{constructor(i){super(i),this._keydownListener=o=>{const c=this._attachedOverlays;for(let d=c.length-1;d>-1;d--)if(c[d]._keydownEvents.observers.length>0){c[d]._keydownEvents.next(o);break}}}add(i){super.add(i),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(oe))},s.\u0275prov=f.Yz7({factory:function(){return new s(f.LFG(oe))},token:s,providedIn:"root"}),s})(),zP=(()=>{class s extends AE{constructor(i,o){super(i),this._platform=o,this._cursorStyleIsSet=!1,this._clickListener=c=>{const d=el(c),m=this._attachedOverlays.slice();for(let v=m.length-1;v>-1;v--){const S=m[v];if(!(S._outsidePointerEvents.observers.length<1)&&S.hasAttached()){if(S.overlayElement.contains(d))break;S._outsidePointerEvents.next(c)}}}}add(i){if(super.add(i),!this._isAttached){const o=this._document.body;o.addEventListener("click",this._clickListener,!0),o.addEventListener("auxclick",this._clickListener,!0),o.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=o.style.cursor,o.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const i=this._document.body;i.removeEventListener("click",this._clickListener,!0),i.removeEventListener("auxclick",this._clickListener,!0),i.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(i.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(oe),f.LFG(cn))},s.\u0275prov=f.Yz7({factory:function(){return new s(f.LFG(oe),f.LFG(cn))},token:s,providedIn:"root"}),s})();const Wn="undefined"!=typeof window?window:{},Zc=void 0!==Wn.__karma__&&!!Wn.__karma__||void 0!==Wn.jasmine&&!!Wn.jasmine||void 0!==Wn.jest&&!!Wn.jest||void 0!==Wn.Mocha&&!!Wn.Mocha;let ME=(()=>{class s{constructor(i,o){this._platform=o,this._document=i}ngOnDestroy(){const i=this._containerElement;i&&i.parentNode&&i.parentNode.removeChild(i)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const i="cdk-overlay-container";if(this._platform.isBrowser||Zc){const c=this._document.querySelectorAll(`.${i}[platform="server"], .${i}[platform="test"]`);for(let d=0;d<c.length;d++)c[d].parentNode.removeChild(c[d])}const o=this._document.createElement("div");o.classList.add(i),Zc?o.setAttribute("platform","test"):this._platform.isBrowser||o.setAttribute("platform","server"),this._document.body.appendChild(o),this._containerElement=o}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(oe),f.LFG(cn))},s.\u0275prov=f.Yz7({factory:function(){return new s(f.LFG(oe),f.LFG(cn))},token:s,providedIn:"root"}),s})();class rO{constructor(r,i,o,c,d,m,v,S,D){this._portalOutlet=r,this._host=i,this._pane=o,this._config=c,this._ngZone=d,this._keyboardDispatcher=m,this._document=v,this._location=S,this._outsideClickDispatcher=D,this._backdropElement=null,this._backdropClick=new Ot.xQ,this._attachments=new Ot.xQ,this._detachments=new Ot.xQ,this._locationChanges=Os.w.EMPTY,this._backdropClickHandler=x=>this._backdropClick.next(x),this._keydownEvents=new Ot.xQ,this._outsidePointerEvents=new Ot.xQ,c.scrollStrategy&&(this._scrollStrategy=c.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=c.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(r){let i=this._portalOutlet.attach(r);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Ks(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),i}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const r=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),r}dispose(){const r=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,r&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(r){r!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=r,this.hasAttached()&&(r.attach(this),this.updatePosition()))}updateSize(r){this._config=Object.assign(Object.assign({},this._config),r),this._updateElementSize()}setDirection(r){this._config=Object.assign(Object.assign({},this._config),{direction:r}),this._updateElementDirection()}addPanelClass(r){this._pane&&this._toggleClasses(this._pane,r,!0)}removePanelClass(r){this._pane&&this._toggleClasses(this._pane,r,!1)}getDirection(){const r=this._config.direction;return r?"string"==typeof r?r:r.value:"ltr"}updateScrollStrategy(r){r!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=r,this.hasAttached()&&(r.attach(this),r.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const r=this._pane.style;r.width=zn(this._config.width),r.height=zn(this._config.height),r.minWidth=zn(this._config.minWidth),r.minHeight=zn(this._config.minHeight),r.maxWidth=zn(this._config.maxWidth),r.maxHeight=zn(this._config.maxHeight)}_togglePointerEvents(r){this._pane.style.pointerEvents=r?"":"none"}_attachBackdrop(){const r="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(r)})}):this._backdropElement.classList.add(r)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let r=this._backdropElement;if(!r)return;let i,o=()=>{r&&(r.removeEventListener("click",this._backdropClickHandler),r.removeEventListener("transitionend",o),r.parentNode&&r.parentNode.removeChild(r)),this._backdropElement==r&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(r,this._config.backdropClass,!1),clearTimeout(i)};r.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{r.addEventListener("transitionend",o)}),r.style.pointerEvents="none",i=this._ngZone.runOutsideAngular(()=>setTimeout(o,500))}_toggleClasses(r,i,o){const c=r.classList;Bu(i).forEach(d=>{d&&(o?c.add(d):c.remove(d))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const r=this._ngZone.onStable.pipe(Cr((0,Jf.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),r.unsubscribe())})})}_disposeScrollStrategy(){const r=this._scrollStrategy;r&&(r.disable(),r.detach&&r.detach())}}const iO="cdk-overlay-connected-position-bounding-box",np=/([A-Za-z%]+)$/;class aT{constructor(r,i,o,c,d){this._viewportRuler=i,this._document=o,this._platform=c,this._overlayContainer=d,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ot.xQ,this._resizeSubscription=Os.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(r)}get positions(){return this._preferredPositions}attach(r){this._validatePositions(),r.hostElement.classList.add(iO),this._overlayRef=r,this._boundingBox=r.hostElement,this._pane=r.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const r=this._originRect,i=this._overlayRect,o=this._viewportRect,c=[];let d;for(let m of this._preferredPositions){let v=this._getOriginPoint(r,m),S=this._getOverlayPoint(v,i,m),D=this._getOverlayFit(S,i,o,m);if(D.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(m,v);this._canFitWithFlexibleDimensions(D,S,o)?c.push({position:m,origin:v,overlayRect:i,boundingBoxRect:this._calculateBoundingBoxRect(v,m)}):(!d||d.overlayFit.visibleArea<D.visibleArea)&&(d={overlayFit:D,overlayPoint:S,originPoint:v,position:m,overlayRect:i})}if(c.length){let m=null,v=-1;for(const S of c){const D=S.boundingBoxRect.width*S.boundingBoxRect.height*(S.position.weight||1);D>v&&(v=D,m=S)}return this._isPushed=!1,void this._applyPosition(m.position,m.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(d.position,d.originPoint);this._applyPosition(d.position,d.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ba(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(iO),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const r=this._lastPosition||this._preferredPositions[0],i=this._getOriginPoint(this._originRect,r);this._applyPosition(r,i)}}withScrollableContainers(r){return this._scrollables=r,this}withPositions(r){return this._preferredPositions=r,-1===r.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(r){return this._viewportMargin=r,this}withFlexibleDimensions(r=!0){return this._hasFlexibleDimensions=r,this}withGrowAfterOpen(r=!0){return this._growAfterOpen=r,this}withPush(r=!0){return this._canPush=r,this}withLockedPosition(r=!0){return this._positionLocked=r,this}setOrigin(r){return this._origin=r,this}withDefaultOffsetX(r){return this._offsetX=r,this}withDefaultOffsetY(r){return this._offsetY=r,this}withTransformOriginOn(r){return this._transformOriginSelector=r,this}_getOriginPoint(r,i){let o,c;if("center"==i.originX)o=r.left+r.width/2;else{const d=this._isRtl()?r.right:r.left,m=this._isRtl()?r.left:r.right;o="start"==i.originX?d:m}return c="center"==i.originY?r.top+r.height/2:"top"==i.originY?r.top:r.bottom,{x:o,y:c}}_getOverlayPoint(r,i,o){let c,d;return c="center"==o.overlayX?-i.width/2:"start"===o.overlayX?this._isRtl()?-i.width:0:this._isRtl()?0:-i.width,d="center"==o.overlayY?-i.height/2:"top"==o.overlayY?0:-i.height,{x:r.x+c,y:r.y+d}}_getOverlayFit(r,i,o,c){const d=xE(i);let{x:m,y:v}=r,S=this._getOffset(c,"x"),D=this._getOffset(c,"y");S&&(m+=S),D&&(v+=D);let j=0-v,H=v+d.height-o.height,X=this._subtractOverflows(d.width,0-m,m+d.width-o.width),ye=this._subtractOverflows(d.height,j,H),Re=X*ye;return{visibleArea:Re,isCompletelyWithinViewport:d.width*d.height===Re,fitsInViewportVertically:ye===d.height,fitsInViewportHorizontally:X==d.width}}_canFitWithFlexibleDimensions(r,i,o){if(this._hasFlexibleDimensions){const c=o.bottom-i.y,d=o.right-i.x,m=lT(this._overlayRef.getConfig().minHeight),v=lT(this._overlayRef.getConfig().minWidth),D=r.fitsInViewportHorizontally||null!=v&&v<=d;return(r.fitsInViewportVertically||null!=m&&m<=c)&&D}return!1}_pushOverlayOnScreen(r,i,o){if(this._previousPushAmount&&this._positionLocked)return{x:r.x+this._previousPushAmount.x,y:r.y+this._previousPushAmount.y};const c=xE(i),d=this._viewportRect,m=Math.max(r.x+c.width-d.width,0),v=Math.max(r.y+c.height-d.height,0),S=Math.max(d.top-o.top-r.y,0),D=Math.max(d.left-o.left-r.x,0);let x=0,k=0;return x=c.width<=d.width?D||-m:r.x<this._viewportMargin?d.left-o.left-r.x:0,k=c.height<=d.height?S||-v:r.y<this._viewportMargin?d.top-o.top-r.y:0,this._previousPushAmount={x,y:k},{x:r.x+x,y:r.y+k}}_applyPosition(r,i){if(this._setTransformOrigin(r),this._setOverlayElementStyles(i,r),this._setBoundingBoxStyles(i,r),r.panelClass&&this._addPanelClasses(r.panelClass),this._lastPosition=r,this._positionChanges.observers.length){const o=this._getScrollVisibility(),c=new sT(r,o);this._positionChanges.next(c)}this._isInitialRender=!1}_setTransformOrigin(r){if(!this._transformOriginSelector)return;const i=this._boundingBox.querySelectorAll(this._transformOriginSelector);let o,c=r.overlayY;o="center"===r.overlayX?"center":this._isRtl()?"start"===r.overlayX?"right":"left":"start"===r.overlayX?"left":"right";for(let d=0;d<i.length;d++)i[d].style.transformOrigin=`${o} ${c}`}_calculateBoundingBoxRect(r,i){const o=this._viewportRect,c=this._isRtl();let d,m,v,x,k,j;if("top"===i.overlayY)m=r.y,d=o.height-m+this._viewportMargin;else if("bottom"===i.overlayY)v=o.height-r.y+2*this._viewportMargin,d=o.height-v+this._viewportMargin;else{const H=Math.min(o.bottom-r.y+o.top,r.y),X=this._lastBoundingBoxSize.height;d=2*H,m=r.y-H,d>X&&!this._isInitialRender&&!this._growAfterOpen&&(m=r.y-X/2)}if("end"===i.overlayX&&!c||"start"===i.overlayX&&c)j=o.width-r.x+this._viewportMargin,x=r.x-this._viewportMargin;else if("start"===i.overlayX&&!c||"end"===i.overlayX&&c)k=r.x,x=o.right-r.x;else{const H=Math.min(o.right-r.x+o.left,r.x),X=this._lastBoundingBoxSize.width;x=2*H,k=r.x-H,x>X&&!this._isInitialRender&&!this._growAfterOpen&&(k=r.x-X/2)}return{top:m,left:k,bottom:v,right:j,width:x,height:d}}_setBoundingBoxStyles(r,i){const o=this._calculateBoundingBoxRect(r,i);!this._isInitialRender&&!this._growAfterOpen&&(o.height=Math.min(o.height,this._lastBoundingBoxSize.height),o.width=Math.min(o.width,this._lastBoundingBoxSize.width));const c={};if(this._hasExactPosition())c.top=c.left="0",c.bottom=c.right=c.maxHeight=c.maxWidth="",c.width=c.height="100%";else{const d=this._overlayRef.getConfig().maxHeight,m=this._overlayRef.getConfig().maxWidth;c.height=zn(o.height),c.top=zn(o.top),c.bottom=zn(o.bottom),c.width=zn(o.width),c.left=zn(o.left),c.right=zn(o.right),c.alignItems="center"===i.overlayX?"center":"end"===i.overlayX?"flex-end":"flex-start",c.justifyContent="center"===i.overlayY?"center":"bottom"===i.overlayY?"flex-end":"flex-start",d&&(c.maxHeight=zn(d)),m&&(c.maxWidth=zn(m))}this._lastBoundingBoxSize=o,ba(this._boundingBox.style,c)}_resetBoundingBoxStyles(){ba(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ba(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(r,i){const o={},c=this._hasExactPosition(),d=this._hasFlexibleDimensions,m=this._overlayRef.getConfig();if(c){const x=this._viewportRuler.getViewportScrollPosition();ba(o,this._getExactOverlayY(i,r,x)),ba(o,this._getExactOverlayX(i,r,x))}else o.position="static";let v="",S=this._getOffset(i,"x"),D=this._getOffset(i,"y");S&&(v+=`translateX(${S}px) `),D&&(v+=`translateY(${D}px)`),o.transform=v.trim(),m.maxHeight&&(c?o.maxHeight=zn(m.maxHeight):d&&(o.maxHeight="")),m.maxWidth&&(c?o.maxWidth=zn(m.maxWidth):d&&(o.maxWidth="")),ba(this._pane.style,o)}_getExactOverlayY(r,i,o){let c={top:"",bottom:""},d=this._getOverlayPoint(i,this._overlayRect,r);this._isPushed&&(d=this._pushOverlayOnScreen(d,this._overlayRect,o));let m=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return d.y-=m,"bottom"===r.overlayY?c.bottom=this._document.documentElement.clientHeight-(d.y+this._overlayRect.height)+"px":c.top=zn(d.y),c}_getExactOverlayX(r,i,o){let m,c={left:"",right:""},d=this._getOverlayPoint(i,this._overlayRect,r);return this._isPushed&&(d=this._pushOverlayOnScreen(d,this._overlayRect,o)),m=this._isRtl()?"end"===r.overlayX?"left":"right":"end"===r.overlayX?"right":"left","right"===m?c.right=this._document.documentElement.clientWidth-(d.x+this._overlayRect.width)+"px":c.left=zn(d.x),c}_getScrollVisibility(){const r=this._getOriginRect(),i=this._pane.getBoundingClientRect(),o=this._scrollables.map(c=>c.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:a_(r,o),isOriginOutsideView:o_(r,o),isOverlayClipped:a_(i,o),isOverlayOutsideView:o_(i,o)}}_subtractOverflows(r,...i){return i.reduce((o,c)=>o-Math.max(c,0),r)}_getNarrowedViewportRect(){const r=this._document.documentElement.clientWidth,i=this._document.documentElement.clientHeight,o=this._viewportRuler.getViewportScrollPosition();return{top:o.top+this._viewportMargin,left:o.left+this._viewportMargin,right:o.left+r-this._viewportMargin,bottom:o.top+i-this._viewportMargin,width:r-2*this._viewportMargin,height:i-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(r,i){return"x"===i?null==r.offsetX?this._offsetX:r.offsetX:null==r.offsetY?this._offsetY:r.offsetY}_validatePositions(){}_addPanelClasses(r){this._pane&&Bu(r).forEach(i=>{""!==i&&-1===this._appliedPanelClasses.indexOf(i)&&(this._appliedPanelClasses.push(i),this._pane.classList.add(i))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(r=>{this._pane.classList.remove(r)}),this._appliedPanelClasses=[])}_getOriginRect(){const r=this._origin;if(r instanceof f.SBq)return r.nativeElement.getBoundingClientRect();if(r instanceof Element)return r.getBoundingClientRect();const i=r.width||0,o=r.height||0;return{top:r.y,bottom:r.y+o,left:r.x,right:r.x+i,height:o,width:i}}}function ba(s,r){for(let i in r)r.hasOwnProperty(i)&&(s[i]=r[i]);return s}function lT(s){if("number"!=typeof s&&null!=s){const[r,i]=s.split(np);return i&&"px"!==i?null:parseFloat(r)}return s||null}function xE(s){return{top:Math.floor(s.top),right:Math.floor(s.right),bottom:Math.floor(s.bottom),left:Math.floor(s.left),width:Math.floor(s.width),height:Math.floor(s.height)}}class sO{constructor(r,i,o,c,d,m,v){this._preferredPositions=[],this._positionStrategy=new aT(o,c,d,m,v).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(r,i),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(r){this._overlayRef=r,this._positionStrategy.attach(r),this._direction&&(r.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(r){this._positionStrategy.withScrollableContainers(r)}withFallbackPosition(r,i,o,c){const d=new iT(r,i,o,c);return this._preferredPositions.push(d),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(r){return this._overlayRef?this._overlayRef.setDirection(r):this._direction=r,this}withOffsetX(r){return this._positionStrategy.withDefaultOffsetX(r),this}withOffsetY(r){return this._positionStrategy.withDefaultOffsetY(r),this}withLockedPosition(r){return this._positionStrategy.withLockedPosition(r),this}withPositions(r){return this._preferredPositions=r.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(r){return this._positionStrategy.setOrigin(r),this}}const cT="cdk-global-overlay-wrapper";class RE{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(r){const i=r.getConfig();this._overlayRef=r,this._width&&!i.width&&r.updateSize({width:this._width}),this._height&&!i.height&&r.updateSize({height:this._height}),r.hostElement.classList.add(cT),this._isDisposed=!1}top(r=""){return this._bottomOffset="",this._topOffset=r,this._alignItems="flex-start",this}left(r=""){return this._rightOffset="",this._leftOffset=r,this._justifyContent="flex-start",this}bottom(r=""){return this._topOffset="",this._bottomOffset=r,this._alignItems="flex-end",this}right(r=""){return this._leftOffset="",this._rightOffset=r,this._justifyContent="flex-end",this}width(r=""){return this._overlayRef?this._overlayRef.updateSize({width:r}):this._width=r,this}height(r=""){return this._overlayRef?this._overlayRef.updateSize({height:r}):this._height=r,this}centerHorizontally(r=""){return this.left(r),this._justifyContent="center",this}centerVertically(r=""){return this.top(r),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const r=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement.style,o=this._overlayRef.getConfig(),{width:c,height:d,maxWidth:m,maxHeight:v}=o,S=!("100%"!==c&&"100vw"!==c||m&&"100%"!==m&&"100vw"!==m),D=!("100%"!==d&&"100vh"!==d||v&&"100%"!==v&&"100vh"!==v);r.position=this._cssPosition,r.marginLeft=S?"0":this._leftOffset,r.marginTop=D?"0":this._topOffset,r.marginBottom=this._bottomOffset,r.marginRight=this._rightOffset,S?i.justifyContent="flex-start":"center"===this._justifyContent?i.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?i.justifyContent="flex-end":"flex-end"===this._justifyContent&&(i.justifyContent="flex-start"):i.justifyContent=this._justifyContent,i.alignItems=D?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const r=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement,o=i.style;i.classList.remove(cT),o.justifyContent=o.alignItems=r.marginTop=r.marginBottom=r.marginLeft=r.marginRight=r.position="",this._overlayRef=null,this._isDisposed=!0}}let uT=(()=>{class s{constructor(i,o,c,d){this._viewportRuler=i,this._document=o,this._platform=c,this._overlayContainer=d}global(){return new RE}connectedTo(i,o,c){return new sO(o,c,i,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(i){return new aT(i,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(Sd),f.LFG(oe),f.LFG(cn),f.LFG(ME))},s.\u0275prov=f.Yz7({factory:function(){return new s(f.LFG(Sd),f.LFG(oe),f.LFG(cn),f.LFG(ME))},token:s,providedIn:"root"}),s})(),dT=0,Ad=(()=>{class s{constructor(i,o,c,d,m,v,S,D,x,k,j){this.scrollStrategies=i,this._overlayContainer=o,this._componentFactoryResolver=c,this._positionBuilder=d,this._keyboardDispatcher=m,this._injector=v,this._ngZone=S,this._document=D,this._directionality=x,this._location=k,this._outsideClickDispatcher=j}create(i){const o=this._createHostElement(),c=this._createPaneElement(o),d=this._createPortalOutlet(c),m=new DE(i);return m.direction=m.direction||this._directionality.value,new rO(d,o,c,m,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(i){const o=this._document.createElement("div");return o.id="cdk-overlay-"+dT++,o.classList.add("cdk-overlay-pane"),i.appendChild(o),o}_createHostElement(){const i=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalOutlet(i){return this._appRef||(this._appRef=this._injector.get(f.z2F)),new SE(i,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(rT),f.LFG(ME),f.LFG(f._Vd),f.LFG(uT),f.LFG(oT),f.LFG(f.zs3),f.LFG(f.R0b),f.LFG(oe),f.LFG(sl),f.LFG(Je),f.LFG(zP))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();const l_={provide:new f.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Ad],useFactory:function(s){return()=>s.scrollStrategies.reposition()}};let fT=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({providers:[Ad,l_],imports:[[Ec,XR,RI],RI]}),s})(),_T=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({imports:[[fT,XR,es,Jv,Pn],Pn]}),s})(),yT=(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=f.Xpm({type:s,selectors:[["app-not-found"]],decls:12,vars:0,consts:[[1,"notFound"],[1,"notFound__icon"],["xmlns","http://www.w3.org/2000/svg","width","192","height","192","fill","#de7c7c","viewBox","0 0 256 256"],["width","256","height","256","fill","none"],["x1","160","y1","96","x2","96","y2","160","fill","none","stroke","#de7c7c","stroke-linecap","round","stroke-linejoin","round","stroke-width","16"],["x1","160","y1","160","x2","96","y2","96","fill","none","stroke","#de7c7c","stroke-linecap","round","stroke-linejoin","round","stroke-width","16"],["x","40","y","40","width","176","height","176","rx","8","stroke-width","16","stroke","#de7c7c","stroke-linecap","round","stroke-linejoin","round","fill","none"],[1,"notFound__description"],[1,"notFound__code"],[1,"notFound__p"]],template:function(i,o){1&i&&(f.TgZ(0,"div",0),f.TgZ(1,"div",1),f.O4$(),f.TgZ(2,"svg",2),f._UZ(3,"rect",3),f._UZ(4,"line",4),f._UZ(5,"line",5),f._UZ(6,"rect",6),f.qZA(),f.qZA(),f.kcU(),f.TgZ(7,"div",7),f.TgZ(8,"h4",8),f._uU(9,"Error 404"),f.qZA(),f.TgZ(10,"p",9),f._uU(11,"Ups... El elemento que intenta buscar no existe"),f.qZA(),f.qZA(),f.qZA())},styles:[".notFound[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.notFound__code[_ngcontent-%COMP%]{font-size:2.4rem;color:#de7c7c;font-weight:500;margin-bottom:2rem}.notFound__p[_ngcontent-%COMP%]{font-size:1.2rem;color:#fff}.notFound__description[_ngcontent-%COMP%]{margin-left:.7rem}"]}),s})();var gr=V(9126),as=V(9958),vT=(V(6300),V(4486)),ke=V(8239),PE=V(5452),bT=V(6034),El=V(300),un=V(4685),ET=function(s,r){return(ET=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(i[c]=o[c])})(s,r)};function gO(s){var r="function"==typeof Symbol&&Symbol.iterator,i=r&&s[r],o=0;if(i)return i.call(s);if(s&&"number"==typeof s.length)return{next:function(){return s&&o>=s.length&&(s=void 0),{value:s&&s[o++],done:!s}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}var rt,KP="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},wT=wT||{},Ft=KP||self;function FE(){}function CT(s){var r=typeof s;return"array"==(r="object"!=r?r:s?Array.isArray(s)?"array":r:"null")||"object"==r&&"number"==typeof s.length}function c_(s){var r=typeof s;return"object"==r&&null!=s||"function"==r}var ST="closure_uid_"+(1e9*Math.random()>>>0),JP=0;function XP(s,r,i){return s.call.apply(s.bind,arguments)}function eF(s,r,i){if(!s)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,o),s.apply(r,c)}}return function(){return s.apply(r,arguments)}}function li(s,r,i){return(li=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?XP:eF).apply(null,arguments)}function u_(s,r){var i=Array.prototype.slice.call(arguments,1);return function(){var o=i.slice();return o.push.apply(o,arguments),s.apply(this,o)}}function $r(s,r){function i(){}i.prototype=r.prototype,s.Z=r.prototype,s.prototype=new i,s.prototype.constructor=s,s.Vb=function(o,c,d){for(var m=Array(arguments.length-2),v=2;v<arguments.length;v++)m[v-2]=arguments[v];return r.prototype[c].apply(o,m)}}function wl(){this.s=this.s,this.o=this.o}var nF={};wl.prototype.s=!1,wl.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var s=function(s){return Object.prototype.hasOwnProperty.call(s,ST)&&s[ST]||(s[ST]=++JP)}(this);delete nF[s]}},wl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var mO=Array.prototype.indexOf?function(s,r){return Array.prototype.indexOf.call(s,r,void 0)}:function(s,r){if("string"==typeof s)return"string"!=typeof r||1!=r.length?-1:s.indexOf(r,0);for(var i=0;i<s.length;i++)if(i in s&&s[i]===r)return i;return-1},IT=Array.prototype.forEach?function(s,r,i){Array.prototype.forEach.call(s,r,i)}:function(s,r,i){for(var o=s.length,c="string"==typeof s?s.split(""):s,d=0;d<o;d++)d in c&&r.call(i,c[d],d,s)};function TT(s){return Array.prototype.concat.apply([],arguments)}function DT(s){var r=s.length;if(0<r){for(var i=Array(r),o=0;o<r;o++)i[o]=s[o];return i}return[]}function LE(s){return/^[\s\xa0]*$/.test(s)}var ji,yO=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]};function Ui(s,r){return-1!=s.indexOf(r)}function VE(s,r){return s<r?-1:s>r?1:0}e:{var AT=Ft.navigator;if(AT){var d_=AT.userAgent;if(d_){ji=d_;break e}}ji=""}function Cl(s,r,i){for(var o in s)r.call(i,s[o],o,s)}function BE(s){var r={};for(var i in s)r[i]=s[i];return r}var MT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xT(s,r){for(var i,o,c=1;c<arguments.length;c++){for(i in o=arguments[c])s[i]=o[i];for(var d=0;d<MT.length;d++)i=MT[d],Object.prototype.hasOwnProperty.call(o,i)&&(s[i]=o[i])}}function rp(s){return rp[" "](s),s}rp[" "]=FE;var UE,s,OT=Ui(ji,"Opera"),Yc=Ui(ji,"Trident")||Ui(ji,"MSIE"),vO=Ui(ji,"Edge"),h_=vO||Yc,ip=Ui(ji,"Gecko")&&!(Ui(ji.toLowerCase(),"webkit")&&!Ui(ji,"Edge"))&&!(Ui(ji,"Trident")||Ui(ji,"MSIE"))&&!Ui(ji,"Edge"),kT=Ui(ji.toLowerCase(),"webkit")&&!Ui(ji,"Edge");function bO(){var s=Ft.document;return s?s.documentMode:void 0}e:{var NT="",jE=(s=ji,ip?/rv:([^\);]+)(\)|;)/.exec(s):vO?/Edge\/([\d\.]+)/.exec(s):Yc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s):kT?/WebKit\/(\S+)/.exec(s):OT?/(?:Version)[ \/]?(\S+)/.exec(s):void 0);if(jE&&(NT=jE?jE[1]:""),Yc){var PT=bO();if(null!=PT&&PT>parseFloat(NT)){UE=String(PT);break e}}UE=NT}var f_={};function EO(){return r=f_,Object.prototype.hasOwnProperty.call(r,9)?r[9]:r[9]=function(){for(var s=0,r=yO(String(UE)).split("."),i=yO("9").split("."),o=Math.max(r.length,i.length),c=0;0==s&&c<o;c++){var d=r[c]||"",m=i[c]||"";do{if(d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],m=/(\d*)(\D*)(.*)/.exec(m)||["","","",""],0==d[0].length&&0==m[0].length)break;s=VE(0==d[1].length?0:parseInt(d[1],10),0==m[1].length?0:parseInt(m[1],10))||VE(0==d[2].length,0==m[2].length)||VE(d[2],m[2]),d=d[3],m=m[3]}while(0==s)}return 0<=s}();var r}var HE=Ft.document&&Yc&&(bO()||parseInt(UE,10))||void 0,CO=function(){if(!Ft.addEventListener||!Object.defineProperty)return!1;var s=!1,r=Object.defineProperty({},"passive",{get:function(){s=!0}});try{Ft.addEventListener("test",FE,r),Ft.removeEventListener("test",FE,r)}catch(i){}return s}();function Ei(s,r){this.type=s,this.g=this.target=r,this.defaultPrevented=!1}function p_(s,r){if(Ei.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var i=this.type=s.type,o=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=r,r=s.relatedTarget){if(ip){e:{try{rp(r.nodeName);var c=!0;break e}catch(d){}c=!1}c||(r=null)}}else"mouseover"==i?r=s.fromElement:"mouseout"==i&&(r=s.toElement);this.relatedTarget=r,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType="string"==typeof s.pointerType?s.pointerType:SO[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&p_.Z.h.call(this)}}Ei.prototype.h=function(){this.defaultPrevented=!0},$r(p_,Ei);var SO={2:"touch",3:"pen",4:"mouse"};p_.prototype.h=function(){p_.Z.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var g_="closure_listenable_"+(1e6*Math.random()|0),LT=0;function IO(s,r,i,o,c){this.listener=s,this.proxy=null,this.src=r,this.type=i,this.capture=!!o,this.ia=c,this.key=++LT,this.ca=this.fa=!1}function GE(s){s.ca=!0,s.listener=null,s.proxy=null,s.src=null,s.ia=null}function $E(s){this.src=s,this.g={},this.h=0}function zE(s,r){var i=r.type;if(i in s.g){var d,o=s.g[i],c=mO(o,r);(d=0<=c)&&Array.prototype.splice.call(o,c,1),d&&(GE(r),0==s.g[i].length&&(delete s.g[i],s.h--))}}function Kc(s,r,i,o){for(var c=0;c<s.length;++c){var d=s[c];if(!d.ca&&d.listener==r&&d.capture==!!i&&d.ia==o)return c}return-1}$E.prototype.add=function(s,r,i,o,c){var d=s.toString();(s=this.g[d])||(s=this.g[d]=[],this.h++);var m=Kc(s,r,o,c);return-1<m?(r=s[m],i||(r.fa=!1)):((r=new IO(r,this.src,d,!!o,c)).fa=i,s.push(r)),r};var qE="closure_lm_"+(1e6*Math.random()|0),WE={};function VT(s,r,i,o,c){if(o&&o.once)return Hi(s,r,i,o,c);if(Array.isArray(r)){for(var d=0;d<r.length;d++)VT(s,r[d],i,o,c);return null}return i=y_(i),s&&s[g_]?s.N(r,i,c_(o)?!!o.capture:!!o,c):m_(s,r,i,!1,o,c)}function m_(s,r,i,o,c,d){if(!r)throw Error("Invalid event type");var m=c_(c)?!!c.capture:!!c,v=op(s);if(v||(s[qE]=v=new $E(s)),(i=v.add(r,i,o,m,d)).proxy)return i;if(o=function(){var r=DO;return function s(i){return r.call(s.src,s.listener,i)}}(),i.proxy=o,o.src=s,o.listener=i,s.addEventListener)CO||(c=m),void 0===c&&(c=!1),s.addEventListener(r.toString(),o,c);else if(s.attachEvent)s.attachEvent(UT(r.toString()),o);else{if(!s.addListener||!s.removeListener)throw Error("addEventListener and attachEvent are unavailable.");s.addListener(o)}return i}function Hi(s,r,i,o,c){if(Array.isArray(r)){for(var d=0;d<r.length;d++)Hi(s,r[d],i,o,c);return null}return i=y_(i),s&&s[g_]?s.O(r,i,c_(o)?!!o.capture:!!o,c):m_(s,r,i,!0,o,c)}function BT(s,r,i,o,c){if(Array.isArray(r))for(var d=0;d<r.length;d++)BT(s,r[d],i,o,c);else o=c_(o)?!!o.capture:!!o,i=y_(i),s&&s[g_]?(s=s.i,(r=String(r).toString())in s.g&&-1<(i=Kc(d=s.g[r],i,o,c))&&(GE(d[i]),Array.prototype.splice.call(d,i,1),0==d.length&&(delete s.g[r],s.h--))):s&&(s=op(s))&&(r=s.g[r.toString()],s=-1,r&&(s=Kc(r,i,o,c)),(i=-1<s?r[s]:null)&&sp(i))}function sp(s){if("number"!=typeof s&&s&&!s.ca){var r=s.src;if(r&&r[g_])zE(r.i,s);else{var i=s.type,o=s.proxy;r.removeEventListener?r.removeEventListener(i,o,s.capture):r.detachEvent?r.detachEvent(UT(i),o):r.addListener&&r.removeListener&&r.removeListener(o),(i=op(r))?(zE(i,s),0==i.h&&(i.src=null,r[qE]=null)):GE(s)}}}function UT(s){return s in WE?WE[s]:WE[s]="on"+s}function DO(s,r){if(s.ca)s=!0;else{r=new p_(r,this);var i=s.listener,o=s.ia||s.src;s.fa&&sp(s),s=i.call(o,r)}return s}function op(s){return(s=s[qE])instanceof $E?s:null}var __="__closure_events_fn_"+(1e9*Math.random()>>>0);function y_(s){return"function"==typeof s?s:(s[__]||(s[__]=function(r){return s.handleEvent(r)}),s[__])}function Tr(){wl.call(this),this.i=new $E(this),this.P=this,this.I=null}function Dr(s,r){var i,o=s.I;if(o)for(i=[];o;o=o.I)i.push(o);if(s=s.P,o=r.type||r,"string"==typeof r)r=new Ei(r,s);else if(r instanceof Ei)r.target=r.target||s;else{var c=r;xT(r=new Ei(o,s),c)}if(c=!0,i)for(var d=i.length-1;0<=d;d--){var m=r.g=i[d];c=ap(m,o,!0,r)&&c}if(c=ap(m=r.g=s,o,!0,r)&&c,c=ap(m,o,!1,r)&&c,i)for(d=0;d<i.length;d++)c=ap(m=r.g=i[d],o,!1,r)&&c}function ap(s,r,i,o){if(!(r=s.i.g[String(r)]))return!0;r=r.concat();for(var c=!0,d=0;d<r.length;++d){var m=r[d];if(m&&!m.ca&&m.capture==i){var v=m.listener,S=m.ia||m.src;m.fa&&zE(s.i,m),c=!1!==v.call(S,o)&&c}}return c&&!o.defaultPrevented}$r(Tr,wl),Tr.prototype[g_]=!0,Tr.prototype.removeEventListener=function(s,r,i,o){BT(this,s,r,i,o)},Tr.prototype.M=function(){if(Tr.Z.M.call(this),this.i){var r,s=this.i;for(r in s.g){for(var i=s.g[r],o=0;o<i.length;o++)GE(i[o]);delete s.g[r],s.h--}}this.I=null},Tr.prototype.N=function(s,r,i,o){return this.i.add(String(s),r,!1,i,o)},Tr.prototype.O=function(s,r,i,o){return this.i.add(String(s),r,!0,i,o)};var ZE=Ft.JSON.stringify;function AO(){var s=GT,r=null;return s.g&&(r=s.g,s.g=s.g.next,s.g||(s.h=null),r.next=null),r}var ls,YE=function(){function s(){this.h=this.g=null}return s.prototype.add=function(r,i){var o=KE.get();o.set(r,i),this.h?this.h.next=o:this.g=o,this.h=o},s}(),KE=new(function(){function s(r,i){this.i=r,this.j=i,this.h=0,this.g=null}return s.prototype.get=function(){var r;return 0<this.h?(this.h--,this.g=(r=this.g).next,r.next=null):r=this.i(),r},s}())(function(){return new jT},function(s){return s.reset()}),jT=function(){function s(){this.next=this.g=this.h=null}return s.prototype.set=function(r,i){this.h=r,this.g=i,this.next=null},s.prototype.reset=function(){this.next=this.g=this.h=null},s}();function QE(s){Ft.setTimeout(function(){throw s},0)}function JE(s,r){ls||function(){var s=Ft.Promise.resolve(void 0);ls=function(){s.then(rF)}}(),HT||(ls(),HT=!0),GT.add(s,r)}var HT=!1,GT=new YE;function rF(){for(var s;s=AO();){try{s.h.call(s.g)}catch(i){QE(i)}var r=KE;r.j(s),100>r.h&&(r.h++,s.next=r.g,r.g=s)}HT=!1}function v_(s,r){Tr.call(this),this.h=s||1,this.g=r||Ft,this.j=li(this.kb,this),this.l=Date.now()}function XE(s){s.da=!1,s.S&&(s.g.clearTimeout(s.S),s.S=null)}function ew(s,r,i){if("function"==typeof s)i&&(s=li(s,i));else{if(!s||"function"!=typeof s.handleEvent)throw Error("Invalid listener argument");s=li(s.handleEvent,s)}return 2147483647<Number(r)?-1:Ft.setTimeout(s,r||0)}function xO(s){s.g=ew(function(){s.g=null,s.i&&(s.i=!1,xO(s))},s.j);var r=s.h;s.h=null,s.m.apply(null,r)}$r(v_,Tr),(rt=v_.prototype).da=!1,rt.S=null,rt.kb=function(){if(this.da){var s=Date.now()-this.l;0<s&&s<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-s):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Dr(this,"tick"),this.da&&(XE(this),this.start()))}},rt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},rt.M=function(){v_.Z.M.call(this),XE(this),delete this.g};var RO=function(s){function r(i,o){var c=s.call(this)||this;return c.m=i,c.j=o,c.h=null,c.i=!1,c.g=null,c}return function(s,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=s}ET(s,r),s.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}(r,s),r.prototype.l=function(i){this.h=arguments,this.g?this.i=!0:xO(this)},r.prototype.M=function(){s.prototype.M.call(this),this.g&&(Ft.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},r}(wl);function Md(s){wl.call(this),this.h=s,this.g={}}$r(Md,wl);var $T=[];function zT(s,r,i,o){Array.isArray(i)||(i&&($T[0]=i.toString()),i=$T);for(var c=0;c<i.length;c++){var d=VT(r,i[c],o||s.handleEvent,!1,s.h||s);if(!d)break;s.g[d.key]=d}}function tw(s){Cl(s.g,function(r,i){this.g.hasOwnProperty(i)&&sp(r)},s),s.g={}}function b_(){this.g=!0}function Qc(s,r,i,o){s.info(function(){return"XMLHTTP TEXT ("+r+"): "+function(s,r){if(!s.g)return r;if(!r)return null;try{var i=JSON.parse(r);if(i)for(s=0;s<i.length;s++)if(Array.isArray(i[s])){var o=i[s];if(!(2>o.length)){var c=o[1];if(Array.isArray(c)&&!(1>c.length)){var d=c[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var m=1;m<c.length;m++)c[m]=""}}}return ZE(i)}catch(v){return r}}(s,i)+(o?" "+o:"")})}Md.prototype.M=function(){Md.Z.M.call(this),tw(this)},Md.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},b_.prototype.Aa=function(){this.g=!1},b_.prototype.info=function(){};var Sl={},xd=null;function Rd(){return xd=xd||new Tr}function nw(s){Ei.call(this,Sl.Ma,s)}function lp(s){var r=Rd();Dr(r,new nw(r,s))}function WT(s,r){Ei.call(this,Sl.STAT_EVENT,s),this.stat=r}function Gi(s){var r=Rd();Dr(r,new WT(r,s))}function NO(s,r){Ei.call(this,Sl.Na,s),this.size=r}function E_(s,r){if("function"!=typeof s)throw Error("Fn must not be null and must be a function");return Ft.setTimeout(function(){s()},r)}Sl.Ma="serverreachability",$r(nw,Ei),Sl.STAT_EVENT="statevent",$r(WT,Ei),Sl.Na="timingevent",$r(NO,Ei);var cp={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},rw={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function iw(){}function YT(){}iw.prototype.h=null;var QT,up={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function w_(){Ei.call(this,"d")}function KT(){Ei.call(this,"c")}function C_(){}function Jc(s,r,i,o){this.l=s,this.j=r,this.m=i,this.X=o||1,this.V=new Md(this),this.P=sF,this.W=new v_(s=h_?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new mr}function mr(){this.i=null,this.g="",this.h=!1}$r(w_,Ei),$r(KT,Ei),$r(C_,iw),C_.prototype.g=function(){return new XMLHttpRequest},C_.prototype.i=function(){return{}},QT=new C_;var sF=45e3,S_={},dp={};function sw(s,r,i){s.K=1,s.v=T_(Fs(r)),s.s=i,s.U=!0,hp(s,null)}function hp(s,r){s.F=Date.now(),ho(s),s.A=Fs(s.v);var i=s.A,o=s.X;Array.isArray(o)||(o=[String(o)]),Ls(i.h,"t",o),s.C=0,i=s.l.H,s.h=new mr,s.g=mD(s.l,i?r:null,!s.s),0<s.O&&(s.L=new RO(li(s.Ia,s,s.g),s.O)),zT(s.V,s.g,"readystatechange",s.gb),r=s.H?BE(s.H):{},s.s?(s.u||(s.u="POST"),r["Content-Type"]="application/x-www-form-urlencoded",s.g.ea(s.A,s.u,s.s,r)):(s.u="GET",s.g.ea(s.A,s.u,null,r)),lp(1),function(s,r,i,o,c,d){s.info(function(){if(s.g)if(d)for(var m="",v=d.split("&"),S=0;S<v.length;S++){var D=v[S].split("=");if(1<D.length){var x=D[0];D=D[1];var k=x.split("_");m=2<=k.length&&"type"==k[1]?m+(x+"=")+D+"&":m+(x+"=redacted&")}}else m=null;else m=d;return"XMLHTTP REQ ("+o+") [attempt "+c+"]: "+r+"\n"+i+"\n"+m})}(s.j,s.u,s.A,s.m,s.X,s.s)}function JT(s){return!!s.g&&"GET"==s.u&&2!=s.K&&s.l.Ba}function XT(s,r,i){for(var c,o=!0;!s.I&&s.C<i.length;){if((c=eD(s,i))==dp){4==r&&(s.o=4,Gi(14),o=!1),Qc(s.j,s.m,null,"[Incomplete Response]");break}if(c==S_){s.o=4,Gi(15),Qc(s.j,s.m,i,"[Invalid Chunk]"),o=!1;break}Qc(s.j,s.m,c,null),kd(s,c)}JT(s)&&c!=dp&&c!=S_&&(s.h.g="",s.C=0),4!=r||0!=i.length||s.h.h||(s.o=1,Gi(16),o=!1),s.i=s.i&&o,o?0<i.length&&!s.aa&&(s.aa=!0,(r=s.l).g==s&&r.$&&!r.L&&(r.h.info("Great, no buffering proxy detected. Bytes received: "+i.length),k_(r),r.L=!0,Gi(11))):(Qc(s.j,s.m,i,"[Invalid Chunked Response]"),eu(s),Xc(s))}function eD(s,r){var i=s.C,o=r.indexOf("\n",i);return-1==o?dp:(i=Number(r.substring(i,o)),isNaN(i)?S_:(o+=1)+i>r.length?dp:(r=r.substr(o,i),s.C=o+i,r))}function ho(s){s.Y=Date.now()+s.P,ow(s,s.P)}function ow(s,r){if(null!=s.B)throw Error("WatchDog timer not null");s.B=E_(li(s.eb,s),r)}function Od(s){s.B&&(Ft.clearTimeout(s.B),s.B=null)}function Xc(s){0==s.l.G||s.I||fD(s.l,s)}function eu(s){Od(s);var r=s.L;r&&"function"==typeof r.na&&r.na(),s.L=null,XE(s.W),tw(s.V),s.g&&(r=s.g,s.g=null,r.abort(),r.na())}function kd(s,r){try{var i=s.l;if(0!=i.G&&(i.g==s||cw(i.i,s)))if(i.I=s.N,!s.J&&cw(i.i,s)&&3==i.G){try{var o=i.Ca.g.parse(r)}catch(Re){o=null}if(Array.isArray(o)&&3==o.length){var c=o;if(0==c[0])e:if(i.u)i.ta=c[1],0<i.ta-i.U&&37500>c[2]&&i.N&&0==i.A&&!i.v&&(i.v=E_(li(i.ab,i),6e3));else{if(i.g){if(!(i.g.F+3e3<s.F))break e;N_(i),R_(i)}Cp(i),Gi(18)}if(1>=aD(i.i)&&i.ka){try{i.ka()}catch(Re){}i.ka=void 0}}else ru(i,11)}else if((s.J||i.g==s)&&N_(i),!LE(r))for(c=i.Ca.g.parse(r),r=0;r<c.length;r++){var d=c[r];if(i.U=d[0],d=d[1],2==i.G)if("c"==d[0]){i.J=d[1],i.la=d[2];var m=d[3];null!=m&&(i.ma=m,i.h.info("VER="+i.ma));var v=d[4];null!=v&&(i.za=v,i.h.info("SVER="+i.za));var S=d[5];null!=S&&"number"==typeof S&&0<S&&(i.K=o=1.5*S,i.h.info("backChannelRequestTimeoutMs_="+o)),o=i;var D=s.g;if(D){var x=D.g?D.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(x){var k=o.i;!k.g&&(Ui(x,"spdy")||Ui(x,"quic")||Ui(x,"h2"))&&(k.j=k.l,k.g=new Set,k.h&&(nu(k,k.h),k.h=null))}if(o.D){var j=D.g?D.g.getResponseHeader("X-HTTP-Session-Id"):null;j&&(o.sa=j,Mn(o.F,o.D,j))}}i.G=3,i.j&&i.j.xa(),i.$&&(i.O=Date.now()-s.F,i.h.info("Handshake RTT: "+i.O+"ms"));var H=s;if((o=i).oa=gD(o,o.H?o.la:null,o.W),H.J){uw(o.i,H);var X=H,ye=o.K;ye&&X.setTimeout(ye),X.B&&(Od(X),ho(X)),o.g=H}else wp(o);0<i.l.length&&O_(i)}else"stop"!=d[0]&&"close"!=d[0]||ru(i,7);else 3==i.G&&("stop"==d[0]||"close"==d[0]?"stop"==d[0]?ru(i,7):_w(i):"noop"!=d[0]&&i.j&&i.j.wa(d),i.A=0)}lp(4)}catch(Re){}}function fp(s,r){if(s.forEach&&"function"==typeof s.forEach)s.forEach(r,void 0);else if(CT(s)||"string"==typeof s)IT(s,r,void 0);else{if(s.T&&"function"==typeof s.T)var i=s.T();else if(s.R&&"function"==typeof s.R)i=void 0;else if(CT(s)||"string"==typeof s){i=[];for(var o=s.length,c=0;c<o;c++)i.push(c)}else for(c in i=[],o=0,s)i[o++]=c;c=(o=function(s){if(s.R&&"function"==typeof s.R)return s.R();if("string"==typeof s)return s.split("");if(CT(s)){for(var r=[],i=s.length,o=0;o<i;o++)r.push(s[o]);return r}for(o in r=[],i=0,s)r[i++]=s[o];return r}(s)).length;for(var d=0;d<c;d++)r.call(void 0,o[d],i&&i[d],s)}}function tu(s,r){this.h={},this.g=[],this.i=0;var i=arguments.length;if(1<i){if(i%2)throw Error("Uneven number of arguments");for(var o=0;o<i;o+=2)this.set(arguments[o],arguments[o+1])}else if(s)if(s instanceof tu)for(i=s.T(),o=0;o<i.length;o++)this.set(i[o],s.get(i[o]));else for(o in s)this.set(o,s[o])}function or(s){if(s.i!=s.g.length){for(var r=0,i=0;r<s.g.length;){var o=s.g[r];Nd(s.h,o)&&(s.g[i++]=o),r++}s.g.length=i}if(s.i!=s.g.length){var c={};for(i=r=0;r<s.g.length;)Nd(c,o=s.g[r])||(s.g[i++]=o,c[o]=1),r++;s.g.length=i}}function Nd(s,r){return Object.prototype.hasOwnProperty.call(s,r)}(rt=Jc.prototype).setTimeout=function(s){this.P=s},rt.gb=function(s){s=s.target;var r=this.L;r&&3==Vs(s)?r.l():this.Ia(s)},rt.Ia=function(s){try{if(s==this.g)e:{var r=Vs(this.g),i=this.g.Da(),o=this.g.ba();if(!(3>r)&&(3!=r||h_||this.g&&(this.h.h||this.g.ga()||pw(this.g)))){this.I||4!=r||7==i||lp(8==i||0>=o?3:2),Od(this);var c=this.g.ba();this.N=c;t:if(JT(this)){var d=pw(this.g);s="";var m=d.length,v=4==Vs(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){eu(this),Xc(this);var S="";break t}this.h.i=new Ft.TextDecoder}for(i=0;i<m;i++)this.h.h=!0,s+=this.h.i.decode(d[i],{stream:v&&i==m-1});d.splice(0,m),this.h.g+=s,this.C=0,S=this.h.g}else S=this.g.ga();if(this.i=200==c,function(s,r,i,o,c,d,m){s.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+c+"]: "+r+"\n"+i+"\n"+d+" "+m})}(this.j,this.u,this.A,this.m,this.X,r,c),this.i){if(this.$&&!this.J){t:{if(this.g){var D,x=this.g;if((D=x.g?x.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!LE(D)){var k=D;break t}}k=null}if(!(c=k)){this.i=!1,this.o=3,Gi(12),eu(this),Xc(this);break e}Qc(this.j,this.m,c,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,kd(this,c)}this.U?(XT(this,r,S),h_&&this.i&&3==r&&(zT(this.V,this.W,"tick",this.fb),this.W.start())):(Qc(this.j,this.m,S,null),kd(this,S)),4==r&&eu(this),this.i&&!this.I&&(4==r?fD(this.l,this):(this.i=!1,ho(this)))}else 400==c&&0<S.indexOf("Unknown SID")?(this.o=3,Gi(12)):(this.o=0,Gi(13)),eu(this),Xc(this)}}}catch(j){}},rt.fb=function(){if(this.g){var s=Vs(this.g),r=this.g.ga();this.C<r.length&&(Od(this),XT(this,s,r),this.i&&4!=s&&ho(this))}},rt.cancel=function(){this.I=!0,eu(this)},rt.eb=function(){this.B=null;var s=Date.now();0<=s-this.Y?(function(s,r){s.info(function(){return"TIMEOUT: "+r})}(this.j,this.A),2!=this.K&&(lp(3),Gi(17)),eu(this),this.o=2,Xc(this)):ow(this,this.Y-s)},(rt=tu.prototype).R=function(){or(this);for(var s=[],r=0;r<this.g.length;r++)s.push(this.h[this.g[r]]);return s},rt.T=function(){return or(this),this.g.concat()},rt.get=function(s,r){return Nd(this.h,s)?this.h[s]:r},rt.set=function(s,r){Nd(this.h,s)||(this.i++,this.g.push(s)),this.h[s]=r},rt.forEach=function(s,r){for(var i=this.T(),o=0;o<i.length;o++){var c=i[o],d=this.get(c);s.call(r,d,c,this)}};var tD=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Pd(s,r){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,s instanceof Pd){this.g=void 0!==r?r:s.g,I_(this,s.j),this.s=s.s,aw(this,s.i),lw(this,s.m),this.l=s.l,r=s.h;var i=new gp;i.i=r.i,r.g&&(i.g=new tu(r.g),i.h=r.h),LO(this,i),this.o=s.o}else s&&(i=String(s).match(tD))?(this.g=!!r,I_(this,i[1]||"",!0),this.s=pp(i[2]||""),aw(this,i[3]||"",!0),lw(this,i[4]),this.l=pp(i[5]||"",!0),LO(this,i[6]||"",!0),this.o=pp(i[7]||"")):(this.g=!!r,this.h=new gp(null,this.g))}function Fs(s){return new Pd(s)}function I_(s,r,i){s.j=i?pp(r,!0):r,s.j&&(s.j=s.j.replace(/:$/,""))}function aw(s,r,i){s.i=i?pp(r,!0):r}function lw(s,r){if(r){if(r=Number(r),isNaN(r)||0>r)throw Error("Bad port number "+r);s.m=r}else s.m=null}function LO(s,r,i){r instanceof gp?(s.h=r,function(s,r){r&&!s.j&&(Il(s),s.i=null,s.g.forEach(function(i,o){var c=o.toLowerCase();o!=c&&(rD(this,o),Ls(this,c,i))},s)),s.j=r}(s.h,s.g)):(i||(r=D_(r,aF)),s.h=new gp(r,s.g))}function Mn(s,r,i){s.h.set(r,i)}function T_(s){return Mn(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function pp(s,r){return s?r?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function D_(s,r,i){return"string"==typeof s?(s=encodeURI(s).replace(r,UO),i&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function UO(s){return"%"+((s=s.charCodeAt(0))>>4&15).toString(16)+(15&s).toString(16)}Pd.prototype.toString=function(){var s=[],r=this.j;r&&s.push(D_(r,nD,!0),":");var i=this.i;return(i||"file"==r)&&(s.push("//"),(r=this.s)&&s.push(D_(r,nD,!0),"@"),s.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(i=this.m)&&s.push(":",String(i))),(i=this.l)&&(this.i&&"/"!=i.charAt(0)&&s.push("/"),s.push(D_(i,"/"==i.charAt(0)?oF:jO,!0))),(i=this.h.toString())&&s.push("?",i),(i=this.o)&&s.push("#",D_(i,HO)),s.join("")};var nD=/[#\/\?@]/g,jO=/[#\?:]/g,oF=/[#\?]/g,aF=/[#\?@]/g,HO=/#/g;function gp(s,r){this.h=this.g=null,this.i=s||null,this.j=!!r}function Il(s){s.g||(s.g=new tu,s.h=0,s.i&&function(s,r){if(s){s=s.split("&");for(var i=0;i<s.length;i++){var o=s[i].indexOf("="),c=null;if(0<=o){var d=s[i].substring(0,o);c=s[i].substring(o+1)}else d=s[i];r(d,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(s.i,function(r,i){s.add(decodeURIComponent(r.replace(/\+/g," ")),i)}))}function rD(s,r){Il(s),r=Fd(s,r),Nd(s.g.h,r)&&(s.i=null,s.h-=s.g.get(r).length,Nd((s=s.g).h,r)&&(delete s.h[r],s.i--,s.g.length>2*s.i&&or(s)))}function iD(s,r){return Il(s),r=Fd(s,r),Nd(s.g.h,r)}function Ls(s,r,i){rD(s,r),0<i.length&&(s.i=null,s.g.set(Fd(s,r),DT(i)),s.h+=i.length)}function Fd(s,r){return r=String(r),s.j&&(r=r.toLowerCase()),r}(rt=gp.prototype).add=function(s,r){Il(this),this.i=null,s=Fd(this,s);var i=this.g.get(s);return i||this.g.set(s,i=[]),i.push(r),this.h+=1,this},rt.forEach=function(s,r){Il(this),this.g.forEach(function(i,o){IT(i,function(c){s.call(r,c,o,this)},this)},this)},rt.T=function(){Il(this);for(var s=this.g.R(),r=this.g.T(),i=[],o=0;o<r.length;o++)for(var c=s[o],d=0;d<c.length;d++)i.push(r[o]);return i},rt.R=function(s){Il(this);var r=[];if("string"==typeof s)iD(this,s)&&(r=TT(r,this.g.get(Fd(this,s))));else{s=this.g.R();for(var i=0;i<s.length;i++)r=TT(r,s[i])}return r},rt.set=function(s,r){return Il(this),this.i=null,iD(this,s=Fd(this,s))&&(this.h-=this.g.get(s).length),this.g.set(s,[r]),this.h+=1,this},rt.get=function(s,r){return s&&0<(s=this.R(s)).length?String(s[0]):r},rt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var s=[],r=this.g.T(),i=0;i<r.length;i++){var o=r[i],c=encodeURIComponent(String(o));o=this.R(o);for(var d=0;d<o.length;d++){var m=c;""!==o[d]&&(m+="="+encodeURIComponent(String(o[d]))),s.push(m)}}return this.i=s.join("&")};var $O=function(r,i){this.h=r,this.g=i};function sD(s){this.l=s||lF,s=Ft.PerformanceNavigationTiming?0<(s=Ft.performance.getEntriesByType("navigation")).length&&("hq"==s[0].nextHopProtocol||"h2"==s[0].nextHopProtocol):!!(Ft.g&&Ft.g.Ea&&Ft.g.Ea()&&Ft.g.Ea().Zb),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var lF=10;function oD(s){return!!s.h||!!s.g&&s.g.size>=s.j}function aD(s){return s.h?1:s.g?s.g.size:0}function cw(s,r){return s.h?s.h==r:!!s.g&&s.g.has(r)}function nu(s,r){s.g?s.g.add(r):s.h=r}function uw(s,r){s.h&&s.h==r?s.h=null:s.g&&s.g.has(r)&&s.g.delete(r)}function zO(s){var r,i;if(null!=s.h)return s.i.concat(s.h.D);if(null!=s.g&&0!==s.g.size){var o=s.i;try{for(var c=gO(s.g.values()),d=c.next();!d.done;d=c.next())o=o.concat(d.value.D)}catch(v){r={error:v}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}return o}return DT(s.i)}function dw(){}function cF(){this.g=new dw}function uF(s,r,i){var o=i||"";try{fp(s,function(c,d){var m=c;c_(c)&&(m=ZE(c)),r.push(o+d+"="+encodeURIComponent(m))})}catch(c){throw r.push(o+"type="+encodeURIComponent("_badmap")),c}}function Ld(s,r,i,o,c){try{r.onload=null,r.onerror=null,r.onabort=null,r.ontimeout=null,c(o)}catch(d){}}function mp(s){this.l=s.$b||null,this.j=s.ib||!1}function A_(s,r){Tr.call(this),this.D=s,this.u=r,this.m=void 0,this.readyState=hw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}sD.prototype.cancel=function(){var s,r;if(this.i=zO(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var i=gO(this.g.values()),o=i.next();!o.done;o=i.next())o.value.cancel()}catch(d){s={error:d}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(s)throw s.error}}this.g.clear()}},dw.prototype.stringify=function(s){return Ft.JSON.stringify(s,void 0)},dw.prototype.parse=function(s){return Ft.JSON.parse(s,void 0)},$r(mp,iw),mp.prototype.g=function(){return new A_(this.l,this.j)},mp.prototype.i=function(s){return function(){return s}}({}),$r(A_,Tr);var hw=0;function qO(s){s.j.read().then(s.Sa.bind(s)).catch(s.ha.bind(s))}function _p(s){s.readyState=4,s.l=null,s.j=null,s.A=null,yp(s)}function yp(s){s.onreadystatechange&&s.onreadystatechange.call(s)}(rt=A_.prototype).open=function(s,r){if(this.readyState!=hw)throw this.abort(),Error("Error reopening a connection");this.C=s,this.B=r,this.readyState=1,yp(this)},rt.send=function(s){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var r={headers:this.v,method:this.C,credentials:this.m,cache:void 0};s&&(r.body=s),(this.D||Ft).fetch(new Request(this.B,r)).then(this.Va.bind(this),this.ha.bind(this))},rt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,_p(this)),this.readyState=hw},rt.Va=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,yp(this)),this.g&&(this.readyState=3,yp(this),this.g)))if("arraybuffer"===this.responseType)s.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ft.ReadableStream&&"body"in s){if(this.j=s.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;qO(this)}else s.text().then(this.Ua.bind(this),this.ha.bind(this))},rt.Sa=function(s){if(this.g){if(this.u&&s.value)this.response.push(s.value);else if(!this.u){var r=s.value?s.value:new Uint8Array(0);(r=this.A.decode(r,{stream:!s.done}))&&(this.response=this.responseText+=r)}s.done?_p(this):yp(this),3==this.readyState&&qO(this)}},rt.Ua=function(s){this.g&&(this.response=this.responseText=s,_p(this))},rt.Ta=function(s){this.g&&(this.response=s,_p(this))},rt.ha=function(){this.g&&_p(this)},rt.setRequestHeader=function(s,r){this.v.append(s,r)},rt.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},rt.getAllResponseHeaders=function(){if(!this.h)return"";for(var s=[],r=this.h.entries(),i=r.next();!i.done;)s.push((i=i.value)[0]+": "+i[1]),i=r.next();return s.join("\r\n")},Object.defineProperty(A_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(s){this.m=s?"include":"same-origin"}});var WO=Ft.JSON.parse;function dn(s){Tr.call(this),this.headers=new tu,this.u=s||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ZO,this.K=this.L=!1}$r(dn,Tr);var ZO="",lD=/^https?$/i,YO=["POST","PUT"];function uD(s){return"content-type"==s.toLowerCase()}function fw(s,r){s.h=!1,s.g&&(s.l=!0,s.g.abort(),s.l=!1),s.j=r,s.m=5,M_(s),Vd(s)}function M_(s){s.D||(s.D=!0,Dr(s,"complete"),Dr(s,"error"))}function x_(s){if(s.h&&void 0!==wT&&(!s.C[1]||4!=Vs(s)||2!=s.ba()))if(s.v&&4==Vs(s))ew(s.Fa,0,s);else if(Dr(s,"readystatechange"),4==Vs(s)){s.h=!1;try{var o,r=s.ba();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break e;default:i=!1}if(!(o=i)){var c;if(c=0===r){var d=String(s.H).match(tD)[1]||null;if(!d&&Ft.self&&Ft.self.location){var m=Ft.self.location.protocol;d=m.substr(0,m.length-1)}c=!lD.test(d?d.toLowerCase():"")}o=c}if(o)Dr(s,"complete"),Dr(s,"success");else{s.m=6;try{var v=2<Vs(s)?s.g.statusText:""}catch(S){v=""}s.j=v+" ["+s.ba()+"]",M_(s)}}finally{Vd(s)}}}function Vd(s,r){if(s.g){vp(s);var i=s.g,o=s.C[0]?FE:null;s.g=null,s.C=null,r||Dr(s,"ready");try{i.onreadystatechange=o}catch(c){}}}function vp(s){s.g&&s.K&&(s.g.ontimeout=null),s.A&&(Ft.clearTimeout(s.A),s.A=null)}function Vs(s){return s.g?s.g.readyState:0}function pw(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.J){case ZO:case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch(r){return null}}function gw(s,r,i){e:{for(o in i){var o=!1;break e}o=!0}o||(i=function(s){var r="";return Cl(s,function(i,o){r+=o,r+=":",r+=i,r+="\r\n"}),r}(i),"string"==typeof s?null!=i&&encodeURIComponent(String(i)):Mn(s,r,i))}function bp(s,r,i){return i&&i.internalChannelParams&&i.internalChannelParams[s]||r}function mw(s){this.za=0,this.l=[],this.h=new b_,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=bp("failFast",!1,s),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=bp("baseRetryDelayMs",5e3,s),this.$a=bp("retryDelaySeedMs",1e4,s),this.Ya=bp("forwardChannelMaxRetries",2,s),this.ra=bp("forwardChannelRequestTimeoutMs",2e4,s),this.qa=s&&s.xmlHttpFactory||void 0,this.Ba=s&&s.Yb||!1,this.K=void 0,this.H=s&&s.supportsCrossDomainXhr||!1,this.J="",this.i=new sD(s&&s.concurrentRequestLimit),this.Ca=new cF,this.ja=s&&s.fastHandshake||!1,this.Ra=s&&s.Wb||!1,s&&s.Aa&&this.h.Aa(),s&&s.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&s&&s.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!s||!1!==s.Xb}function _w(s){if(hD(s),3==s.G){var r=s.V++,i=Fs(s.F);Mn(i,"SID",s.J),Mn(i,"RID",r),Mn(i,"TYPE","terminate"),Tl(s,i),(r=new Jc(s,s.h,r,void 0)).K=2,r.v=T_(Fs(i)),i=!1,Ft.navigator&&Ft.navigator.sendBeacon&&(i=Ft.navigator.sendBeacon(r.v.toString(),"")),!i&&Ft.Image&&((new Image).src=r.v,i=!0),i||(r.g=mD(r.l,null),r.g.ea(r.v)),r.F=Date.now(),ho(r)}vw(s)}function R_(s){s.g&&(k_(s),s.g.cancel(),s.g=null)}function hD(s){R_(s),s.u&&(Ft.clearTimeout(s.u),s.u=null),N_(s),s.i.cancel(),s.m&&("number"==typeof s.m&&Ft.clearTimeout(s.m),s.m=null)}function Ep(s,r){s.l.push(new $O(s.Za++,r)),3==s.G&&O_(s)}function O_(s){oD(s.i)||s.m||(s.m=!0,JE(s.Ha,s),s.C=0)}function Bd(s,r){var i;i=r?r.m:s.V++;var o=Fs(s.F);Mn(o,"SID",s.J),Mn(o,"RID",i),Mn(o,"AID",s.U),Tl(s,o),s.o&&s.s&&gw(o,s.o,s.s),i=new Jc(s,s.h,i,s.C+1),null===s.o&&(i.H=s.s),r&&(s.l=r.D.concat(s.l)),r=yw(s,i,1e3),i.setTimeout(Math.round(.5*s.ra)+Math.round(.5*s.ra*Math.random())),nu(s.i,i),sw(i,o,r)}function Tl(s,r){s.j&&fp({},function(i,o){Mn(r,o,i)})}function yw(s,r,i){i=Math.min(s.l.length,i);var o=s.j?li(s.j.Oa,s.j,s):null;e:for(var c=s.l,d=-1;;){var m=["count="+i];-1==d?0<i?m.push("ofs="+(d=c[0].h)):d=0:m.push("ofs="+d);for(var v=!0,S=0;S<i;S++){var D=c[S].h,x=c[S].g;if(0>(D-=d))d=Math.max(0,c[S].h-100),v=!1;else try{uF(x,m,"req"+D+"_")}catch(k){o&&o(x)}}if(v){o=m.join("&");break e}}return s=s.l.splice(0,i),r.D=s,o}function wp(s){s.g||s.u||(s.Y=1,JE(s.Ga,s),s.A=0)}function Cp(s){return!(s.g||s.u||3<=s.A||(s.Y++,s.u=E_(li(s.Ga,s),pD(s,s.A)),s.A++,0))}function k_(s){null!=s.B&&(Ft.clearTimeout(s.B),s.B=null)}function Sp(s){s.g=new Jc(s,s.h,"rpc",s.Y),null===s.o&&(s.g.H=s.s),s.g.O=0;var r=Fs(s.oa);Mn(r,"RID","rpc"),Mn(r,"SID",s.J),Mn(r,"CI",s.N?"0":"1"),Mn(r,"AID",s.U),Tl(s,r),Mn(r,"TYPE","xmlhttp"),s.o&&s.s&&gw(r,s.o,s.s),s.K&&s.g.setTimeout(s.K);var i=s.g;s=s.la,i.K=1,i.v=T_(Fs(r)),i.s=null,i.U=!0,hp(i,s)}function N_(s){null!=s.v&&(Ft.clearTimeout(s.v),s.v=null)}function fD(s,r){var i=null;if(s.g==r){N_(s),k_(s),s.g=null;var o=2}else{if(!cw(s.i,r))return;i=r.D,uw(s.i,r),o=1}if(s.I=r.N,0!=s.G)if(r.i)if(1==o){i=r.s?r.s.length:0,r=Date.now()-r.F;var c=s.C;Dr(o=Rd(),new NO(o,i,r,c)),O_(s)}else wp(s);else if(3==(c=r.o)||0==c&&0<s.I||!(1==o&&function(s,r){return!(aD(s.i)>=s.i.j-(s.m?1:0)||(s.m?(s.l=r.D.concat(s.l),0):1==s.G||2==s.G||s.C>=(s.Xa?0:s.Ya)||(s.m=E_(li(s.Ha,s,r),pD(s,s.C)),s.C++,0)))}(s,r)||2==o&&Cp(s)))switch(i&&0<i.length&&(r=s.i,r.i=r.i.concat(i)),c){case 1:ru(s,5);break;case 4:ru(s,10);break;case 3:ru(s,6);break;default:ru(s,2)}}function pD(s,r){var i=s.Pa+Math.floor(Math.random()*s.$a);return s.j||(i*=2),i*r}function ru(s,r){if(s.h.info("Error code "+r),2==r){var i=null;s.j&&(i=null);var o=li(s.jb,s);i||(i=new Pd("//www.google.com/images/cleardot.gif"),Ft.location&&"http"==Ft.location.protocol||I_(i,"https"),T_(i)),function(s,r){var i=new b_;if(Ft.Image){var o=new Image;o.onload=u_(Ld,i,o,"TestLoadImage: loaded",!0,r),o.onerror=u_(Ld,i,o,"TestLoadImage: error",!1,r),o.onabort=u_(Ld,i,o,"TestLoadImage: abort",!1,r),o.ontimeout=u_(Ld,i,o,"TestLoadImage: timeout",!1,r),Ft.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=s}else r(!1)}(i.toString(),o)}else Gi(2);s.G=0,s.j&&s.j.va(r),vw(s),hD(s)}function vw(s){s.G=0,s.I=-1,s.j&&((0!=zO(s.i).length||0!=s.l.length)&&(s.i.i.length=0,DT(s.l),s.l.length=0),s.j.ua())}function gD(s,r,i){var o=function(s){return s instanceof Pd?Fs(s):new Pd(s,void 0)}(i);if(""!=o.i)r&&aw(o,r+"."+o.i),lw(o,o.m);else{var c=Ft.location;o=function(s,r,i,o){var c=new Pd(null,void 0);return s&&I_(c,s),r&&aw(c,r),i&&lw(c,i),o&&(c.l=o),c}(c.protocol,r?r+"."+c.hostname:c.hostname,+c.port,i)}return s.aa&&Cl(s.aa,function(d,m){Mn(o,m,d)}),i=s.sa,(r=s.D)&&i&&Mn(o,r,i),Mn(o,"VER",s.ma),Tl(s,o),o}function mD(s,r,i){if(r&&!s.H)throw Error("Can't create secondary domain capable XhrIo object.");return(r=new dn(i&&s.Ba&&!s.qa?new mp({ib:!0}):s.qa)).L=s.H,r}function _D(){}function fo(){if(Yc&&!(10<=Number(HE)))throw Error("Environmental error: no available transport.")}function zr(s,r){Tr.call(this),this.g=new mw(r),this.l=s,this.h=r&&r.messageUrlParams||null,s=r&&r.messageHeaders||null,r&&r.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.s=s,s=r&&r.initMessageHeaders||null,r&&r.messageContentType&&(s?s["X-WebChannel-Content-Type"]=r.messageContentType:s={"X-WebChannel-Content-Type":r.messageContentType}),r&&r.ya&&(s?s["X-WebChannel-Client-Profile"]=r.ya:s={"X-WebChannel-Client-Profile":r.ya}),this.g.P=s,(s=r&&r.httpHeadersOverwriteParam)&&!LE(s)&&(this.g.o=s),this.A=r&&r.supportsCrossDomainXhr||!1,this.v=r&&r.sendRawJson||!1,(r=r&&r.httpSessionIdParam)&&!LE(r)&&(this.g.D=r,null!==(s=this.h)&&r in s&&r in(s=this.h)&&delete s[r]),this.j=new Ud(this)}function P_(s){w_.call(this);var r=s.__sm__;if(r){e:{for(var i in r){s=i;break e}s=void 0}(this.i=s)&&(s=this.i,r=null!==r&&s in r?r[s]:void 0),this.data=r}else this.data=s}function yD(){KT.call(this),this.status=1}function Ud(s){this.g=s}(rt=dn.prototype).ea=function(s,r,i,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+s);r=r?r.toUpperCase():"GET",this.H=s,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():QT.g(),this.C=function(s){return s.h||(s.h=s.i())}(this.u?this.u:QT),this.g.onreadystatechange=li(this.Fa,this);try{this.F=!0,this.g.open(r,String(s),!0),this.F=!1}catch(d){return void fw(this,d)}s=i||"";var c=new tu(this.headers);o&&fp(o,function(d,m){c.set(m,d)}),o=function(s){e:{for(var r=uD,i=s.length,o="string"==typeof s?s.split(""):s,c=0;c<i;c++)if(c in o&&r.call(void 0,o[c],c,s)){r=c;break e}r=-1}return 0>r?null:"string"==typeof s?s.charAt(r):s[r]}(c.T()),i=Ft.FormData&&s instanceof Ft.FormData,!(0<=mO(YO,r))||o||i||c.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),c.forEach(function(d,m){this.g.setRequestHeader(m,d)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{vp(this),0<this.B&&((this.K=function(s){return Yc&&EO()&&"number"==typeof s.timeout&&void 0!==s.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=li(this.pa,this)):this.A=ew(this.pa,this.B,this)),this.v=!0,this.g.send(s),this.v=!1}catch(d){fw(this,d)}},rt.pa=function(){void 0!==wT&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Dr(this,"timeout"),this.abort(8))},rt.abort=function(s){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=s||7,Dr(this,"complete"),Dr(this,"abort"),Vd(this))},rt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Vd(this,!0)),dn.Z.M.call(this)},rt.Fa=function(){this.s||(this.F||this.v||this.l?x_(this):this.cb())},rt.cb=function(){x_(this)},rt.ba=function(){try{return 2<Vs(this)?this.g.status:-1}catch(s){return-1}},rt.ga=function(){try{return this.g?this.g.responseText:""}catch(s){return""}},rt.Qa=function(s){if(this.g){var r=this.g.responseText;return s&&0==r.indexOf(s)&&(r=r.substring(s.length)),WO(r)}},rt.Da=function(){return this.m},rt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(rt=mw.prototype).ma=8,rt.G=1,rt.hb=function(s){try{this.h.info("Origin Trials invoked: "+s)}catch(r){}},rt.Ha=function(s){if(this.m)if(this.m=null,1==this.G){if(!s){this.V=Math.floor(1e5*Math.random()),s=this.V++;var r=new Jc(this,this.h,s,void 0),i=this.s;if(this.P&&(i?xT(i=BE(i),this.P):i=this.P),null===this.o&&(r.H=i),this.ja)e:{for(var o=0,c=0;c<this.l.length;c++){var d=this.l[c];if(void 0===(d="__data__"in d.g&&"string"==typeof(d=d.g.__data__)?d.length:void 0))break;if(4096<(o+=d)){o=c;break e}if(4096===o||c===this.l.length-1){o=c+1;break e}}o=1e3}else o=1e3;o=yw(this,r,o),Mn(c=Fs(this.F),"RID",s),Mn(c,"CVER",22),this.D&&Mn(c,"X-HTTP-Session-Id",this.D),Tl(this,c),this.o&&i&&gw(c,this.o,i),nu(this.i,r),this.Ra&&Mn(c,"TYPE","init"),this.ja?(Mn(c,"$req",o),Mn(c,"SID","null"),r.$=!0,sw(r,c,null)):sw(r,c,o),this.G=2}}else 3==this.G&&(s?Bd(this,s):0==this.l.length||oD(this.i)||Bd(this))},rt.Ga=function(){if(this.u=null,Sp(this),this.$&&!(this.L||null==this.g||0>=this.O)){var s=2*this.O;this.h.info("BP detection timer enabled: "+s),this.B=E_(li(this.bb,this),s)}},rt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Gi(10),R_(this),Sp(this))},rt.ab=function(){null!=this.v&&(this.v=null,R_(this),Cp(this),Gi(19))},rt.jb=function(s){s?(this.h.info("Successfully pinged google.com"),Gi(2)):(this.h.info("Failed to ping google.com"),Gi(1))},(rt=_D.prototype).xa=function(){},rt.wa=function(){},rt.va=function(){},rt.ua=function(){},rt.Oa=function(){},fo.prototype.g=function(s,r){return new zr(s,r)},$r(zr,Tr),zr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var s=this.g,r=this.l,i=this.h||void 0;s.Wa&&(s.h.info("Origin Trials enabled."),JE(li(s.hb,s,r))),Gi(0),s.W=r,s.aa=i||{},s.N=s.X,s.F=gD(s,null,s.W),O_(s)},zr.prototype.close=function(){_w(this.g)},zr.prototype.u=function(s){if("string"==typeof s){var r={};r.__data__=s,Ep(this.g,r)}else this.v?((r={}).__data__=ZE(s),Ep(this.g,r)):Ep(this.g,s)},zr.prototype.M=function(){this.g.j=null,delete this.j,_w(this.g),delete this.g,zr.Z.M.call(this)},$r(P_,w_),$r(yD,KT),$r(Ud,_D),Ud.prototype.xa=function(){Dr(this.g,"a")},Ud.prototype.wa=function(s){Dr(this.g,new P_(s))},Ud.prototype.va=function(s){Dr(this.g,new yD(s))},Ud.prototype.ua=function(){Dr(this.g,"b")},fo.prototype.createWebChannel=fo.prototype.g,zr.prototype.send=zr.prototype.u,zr.prototype.open=zr.prototype.m,zr.prototype.close=zr.prototype.close,cp.NO_ERROR=0,cp.TIMEOUT=8,cp.HTTP_ERROR=6,rw.COMPLETE="complete",YT.EventType=up,up.OPEN="a",up.CLOSE="b",up.ERROR="c",up.MESSAGE="d",Tr.prototype.listen=Tr.prototype.N,dn.prototype.listenOnce=dn.prototype.O,dn.prototype.getLastError=dn.prototype.La,dn.prototype.getLastErrorCode=dn.prototype.Da,dn.prototype.getStatus=dn.prototype.ba,dn.prototype.getResponseJson=dn.prototype.Qa,dn.prototype.getResponseText=dn.prototype.ga,dn.prototype.send=dn.prototype.ea;var L_=cp,bw=rw,Ew=Sl,ww_PROXY=10,ww_NOPROXY=11,bD=mp,Ip=YT,Po=dn;class ar{constructor(r){this.uid=r}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(r){return r.uid===this.uid}}ar.UNAUTHENTICATED=new ar(null),ar.GOOGLE_CREDENTIALS=new ar("google-credentials-uid"),ar.FIRST_PARTY=new ar("first-party-uid"),ar.MOCK_USER=new ar("mock-user");let po="9.0.0";const Dl=new El.Yd("@firebase/firestore");function Cw(){return Dl.logLevel}function He(s,...r){if(Dl.logLevel<=El.in.DEBUG){const i=r.map(B_);Dl.debug(`Firestore (${po}): ${s}`,...i)}}function Xn(s,...r){if(Dl.logLevel<=El.in.ERROR){const i=r.map(B_);Dl.error(`Firestore (${po}): ${s}`,...i)}}function jd(s,...r){if(Dl.logLevel<=El.in.WARN){const i=r.map(B_);Dl.warn(`Firestore (${po}): ${s}`,...i)}}function B_(s){if("string"==typeof s)return s;try{return JSON.stringify(s)}catch(i){return s}}function lt(s="Unexpected state"){const r=`FIRESTORE (${po}) INTERNAL ASSERTION FAILED: `+s;throw Xn(r),new Error(r)}function At(s,r){s||lt()}function Ze(s,r){return s}const Se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends Error{constructor(r,i){super(i),this.code=r,this.message=i,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ar{constructor(){this.promise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}}class ED{constructor(r,i){this.user=i,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${r}`}}class hF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(r,i){r.enqueueRetryable(()=>i(ar.UNAUTHENTICATED))}shutdown(){}}class fF{constructor(r){this.token=r,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(r,i){this.changeListener=i,r.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class pF{constructor(r){this.t=r,this.currentUser=ar.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(r,i){var o=this;let c=this.i;const d=S=>this.i!==c?(c=this.i,i(S)):Promise.resolve();let m=new Ar;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new Ar,r.enqueueRetryable(()=>d(this.currentUser))};const v=S=>{r.enqueueRetryable((0,ke.Z)(function*(){He("FirebaseCredentialsProvider","Auth detected"),o.auth=S,o.auth.addAuthTokenListener(o.o),yield m.promise,yield d(o.currentUser)}))};this.t.onInit(S=>v(S)),setTimeout(()=>{if(!this.auth){const S=this.t.getImmediate({optional:!0});S?v(S):(He("FirebaseCredentialsProvider","Auth not yet detected"),m.resolve(),m=new Ar)}},0),r.enqueueRetryable((0,ke.Z)(function*(){0===o.i&&(yield m.promise,yield d(o.currentUser))}))}getToken(){const r=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(o=>this.i!==r?(He("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(At("string"==typeof o.accessToken),new ED(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const r=this.auth&&this.auth.getUid();return At(null===r||"string"==typeof r),new ar(r)}}class gF{constructor(r,i,o){this.h=r,this.l=i,this.m=o,this.type="FirstParty",this.user=ar.FIRST_PARTY}get authHeaders(){const r={"X-Goog-AuthUser":this.l},i=this.h.auth.getAuthHeaderValueForFirstParty([]);return i&&(r.Authorization=i),this.m&&(r["X-Goog-Iam-Authorization-Token"]=this.m),r}}class JO{constructor(r,i,o){this.h=r,this.l=i,this.m=o}getToken(){return Promise.resolve(new gF(this.h,this.l,this.m))}start(r,i){r.enqueueRetryable(()=>i(ar.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cs{constructor(r,i){this.previousValue=r,i&&(i.sequenceNumberHandler=o=>this.g(o),this.p=o=>i.writeSequenceNumber(o))}g(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.p&&this.p(r),r}}function mF(s){const r="undefined"!=typeof self&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(r&&"function"==typeof r.getRandomValues)r.getRandomValues(i);else for(let o=0;o<s;o++)i[o]=Math.floor(256*Math.random());return i}cs.T=-1;class XO{static I(){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/r.length)*r.length;let o="";for(;o.length<20;){const c=mF(40);for(let d=0;d<c.length;++d)o.length<20&&c[d]<i&&(o+=r.charAt(c[d]%r.length))}return o}}function Xt(s,r){return s<r?-1:s>r?1:0}function Dp(s,r,i){return s.length===r.length&&s.every((o,c)=>i(o,r[c]))}function wD(s){return s+"\0"}class qr{constructor(r,i){if(this.seconds=r,this.nanoseconds=i,i<0)throw new Pe(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new Pe(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(r<-62135596800)throw new Pe(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r);if(r>=253402300800)throw new Pe(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r)}static now(){return qr.fromMillis(Date.now())}static fromDate(r){return qr.fromMillis(r.getTime())}static fromMillis(r){const i=Math.floor(r/1e3),o=Math.floor(1e6*(r-1e3*i));return new qr(i,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(r){return this.seconds===r.seconds?Xt(this.nanoseconds,r.nanoseconds):Xt(this.seconds,r.seconds)}isEqual(r){return r.seconds===this.seconds&&r.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ut{constructor(r){this.timestamp=r}static fromTimestamp(r){return new Ut(r)}static min(){return new Ut(new qr(0,0))}compareTo(r){return this.timestamp._compareTo(r.timestamp)}isEqual(r){return this.timestamp.isEqual(r.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function ek(s){let r=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&r++;return r}function Hd(s,r){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&r(i,s[i])}function a(s){for(const r in s)if(Object.prototype.hasOwnProperty.call(s,r))return!1;return!0}class l{constructor(r,i,o){void 0===i?i=0:i>r.length&&lt(),void 0===o?o=r.length-i:o>r.length-i&&lt(),this.segments=r,this.offset=i,this.len=o}get length(){return this.len}isEqual(r){return 0===l.comparator(this,r)}child(r){const i=this.segments.slice(this.offset,this.limit());return r instanceof l?r.forEach(o=>{i.push(o)}):i.push(r),this.construct(i)}limit(){return this.offset+this.length}popFirst(r){return this.construct(this.segments,this.offset+(r=void 0===r?1:r),this.length-r)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(r){return this.segments[this.offset+r]}isEmpty(){return 0===this.length}isPrefixOf(r){if(r.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==r.get(i))return!1;return!0}isImmediateParentOf(r){if(this.length+1!==r.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==r.get(i))return!1;return!0}forEach(r){for(let i=this.offset,o=this.limit();i<o;i++)r(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(r,i){const o=Math.min(r.length,i.length);for(let c=0;c<o;c++){const d=r.get(c),m=i.get(c);if(d<m)return-1;if(d>m)return 1}return r.length<i.length?-1:r.length>i.length?1:0}}class u extends l{construct(r,i,o){return new u(r,i,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...r){const i=[];for(const o of r){if(o.indexOf("//")>=0)throw new Pe(Se.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);i.push(...o.split("/").filter(c=>c.length>0))}return new u(i)}static emptyPath(){return new u([])}}const h=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class g extends l{construct(r,i,o){return new g(r,i,o)}static isValidIdentifier(r){return h.test(r)}canonicalString(){return this.toArray().map(r=>(r=r.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),g.isValidIdentifier(r)||(r="`"+r+"`"),r)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new g(["__name__"])}static fromServerFormat(r){const i=[];let o="",c=0;const d=()=>{if(0===o.length)throw new Pe(Se.INVALID_ARGUMENT,`Invalid field path (${r}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(o),o=""};let m=!1;for(;c<r.length;){const v=r[c];if("\\"===v){if(c+1===r.length)throw new Pe(Se.INVALID_ARGUMENT,"Path has trailing escape character: "+r);const S=r[c+1];if("\\"!==S&&"."!==S&&"`"!==S)throw new Pe(Se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+r);o+=S,c+=2}else"`"===v?(m=!m,c++):"."!==v||m?(o+=v,c++):(d(),c++)}if(d(),m)throw new Pe(Se.INVALID_ARGUMENT,"Unterminated ` in path: "+r);return new g(i)}static emptyPath(){return new g([])}}class _{constructor(r){this.fields=r,r.sort(g.comparator)}covers(r){for(const i of this.fields)if(i.isPrefixOf(r))return!0;return!1}isEqual(r){return Dp(this.fields,r.fields,(i,o)=>i.isEqual(o))}}class w{constructor(r){this.binaryString=r}static fromBase64String(r){const i=atob(r);return new w(i)}static fromUint8Array(r){const i=function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c}(r);return new w(i)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const i=new Uint8Array(r.length);for(let o=0;o<r.length;o++)i[o]=r.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(r){return Xt(this.binaryString,r.binaryString)}isEqual(r){return this.binaryString===r.binaryString}}w.EMPTY_BYTE_STRING=new w("");const T=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function M(s){if(At(!!s),"string"==typeof s){let r=0;const i=T.exec(s);if(At(!!i),i[1]){let c=i[1];c=(c+"000000000").substr(0,9),r=Number(c)}const o=new Date(s);return{seconds:Math.floor(o.getTime()/1e3),nanos:r}}return{seconds:R(s.seconds),nanos:R(s.nanos)}}function R(s){return"number"==typeof s?s:"string"==typeof s?Number(s):0}function N(s){return"string"==typeof s?w.fromBase64String(s):w.fromUint8Array(s)}function L(s){var r,i;return"server_timestamp"===(null===(i=((null===(r=null==s?void 0:s.mapValue)||void 0===r?void 0:r.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function $(s){const r=s.mapValue.fields.__previous_value__;return L(r)?$(r):r}function J(s){const r=M(s.mapValue.fields.__local_write_time__.timestampValue);return new qr(r.seconds,r.nanos)}function me(s){return null==s}function he(s){return 0===s&&1/s==-1/0}function Le(s){return"number"==typeof s&&Number.isInteger(s)&&!he(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}class se{constructor(r){this.path=r}static fromPath(r){return new se(u.fromString(r))}static fromName(r){return new se(u.fromString(r).popFirst(5))}hasCollectionId(r){return this.path.length>=2&&this.path.get(this.path.length-2)===r}isEqual(r){return null!==r&&0===u.comparator(this.path,r.path)}toString(){return this.path.toString()}static comparator(r,i){return u.comparator(r.path,i.path)}static isDocumentKey(r){return r.length%2==0}static fromSegments(r){return new se(new u(r.slice()))}}function it(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?L(s)?4:10:lt()}function gt(s,r){const i=it(s);if(i!==it(r))return!1;switch(i){case 0:return!0;case 1:return s.booleanValue===r.booleanValue;case 4:return J(s).isEqual(J(r));case 3:return function(o,c){if("string"==typeof o.timestampValue&&"string"==typeof c.timestampValue&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=M(o.timestampValue),m=M(c.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos}(s,r);case 5:return s.stringValue===r.stringValue;case 6:return c=r,N(s.bytesValue).isEqual(N(c.bytesValue));case 7:return s.referenceValue===r.referenceValue;case 8:return function(o,c){return R(o.geoPointValue.latitude)===R(c.geoPointValue.latitude)&&R(o.geoPointValue.longitude)===R(c.geoPointValue.longitude)}(s,r);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return R(o.integerValue)===R(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=R(o.doubleValue),m=R(c.doubleValue);return d===m?he(d)===he(m):isNaN(d)&&isNaN(m)}return!1}(s,r);case 9:return Dp(s.arrayValue.values||[],r.arrayValue.values||[],gt);case 10:return function(o,c){const d=o.mapValue.fields||{},m=c.mapValue.fields||{};if(ek(d)!==ek(m))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(void 0===m[v]||!gt(d[v],m[v])))return!1;return!0}(s,r);default:return lt()}var c}function jt(s,r){return void 0!==(s.values||[]).find(i=>gt(i,r))}function xn(s,r){const i=it(s),o=it(r);if(i!==o)return Xt(i,o);switch(i){case 0:return 0;case 1:return Xt(s.booleanValue,r.booleanValue);case 2:return function(c,d){const m=R(c.integerValue||c.doubleValue),v=R(d.integerValue||d.doubleValue);return m<v?-1:m>v?1:m===v?0:isNaN(m)?isNaN(v)?0:-1:1}(s,r);case 3:return us(s.timestampValue,r.timestampValue);case 4:return us(J(s),J(r));case 5:return Xt(s.stringValue,r.stringValue);case 6:return function(c,d){const m=N(c),v=N(d);return m.compareTo(v)}(s.bytesValue,r.bytesValue);case 7:return function(c,d){const m=c.split("/"),v=d.split("/");for(let S=0;S<m.length&&S<v.length;S++){const D=Xt(m[S],v[S]);if(0!==D)return D}return Xt(m.length,v.length)}(s.referenceValue,r.referenceValue);case 8:return function(c,d){const m=Xt(R(c.latitude),R(d.latitude));return 0!==m?m:Xt(R(c.longitude),R(d.longitude))}(s.geoPointValue,r.geoPointValue);case 9:return function(c,d){const m=c.values||[],v=d.values||[];for(let S=0;S<m.length&&S<v.length;++S){const D=xn(m[S],v[S]);if(D)return D}return Xt(m.length,v.length)}(s.arrayValue,r.arrayValue);case 10:return function(c,d){const m=c.fields||{},v=Object.keys(m),S=d.fields||{},D=Object.keys(S);v.sort(),D.sort();for(let x=0;x<v.length&&x<D.length;++x){const k=Xt(v[x],D[x]);if(0!==k)return k;const j=xn(m[v[x]],S[D[x]]);if(0!==j)return j}return Xt(v.length,D.length)}(s.mapValue,r.mapValue);default:throw lt()}}function us(s,r){if("string"==typeof s&&"string"==typeof r&&s.length===r.length)return Xt(s,r);const i=M(s),o=M(r),c=Xt(i.seconds,o.seconds);return 0!==c?c:Xt(i.nanos,o.nanos)}function iu(s){return Al(s)}function Al(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(o){const c=M(o);return`time(${c.seconds},${c.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?N(s.bytesValue).toBase64():"referenceValue"in s?se.fromName(s.referenceValue).toString():"geoPointValue"in s?`geo(${(r=s.geoPointValue).latitude},${r.longitude})`:"arrayValue"in s?function(o){let c="[",d=!0;for(const m of o.values||[])d?d=!1:c+=",",c+=Al(m);return c+"]"}(s.arrayValue):"mapValue"in s?function(o){const c=Object.keys(o.fields||{}).sort();let d="{",m=!0;for(const v of c)m?m=!1:d+=",",d+=`${v}:${Al(o.fields[v])}`;return d+"}"}(s.mapValue):lt();var r}function Ea(s,r){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${r.path.canonicalString()}`}}function Ml(s){return!!s&&"integerValue"in s}function Ap(s){return!!s&&"arrayValue"in s}function U_(s){return!!s&&"nullValue"in s}function j_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Gd(s){return!!s&&"mapValue"in s}function su(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&"object"==typeof s.timestampValue)return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const r={mapValue:{fields:{}}};return Hd(s.mapValue.fields,(i,o)=>r.mapValue.fields[i]=su(o)),r}if(s.arrayValue){const r={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)r.arrayValue.values[i]=su(s.arrayValue.values[i]);return r}return Object.assign({},s)}class $i{constructor(r){this.value=r}static empty(){return new $i({mapValue:{}})}field(r){if(r.isEmpty())return this.value;{let i=this.value;for(let o=0;o<r.length-1;++o)if(i=(i.mapValue.fields||{})[r.get(o)],!Gd(i))return null;return i=(i.mapValue.fields||{})[r.lastSegment()],i||null}}set(r,i){this.getFieldsMap(r.popLast())[r.lastSegment()]=su(i)}setAll(r){let i=g.emptyPath(),o={},c=[];r.forEach((m,v)=>{if(!i.isImmediateParentOf(v)){const S=this.getFieldsMap(i);this.applyChanges(S,o,c),o={},c=[],i=v.popLast()}m?o[v.lastSegment()]=su(m):c.push(v.lastSegment())});const d=this.getFieldsMap(i);this.applyChanges(d,o,c)}delete(r){const i=this.field(r.popLast());Gd(i)&&i.mapValue.fields&&delete i.mapValue.fields[r.lastSegment()]}isEqual(r){return gt(this.value,r.value)}getFieldsMap(r){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let o=0;o<r.length;++o){let c=i.mapValue.fields[r.get(o)];Gd(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},i.mapValue.fields[r.get(o)]=c),i=c}return i.mapValue.fields}applyChanges(r,i,o){Hd(i,(c,d)=>r[c]=d);for(const c of o)delete r[c]}clone(){return new $i(su(this.value))}}function _F(s){const r=[];return Hd(s.fields,(i,o)=>{const c=new g([i]);if(Gd(o)){const d=_F(o.mapValue).fields;if(0===d.length)r.push(c);else for(const m of d)r.push(c.child(m))}else r.push(c)}),new _(r)}class Zn{constructor(r,i,o,c,d){this.key=r,this.documentType=i,this.version=o,this.data=c,this.documentState=d}static newInvalidDocument(r){return new Zn(r,0,Ut.min(),$i.empty(),0)}static newFoundDocument(r,i,o){return new Zn(r,1,i,o,0)}static newNoDocument(r,i){return new Zn(r,2,i,$i.empty(),0)}static newUnknownDocument(r,i){return new Zn(r,3,i,$i.empty(),2)}convertToFoundDocument(r,i){return this.version=r,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(r){return this.version=r,this.documentType=2,this.data=$i.empty(),this.documentState=0,this}convertToUnknownDocument(r){return this.version=r,this.documentType=3,this.data=$i.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(r){return r instanceof Zn&&this.key.isEqual(r.key)&&this.version.isEqual(r.version)&&this.documentType===r.documentType&&this.documentState===r.documentState&&this.data.isEqual(r.data)}clone(){return new Zn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class H2{constructor(r,i=null,o=[],c=[],d=null,m=null,v=null){this.path=r,this.collectionGroup=i,this.orderBy=o,this.filters=c,this.limit=d,this.startAt=m,this.endAt=v,this.A=null}}function yF(s,r=null,i=[],o=[],c=null,d=null,m=null){return new H2(s,r,i,o,c,d,m)}function Sw(s){const r=Ze(s);if(null===r.A){let i=r.path.canonicalString();null!==r.collectionGroup&&(i+="|cg:"+r.collectionGroup),i+="|f:",i+=r.filters.map(o=>function(s){return s.field.canonicalString()+s.op.toString()+iu(s.value)}(o)).join(","),i+="|ob:",i+=r.orderBy.map(o=>{return(c=o).field.canonicalString()+c.dir;var c}).join(","),me(r.limit)||(i+="|l:",i+=r.limit),r.startAt&&(i+="|lb:",i+=ID(r.startAt)),r.endAt&&(i+="|ub:",i+=ID(r.endAt)),r.A=i}return r.A}function CD(s,r){if(s.limit!==r.limit||s.orderBy.length!==r.orderBy.length)return!1;for(let c=0;c<s.orderBy.length;c++)if(!J2(s.orderBy[c],r.orderBy[c]))return!1;if(s.filters.length!==r.filters.length)return!1;for(let c=0;c<s.filters.length;c++)if((i=s.filters[c]).op!==(o=r.filters[c]).op||!i.field.isEqual(o.field)||!gt(i.value,o.value))return!1;var i,o;return s.collectionGroup===r.collectionGroup&&!!s.path.isEqual(r.path)&&!!EF(s.startAt,r.startAt)&&EF(s.endAt,r.endAt)}function SD(s){return se.isDocumentKey(s.path)&&null===s.collectionGroup&&0===s.filters.length}class ds extends class{}{constructor(r,i,o){super(),this.field=r,this.op=i,this.value=o}static create(r,i,o){return r.isKeyField()?"in"===i||"not-in"===i?this.R(r,i,o):new z2(r,i,o):"array-contains"===i?new Z2(r,o):"in"===i?new Y2(r,o):"not-in"===i?new K2(r,o):"array-contains-any"===i?new Q2(r,o):new ds(r,i,o)}static R(r,i,o){return"in"===i?new q2(r,o):new W2(r,o)}matches(r){const i=r.data.field(this.field);return"!="===this.op?null!==i&&this.P(xn(i,this.value)):null!==i&&it(this.value)===it(i)&&this.P(xn(i,this.value))}P(r){switch(this.op){case"<":return r<0;case"<=":return r<=0;case"==":return 0===r;case"!=":return 0!==r;case">":return r>0;case">=":return r>=0;default:return lt()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class z2 extends ds{constructor(r,i,o){super(r,i,o),this.key=se.fromName(o.referenceValue)}matches(r){const i=se.comparator(r.key,this.key);return this.P(i)}}class q2 extends ds{constructor(r,i){super(r,"in",i),this.keys=vF(0,i)}matches(r){return this.keys.some(i=>i.isEqual(r.key))}}class W2 extends ds{constructor(r,i){super(r,"not-in",i),this.keys=vF(0,i)}matches(r){return!this.keys.some(i=>i.isEqual(r.key))}}function vF(s,r){var i;return((null===(i=r.arrayValue)||void 0===i?void 0:i.values)||[]).map(o=>se.fromName(o.referenceValue))}class Z2 extends ds{constructor(r,i){super(r,"array-contains",i)}matches(r){const i=r.data.field(this.field);return Ap(i)&&jt(i.arrayValue,this.value)}}class Y2 extends ds{constructor(r,i){super(r,"in",i)}matches(r){const i=r.data.field(this.field);return null!==i&&jt(this.value.arrayValue,i)}}class K2 extends ds{constructor(r,i){super(r,"not-in",i)}matches(r){if(jt(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=r.data.field(this.field);return null!==i&&!jt(this.value.arrayValue,i)}}class Q2 extends ds{constructor(r,i){super(r,"array-contains-any",i)}matches(r){const i=r.data.field(this.field);return!(!Ap(i)||!i.arrayValue.values)&&i.arrayValue.values.some(o=>jt(this.value.arrayValue,o))}}class Iw{constructor(r,i){this.position=r,this.before=i}}function ID(s){return`${s.before?"b":"a"}:${s.position.map(r=>iu(r)).join(",")}`}class H_{constructor(r,i="asc"){this.field=r,this.dir=i}}function J2(s,r){return s.dir===r.dir&&s.field.isEqual(r.field)}function bF(s,r,i){let o=0;for(let c=0;c<s.position.length;c++){const d=r[c],m=s.position[c];if(o=d.field.isKeyField()?se.comparator(se.fromName(m.referenceValue),i.key):xn(m,i.data.field(d.field)),"desc"===d.dir&&(o*=-1),0!==o)break}return s.before?o<=0:o<0}function EF(s,r){if(null===s)return null===r;if(null===r||s.before!==r.before||s.position.length!==r.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!gt(s.position[i],r.position[i]))return!1;return!0}class ou{constructor(r,i=null,o=[],c=[],d=null,m="F",v=null,S=null){this.path=r,this.collectionGroup=i,this.explicitOrderBy=o,this.filters=c,this.limit=d,this.limitType=m,this.startAt=v,this.endAt=S,this.V=null,this.S=null}}function wF(s,r,i,o,c,d,m,v){return new ou(s,r,i,o,c,d,m,v)}function G_(s){return new ou(s)}function TD(s){return!me(s.limit)&&"F"===s.limitType}function DD(s){return!me(s.limit)&&"L"===s.limitType}function tk(s){return s.explicitOrderBy.length>0?s.explicitOrderBy[0].field:null}function nk(s){for(const r of s.filters)if(r.v())return r.field;return null}function rk(s){return null!==s.collectionGroup}function $_(s){const r=Ze(s);if(null===r.V){r.V=[];const i=nk(r),o=tk(r);if(null!==i&&null===o)i.isKeyField()||r.V.push(new H_(i)),r.V.push(new H_(g.keyField(),"asc"));else{let c=!1;for(const d of r.explicitOrderBy)r.V.push(d),d.field.isKeyField()&&(c=!0);if(!c){const d=r.explicitOrderBy.length>0?r.explicitOrderBy[r.explicitOrderBy.length-1].dir:"asc";r.V.push(new H_(g.keyField(),d))}}}return r.V}function Fo(s){const r=Ze(s);if(!r.S)if("F"===r.limitType)r.S=yF(r.path,r.collectionGroup,$_(r),r.filters,r.limit,r.startAt,r.endAt);else{const i=[];for(const d of $_(r))i.push(new H_(d.field,"desc"===d.dir?"asc":"desc"));const o=r.endAt?new Iw(r.endAt.position,!r.endAt.before):null,c=r.startAt?new Iw(r.startAt.position,!r.startAt.before):null;r.S=yF(r.path,r.collectionGroup,i,r.filters,r.limit,o,c)}return r.S}function CF(s,r,i){return new ou(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),r,i,s.startAt,s.endAt)}function Tw(s,r){return CD(Fo(s),Fo(r))&&s.limitType===r.limitType}function SF(s){return`${Sw(Fo(s))}|lt:${s.limitType}`}function ik(s){return`Query(target=${function(s){let r=s.path.canonicalString();return null!==s.collectionGroup&&(r+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(r+=`, filters: [${s.filters.map(i=>{return`${(o=i).field.canonicalString()} ${o.op} ${iu(o.value)}`;var o}).join(", ")}]`),me(s.limit)||(r+=", limit: "+s.limit),s.orderBy.length>0&&(r+=`, orderBy: [${s.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),s.startAt&&(r+=", startAt: "+ID(s.startAt)),s.endAt&&(r+=", endAt: "+ID(s.endAt)),`Target(${r})`}(Fo(s))}; limitType=${s.limitType})`}function Dw(s,r){return r.isFoundDocument()&&function(i,o){const c=o.key.path;return null!==i.collectionGroup?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):se.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)}(s,r)&&function(i,o){for(const c of i.explicitOrderBy)if(!c.field.isKeyField()&&null===o.data.field(c.field))return!1;return!0}(s,r)&&function(i,o){for(const c of i.filters)if(!c.matches(o))return!1;return!0}(s,r)&&(o=r,!((i=s).startAt&&!bF(i.startAt,$_(i),o)||i.endAt&&bF(i.endAt,$_(i),o)));var i,o}function IF(s){return(r,i)=>{let o=!1;for(const c of $_(s)){const d=X2(c,r,i);if(0!==d)return d;o=o||c.field.isKeyField()}return 0}}function X2(s,r,i){const o=s.field.isKeyField()?se.comparator(r.key,i.key):function(c,d,m){const v=d.data.field(c),S=m.data.field(c);return null!==v&&null!==S?xn(v,S):lt()}(s.field,r,i);switch(s.dir){case"asc":return o;case"desc":return-1*o;default:return lt()}}function TF(s,r){if(s.D){if(isNaN(r))return{doubleValue:"NaN"};if(r===1/0)return{doubleValue:"Infinity"};if(r===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:he(r)?"-0":r}}function DF(s){return{integerValue:""+s}}function AF(s,r){return Le(r)?DF(r):TF(s,r)}class AD{constructor(){this._=void 0}}function eU(s,r,i){return s instanceof z_?function(o,c){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&(d.fields.__previous_value__=c),{mapValue:d}}(i,r):s instanceof Mp?xF(s,r):s instanceof xp?RF(s,r):function(o,c){const d=MF(o,c),m=OF(d)+OF(o.C);return Ml(d)&&Ml(o.C)?DF(m):TF(o.N,m)}(s,r)}function tU(s,r,i){return s instanceof Mp?xF(s,r):s instanceof xp?RF(s,r):i}function MF(s,r){return s instanceof q_?Ml(i=r)||(o=i)&&"doubleValue"in o?r:{integerValue:0}:null;var o,i}class z_ extends AD{}class Mp extends AD{constructor(r){super(),this.elements=r}}function xF(s,r){const i=kF(r);for(const o of s.elements)i.some(c=>gt(c,o))||i.push(o);return{arrayValue:{values:i}}}class xp extends AD{constructor(r){super(),this.elements=r}}function RF(s,r){let i=kF(r);for(const o of s.elements)i=i.filter(c=>!gt(c,o));return{arrayValue:{values:i}}}class q_ extends AD{constructor(r,i){super(),this.N=r,this.C=i}}function OF(s){return R(s.integerValue||s.doubleValue)}function kF(s){return Ap(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class Aw{constructor(r,i){this.field=r,this.transform=i}}class rU{constructor(r,i){this.version=r,this.transformResults=i}}class Mr{constructor(r,i){this.updateTime=r,this.exists=i}static none(){return new Mr}static exists(r){return new Mr(void 0,r)}static updateTime(r){return new Mr(r)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(r){return this.exists===r.exists&&(this.updateTime?!!r.updateTime&&this.updateTime.isEqual(r.updateTime):!r.updateTime)}}function MD(s,r){return void 0!==s.updateTime?r.isFoundDocument()&&r.version.isEqual(s.updateTime):void 0===s.exists||s.exists===r.isFoundDocument()}class xD{}function iU(s,r,i){s instanceof Mw?function(o,c,d){const m=o.value.clone(),v=LF(o.fieldTransforms,c,d.transformResults);m.setAll(v),c.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(s,r,i):s instanceof $d?function(o,c,d){if(!MD(o.precondition,c))return void c.convertToUnknownDocument(d.version);const m=LF(o.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(FF(o)),v.setAll(m),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()}(s,r,i):r.convertToNoDocument(i.version).setHasCommittedMutations()}function sk(s,r,i){var c;s instanceof Mw?function(o,c,d){if(!MD(o.precondition,c))return;const m=o.value.clone(),v=VF(o.fieldTransforms,d,c);m.setAll(v),c.convertToFoundDocument(PF(c),m).setHasLocalMutations()}(s,r,i):s instanceof $d?function(o,c,d){if(!MD(o.precondition,c))return;const m=VF(o.fieldTransforms,d,c),v=c.data;v.setAll(FF(o)),v.setAll(m),c.convertToFoundDocument(PF(c),v).setHasLocalMutations()}(s,r,i):MD(s.precondition,c=r)&&c.convertToNoDocument(Ut.min())}function sU(s,r){let i=null;for(const o of s.fieldTransforms){const c=r.data.field(o.field),d=MF(o.transform,c||null);null!=d&&(null==i&&(i=$i.empty()),i.set(o.field,d))}return i||null}function NF(s,r){return s.type===r.type&&!!s.key.isEqual(r.key)&&!!s.precondition.isEqual(r.precondition)&&(o=r.fieldTransforms,!!(void 0===(i=s.fieldTransforms)&&void 0===o||i&&o&&Dp(i,o,(c,d)=>function(s,r){return s.field.isEqual(r.field)&&(o=r.transform,(i=s.transform)instanceof Mp&&o instanceof Mp||i instanceof xp&&o instanceof xp?Dp(i.elements,o.elements,gt):i instanceof q_&&o instanceof q_?gt(i.C,o.C):i instanceof z_&&o instanceof z_);var i,o}(c,d))))&&(0===s.type?s.value.isEqual(r.value):1!==s.type||s.data.isEqual(r.data)&&s.fieldMask.isEqual(r.fieldMask));var i,o}function PF(s){return s.isFoundDocument()?s.version:Ut.min()}class Mw extends xD{constructor(r,i,o,c=[]){super(),this.key=r,this.value=i,this.precondition=o,this.fieldTransforms=c,this.type=0}}class $d extends xD{constructor(r,i,o,c,d=[]){super(),this.key=r,this.data=i,this.fieldMask=o,this.precondition=c,this.fieldTransforms=d,this.type=1}}function FF(s){const r=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const o=s.data.field(i);r.set(i,o)}}),r}function LF(s,r,i){const o=new Map;At(s.length===i.length);for(let c=0;c<i.length;c++){const d=s[c],m=d.transform,v=r.data.field(d.field);o.set(d.field,tU(m,v,i[c]))}return o}function VF(s,r,i){const o=new Map;for(const c of s){const d=c.transform,m=i.data.field(c.field);o.set(c.field,eU(d,m,r))}return o}class xw extends xD{constructor(r,i){super(),this.key=r,this.precondition=i,this.type=2,this.fieldTransforms=[]}}class ok extends xD{constructor(r,i){super(),this.key=r,this.precondition=i,this.type=3,this.fieldTransforms=[]}}class oU{constructor(r){this.count=r}}var xr,rn;function BF(s){switch(s){case Se.OK:return lt();case Se.CANCELLED:case Se.UNKNOWN:case Se.DEADLINE_EXCEEDED:case Se.RESOURCE_EXHAUSTED:case Se.INTERNAL:case Se.UNAVAILABLE:case Se.UNAUTHENTICATED:return!1;case Se.INVALID_ARGUMENT:case Se.NOT_FOUND:case Se.ALREADY_EXISTS:case Se.PERMISSION_DENIED:case Se.FAILED_PRECONDITION:case Se.ABORTED:case Se.OUT_OF_RANGE:case Se.UNIMPLEMENTED:case Se.DATA_LOSS:return!0;default:return lt()}}function UF(s){if(void 0===s)return Xn("GRPC error has no .code"),Se.UNKNOWN;switch(s){case xr.OK:return Se.OK;case xr.CANCELLED:return Se.CANCELLED;case xr.UNKNOWN:return Se.UNKNOWN;case xr.DEADLINE_EXCEEDED:return Se.DEADLINE_EXCEEDED;case xr.RESOURCE_EXHAUSTED:return Se.RESOURCE_EXHAUSTED;case xr.INTERNAL:return Se.INTERNAL;case xr.UNAVAILABLE:return Se.UNAVAILABLE;case xr.UNAUTHENTICATED:return Se.UNAUTHENTICATED;case xr.INVALID_ARGUMENT:return Se.INVALID_ARGUMENT;case xr.NOT_FOUND:return Se.NOT_FOUND;case xr.ALREADY_EXISTS:return Se.ALREADY_EXISTS;case xr.PERMISSION_DENIED:return Se.PERMISSION_DENIED;case xr.FAILED_PRECONDITION:return Se.FAILED_PRECONDITION;case xr.ABORTED:return Se.ABORTED;case xr.OUT_OF_RANGE:return Se.OUT_OF_RANGE;case xr.UNIMPLEMENTED:return Se.UNIMPLEMENTED;case xr.DATA_LOSS:return Se.DATA_LOSS;default:return lt()}}(rn=xr||(xr={}))[rn.OK=0]="OK",rn[rn.CANCELLED=1]="CANCELLED",rn[rn.UNKNOWN=2]="UNKNOWN",rn[rn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rn[rn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rn[rn.NOT_FOUND=5]="NOT_FOUND",rn[rn.ALREADY_EXISTS=6]="ALREADY_EXISTS",rn[rn.PERMISSION_DENIED=7]="PERMISSION_DENIED",rn[rn.UNAUTHENTICATED=16]="UNAUTHENTICATED",rn[rn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rn[rn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rn[rn.ABORTED=10]="ABORTED",rn[rn.OUT_OF_RANGE=11]="OUT_OF_RANGE",rn[rn.UNIMPLEMENTED=12]="UNIMPLEMENTED",rn[rn.INTERNAL=13]="INTERNAL",rn[rn.UNAVAILABLE=14]="UNAVAILABLE",rn[rn.DATA_LOSS=15]="DATA_LOSS";class Wr{constructor(r,i){this.comparator=r,this.root=i||Ci.EMPTY}insert(r,i){return new Wr(this.comparator,this.root.insert(r,i,this.comparator).copy(null,null,Ci.BLACK,null,null))}remove(r){return new Wr(this.comparator,this.root.remove(r,this.comparator).copy(null,null,Ci.BLACK,null,null))}get(r){let i=this.root;for(;!i.isEmpty();){const o=this.comparator(r,i.key);if(0===o)return i.value;o<0?i=i.left:o>0&&(i=i.right)}return null}indexOf(r){let i=0,o=this.root;for(;!o.isEmpty();){const c=this.comparator(r,o.key);if(0===c)return i+o.left.size;c<0?o=o.left:(i+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(r){return this.root.inorderTraversal(r)}forEach(r){this.inorderTraversal((i,o)=>(r(i,o),!1))}toString(){const r=[];return this.inorderTraversal((i,o)=>(r.push(`${i}:${o}`),!1)),`{${r.join(", ")}}`}reverseTraversal(r){return this.root.reverseTraversal(r)}getIterator(){return new RD(this.root,null,this.comparator,!1)}getIteratorFrom(r){return new RD(this.root,r,this.comparator,!1)}getReverseIterator(){return new RD(this.root,null,this.comparator,!0)}getReverseIteratorFrom(r){return new RD(this.root,r,this.comparator,!0)}}class RD{constructor(r,i,o,c){this.isReverse=c,this.nodeStack=[];let d=1;for(;!r.isEmpty();)if(d=i?o(r.key,i):1,c&&(d*=-1),d<0)r=this.isReverse?r.left:r.right;else{if(0===d){this.nodeStack.push(r);break}this.nodeStack.push(r),r=this.isReverse?r.right:r.left}}getNext(){let r=this.nodeStack.pop();const i={key:r.key,value:r.value};if(this.isReverse)for(r=r.left;!r.isEmpty();)this.nodeStack.push(r),r=r.right;else for(r=r.right;!r.isEmpty();)this.nodeStack.push(r),r=r.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const r=this.nodeStack[this.nodeStack.length-1];return{key:r.key,value:r.value}}}class Ci{constructor(r,i,o,c,d){this.key=r,this.value=i,this.color=null!=o?o:Ci.RED,this.left=null!=c?c:Ci.EMPTY,this.right=null!=d?d:Ci.EMPTY,this.size=this.left.size+1+this.right.size}copy(r,i,o,c,d){return new Ci(null!=r?r:this.key,null!=i?i:this.value,null!=o?o:this.color,null!=c?c:this.left,null!=d?d:this.right)}isEmpty(){return!1}inorderTraversal(r){return this.left.inorderTraversal(r)||r(this.key,this.value)||this.right.inorderTraversal(r)}reverseTraversal(r){return this.right.reverseTraversal(r)||r(this.key,this.value)||this.left.reverseTraversal(r)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(r,i,o){let c=this;const d=o(r,c.key);return c=d<0?c.copy(null,null,null,c.left.insert(r,i,o),null):0===d?c.copy(null,i,null,null,null):c.copy(null,null,null,null,c.right.insert(r,i,o)),c.fixUp()}removeMin(){if(this.left.isEmpty())return Ci.EMPTY;let r=this;return r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.removeMin(),null),r.fixUp()}remove(r,i){let o,c=this;if(i(r,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(r,i),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===i(r,c.key)){if(c.right.isEmpty())return Ci.EMPTY;o=c.right.min(),c=c.copy(o.key,o.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(r,i))}return c.fixUp()}isRed(){return this.color}fixUp(){let r=this;return r.right.isRed()&&!r.left.isRed()&&(r=r.rotateLeft()),r.left.isRed()&&r.left.left.isRed()&&(r=r.rotateRight()),r.left.isRed()&&r.right.isRed()&&(r=r.colorFlip()),r}moveRedLeft(){let r=this.colorFlip();return r.right.left.isRed()&&(r=r.copy(null,null,null,null,r.right.rotateRight()),r=r.rotateLeft(),r=r.colorFlip()),r}moveRedRight(){let r=this.colorFlip();return r.left.left.isRed()&&(r=r.rotateRight(),r=r.colorFlip()),r}rotateLeft(){const r=this.copy(null,null,Ci.RED,null,this.right.left);return this.right.copy(null,null,this.color,r,null)}rotateRight(){const r=this.copy(null,null,Ci.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,r)}colorFlip(){const r=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,r,i)}checkMaxDepth(){const r=this.check();return Math.pow(2,r)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw lt();const r=this.left.check();if(r!==this.right.check())throw lt();return r+(this.isRed()?0:1)}}Ci.EMPTY=null,Ci.RED=!0,Ci.BLACK=!1,Ci.EMPTY=new class{constructor(){this.size=0}get key(){throw lt()}get value(){throw lt()}get color(){throw lt()}get left(){throw lt()}get right(){throw lt()}copy(s,r,i,o,c){return this}insert(s,r,i){return new Ci(s,r)}remove(s,r){return this}isEmpty(){return!0}inorderTraversal(s){return!1}reverseTraversal(s){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class lr{constructor(r){this.comparator=r,this.data=new Wr(this.comparator)}has(r){return null!==this.data.get(r)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(r){return this.data.indexOf(r)}forEach(r){this.data.inorderTraversal((i,o)=>(r(i),!1))}forEachInRange(r,i){const o=this.data.getIteratorFrom(r[0]);for(;o.hasNext();){const c=o.getNext();if(this.comparator(c.key,r[1])>=0)return;i(c.key)}}forEachWhile(r,i){let o;for(o=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();o.hasNext();)if(!r(o.getNext().key))return}firstAfterOrEqual(r){const i=this.data.getIteratorFrom(r);return i.hasNext()?i.getNext().key:null}getIterator(){return new jF(this.data.getIterator())}getIteratorFrom(r){return new jF(this.data.getIteratorFrom(r))}add(r){return this.copy(this.data.remove(r).insert(r,!0))}delete(r){return this.has(r)?this.copy(this.data.remove(r)):this}isEmpty(){return this.data.isEmpty()}unionWith(r){let i=this;return i.size<r.size&&(i=r,r=this),r.forEach(o=>{i=i.add(o)}),i}isEqual(r){if(!(r instanceof lr)||this.size!==r.size)return!1;const i=this.data.getIterator(),o=r.data.getIterator();for(;i.hasNext();){const c=i.getNext().key,d=o.getNext().key;if(0!==this.comparator(c,d))return!1}return!0}toArray(){const r=[];return this.forEach(i=>{r.push(i)}),r}toString(){const r=[];return this.forEach(i=>r.push(i)),"SortedSet("+r.toString()+")"}copy(r){const i=new lr(this.comparator);return i.data=r,i}}class jF{constructor(r){this.iter=r}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const aU=new Wr(se.comparator);function Lo(){return aU}const lU=new Wr(se.comparator);function ak(){return lU}const cU=new Wr(se.comparator);function HF(){return cU}const uU=new lr(se.comparator);function _n(...s){let r=uU;for(const i of s)r=r.add(i);return r}const dU=new lr(Xt);function OD(){return dU}class Rw{constructor(r,i,o,c,d){this.snapshotVersion=r,this.targetChanges=i,this.targetMismatches=o,this.documentUpdates=c,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(r,i){const o=new Map;return o.set(r,Ow.createSynthesizedTargetChangeForCurrentChange(r,i)),new Rw(Ut.min(),o,OD(),Lo(),_n())}}class Ow{constructor(r,i,o,c,d){this.resumeToken=r,this.current=i,this.addedDocuments=o,this.modifiedDocuments=c,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(r,i){return new Ow(w.EMPTY_BYTE_STRING,i,_n(),_n(),_n())}}class kD{constructor(r,i,o,c){this.k=r,this.removedTargetIds=i,this.key=o,this.$=c}}class GF{constructor(r,i){this.targetId=r,this.O=i}}class $F{constructor(r,i,o=w.EMPTY_BYTE_STRING,c=null){this.state=r,this.targetIds=i,this.resumeToken=o,this.cause=c}}class zF{constructor(){this.F=0,this.M=WF(),this.L=w.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(r){r.approximateByteSize()>0&&(this.U=!0,this.L=r)}W(){let r=_n(),i=_n(),o=_n();return this.M.forEach((c,d)=>{switch(d){case 0:r=r.add(c);break;case 2:i=i.add(c);break;case 1:o=o.add(c);break;default:lt()}}),new Ow(this.L,this.B,r,i,o)}G(){this.U=!1,this.M=WF()}H(r,i){this.U=!0,this.M=this.M.insert(r,i)}J(r){this.U=!0,this.M=this.M.remove(r)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class hU{constructor(r){this.tt=r,this.et=new Map,this.nt=Lo(),this.st=qF(),this.it=new lr(Xt)}rt(r){for(const i of r.k)r.$&&r.$.isFoundDocument()?this.ot(i,r.$):this.at(i,r.key,r.$);for(const i of r.removedTargetIds)this.at(i,r.key,r.$)}ct(r){this.forEachTarget(r,i=>{const o=this.ut(i);switch(r.state){case 0:this.ht(i)&&o.j(r.resumeToken);break;case 1:o.X(),o.q||o.G(),o.j(r.resumeToken);break;case 2:o.X(),o.q||this.removeTarget(i);break;case 3:this.ht(i)&&(o.Z(),o.j(r.resumeToken));break;case 4:this.ht(i)&&(this.lt(i),o.j(r.resumeToken));break;default:lt()}})}forEachTarget(r,i){r.targetIds.length>0?r.targetIds.forEach(i):this.et.forEach((o,c)=>{this.ht(c)&&i(c)})}ft(r){const i=r.targetId,o=r.O.count,c=this.dt(i);if(c){const d=c.target;if(SD(d))if(0===o){const m=new se(d.path);this.at(i,m,Zn.newNoDocument(m,Ut.min()))}else At(1===o);else this.wt(i)!==o&&(this.lt(i),this.it=this.it.add(i))}}_t(r){const i=new Map;this.et.forEach((d,m)=>{const v=this.dt(m);if(v){if(d.current&&SD(v.target)){const S=new se(v.target.path);null!==this.nt.get(S)||this.gt(m,S)||this.at(m,S,Zn.newNoDocument(S,r))}d.K&&(i.set(m,d.W()),d.G())}});let o=_n();this.st.forEach((d,m)=>{let v=!0;m.forEachWhile(S=>{const D=this.dt(S);return!D||2===D.purpose||(v=!1,!1)}),v&&(o=o.add(d))});const c=new Rw(r,i,this.it,this.nt,o);return this.nt=Lo(),this.st=qF(),this.it=new lr(Xt),c}ot(r,i){if(!this.ht(r))return;const o=this.gt(r,i.key)?2:0;this.ut(r).H(i.key,o),this.nt=this.nt.insert(i.key,i),this.st=this.st.insert(i.key,this.yt(i.key).add(r))}at(r,i,o){if(!this.ht(r))return;const c=this.ut(r);this.gt(r,i)?c.H(i,1):c.J(i),this.st=this.st.insert(i,this.yt(i).delete(r)),o&&(this.nt=this.nt.insert(i,o))}removeTarget(r){this.et.delete(r)}wt(r){const i=this.ut(r).W();return this.tt.getRemoteKeysForTarget(r).size+i.addedDocuments.size-i.removedDocuments.size}Y(r){this.ut(r).Y()}ut(r){let i=this.et.get(r);return i||(i=new zF,this.et.set(r,i)),i}yt(r){let i=this.st.get(r);return i||(i=new lr(Xt),this.st=this.st.insert(r,i)),i}ht(r){const i=null!==this.dt(r);return i||He("WatchChangeAggregator","Detected inactive target",r),i}dt(r){const i=this.et.get(r);return i&&i.q?null:this.tt.Et(r)}lt(r){this.et.set(r,new zF),this.tt.getRemoteKeysForTarget(r).forEach(i=>{this.at(r,i,null)})}gt(r,i){return this.tt.getRemoteKeysForTarget(r).has(i)}}function qF(){return new Wr(se.comparator)}function WF(){return new Wr(se.comparator)}const fU={asc:"ASCENDING",desc:"DESCENDING"},pU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class gU{constructor(r,i){this.databaseId=r,this.D=i}}function kw(s,r){return s.D?`${new Date(1e3*r.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+r.nanoseconds).slice(-9)}Z`:{seconds:""+r.seconds,nanos:r.nanoseconds}}function ZF(s,r){return s.D?r.toBase64():r.toUint8Array()}function mU(s,r){return kw(s,r.toTimestamp())}function ci(s){return At(!!s),Ut.fromTimestamp(function(r){const i=M(r);return new qr(i.seconds,i.nanos)}(s))}function lk(s,r){return(i=s,new u(["projects",i.projectId,"databases",i.database])).child("documents").child(r).canonicalString();var i}function YF(s){const r=u.fromString(s);return At(aL(r)),r}function Nw(s,r){return lk(s.databaseId,r.path)}function xl(s,r){const i=YF(r);if(i.get(1)!==s.databaseId.projectId)throw new Pe(Se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new Pe(Se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new se(QF(i))}function ck(s,r){return lk(s.databaseId,r)}function KF(s){const r=YF(s);return 4===r.length?u.emptyPath():QF(r)}function Pw(s){return new u(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function QF(s){return At(s.length>4&&"documents"===s.get(4)),s.popFirst(5)}function JF(s,r,i){return{name:Nw(s,r),fields:i.value.mapValue.fields}}function XF(s,r,i){const o=xl(s,r.name),c=ci(r.updateTime),d=new $i({mapValue:{fields:r.fields}}),m=Zn.newFoundDocument(o,c,d);return i&&m.setHasCommittedMutations(),i?m.setHasCommittedMutations():m}function ND(s,r){let i;if(r instanceof Mw)i={update:JF(s,r.key,r.value)};else if(r instanceof xw)i={delete:Nw(s,r.key)};else if(r instanceof $d)i={update:JF(s,r.key,r.data),updateMask:IU(r.fieldMask)};else{if(!(r instanceof ok))return lt();i={verify:Nw(s,r.key)}}return r.fieldTransforms.length>0&&(i.updateTransforms=r.fieldTransforms.map(o=>function(c,d){const m=d.transform;if(m instanceof z_)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Mp)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof xp)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof q_)return{fieldPath:d.field.canonicalString(),increment:m.C};throw lt()}(0,o))),r.precondition.isNone||(i.currentDocument=void 0!==(c=r.precondition).updateTime?{updateTime:mU(s,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:lt()),i;var c}function eL(s,r){const i=r.currentDocument?void 0!==(c=r.currentDocument).updateTime?Mr.updateTime(ci(c.updateTime)):void 0!==c.exists?Mr.exists(c.exists):Mr.none():Mr.none(),o=r.updateTransforms?r.updateTransforms.map(c=>function(d,m){let v=null;"setToServerValue"in m?(At("REQUEST_TIME"===m.setToServerValue),v=new z_):"appendMissingElements"in m?v=new Mp(m.appendMissingElements.values||[]):"removeAllFromArray"in m?v=new xp(m.removeAllFromArray.values||[]):"increment"in m?v=new q_(d,m.increment):lt();const S=g.fromServerFormat(m.fieldPath);return new Aw(S,v)}(s,c)):[];var c;if(r.update){const c=xl(s,r.update.name),d=new $i({mapValue:{fields:r.update.fields}});if(r.updateMask){const m=new _((r.updateMask.fieldPaths||[]).map(D=>g.fromServerFormat(D)));return new $d(c,d,m,i,o)}return new Mw(c,d,i,o)}if(r.delete){const c=xl(s,r.delete);return new xw(c,i)}if(r.verify){const c=xl(s,r.verify);return new ok(c,i)}return lt()}function tL(s,r){return{documents:[ck(s,r.path)]}}function nL(s,r){const i={structuredQuery:{}},o=r.path;null!==r.collectionGroup?(i.parent=ck(s,o),i.structuredQuery.from=[{collectionId:r.collectionGroup,allDescendants:!0}]):(i.parent=ck(s,o.popLast()),i.structuredQuery.from=[{collectionId:o.lastSegment()}]);const c=function(v){if(0===v.length)return;const S=v.map(D=>function(x){if("=="===x.op){if(j_(x.value))return{unaryFilter:{field:W_(x.field),op:"IS_NAN"}};if(U_(x.value))return{unaryFilter:{field:W_(x.field),op:"IS_NULL"}}}else if("!="===x.op){if(j_(x.value))return{unaryFilter:{field:W_(x.field),op:"IS_NOT_NAN"}};if(U_(x.value))return{unaryFilter:{field:W_(x.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:W_(x.field),op:wU(x.op),value:x.value}}}(D));return 1===S.length?S[0]:{compositeFilter:{op:"AND",filters:S}}}(r.filters);c&&(i.structuredQuery.where=c);const d=function(v){if(0!==v.length)return v.map(S=>{return{field:W_((D=S).field),direction:EU(D.dir)};var D})}(r.orderBy);d&&(i.structuredQuery.orderBy=d);const m=(S=r.limit,s.D||me(S)?S:{value:S});var S;return null!==m&&(i.structuredQuery.limit=m),r.startAt&&(i.structuredQuery.startAt=sL(r.startAt)),r.endAt&&(i.structuredQuery.endAt=sL(r.endAt)),i}function rL(s){let r=KF(s.parent);const i=s.structuredQuery,o=i.from?i.from.length:0;let c=null;if(o>0){At(1===o);const x=i.from[0];x.allDescendants?c=x.collectionId:r=r.child(x.collectionId)}let d=[];i.where&&(d=iL(i.where));let m=[];i.orderBy&&(m=i.orderBy.map(x=>{return new H_(Z_((k=x).field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction));var k}));let v=null;i.limit&&(v=function(x){let k;return k="object"==typeof x?x.value:x,me(k)?null:k}(i.limit));let S=null;i.startAt&&(S=oL(i.startAt));let D=null;return i.endAt&&(D=oL(i.endAt)),wF(r,c,m,d,v,"F",S,D)}function iL(s){return s?void 0!==s.unaryFilter?[SU(s)]:void 0!==s.fieldFilter?[CU(s)]:void 0!==s.compositeFilter?s.compositeFilter.filters.map(r=>iL(r)).reduce((r,i)=>r.concat(i)):lt():[]}function sL(s){return{before:s.before,values:s.position}}function oL(s){return new Iw(s.values||[],!!s.before)}function EU(s){return fU[s]}function wU(s){return pU[s]}function W_(s){return{fieldPath:s.canonicalString()}}function Z_(s){return g.fromServerFormat(s.fieldPath)}function CU(s){return ds.create(Z_(s.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return lt()}}(s.fieldFilter.op),s.fieldFilter.value)}function SU(s){switch(s.unaryFilter.op){case"IS_NAN":const r=Z_(s.unaryFilter.field);return ds.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Z_(s.unaryFilter.field);return ds.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Z_(s.unaryFilter.field);return ds.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Z_(s.unaryFilter.field);return ds.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return lt()}}function IU(s){const r=[];return s.fields.forEach(i=>r.push(i.canonicalString())),{fieldPaths:r}}function aL(s){return s.length>=4&&"projects"===s.get(0)&&"databases"===s.get(2)}function wa(s){let r="";for(let i=0;i<s.length;i++)r.length>0&&(r=lL(r)),r=TU(s.get(i),r);return lL(r)}function TU(s,r){let i=r;const o=s.length;for(let c=0;c<o;c++){const d=s.charAt(c);switch(d){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=d}}return i}function lL(s){return s+"\x01\x01"}function au(s){const r=s.length;if(At(r>=2),2===r)return At("\x01"===s.charAt(0)&&"\x01"===s.charAt(1)),u.emptyPath();const i=r-2,o=[];let c="";for(let d=0;d<r;){const m=s.indexOf("\x01",d);switch((m<0||m>i)&&lt(),s.charAt(m+1)){case"\x01":const v=s.substring(d,m);let S;0===c.length?S=v:(c+=v,S=c,c=""),o.push(S);break;case"\x10":c+=s.substring(d,m),c+="\0";break;case"\x11":c+=s.substring(d,m+1);break;default:lt()}d=m+2}return new u(o)}class DU{constructor(r,i){this.seconds=r,this.nanoseconds=i}}class go{constructor(r,i,o){this.ownerId=r,this.allowTabSynchronization=i,this.leaseTimestampMs=o}}go.store="owner",go.key="owner";class zd{constructor(r,i,o){this.userId=r,this.lastAcknowledgedBatchId=i,this.lastStreamToken=o}}zd.store="mutationQueues",zd.keyPath="userId";class Bn{constructor(r,i,o,c,d){this.userId=r,this.batchId=i,this.localWriteTimeMs=o,this.baseMutations=c,this.mutations=d}}Bn.store="mutations",Bn.keyPath="batchId",Bn.userMutationsIndex="userMutationsIndex",Bn.userMutationsKeyPath=["userId","batchId"];class zi{constructor(){}static prefixForUser(r){return[r]}static prefixForPath(r,i){return[r,wa(i)]}static key(r,i,o){return[r,wa(i),o]}}zi.store="documentMutations",zi.PLACEHOLDER=new zi;class AU{constructor(r,i){this.path=r,this.readTime=i}}class MU{constructor(r,i){this.path=r,this.version=i}}class cr{constructor(r,i,o,c,d,m){this.unknownDocument=r,this.noDocument=i,this.document=o,this.hasCommittedMutations=c,this.readTime=d,this.parentPath=m}}cr.store="remoteDocuments",cr.readTimeIndex="readTimeIndex",cr.readTimeIndexPath="readTime",cr.collectionReadTimeIndex="collectionReadTimeIndex",cr.collectionReadTimeIndexPath=["parentPath","readTime"];class Rl{constructor(r){this.byteSize=r}}Rl.store="remoteDocumentGlobal",Rl.key="remoteDocumentGlobalKey";class Bs{constructor(r,i,o,c,d,m,v){this.targetId=r,this.canonicalId=i,this.readTime=o,this.resumeToken=c,this.lastListenSequenceNumber=d,this.lastLimboFreeSnapshotVersion=m,this.query=v}}Bs.store="targets",Bs.keyPath="targetId",Bs.queryTargetsIndexName="queryTargetsIndex",Bs.queryTargetsKeyPath=["canonicalId","targetId"];class Si{constructor(r,i,o){this.targetId=r,this.path=i,this.sequenceNumber=o}}Si.store="targetDocuments",Si.keyPath=["targetId","path"],Si.documentTargetsIndex="documentTargetsIndex",Si.documentTargetsKeyPath=["path","targetId"];class mo{constructor(r,i,o,c){this.highestTargetId=r,this.highestListenSequenceNumber=i,this.lastRemoteSnapshotVersion=o,this.targetCount=c}}mo.key="targetGlobalKey",mo.store="targetGlobal";class Rp{constructor(r,i){this.collectionId=r,this.parent=i}}Rp.store="collectionParents",Rp.keyPath=["collectionId","parent"];class lu{constructor(r,i,o,c){this.clientId=r,this.updateTimeMs=i,this.networkEnabled=o,this.inForeground=c}}lu.store="clientMetadata",lu.keyPath="clientId";class Y_{constructor(r,i,o){this.bundleId=r,this.createTime=i,this.version=o}}Y_.store="bundles",Y_.keyPath="bundleId";class K_{constructor(r,i,o){this.name=r,this.readTime=i,this.bundledQuery=o}}K_.store="namedQueries",K_.keyPath="name";const xU=[zd.store,Bn.store,zi.store,cr.store,Bs.store,go.store,mo.store,Si.store,lu.store,Rl.store,Rp.store,Y_.store,K_.store],cL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(r){this.onCommittedListeners.push(r)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(r=>r())}}class Fe{constructor(r){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,r(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(r){return this.next(void 0,r)}next(r,i){return this.callbackAttached&&lt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(r,this.result):new Fe((o,c)=>{this.nextCallback=d=>{this.wrapSuccess(r,d).next(o,c)},this.catchCallback=d=>{this.wrapFailure(i,d).next(o,c)}})}toPromise(){return new Promise((r,i)=>{this.next(r,i)})}wrapUserFunction(r){try{const i=r();return i instanceof Fe?i:Fe.resolve(i)}catch(i){return Fe.reject(i)}}wrapSuccess(r,i){return r?this.wrapUserFunction(()=>r(i)):Fe.resolve(i)}wrapFailure(r,i){return r?this.wrapUserFunction(()=>r(i)):Fe.reject(i)}static resolve(r){return new Fe((i,o)=>{i(r)})}static reject(r){return new Fe((i,o)=>{o(r)})}static waitFor(r){return new Fe((i,o)=>{let c=0,d=0,m=!1;r.forEach(v=>{++c,v.next(()=>{++d,m&&d===c&&i()},S=>o(S))}),m=!0,d===c&&i()})}static or(r){let i=Fe.resolve(!1);for(const o of r)i=i.next(c=>c?Fe.resolve(c):o());return i}static forEach(r,i){const o=[];return r.forEach((c,d)=>{o.push(i.call(this,c,d))}),this.waitFor(o)}}class PD{constructor(r,i){this.action=r,this.transaction=i,this.aborted=!1,this.Tt=new Ar,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{i.error?this.Tt.reject(new Fw(r,i.error)):this.Tt.resolve()},this.transaction.onerror=o=>{const c=uk(o.target.error);this.Tt.reject(new Fw(r,c))}}static open(r,i,o,c){try{return new PD(i,r.transaction(c,o))}catch(d){throw new Fw(i,d)}}get It(){return this.Tt.promise}abort(r){r&&this.Tt.reject(r),this.aborted||(He("SimpleDb","Aborting transaction:",r?r.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(r){const i=this.transaction.objectStore(r);return new OU(i)}}class Ca{constructor(r,i,o){this.name=r,this.version=i,this.At=o,12.2===Ca.Rt((0,un.z$)())&&Xn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(r){return He("SimpleDb","Removing database:",r),kp(window.indexedDB.deleteDatabase(r)).toPromise()}static Pt(){if("undefined"==typeof indexedDB)return!1;if(Ca.bt())return!0;const r=(0,un.z$)(),i=Ca.Rt(r),o=0<i&&i<10,c=Ca.vt(r),d=0<c&&c<4.5;return!(r.indexOf("MSIE ")>0||r.indexOf("Trident/")>0||r.indexOf("Edge/")>0||o||d)}static bt(){var r;return"undefined"!=typeof process&&"YES"===(null===(r=process.env)||void 0===r?void 0:r.Vt)}static St(r,i){return r.store(i)}static Rt(r){const i=r.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static vt(r){const i=r.match(/Android ([\d.]+)/i),o=i?i[1].split(".").slice(0,2).join("."):"-1";return Number(o)}Dt(r){var i=this;return(0,ke.Z)(function*(){return i.db||(He("SimpleDb","Opening database:",i.name),i.db=yield new Promise((o,c)=>{const d=indexedDB.open(i.name,i.version);d.onsuccess=m=>{o(m.target.result)},d.onblocked=()=>{c(new Fw(r,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=m=>{const v=m.target.error;c("VersionError"===v.name?new Pe(Se.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Fw(r,v))},d.onupgradeneeded=m=>{He("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',m.oldVersion),i.At.Ct(m.target.result,d.transaction,m.oldVersion,i.version).next(()=>{He("SimpleDb","Database upgrade to version "+i.version+" complete")})}})),i.Nt&&(i.db.onversionchange=o=>i.Nt(o)),i.db})()}xt(r){this.Nt=r,this.db&&(this.db.onversionchange=i=>r(i))}runTransaction(r,i,o,c){var d=this;return(0,ke.Z)(function*(){const m="readonly"===i;let v=0;for(;;){++v;try{d.db=yield d.Dt(r);const S=PD.open(d.db,r,m?"readonly":"readwrite",o),D=c(S).catch(x=>(S.abort(x),Fe.reject(x))).toPromise();return D.catch(()=>{}),yield S.It,D}catch(S){const D="FirebaseError"!==S.name&&v<3;if(He("SimpleDb","Transaction failed with error:",S.message,"Retrying:",D),d.close(),!D)return Promise.reject(S)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class RU{constructor(r){this.kt=r,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(r){this.kt=r}done(){this.$t=!0}Mt(r){this.Ot=r}delete(){return kp(this.kt.delete())}}class Fw extends Pe{constructor(r,i){super(Se.UNAVAILABLE,`IndexedDB transaction '${r}' failed: ${i}`),this.name="IndexedDbTransactionError"}}function Op(s){return"IndexedDbTransactionError"===s.name}class OU{constructor(r){this.store=r}put(r,i){let o;return void 0!==i?(He("SimpleDb","PUT",this.store.name,r,i),o=this.store.put(i,r)):(He("SimpleDb","PUT",this.store.name,"<auto-key>",r),o=this.store.put(r)),kp(o)}add(r){return He("SimpleDb","ADD",this.store.name,r,r),kp(this.store.add(r))}get(r){return kp(this.store.get(r)).next(i=>(void 0===i&&(i=null),He("SimpleDb","GET",this.store.name,r,i),i))}delete(r){return He("SimpleDb","DELETE",this.store.name,r),kp(this.store.delete(r))}count(){return He("SimpleDb","COUNT",this.store.name),kp(this.store.count())}Lt(r,i){const o=this.cursor(this.options(r,i)),c=[];return this.Bt(o,(d,m)=>{c.push(m)}).next(()=>c)}Ut(r,i){He("SimpleDb","DELETE ALL",this.store.name);const o=this.options(r,i);o.qt=!1;const c=this.cursor(o);return this.Bt(c,(d,m,v)=>v.delete())}Kt(r,i){let o;i?o=r:(o={},i=r);const c=this.cursor(o);return this.Bt(c,i)}jt(r){const i=this.cursor({});return new Fe((o,c)=>{i.onerror=d=>{const m=uk(d.target.error);c(m)},i.onsuccess=d=>{const m=d.target.result;m?r(m.primaryKey,m.value).next(v=>{v?m.continue():o()}):o()}})}Bt(r,i){const o=[];return new Fe((c,d)=>{r.onerror=m=>{d(m.target.error)},r.onsuccess=m=>{const v=m.target.result;if(!v)return void c();const S=new RU(v),D=i(v.primaryKey,v.value,S);if(D instanceof Fe){const x=D.catch(k=>(S.done(),Fe.reject(k)));o.push(x)}S.isDone?c():null===S.Ft?v.continue():v.continue(S.Ft)}}).next(()=>Fe.waitFor(o))}options(r,i){let o;return void 0!==r&&("string"==typeof r?o=r:i=r),{index:o,range:i}}cursor(r){let i="next";if(r.reverse&&(i="prev"),r.index){const o=this.store.index(r.index);return r.qt?o.openKeyCursor(r.range,i):o.openCursor(r.range,i)}return this.store.openCursor(r.range,i)}}function kp(s){return new Fe((r,i)=>{s.onsuccess=o=>{r(o.target.result)},s.onerror=o=>{const c=uk(o.target.error);i(c)}})}let dL=!1;function uk(s){const r=Ca.Rt((0,un.z$)());if(r>=12.2&&r<13){const i="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(i)>=0){const o=new Pe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return dL||(dL=!0,setTimeout(()=>{throw o},0)),o}}return s}class hL extends uL{constructor(r,i){super(),this.Qt=r,this.currentSequenceNumber=i}}function Us(s,r){const i=Ze(s);return Ca.St(i.Qt,r)}class dk{constructor(r,i,o,c){this.batchId=r,this.localWriteTime=i,this.baseMutations=o,this.mutations=c}applyToRemoteDocument(r,i){const o=i.mutationResults;for(let c=0;c<this.mutations.length;c++){const d=this.mutations[c];d.key.isEqual(r.key)&&iU(d,r,o[c])}}applyToLocalView(r){for(const i of this.baseMutations)i.key.isEqual(r.key)&&sk(i,r,this.localWriteTime);for(const i of this.mutations)i.key.isEqual(r.key)&&sk(i,r,this.localWriteTime)}applyToLocalDocumentSet(r){this.mutations.forEach(i=>{const o=r.get(i.key),c=o;this.applyToLocalView(c),o.isValidDocument()||c.convertToNoDocument(Ut.min())})}keys(){return this.mutations.reduce((r,i)=>r.add(i.key),_n())}isEqual(r){return this.batchId===r.batchId&&Dp(this.mutations,r.mutations,(i,o)=>NF(i,o))&&Dp(this.baseMutations,r.baseMutations,(i,o)=>NF(i,o))}}class hk{constructor(r,i,o,c){this.batch=r,this.commitVersion=i,this.mutationResults=o,this.docVersions=c}static from(r,i,o){At(r.mutations.length===o.length);let c=HF();const d=r.mutations;for(let m=0;m<d.length;m++)c=c.insert(d[m].key,o[m].version);return new hk(r,i,o,c)}}class qd{constructor(r,i,o,c,d=Ut.min(),m=Ut.min(),v=w.EMPTY_BYTE_STRING){this.target=r,this.targetId=i,this.purpose=o,this.sequenceNumber=c,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=v}withSequenceNumber(r){return new qd(this.target,this.targetId,this.purpose,r,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(r,i){return new qd(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,r)}withLastLimboFreeSnapshotVersion(r){return new qd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,r,this.resumeToken)}}class fL{constructor(r){this.Wt=r}}function fk(s,r){if(r.document)return XF(s.Wt,r.document,!!r.hasCommittedMutations);if(r.noDocument){const i=se.fromSegments(r.noDocument.path),o=J_(r.noDocument.readTime),c=Zn.newNoDocument(i,o);return r.hasCommittedMutations?c.setHasCommittedMutations():c}if(r.unknownDocument){const i=se.fromSegments(r.unknownDocument.path),o=J_(r.unknownDocument.version);return Zn.newUnknownDocument(i,o)}return lt()}function pL(s,r,i){const o=pk(i),c=r.key.path.popLast().toArray();if(r.isFoundDocument()){const d={name:Nw(v=s.Wt,(S=r).key),fields:S.data.value.mapValue.fields,updateTime:kw(v,S.version.toTimestamp())};return new cr(null,null,d,r.hasCommittedMutations,o,c)}var v,S;if(r.isNoDocument()){const d=r.key.path.toArray(),m=Q_(r.version),v=r.hasCommittedMutations;return new cr(null,new AU(d,m),null,v,o,c)}if(r.isUnknownDocument()){const d=r.key.path.toArray(),m=Q_(r.version);return new cr(new MU(d,m),null,null,!0,o,c)}return lt()}function pk(s){const r=s.toTimestamp();return[r.seconds,r.nanoseconds]}function gL(s){const r=new qr(s[0],s[1]);return Ut.fromTimestamp(r)}function Q_(s){const r=s.toTimestamp();return new DU(r.seconds,r.nanoseconds)}function J_(s){const r=new qr(s.seconds,s.nanoseconds);return Ut.fromTimestamp(r)}function X_(s,r){const i=(r.baseMutations||[]).map(d=>eL(s.Wt,d));for(let d=0;d<r.mutations.length-1;++d){const m=r.mutations[d];d+1<r.mutations.length&&void 0!==r.mutations[d+1].transform&&(m.updateTransforms=r.mutations[d+1].transform.fieldTransforms,r.mutations.splice(d+1,1),++d)}const o=r.mutations.map(d=>eL(s.Wt,d)),c=qr.fromMillis(r.localWriteTimeMs);return new dk(r.batchId,c,i,o)}function Lw(s){const r=J_(s.readTime),i=void 0!==s.lastLimboFreeSnapshotVersion?J_(s.lastLimboFreeSnapshotVersion):Ut.min();let o;var c;return void 0!==s.query.documents?(At(1===(c=s.query).documents.length),o=Fo(G_(KF(c.documents[0])))):o=Fo(rL(s.query)),new qd(o,s.targetId,0,s.lastListenSequenceNumber,r,i,w.fromBase64String(s.resumeToken))}function mL(s,r){const i=Q_(r.snapshotVersion),o=Q_(r.lastLimboFreeSnapshotVersion);let c;c=SD(r.target)?tL(s.Wt,r.target):nL(s.Wt,r.target);const d=r.resumeToken.toBase64();return new Bs(r.targetId,Sw(r.target),i,d,r.sequenceNumber,o,c)}function gk(s){const r=rL({parent:s.parent,structuredQuery:s.structuredQuery});return"LAST"===s.limitType?CF(r,r.limit,"L"):r}class kU{getBundleMetadata(r,i){return _L(r).get(i).next(o=>{if(o)return{id:(c=o).bundleId,createTime:J_(c.createTime),version:c.version};var c})}saveBundleMetadata(r,i){return _L(r).put({bundleId:(o=i).id,createTime:Q_(ci(o.createTime)),version:o.version});var o}getNamedQuery(r,i){return yL(r).get(i).next(o=>{if(o)return{name:(c=o).name,query:gk(c.bundledQuery),readTime:J_(c.readTime)};var c})}saveNamedQuery(r,i){return yL(r).put({name:(o=i).name,readTime:Q_(ci(o.readTime)),bundledQuery:o.bundledQuery});var o}}function _L(s){return Us(s,Y_.store)}function yL(s){return Us(s,K_.store)}class NU{constructor(){this.Gt=new mk}addToCollectionParentIndex(r,i){return this.Gt.add(i),Fe.resolve()}getCollectionParents(r,i){return Fe.resolve(this.Gt.getEntries(i))}}class mk{constructor(){this.index={}}add(r){const i=r.lastSegment(),o=r.popLast(),c=this.index[i]||new lr(u.comparator),d=!c.has(o);return this.index[i]=c.add(o),d}has(r){const i=r.lastSegment(),o=r.popLast(),c=this.index[i];return c&&c.has(o)}getEntries(r){return(this.index[r]||new lr(u.comparator)).toArray()}}class PU{constructor(){this.zt=new mk}addToCollectionParentIndex(r,i){if(!this.zt.has(i)){const o=i.lastSegment(),c=i.popLast();r.addOnCommittedListener(()=>{this.zt.add(i)});const d={collectionId:o,parent:wa(c)};return vL(r).put(d)}return Fe.resolve()}getCollectionParents(r,i){const o=[],c=IDBKeyRange.bound([i,""],[wD(i),""],!1,!0);return vL(r).Lt(c).next(d=>{for(const m of d){if(m.collectionId!==i)break;o.push(au(m.parent))}return o})}}function vL(s){return Us(s,Rp.store)}const bL={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class js{constructor(r,i,o){this.cacheSizeCollectionThreshold=r,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=o}static withCacheSize(r){return new js(r,js.DEFAULT_COLLECTION_PERCENTILE,js.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function EL(s,r,i){const o=s.store(Bn.store),c=s.store(zi.store),d=[],m=IDBKeyRange.only(i.batchId);let v=0;const S=o.Kt({range:m},(x,k,j)=>(v++,j.delete()));d.push(S.next(()=>{At(1===v)}));const D=[];for(const x of i.mutations){const k=zi.key(r,x.key.path,i.batchId);d.push(c.delete(k)),D.push(x.key)}return Fe.waitFor(d).next(()=>D)}function FD(s){if(!s)return 0;let r;if(s.document)r=s.document;else if(s.unknownDocument)r=s.unknownDocument;else{if(!s.noDocument)throw lt();r=s.noDocument}return JSON.stringify(r).length}js.DEFAULT_COLLECTION_PERCENTILE=10,js.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,js.DEFAULT=new js(41943040,js.DEFAULT_COLLECTION_PERCENTILE,js.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),js.DISABLED=new js(-1,0,0);class _k{constructor(r,i,o,c){this.userId=r,this.N=i,this.Ht=o,this.referenceDelegate=c,this.Jt={}}static Yt(r,i,o,c){At(""!==r.uid);const d=r.isAuthenticated()?r.uid:"";return new _k(d,i,o,c)}checkEmpty(r){let i=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Wd(r).Kt({index:Bn.userMutationsIndex,range:o},(c,d,m)=>{i=!1,m.done()}).next(()=>i)}addMutationBatch(r,i,o,c){const d=ey(r),m=Wd(r);return m.add({}).next(v=>{At("number"==typeof v);const S=new dk(v,i,o,c),D=function(j,H,X){const ye=X.baseMutations.map(Ge=>ND(j.Wt,Ge)),Re=X.mutations.map(Ge=>ND(j.Wt,Ge));return new Bn(H,X.batchId,X.localWriteTime.toMillis(),ye,Re)}(this.N,this.userId,S),x=[];let k=new lr((j,H)=>Xt(j.canonicalString(),H.canonicalString()));for(const j of c){const H=zi.key(this.userId,j.key.path,v);k=k.add(j.key.path.popLast()),x.push(m.put(D)),x.push(d.put(H,zi.PLACEHOLDER))}return k.forEach(j=>{x.push(this.Ht.addToCollectionParentIndex(r,j))}),r.addOnCommittedListener(()=>{this.Jt[v]=S.keys()}),Fe.waitFor(x).next(()=>S)})}lookupMutationBatch(r,i){return Wd(r).get(i).next(o=>o?(At(o.userId===this.userId),X_(this.N,o)):null)}Xt(r,i){return this.Jt[i]?Fe.resolve(this.Jt[i]):this.lookupMutationBatch(r,i).next(o=>{if(o){const c=o.keys();return this.Jt[i]=c,c}return null})}getNextMutationBatchAfterBatchId(r,i){const o=i+1,c=IDBKeyRange.lowerBound([this.userId,o]);let d=null;return Wd(r).Kt({index:Bn.userMutationsIndex,range:c},(m,v,S)=>{v.userId===this.userId&&(At(v.batchId>=o),d=X_(this.N,v)),S.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(r){const i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Wd(r).Kt({index:Bn.userMutationsIndex,range:i,reverse:!0},(c,d,m)=>{o=d.batchId,m.done()}).next(()=>o)}getAllMutationBatches(r){const i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Wd(r).Lt(Bn.userMutationsIndex,i).next(o=>o.map(c=>X_(this.N,c)))}getAllMutationBatchesAffectingDocumentKey(r,i){const o=zi.prefixForPath(this.userId,i.path),c=IDBKeyRange.lowerBound(o),d=[];return ey(r).Kt({range:c},(m,v,S)=>{const[D,x,k]=m,j=au(x);if(D===this.userId&&i.path.isEqual(j))return Wd(r).get(k).next(H=>{if(!H)throw lt();At(H.userId===this.userId),d.push(X_(this.N,H))});S.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(r,i){let o=new lr(Xt);const c=[];return i.forEach(d=>{const m=zi.prefixForPath(this.userId,d.path),v=IDBKeyRange.lowerBound(m),S=ey(r).Kt({range:v},(D,x,k)=>{const[j,H,X]=D,ye=au(H);j===this.userId&&d.path.isEqual(ye)?o=o.add(X):k.done()});c.push(S)}),Fe.waitFor(c).next(()=>this.Zt(r,o))}getAllMutationBatchesAffectingQuery(r,i){const o=i.path,c=o.length+1,d=zi.prefixForPath(this.userId,o),m=IDBKeyRange.lowerBound(d);let v=new lr(Xt);return ey(r).Kt({range:m},(S,D,x)=>{const[k,j,H]=S,X=au(j);k===this.userId&&o.isPrefixOf(X)?X.length===c&&(v=v.add(H)):x.done()}).next(()=>this.Zt(r,v))}Zt(r,i){const o=[],c=[];return i.forEach(d=>{c.push(Wd(r).get(d).next(m=>{if(null===m)throw lt();At(m.userId===this.userId),o.push(X_(this.N,m))}))}),Fe.waitFor(c).next(()=>o)}removeMutationBatch(r,i){return EL(r.Qt,this.userId,i).next(o=>(r.addOnCommittedListener(()=>{this.te(i.batchId)}),Fe.forEach(o,c=>this.referenceDelegate.markPotentiallyOrphaned(r,c))))}te(r){delete this.Jt[r]}performConsistencyCheck(r){return this.checkEmpty(r).next(i=>{if(!i)return Fe.resolve();const o=IDBKeyRange.lowerBound(zi.prefixForUser(this.userId)),c=[];return ey(r).Kt({range:o},(d,m,v)=>{if(d[0]===this.userId){const S=au(d[1]);c.push(S)}else v.done()}).next(()=>{At(0===c.length)})})}containsKey(r,i){return wL(r,this.userId,i)}ee(r){return CL(r).get(this.userId).next(i=>i||new zd(this.userId,-1,""))}}function wL(s,r,i){const o=zi.prefixForPath(r,i.path),c=o[1],d=IDBKeyRange.lowerBound(o);let m=!1;return ey(s).Kt({range:d,qt:!0},(v,S,D)=>{const[x,k,j]=v;x===r&&k===c&&(m=!0),D.done()}).next(()=>m)}function Wd(s){return Us(s,Bn.store)}function ey(s){return Us(s,zi.store)}function CL(s){return Us(s,zd.store)}class Np{constructor(r){this.ne=r}next(){return this.ne+=2,this.ne}static se(){return new Np(0)}static ie(){return new Np(-1)}}class FU{constructor(r,i){this.referenceDelegate=r,this.N=i}allocateTargetId(r){return this.re(r).next(i=>{const o=new Np(i.highestTargetId);return i.highestTargetId=o.next(),this.oe(r,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(r){return this.re(r).next(i=>Ut.fromTimestamp(new qr(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(r){return this.re(r).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(r,i,o){return this.re(r).next(c=>(c.highestListenSequenceNumber=i,o&&(c.lastRemoteSnapshotVersion=o.toTimestamp()),i>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=i),this.oe(r,c)))}addTargetData(r,i){return this.ae(r,i).next(()=>this.re(r).next(o=>(o.targetCount+=1,this.ce(i,o),this.oe(r,o))))}updateTargetData(r,i){return this.ae(r,i)}removeTargetData(r,i){return this.removeMatchingKeysForTargetId(r,i.targetId).next(()=>ty(r).delete(i.targetId)).next(()=>this.re(r)).next(o=>(At(o.targetCount>0),o.targetCount-=1,this.oe(r,o)))}removeTargets(r,i,o){let c=0;const d=[];return ty(r).Kt((m,v)=>{const S=Lw(v);S.sequenceNumber<=i&&null===o.get(S.targetId)&&(c++,d.push(this.removeTargetData(r,S)))}).next(()=>Fe.waitFor(d)).next(()=>c)}forEachTarget(r,i){return ty(r).Kt((o,c)=>{const d=Lw(c);i(d)})}re(r){return SL(r).get(mo.key).next(i=>(At(null!==i),i))}oe(r,i){return SL(r).put(mo.key,i)}ae(r,i){return ty(r).put(mL(this.N,i))}ce(r,i){let o=!1;return r.targetId>i.highestTargetId&&(i.highestTargetId=r.targetId,o=!0),r.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=r.sequenceNumber,o=!0),o}getTargetCount(r){return this.re(r).next(i=>i.targetCount)}getTargetData(r,i){const o=Sw(i),c=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let d=null;return ty(r).Kt({range:c,index:Bs.queryTargetsIndexName},(m,v,S)=>{const D=Lw(v);CD(i,D.target)&&(d=D,S.done())}).next(()=>d)}addMatchingKeys(r,i,o){const c=[],d=Zd(r);return i.forEach(m=>{const v=wa(m.path);c.push(d.put(new Si(o,v))),c.push(this.referenceDelegate.addReference(r,o,m))}),Fe.waitFor(c)}removeMatchingKeys(r,i,o){const c=Zd(r);return Fe.forEach(i,d=>{const m=wa(d.path);return Fe.waitFor([c.delete([o,m]),this.referenceDelegate.removeReference(r,o,d)])})}removeMatchingKeysForTargetId(r,i){const o=Zd(r),c=IDBKeyRange.bound([i],[i+1],!1,!0);return o.delete(c)}getMatchingKeysForTargetId(r,i){const o=IDBKeyRange.bound([i],[i+1],!1,!0),c=Zd(r);let d=_n();return c.Kt({range:o,qt:!0},(m,v,S)=>{const D=au(m[1]),x=new se(D);d=d.add(x)}).next(()=>d)}containsKey(r,i){const o=wa(i.path),c=IDBKeyRange.bound([o],[wD(o)],!1,!0);let d=0;return Zd(r).Kt({index:Si.documentTargetsIndex,qt:!0,range:c},([m,v],S,D)=>{0!==m&&(d++,D.done())}).next(()=>d>0)}Et(r,i){return ty(r).get(i).next(o=>o?Lw(o):null)}}function ty(s){return Us(s,Bs.store)}function SL(s){return Us(s,mo.store)}function Zd(s){return Us(s,Si.store)}function Pp(s){return yk.apply(this,arguments)}function yk(){return(yk=(0,ke.Z)(function*(s){if(s.code!==Se.FAILED_PRECONDITION||s.message!==cL)throw s;He("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function IL([s,r],[i,o]){const c=Xt(s,i);return 0===c?Xt(r,o):c}class LU{constructor(r){this.ue=r,this.buffer=new lr(IL),this.he=0}le(){return++this.he}fe(r){const i=[r,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(i);else{const o=this.buffer.last();IL(i,o)<0&&(this.buffer=this.buffer.delete(o).add(i))}}get maxValue(){return this.buffer.last()[0]}}class VU{constructor(r,i){this.garbageCollector=r,this.asyncQueue=i,this.de=!1,this.we=null}start(r){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(r)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(r){var i=this;const o=this.de?3e5:6e4;He("LruGarbageCollector",`Garbage collection scheduled in ${o}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",o,(0,ke.Z)(function*(){i.we=null,i.de=!0;try{yield r.collectGarbage(i.garbageCollector)}catch(c){Op(c)?He("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",c):yield Pp(c)}yield i._e(r)}))}}class BU{constructor(r,i){this.me=r,this.params=i}calculateTargetCount(r,i){return this.me.ge(r).next(o=>Math.floor(i/100*o))}nthSequenceNumber(r,i){if(0===i)return Fe.resolve(cs.T);const o=new LU(i);return this.me.forEachTarget(r,c=>o.fe(c.sequenceNumber)).next(()=>this.me.ye(r,c=>o.fe(c))).next(()=>o.maxValue)}removeTargets(r,i,o){return this.me.removeTargets(r,i,o)}removeOrphanedDocuments(r,i){return this.me.removeOrphanedDocuments(r,i)}collect(r,i){return-1===this.params.cacheSizeCollectionThreshold?(He("LruGarbageCollector","Garbage collection skipped; disabled"),Fe.resolve(bL)):this.getCacheSize(r).next(o=>o<this.params.cacheSizeCollectionThreshold?(He("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bL):this.pe(r,i))}getCacheSize(r){return this.me.getCacheSize(r)}pe(r,i){let o,c,d,m,v,S,D;const x=Date.now();return this.calculateTargetCount(r,this.params.percentileToCollect).next(k=>(k>this.params.maximumSequenceNumbersToCollect?(He("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${k}`),c=this.params.maximumSequenceNumbersToCollect):c=k,m=Date.now(),this.nthSequenceNumber(r,c))).next(k=>(o=k,v=Date.now(),this.removeTargets(r,o,i))).next(k=>(d=k,S=Date.now(),this.removeOrphanedDocuments(r,o))).next(k=>(D=Date.now(),Cw()<=El.in.DEBUG&&He("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${m-x}ms\n\tDetermined least recently used ${c} in `+(v-m)+`ms\n\tRemoved ${d} targets in `+(S-v)+`ms\n\tRemoved ${k} documents in `+(D-S)+`ms\nTotal Duration: ${D-x}ms`),Fe.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:d,documentsRemoved:k})))}}class UU{constructor(r,i){this.db=r,this.garbageCollector=new BU(this,i)}ge(r){const i=this.Ee(r);return this.db.getTargetCache().getTargetCount(r).next(o=>i.next(c=>o+c))}Ee(r){let i=0;return this.ye(r,o=>{i++}).next(()=>i)}forEachTarget(r,i){return this.db.getTargetCache().forEachTarget(r,i)}ye(r,i){return this.Te(r,(o,c)=>i(c))}addReference(r,i,o){return LD(r,o)}removeReference(r,i,o){return LD(r,o)}removeTargets(r,i,o){return this.db.getTargetCache().removeTargets(r,i,o)}markPotentiallyOrphaned(r,i){return LD(r,i)}Ie(r,i){return function(o,c){let d=!1;return CL(o).jt(m=>wL(o,m,c).next(v=>(v&&(d=!0),Fe.resolve(!v)))).next(()=>d)}(r,i)}removeOrphanedDocuments(r,i){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),c=[];let d=0;return this.Te(r,(m,v)=>{if(v<=i){const S=this.Ie(r,m).next(D=>{if(!D)return d++,o.getEntry(r,m).next(()=>(o.removeEntry(m),Zd(r).delete([0,wa(m.path)])))});c.push(S)}}).next(()=>Fe.waitFor(c)).next(()=>o.apply(r)).next(()=>d)}removeTarget(r,i){const o=i.withSequenceNumber(r.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(r,o)}updateLimboDocument(r,i){return LD(r,i)}Te(r,i){const o=Zd(r);let c,d=cs.T;return o.Kt({index:Si.documentTargetsIndex},([m,v],{path:S,sequenceNumber:D})=>{0===m?(d!==cs.T&&i(new se(au(c)),d),d=D,c=S):d=cs.T}).next(()=>{d!==cs.T&&i(new se(au(c)),d)})}getCacheSize(r){return this.db.getRemoteDocumentCache().getSize(r)}}function LD(s,r){return Zd(s).put((o=s.currentSequenceNumber,new Si(0,wa(r.path),o)));var o}class ny{constructor(r,i){this.mapKeyFn=r,this.equalsFn=i,this.inner={}}get(r){const i=this.mapKeyFn(r),o=this.inner[i];if(void 0!==o)for(const[c,d]of o)if(this.equalsFn(c,r))return d}has(r){return void 0!==this.get(r)}set(r,i){const o=this.mapKeyFn(r),c=this.inner[o];if(void 0!==c){for(let d=0;d<c.length;d++)if(this.equalsFn(c[d][0],r))return void(c[d]=[r,i]);c.push([r,i])}else this.inner[o]=[[r,i]]}delete(r){const i=this.mapKeyFn(r),o=this.inner[i];if(void 0===o)return!1;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],r))return 1===o.length?delete this.inner[i]:o.splice(c,1),!0;return!1}forEach(r){Hd(this.inner,(i,o)=>{for(const[c,d]of o)r(c,d)})}isEmpty(){return a(this.inner)}}class TL{constructor(){this.changes=new ny(r=>r.toString(),(r,i)=>r.isEqual(i)),this.changesApplied=!1}getReadTime(r){const i=this.changes.get(r);return i?i.readTime:Ut.min()}addEntry(r,i){this.assertNotApplied(),this.changes.set(r.key,{document:r,readTime:i})}removeEntry(r,i=null){this.assertNotApplied(),this.changes.set(r,{document:Zn.newInvalidDocument(r),readTime:i})}getEntry(r,i){this.assertNotApplied();const o=this.changes.get(i);return void 0!==o?Fe.resolve(o.document):this.getFromCache(r,i)}getEntries(r,i){return this.getAllFromCache(r,i)}apply(r){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(r)}assertNotApplied(){}}class jU{constructor(r,i){this.N=r,this.Ht=i}addEntry(r,i,o){return Yd(r).put(VD(i),o)}removeEntry(r,i){const o=Yd(r),c=VD(i);return o.delete(c)}updateMetadata(r,i){return this.getMetadata(r).next(o=>(o.byteSize+=i,this.Ae(r,o)))}getEntry(r,i){return Yd(r).get(VD(i)).next(o=>this.Re(i,o))}Pe(r,i){return Yd(r).get(VD(i)).next(o=>({document:this.Re(i,o),size:FD(o)}))}getEntries(r,i){let o=Lo();return this.be(r,i,(c,d)=>{const m=this.Re(c,d);o=o.insert(c,m)}).next(()=>o)}ve(r,i){let o=Lo(),c=new Wr(se.comparator);return this.be(r,i,(d,m)=>{const v=this.Re(d,m);o=o.insert(d,v),c=c.insert(d,FD(m))}).next(()=>({documents:o,Ve:c}))}be(r,i,o){if(i.isEmpty())return Fe.resolve();const c=IDBKeyRange.bound(i.first().path.toArray(),i.last().path.toArray()),d=i.getIterator();let m=d.getNext();return Yd(r).Kt({range:c},(v,S,D)=>{const x=se.fromSegments(v);for(;m&&se.comparator(m,x)<0;)o(m,null),m=d.getNext();m&&m.isEqual(x)&&(o(m,S),m=d.hasNext()?d.getNext():null),m?D.Mt(m.path.toArray()):D.done()}).next(()=>{for(;m;)o(m,null),m=d.hasNext()?d.getNext():null})}getDocumentsMatchingQuery(r,i,o){let c=Lo();const d=i.path.length+1,m={};if(o.isEqual(Ut.min())){const v=i.path.toArray();m.range=IDBKeyRange.lowerBound(v)}else{const v=i.path.toArray(),S=pk(o);m.range=IDBKeyRange.lowerBound([v,S],!0),m.index=cr.collectionReadTimeIndex}return Yd(r).Kt(m,(v,S,D)=>{if(v.length!==d)return;const x=fk(this.N,S);i.path.isPrefixOf(x.key.path)?Dw(i,x)&&(c=c.insert(x.key,x)):D.done()}).next(()=>c)}newChangeBuffer(r){return new HU(this,!!r&&r.trackRemovals)}getSize(r){return this.getMetadata(r).next(i=>i.byteSize)}getMetadata(r){return DL(r).get(Rl.key).next(i=>(At(!!i),i))}Ae(r,i){return DL(r).put(Rl.key,i)}Re(r,i){if(i){const o=fk(this.N,i);if(!o.isNoDocument()||!o.version.isEqual(Ut.min()))return o}return Zn.newInvalidDocument(r)}}class HU extends TL{constructor(r,i){super(),this.Se=r,this.trackRemovals=i,this.De=new ny(o=>o.toString(),(o,c)=>o.isEqual(c))}applyChanges(r){const i=[];let o=0,c=new lr((d,m)=>Xt(d.canonicalString(),m.canonicalString()));return this.changes.forEach((d,m)=>{const v=this.De.get(d);if(m.document.isValidDocument()){const S=pL(this.Se.N,m.document,this.getReadTime(d));c=c.add(d.path.popLast()),o+=FD(S)-v,i.push(this.Se.addEntry(r,d,S))}else if(o-=v,this.trackRemovals){const S=pL(this.Se.N,Zn.newNoDocument(d,Ut.min()),this.getReadTime(d));i.push(this.Se.addEntry(r,d,S))}else i.push(this.Se.removeEntry(r,d))}),c.forEach(d=>{i.push(this.Se.Ht.addToCollectionParentIndex(r,d))}),i.push(this.Se.updateMetadata(r,o)),Fe.waitFor(i)}getFromCache(r,i){return this.Se.Pe(r,i).next(o=>(this.De.set(i,o.size),o.document))}getAllFromCache(r,i){return this.Se.ve(r,i).next(({documents:o,Ve:c})=>(c.forEach((d,m)=>{this.De.set(d,m)}),o))}}function DL(s){return Us(s,Rl.store)}function Yd(s){return Us(s,cr.store)}function VD(s){return s.path.toArray()}class GU{constructor(r){this.N=r}Ct(r,i,o,c){At(o<c&&o>=0&&c<=11);const d=new PD("createOrUpgrade",i);var v;o<1&&c>=1&&(r.createObjectStore(go.store),(v=r).createObjectStore(zd.store,{keyPath:zd.keyPath}),v.createObjectStore(Bn.store,{keyPath:Bn.keyPath,autoIncrement:!0}).createIndex(Bn.userMutationsIndex,Bn.userMutationsKeyPath,{unique:!0}),v.createObjectStore(zi.store),AL(r),function(v){v.createObjectStore(cr.store)}(r));let m=Fe.resolve();return o<3&&c>=3&&(0!==o&&(function(v){v.deleteObjectStore(Si.store),v.deleteObjectStore(Bs.store),v.deleteObjectStore(mo.store)}(r),AL(r)),m=m.next(()=>function(v){const S=v.store(mo.store),D=new mo(0,0,Ut.min().toTimestamp(),0);return S.put(mo.key,D)}(d))),o<4&&c>=4&&(0!==o&&(m=m.next(()=>function(v,S){return S.store(Bn.store).Lt().next(D=>{v.deleteObjectStore(Bn.store),v.createObjectStore(Bn.store,{keyPath:Bn.keyPath,autoIncrement:!0}).createIndex(Bn.userMutationsIndex,Bn.userMutationsKeyPath,{unique:!0});const x=S.store(Bn.store),k=D.map(j=>x.put(j));return Fe.waitFor(k)})}(r,d))),m=m.next(()=>{!function(v){v.createObjectStore(lu.store,{keyPath:lu.keyPath})}(r)})),o<5&&c>=5&&(m=m.next(()=>this.Ce(d))),o<6&&c>=6&&(m=m.next(()=>(function(v){v.createObjectStore(Rl.store)}(r),this.Ne(d)))),o<7&&c>=7&&(m=m.next(()=>this.xe(d))),o<8&&c>=8&&(m=m.next(()=>this.ke(r,d))),o<9&&c>=9&&(m=m.next(()=>{(function(v){v.objectStoreNames.contains("remoteDocumentChanges")&&v.deleteObjectStore("remoteDocumentChanges")})(r),function(v){const S=v.objectStore(cr.store);S.createIndex(cr.readTimeIndex,cr.readTimeIndexPath,{unique:!1}),S.createIndex(cr.collectionReadTimeIndex,cr.collectionReadTimeIndexPath,{unique:!1})}(i)})),o<10&&c>=10&&(m=m.next(()=>this.$e(d))),o<11&&c>=11&&(m=m.next(()=>{(function(v){v.createObjectStore(Y_.store,{keyPath:Y_.keyPath})})(r),function(v){v.createObjectStore(K_.store,{keyPath:K_.keyPath})}(r)})),m}Ne(r){let i=0;return r.store(cr.store).Kt((o,c)=>{i+=FD(c)}).next(()=>{const o=new Rl(i);return r.store(Rl.store).put(Rl.key,o)})}Ce(r){const i=r.store(zd.store),o=r.store(Bn.store);return i.Lt().next(c=>Fe.forEach(c,d=>{const m=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return o.Lt(Bn.userMutationsIndex,m).next(v=>Fe.forEach(v,S=>{At(S.userId===d.userId);const D=X_(this.N,S);return EL(r,d.userId,D).next(()=>{})}))}))}xe(r){const i=r.store(Si.store),o=r.store(cr.store);return r.store(mo.store).get(mo.key).next(c=>{const d=[];return o.Kt((m,v)=>{const S=new u(m),D=[0,wa(S)];d.push(i.get(D).next(x=>x?Fe.resolve():i.put(new Si(0,wa(S),c.highestListenSequenceNumber))))}).next(()=>Fe.waitFor(d))})}ke(r,i){r.createObjectStore(Rp.store,{keyPath:Rp.keyPath});const o=i.store(Rp.store),c=new mk,d=m=>{if(c.add(m)){const v=m.lastSegment(),S=m.popLast();return o.put({collectionId:v,parent:wa(S)})}};return i.store(cr.store).Kt({qt:!0},(m,v)=>{const S=new u(m);return d(S.popLast())}).next(()=>i.store(zi.store).Kt({qt:!0},([m,v,S],D)=>{const x=au(v);return d(x.popLast())}))}$e(r){const i=r.store(Bs.store);return i.Kt((o,c)=>{const d=Lw(c),m=mL(this.N,d);return i.put(m)})}}function AL(s){s.createObjectStore(Si.store,{keyPath:Si.keyPath}).createIndex(Si.documentTargetsIndex,Si.documentTargetsKeyPath,{unique:!0}),s.createObjectStore(Bs.store,{keyPath:Bs.keyPath}).createIndex(Bs.queryTargetsIndexName,Bs.queryTargetsKeyPath,{unique:!0}),s.createObjectStore(mo.store)}const vk="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class bk{constructor(r,i,o,c,d,m,v,S,D,x){if(this.allowTabSynchronization=r,this.persistenceKey=i,this.clientId=o,this.Oe=d,this.window=m,this.document=v,this.Fe=D,this.Me=x,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=k=>Promise.resolve(),!bk.Pt())throw new Pe(Se.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new UU(this,c),this.We=i+"main",this.N=new fL(S),this.Ge=new Ca(this.We,11,new GU(this.N)),this.ze=new FU(this.referenceDelegate,this.N),this.Ht=new PU,this.He=new jU(this.N,this.Ht),this.Je=new kU,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===x&&Xn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Pe(Se.FAILED_PRECONDITION,vk);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",r=>this.ze.getHighestSequenceNumber(r))}).then(r=>{this.Le=new cs(r,this.Fe)}).then(()=>{this.Be=!0}).catch(r=>(this.Ge&&this.Ge.close(),Promise.reject(r)))}nn(r){var i=this;return this.Qe=function(){var o=(0,ke.Z)(function*(c){if(i.started)return r(c)});return function(c){return o.apply(this,arguments)}}(),r(this.isPrimary)}setDatabaseDeletedListener(r){this.Ge.xt(function(){var i=(0,ke.Z)(function*(o){null===o.newVersion&&(yield r())});return function(o){return i.apply(this,arguments)}}())}setNetworkEnabled(r){var i=this;this.networkEnabled!==r&&(this.networkEnabled=r,this.Oe.enqueueAndForget((0,ke.Z)(function*(){i.started&&(yield i.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",r=>BD(r).put(new lu(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(r).next(i=>{i||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(r)).next(i=>this.isPrimary&&!i?this.on(r).next(()=>!1):!!i&&this.an(r).next(()=>!0))).catch(r=>{if(Op(r))return He("IndexedDbPersistence","Failed to extend owner lease: ",r),this.isPrimary;if(!this.allowTabSynchronization)throw r;return He("IndexedDbPersistence","Releasing owner lease after error during lease refresh",r),!1}).then(r=>{this.isPrimary!==r&&this.Oe.enqueueRetryable(()=>this.Qe(r)),this.isPrimary=r})}sn(r){return Vw(r).get(go.key).next(i=>Fe.resolve(this.cn(i)))}un(r){return BD(r).delete(this.clientId)}hn(){var r=this;return(0,ke.Z)(function*(){if(r.isPrimary&&!r.ln(r.je,18e5)){r.je=Date.now();const i=yield r.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const c=Us(o,lu.store);return c.Lt().next(d=>{const m=r.fn(d,18e5),v=d.filter(S=>-1===m.indexOf(S));return Fe.forEach(v,S=>c.delete(S.clientId)).next(()=>v)})}).catch(()=>[]);if(r.Ye)for(const o of i)r.Ye.removeItem(r.dn(o.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(r){return!!r&&r.ownerId===this.clientId}rn(r){return this.Me?Fe.resolve(!0):Vw(r).get(go.key).next(i=>{if(null!==i&&this.ln(i.leaseTimestampMs,5e3)&&!this.wn(i.ownerId)){if(this.cn(i)&&this.networkEnabled)return!0;if(!this.cn(i)){if(!i.allowTabSynchronization)throw new Pe(Se.FAILED_PRECONDITION,vk);return!1}}return!(!this.networkEnabled||!this.inForeground)||BD(r).Lt().next(o=>void 0===this.fn(o,5e3).find(c=>{if(this.clientId!==c.clientId){const m=!this.inForeground&&c.inForeground,v=this.networkEnabled===c.networkEnabled;if(!this.networkEnabled&&c.networkEnabled||m&&v)return!0}return!1}))}).next(i=>(this.isPrimary!==i&&He("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){var r=this;return(0,ke.Z)(function*(){r.Be=!1,r._n(),r.Ke&&(r.Ke.cancel(),r.Ke=null),r.mn(),r.gn(),yield r.Ge.runTransaction("shutdown","readwrite",[go.store,lu.store],i=>{const o=new hL(i,cs.T);return r.on(o).next(()=>r.un(o))}),r.Ge.close(),r.yn()})()}fn(r,i){return r.filter(o=>this.ln(o.updateTimeMs,i)&&!this.wn(o.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",r=>BD(r).Lt().next(i=>this.fn(i,18e5).map(o=>o.clientId)))}get started(){return this.Be}getMutationQueue(r){return _k.Yt(r,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(r,i,o){let d;return He("IndexedDbPersistence","Starting transaction:",r),this.Ge.runTransaction(r,"readonly"===i?"readonly":"readwrite",xU,m=>(d=new hL(m,this.Le?this.Le.next():cs.T),"readwrite-primary"===i?this.sn(d).next(v=>!!v||this.rn(d)).next(v=>{if(!v)throw Xn(`Failed to obtain primary lease for action '${r}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Pe(Se.FAILED_PRECONDITION,cL);return o(d)}).next(v=>this.an(d).next(()=>v)):this.En(d).next(()=>o(d)))).then(m=>(d.raiseOnCommittedEvent(),m))}En(r){return Vw(r).get(go.key).next(i=>{if(null!==i&&this.ln(i.leaseTimestampMs,5e3)&&!this.wn(i.ownerId)&&!this.cn(i)&&!(this.Me||this.allowTabSynchronization&&i.allowTabSynchronization))throw new Pe(Se.FAILED_PRECONDITION,vk)})}an(r){const i=new go(this.clientId,this.allowTabSynchronization,Date.now());return Vw(r).put(go.key,i)}static Pt(){return Ca.Pt()}on(r){const i=Vw(r);return i.get(go.key).next(o=>this.cn(o)?(He("IndexedDbPersistence","Releasing primary lease."),i.delete(go.key)):Fe.resolve())}ln(r,i){const o=Date.now();return!(r<o-i||r>o&&(Xn(`Detected an update time that is in the future: ${r} > ${o}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var r;"function"==typeof(null===(r=this.window)||void 0===r?void 0:r.addEventListener)&&(this.Ue=()=>{this._n(),(0,un.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(r){var i;try{const o=null!==(null===(i=this.Ye)||void 0===i?void 0:i.getItem(this.dn(r)));return He("IndexedDbPersistence",`Client '${r}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Xn("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(r){Xn("Failed to set zombie client id.",r)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(r){}}dn(r){return`firestore_zombie_${this.persistenceKey}_${r}`}}function Vw(s){return Us(s,go.store)}function BD(s){return Us(s,lu.store)}function Ek(s,r){let i=s.projectId;return s.isDefaultDatabase||(i+="."+s.database),"firestore/"+r+"/"+i+"/"}class $U{constructor(r,i){this.progress=r,this.Tn=i}}class ML{constructor(r,i,o){this.He=r,this.In=i,this.Ht=o}An(r,i){return this.In.getAllMutationBatchesAffectingDocumentKey(r,i).next(o=>this.Rn(r,i,o))}Rn(r,i,o){return this.He.getEntry(r,i).next(c=>{for(const d of o)d.applyToLocalView(c);return c})}Pn(r,i){r.forEach((o,c)=>{for(const d of i)d.applyToLocalView(c)})}bn(r,i){return this.He.getEntries(r,i).next(o=>this.vn(r,o).next(()=>o))}vn(r,i){return this.In.getAllMutationBatchesAffectingDocumentKeys(r,i).next(o=>this.Pn(i,o))}getDocumentsMatchingQuery(r,i,o){return se.isDocumentKey((c=i).path)&&null===c.collectionGroup&&0===c.filters.length?this.Vn(r,i.path):rk(i)?this.Sn(r,i,o):this.Dn(r,i,o);var c}Vn(r,i){return this.An(r,new se(i)).next(o=>{let c=ak();return o.isFoundDocument()&&(c=c.insert(o.key,o)),c})}Sn(r,i,o){const c=i.collectionGroup;let d=ak();return this.Ht.getCollectionParents(r,c).next(m=>Fe.forEach(m,v=>{const S=(D=i,x=v.child(c),new ou(x,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt));var D,x;return this.Dn(r,S,o).next(D=>{D.forEach((x,k)=>{d=d.insert(x,k)})})}).next(()=>d))}Dn(r,i,o){let c,d;return this.He.getDocumentsMatchingQuery(r,i,o).next(m=>(c=m,this.In.getAllMutationBatchesAffectingQuery(r,i))).next(m=>(d=m,this.Cn(r,d,c).next(v=>{c=v;for(const S of d)for(const D of S.mutations){const x=D.key;let k=c.get(x);null==k&&(k=Zn.newInvalidDocument(x),c=c.insert(x,k)),sk(D,k,S.localWriteTime),k.isFoundDocument()||(c=c.remove(x))}}))).next(()=>(c.forEach((m,v)=>{Dw(i,v)||(c=c.remove(m))}),c))}Cn(r,i,o){let c=_n();for(const m of i)for(const v of m.mutations)v instanceof $d&&null===o.get(v.key)&&(c=c.add(v.key));let d=o;return this.He.getEntries(r,c).next(m=>(m.forEach((v,S)=>{S.isFoundDocument()&&(d=d.insert(v,S))}),d))}}class wk{constructor(r,i,o,c){this.targetId=r,this.fromCache=i,this.Nn=o,this.xn=c}static kn(r,i){let o=_n(),c=_n();for(const d of i.docChanges)switch(d.type){case 0:o=o.add(d.doc.key);break;case 1:c=c.add(d.doc.key)}return new wk(r,i.fromCache,o,c)}}class xL{$n(r){this.On=r}getDocumentsMatchingQuery(r,i,o,c){return 0===(d=i).filters.length&&null===d.limit&&null==d.startAt&&null==d.endAt&&(0===d.explicitOrderBy.length||1===d.explicitOrderBy.length&&d.explicitOrderBy[0].field.isKeyField())||o.isEqual(Ut.min())?this.Fn(r,i):this.On.bn(r,c).next(d=>{const m=this.Mn(i,d);return(TD(i)||DD(i))&&this.Ln(i.limitType,m,c,o)?this.Fn(r,i):(Cw()<=El.in.DEBUG&&He("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ik(i)),this.On.getDocumentsMatchingQuery(r,i,o).next(v=>(m.forEach(S=>{v=v.insert(S.key,S)}),v)))});var d}Mn(r,i){let o=new lr(IF(r));return i.forEach((c,d)=>{Dw(r,d)&&(o=o.add(d))}),o}Ln(r,i,o,c){if(o.size!==i.size)return!0;const d="F"===r?i.last():i.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(c)>0)}Fn(r,i){return Cw()<=El.in.DEBUG&&He("QueryEngine","Using full collection scan to execute query:",ik(i)),this.On.getDocumentsMatchingQuery(r,i,Ut.min())}}class zU{constructor(r,i,o,c){this.persistence=r,this.Bn=i,this.N=c,this.Un=new Wr(Xt),this.qn=new ny(d=>Sw(d),CD),this.Kn=Ut.min(),this.In=r.getMutationQueue(o),this.jn=r.getRemoteDocumentCache(),this.ze=r.getTargetCache(),this.Qn=new ML(this.jn,this.In,this.persistence.getIndexManager()),this.Je=r.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(r){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>r.collect(i,this.Un))}}function RL(s,r,i,o){return new zU(s,r,i,o)}function OL(s,r){return Ck.apply(this,arguments)}function Ck(){return(Ck=(0,ke.Z)(function*(s,r){const i=Ze(s);let o=i.In,c=i.Qn;const d=yield i.persistence.runTransaction("Handle user change","readonly",m=>{let v;return i.In.getAllMutationBatches(m).next(S=>(v=S,o=i.persistence.getMutationQueue(r),c=new ML(i.jn,o,i.persistence.getIndexManager()),o.getAllMutationBatches(m))).next(S=>{const D=[],x=[];let k=_n();for(const j of v){D.push(j.batchId);for(const H of j.mutations)k=k.add(H.key)}for(const j of S){x.push(j.batchId);for(const H of j.mutations)k=k.add(H.key)}return c.bn(m,k).next(j=>({Wn:j,removedBatchIds:D,addedBatchIds:x}))})});return i.In=o,i.Qn=c,i.Bn.$n(i.Qn),d})).apply(this,arguments)}function qU(s,r){const i=Ze(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const c=r.batch.keys(),d=i.jn.newChangeBuffer({trackRemovals:!0});return function(m,v,S,D){const x=S.batch,k=x.keys();let j=Fe.resolve();return k.forEach(H=>{j=j.next(()=>D.getEntry(v,H)).next(X=>{const ye=S.docVersions.get(H);At(null!==ye),X.version.compareTo(ye)<0&&(x.applyToRemoteDocument(X,S),X.isValidDocument()&&D.addEntry(X,S.commitVersion))})}),j.next(()=>m.In.removeMutationBatch(v,x))}(i,o,r,d).next(()=>d.apply(o)).next(()=>i.In.performConsistencyCheck(o)).next(()=>i.Qn.bn(o,c))})}function kL(s){const r=Ze(s);return r.persistence.runTransaction("Get last remote snapshot version","readonly",i=>r.ze.getLastRemoteSnapshotVersion(i))}function WU(s,r){const i=Ze(s),o=r.snapshotVersion;let c=i.Un;return i.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const m=i.jn.newChangeBuffer({trackRemovals:!0});c=i.Un;const v=[];r.targetChanges.forEach((D,x)=>{const k=c.get(x);if(!k)return;v.push(i.ze.removeMatchingKeys(d,D.removedDocuments,x).next(()=>i.ze.addMatchingKeys(d,D.addedDocuments,x)));const j=D.resumeToken;if(j.approximateByteSize()>0){const H=k.withResumeToken(j,o).withSequenceNumber(d.currentSequenceNumber);c=c.insert(x,H),X=k,Re=D,At((ye=H).resumeToken.approximateByteSize()>0),(0===X.resumeToken.approximateByteSize()||ye.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=3e8||Re.addedDocuments.size+Re.modifiedDocuments.size+Re.removedDocuments.size>0)&&v.push(i.ze.updateTargetData(d,H))}var X,ye,Re});let S=Lo();if(r.documentUpdates.forEach((D,x)=>{r.resolvedLimboDocuments.has(D)&&v.push(i.persistence.referenceDelegate.updateLimboDocument(d,D))}),v.push(NL(d,m,r.documentUpdates,o,void 0).next(D=>{S=D})),!o.isEqual(Ut.min())){const D=i.ze.getLastRemoteSnapshotVersion(d).next(x=>i.ze.setTargetsMetadata(d,d.currentSequenceNumber,o));v.push(D)}return Fe.waitFor(v).next(()=>m.apply(d)).next(()=>i.Qn.vn(d,S)).next(()=>S)}).then(d=>(i.Un=c,d))}function NL(s,r,i,o,c){let d=_n();return i.forEach(m=>d=d.add(m)),r.getEntries(s,d).next(m=>{let v=Lo();return i.forEach((S,D)=>{const x=m.get(S),k=(null==c?void 0:c.get(S))||o;D.isNoDocument()&&D.version.isEqual(Ut.min())?(r.removeEntry(S,k),v=v.insert(S,D)):!x.isValidDocument()||D.version.compareTo(x.version)>0||0===D.version.compareTo(x.version)&&x.hasPendingWrites?(r.addEntry(D,k),v=v.insert(S,D)):He("LocalStore","Ignoring outdated watch update for ",S,". Current version:",x.version," Watch version:",D.version)}),v})}function ZU(s,r){const i=Ze(s);return i.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===r&&(r=-1),i.In.getNextMutationBatchAfterBatchId(o,r)))}function ry(s,r){const i=Ze(s);return i.persistence.runTransaction("Allocate target","readwrite",o=>{let c;return i.ze.getTargetData(o,r).next(d=>d?(c=d,Fe.resolve(c)):i.ze.allocateTargetId(o).next(m=>(c=new qd(r,m,0,o.currentSequenceNumber),i.ze.addTargetData(o,c).next(()=>c))))}).then(o=>{const c=i.Un.get(o.targetId);return(null===c||o.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(i.Un=i.Un.insert(o.targetId,o),i.qn.set(r,o.targetId)),o})}function iy(s,r,i){return Sk.apply(this,arguments)}function Sk(){return(Sk=(0,ke.Z)(function*(s,r,i){const o=Ze(s),c=o.Un.get(r),d=i?"readwrite":"readwrite-primary";try{i||(yield o.persistence.runTransaction("Release target",d,m=>o.persistence.referenceDelegate.removeTarget(m,c)))}catch(m){if(!Op(m))throw m;He("LocalStore",`Failed to update sequence numbers for target ${r}: ${m}`)}o.Un=o.Un.remove(r),o.qn.delete(c.target)})).apply(this,arguments)}function UD(s,r,i){const o=Ze(s);let c=Ut.min(),d=_n();return o.persistence.runTransaction("Execute query","readonly",m=>function(v,S,D){const x=Ze(v),k=x.qn.get(D);return void 0!==k?Fe.resolve(x.Un.get(k)):x.ze.getTargetData(S,D)}(o,m,Fo(r)).next(v=>{if(v)return c=v.lastLimboFreeSnapshotVersion,o.ze.getMatchingKeysForTargetId(m,v.targetId).next(S=>{d=S})}).next(()=>o.Bn.getDocumentsMatchingQuery(m,r,i?c:Ut.min(),i?d:_n())).next(v=>({documents:v,Gn:d})))}function PL(s,r){const i=Ze(s),o=Ze(i.ze),c=i.Un.get(r);return c?Promise.resolve(c.target):i.persistence.runTransaction("Get target data","readonly",d=>o.Et(d,r).next(m=>m?m.target:null))}function FL(s){const r=Ze(s);return r.persistence.runTransaction("Get new document changes","readonly",i=>function(o,c,d){const m=Ze(o);let v=Lo(),S=pk(d);const D=Yd(c),x=IDBKeyRange.lowerBound(S,!0);return D.Kt({index:cr.readTimeIndex,range:x},(k,j)=>{const H=fk(m.N,j);v=v.insert(H.key,H),S=j.readTime}).next(()=>({Tn:v,readTime:gL(S)}))}(r.jn,i,r.Kn)).then(({Tn:i,readTime:o})=>(r.Kn=o,i))}function Ik(){return(Ik=(0,ke.Z)(function*(s){const r=Ze(s);return r.persistence.runTransaction("Synchronize last document change read time","readonly",i=>function(o){const c=Yd(o);let d=Ut.min();return c.Kt({index:cr.readTimeIndex,reverse:!0},(m,v,S)=>{v.readTime&&(d=gL(v.readTime)),S.done()}).next(()=>d)}(i)).then(i=>{r.Kn=i})})).apply(this,arguments)}function Tk(){return(Tk=(0,ke.Z)(function*(s,r,i,o){const c=Ze(s);let d=_n(),m=Lo(),v=HF();for(const x of i){const k=r.zn(x.metadata.name);x.document&&(d=d.add(k)),m=m.insert(k,r.Hn(x)),v=v.insert(k,r.Jn(x.metadata.readTime))}const S=c.jn.newChangeBuffer({trackRemovals:!0}),D=yield ry(c,(x=o,Fo(G_(u.fromString(`__bundle__/docs/${x}`)))));var x;return c.persistence.runTransaction("Apply bundle documents","readwrite",x=>NL(x,S,m,Ut.min(),v).next(k=>(S.apply(x),k)).next(k=>c.ze.removeMatchingKeysForTargetId(x,D.targetId).next(()=>c.ze.addMatchingKeys(x,d,D.targetId)).next(()=>c.Qn.vn(x,k)).next(()=>k)))})).apply(this,arguments)}function QU(s,r){return Dk.apply(this,arguments)}function Dk(){return(Dk=(0,ke.Z)(function*(s,r,i=_n()){const o=yield ry(s,Fo(gk(r.bundledQuery))),c=Ze(s);return c.persistence.runTransaction("Save named query","readwrite",d=>{const m=ci(r.readTime);if(o.snapshotVersion.compareTo(m)>=0)return c.Je.saveNamedQuery(d,r);const v=o.withResumeToken(w.EMPTY_BYTE_STRING,m);return c.Un=c.Un.insert(v.targetId,v),c.ze.updateTargetData(d,v).next(()=>c.ze.removeMatchingKeysForTargetId(d,o.targetId)).next(()=>c.ze.addMatchingKeys(d,i,o.targetId)).next(()=>c.Je.saveNamedQuery(d,r))})})).apply(this,arguments)}class JU{constructor(r){this.N=r,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(r,i){return Fe.resolve(this.Yn.get(i))}saveBundleMetadata(r,i){var o;return this.Yn.set(i.id,{id:(o=i).id,version:o.version,createTime:ci(o.createTime)}),Fe.resolve()}getNamedQuery(r,i){return Fe.resolve(this.Xn.get(i))}saveNamedQuery(r,i){return this.Xn.set(i.name,{name:(o=i).name,query:gk(o.bundledQuery),readTime:ci(o.readTime)}),Fe.resolve();var o}}class Ak{constructor(){this.Zn=new lr(ui.ts),this.es=new lr(ui.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(r,i){const o=new ui(r,i);this.Zn=this.Zn.add(o),this.es=this.es.add(o)}ss(r,i){r.forEach(o=>this.addReference(o,i))}removeReference(r,i){this.rs(new ui(r,i))}os(r,i){r.forEach(o=>this.removeReference(o,i))}cs(r){const i=new se(new u([])),o=new ui(i,r),c=new ui(i,r+1),d=[];return this.es.forEachInRange([o,c],m=>{this.rs(m),d.push(m.key)}),d}us(){this.Zn.forEach(r=>this.rs(r))}rs(r){this.Zn=this.Zn.delete(r),this.es=this.es.delete(r)}hs(r){const i=new se(new u([])),o=new ui(i,r),c=new ui(i,r+1);let d=_n();return this.es.forEachInRange([o,c],m=>{d=d.add(m.key)}),d}containsKey(r){const i=new ui(r,0),o=this.Zn.firstAfterOrEqual(i);return null!==o&&r.isEqual(o.key)}}class ui{constructor(r,i){this.key=r,this.ls=i}static ts(r,i){return se.comparator(r.key,i.key)||Xt(r.ls,i.ls)}static ns(r,i){return Xt(r.ls,i.ls)||se.comparator(r.key,i.key)}}class XU{constructor(r,i){this.Ht=r,this.referenceDelegate=i,this.In=[],this.fs=1,this.ds=new lr(ui.ts)}checkEmpty(r){return Fe.resolve(0===this.In.length)}addMutationBatch(r,i,o,c){const d=this.fs;this.fs++;const m=new dk(d,i,o,c);this.In.push(m);for(const v of c)this.ds=this.ds.add(new ui(v.key,d)),this.Ht.addToCollectionParentIndex(r,v.key.path.popLast());return Fe.resolve(m)}lookupMutationBatch(r,i){return Fe.resolve(this.ws(i))}getNextMutationBatchAfterBatchId(r,i){const c=this._s(i+1),d=c<0?0:c;return Fe.resolve(this.In.length>d?this.In[d]:null)}getHighestUnacknowledgedBatchId(){return Fe.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(r){return Fe.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(r,i){const o=new ui(i,0),c=new ui(i,Number.POSITIVE_INFINITY),d=[];return this.ds.forEachInRange([o,c],m=>{const v=this.ws(m.ls);d.push(v)}),Fe.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(r,i){let o=new lr(Xt);return i.forEach(c=>{const d=new ui(c,0),m=new ui(c,Number.POSITIVE_INFINITY);this.ds.forEachInRange([d,m],v=>{o=o.add(v.ls)})}),Fe.resolve(this.gs(o))}getAllMutationBatchesAffectingQuery(r,i){const o=i.path,c=o.length+1;let d=o;se.isDocumentKey(d)||(d=d.child(""));const m=new ui(new se(d),0);let v=new lr(Xt);return this.ds.forEachWhile(S=>{const D=S.key.path;return!!o.isPrefixOf(D)&&(D.length===c&&(v=v.add(S.ls)),!0)},m),Fe.resolve(this.gs(v))}gs(r){const i=[];return r.forEach(o=>{const c=this.ws(o);null!==c&&i.push(c)}),i}removeMutationBatch(r,i){At(0===this.ys(i.batchId,"removed")),this.In.shift();let o=this.ds;return Fe.forEach(i.mutations,c=>{const d=new ui(c.key,i.batchId);return o=o.delete(d),this.referenceDelegate.markPotentiallyOrphaned(r,c.key)}).next(()=>{this.ds=o})}te(r){}containsKey(r,i){const o=new ui(i,0),c=this.ds.firstAfterOrEqual(o);return Fe.resolve(i.isEqual(c&&c.key))}performConsistencyCheck(r){return Fe.resolve()}ys(r,i){return this._s(r)}_s(r){return 0===this.In.length?0:r-this.In[0].batchId}ws(r){const i=this._s(r);return i<0||i>=this.In.length?null:this.In[i]}}class ej{constructor(r,i){this.Ht=r,this.ps=i,this.docs=new Wr(se.comparator),this.size=0}addEntry(r,i,o){const c=i.key,d=this.docs.get(c),m=d?d.size:0,v=this.ps(i);return this.docs=this.docs.insert(c,{document:i.clone(),size:v,readTime:o}),this.size+=v-m,this.Ht.addToCollectionParentIndex(r,c.path.popLast())}removeEntry(r){const i=this.docs.get(r);i&&(this.docs=this.docs.remove(r),this.size-=i.size)}getEntry(r,i){const o=this.docs.get(i);return Fe.resolve(o?o.document.clone():Zn.newInvalidDocument(i))}getEntries(r,i){let o=Lo();return i.forEach(c=>{const d=this.docs.get(c);o=o.insert(c,d?d.document.clone():Zn.newInvalidDocument(c))}),Fe.resolve(o)}getDocumentsMatchingQuery(r,i,o){let c=Lo();const d=new se(i.path.child("")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:v,value:{document:S,readTime:D}}=m.getNext();if(!i.path.isPrefixOf(v.path))break;D.compareTo(o)<=0||Dw(i,S)&&(c=c.insert(S.key,S.clone()))}return Fe.resolve(c)}Es(r,i){return Fe.forEach(this.docs,o=>i(o))}newChangeBuffer(r){return new tj(this)}getSize(r){return Fe.resolve(this.size)}}class tj extends TL{constructor(r){super(),this.Se=r}applyChanges(r){const i=[];return this.changes.forEach((o,c)=>{c.document.isValidDocument()?i.push(this.Se.addEntry(r,c.document,this.getReadTime(o))):this.Se.removeEntry(o)}),Fe.waitFor(i)}getFromCache(r,i){return this.Se.getEntry(r,i)}getAllFromCache(r,i){return this.Se.getEntries(r,i)}}class nj{constructor(r){this.persistence=r,this.Ts=new ny(i=>Sw(i),CD),this.lastRemoteSnapshotVersion=Ut.min(),this.highestTargetId=0,this.Is=0,this.As=new Ak,this.targetCount=0,this.Rs=Np.se()}forEachTarget(r,i){return this.Ts.forEach((o,c)=>i(c)),Fe.resolve()}getLastRemoteSnapshotVersion(r){return Fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(r){return Fe.resolve(this.Is)}allocateTargetId(r){return this.highestTargetId=this.Rs.next(),Fe.resolve(this.highestTargetId)}setTargetsMetadata(r,i,o){return o&&(this.lastRemoteSnapshotVersion=o),i>this.Is&&(this.Is=i),Fe.resolve()}ae(r){this.Ts.set(r.target,r);const i=r.targetId;i>this.highestTargetId&&(this.Rs=new Np(i),this.highestTargetId=i),r.sequenceNumber>this.Is&&(this.Is=r.sequenceNumber)}addTargetData(r,i){return this.ae(i),this.targetCount+=1,Fe.resolve()}updateTargetData(r,i){return this.ae(i),Fe.resolve()}removeTargetData(r,i){return this.Ts.delete(i.target),this.As.cs(i.targetId),this.targetCount-=1,Fe.resolve()}removeTargets(r,i,o){let c=0;const d=[];return this.Ts.forEach((m,v)=>{v.sequenceNumber<=i&&null===o.get(v.targetId)&&(this.Ts.delete(m),d.push(this.removeMatchingKeysForTargetId(r,v.targetId)),c++)}),Fe.waitFor(d).next(()=>c)}getTargetCount(r){return Fe.resolve(this.targetCount)}getTargetData(r,i){const o=this.Ts.get(i)||null;return Fe.resolve(o)}addMatchingKeys(r,i,o){return this.As.ss(i,o),Fe.resolve()}removeMatchingKeys(r,i,o){this.As.os(i,o);const c=this.persistence.referenceDelegate,d=[];return c&&i.forEach(m=>{d.push(c.markPotentiallyOrphaned(r,m))}),Fe.waitFor(d)}removeMatchingKeysForTargetId(r,i){return this.As.cs(i),Fe.resolve()}getMatchingKeysForTargetId(r,i){const o=this.As.hs(i);return Fe.resolve(o)}containsKey(r,i){return Fe.resolve(this.As.containsKey(i))}}class rj{constructor(r,i){this.Ps={},this.Le=new cs(0),this.Be=!1,this.Be=!0,this.referenceDelegate=r(this),this.ze=new nj(this),this.Ht=new NU,this.He=new ej(this.Ht,o=>this.referenceDelegate.bs(o)),this.N=new fL(i),this.Je=new JU(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(r){let i=this.Ps[r.toKey()];return i||(i=new XU(this.Ht,this.referenceDelegate),this.Ps[r.toKey()]=i),i}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(r,i,o){He("MemoryPersistence","Starting transaction:",r);const c=new ij(this.Le.next());return this.referenceDelegate.vs(),o(c).next(d=>this.referenceDelegate.Vs(c).next(()=>d)).toPromise().then(d=>(c.raiseOnCommittedEvent(),d))}Ss(r,i){return Fe.or(Object.values(this.Ps).map(o=>()=>o.containsKey(r,i)))}}class ij extends uL{constructor(r){super(),this.currentSequenceNumber=r}}class Mk{constructor(r){this.persistence=r,this.Ds=new Ak,this.Cs=null}static Ns(r){return new Mk(r)}get xs(){if(this.Cs)return this.Cs;throw lt()}addReference(r,i,o){return this.Ds.addReference(o,i),this.xs.delete(o.toString()),Fe.resolve()}removeReference(r,i,o){return this.Ds.removeReference(o,i),this.xs.add(o.toString()),Fe.resolve()}markPotentiallyOrphaned(r,i){return this.xs.add(i.toString()),Fe.resolve()}removeTarget(r,i){this.Ds.cs(i.targetId).forEach(c=>this.xs.add(c.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(r,i.targetId).next(c=>{c.forEach(d=>this.xs.add(d.toString()))}).next(()=>o.removeTargetData(r,i))}vs(){this.Cs=new Set}Vs(r){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Fe.forEach(this.xs,o=>{const c=se.fromPath(o);return this.ks(r,c).next(d=>{d||i.removeEntry(c)})}).next(()=>(this.Cs=null,i.apply(r)))}updateLimboDocument(r,i){return this.ks(r,i).next(o=>{o?this.xs.delete(i.toString()):this.xs.add(i.toString())})}bs(r){return 0}ks(r,i){return Fe.or([()=>Fe.resolve(this.Ds.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(r,i),()=>this.persistence.Ss(r,i)])}}function LL(s,r){return`firestore_clients_${s}_${r}`}function VL(s,r,i){let o=`firestore_mutations_${s}_${i}`;return r.isAuthenticated()&&(o+=`_${r.uid}`),o}function xk(s,r){return`firestore_targets_${s}_${r}`}class jD{constructor(r,i,o,c){this.user=r,this.batchId=i,this.state=o,this.error=c}static $s(r,i,o){const c=JSON.parse(o);let d,m="object"==typeof c&&-1!==["pending","acknowledged","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return m&&c.error&&(m="string"==typeof c.error.message&&"string"==typeof c.error.code,m&&(d=new Pe(c.error.code,c.error.message))),m?new jD(r,i,c.state,d):(Xn("SharedClientState",`Failed to parse mutation state for ID '${i}': ${o}`),null)}Os(){const r={state:this.state,updateTimeMs:Date.now()};return this.error&&(r.error={code:this.error.code,message:this.error.message}),JSON.stringify(r)}}class Bw{constructor(r,i,o){this.targetId=r,this.state=i,this.error=o}static $s(r,i){const o=JSON.parse(i);let c,d="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return d&&o.error&&(d="string"==typeof o.error.message&&"string"==typeof o.error.code,d&&(c=new Pe(o.error.code,o.error.message))),d?new Bw(r,o.state,c):(Xn("SharedClientState",`Failed to parse target state for ID '${r}': ${i}`),null)}Os(){const r={state:this.state,updateTimeMs:Date.now()};return this.error&&(r.error={code:this.error.code,message:this.error.message}),JSON.stringify(r)}}class HD{constructor(r,i){this.clientId=r,this.activeTargetIds=i}static $s(r,i){const o=JSON.parse(i);let c="object"==typeof o&&o.activeTargetIds instanceof Array,d=OD();for(let m=0;c&&m<o.activeTargetIds.length;++m)c=Le(o.activeTargetIds[m]),d=d.add(o.activeTargetIds[m]);return c?new HD(r,d):(Xn("SharedClientState",`Failed to parse client data for instance '${r}': ${i}`),null)}}class Rk{constructor(r,i){this.clientId=r,this.onlineState=i}static $s(r){const i=JSON.parse(r);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new Rk(i.clientId,i.onlineState):(Xn("SharedClientState",`Failed to parse online state: ${r}`),null)}}class Ok{constructor(){this.activeTargetIds=OD()}Fs(r){this.activeTargetIds=this.activeTargetIds.add(r)}Ms(r){this.activeTargetIds=this.activeTargetIds.delete(r)}Os(){const r={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(r)}}class kk{constructor(r,i,o,c,d){this.window=r,this.Oe=i,this.persistenceKey=o,this.Ls=c,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new Wr(Xt),this.started=!1,this.Ks=[];const m=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.js=LL(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new Ok),this.Ws=new RegExp(`^firestore_clients_${m}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${m}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${m}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(v){return`firestore_bundle_loaded_${v}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static Pt(r){return!(!r||!r.localStorage)}start(){var r=this;return(0,ke.Z)(function*(){const i=yield r.syncEngine.pn();for(const c of i){if(c===r.Ls)continue;const d=r.getItem(LL(r.persistenceKey,c));if(d){const m=HD.$s(c,d);m&&(r.qs=r.qs.insert(m.clientId,m))}}r.Ys();const o=r.storage.getItem(r.Hs);if(o){const c=r.Xs(o);c&&r.Zs(c)}for(const c of r.Ks)r.Us(c);r.Ks=[],r.window.addEventListener("pagehide",()=>r.shutdown()),r.started=!0})()}writeSequenceNumber(r){this.setItem(this.Qs,JSON.stringify(r))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(r){let i=!1;return this.qs.forEach((o,c)=>{c.activeTargetIds.has(r)&&(i=!0)}),i}addPendingMutation(r){this.ei(r,"pending")}updateMutationState(r,i,o){this.ei(r,i,o),this.ni(r)}addLocalQueryTarget(r){let i="not-current";if(this.isActiveQueryTarget(r)){const o=this.storage.getItem(xk(this.persistenceKey,r));if(o){const c=Bw.$s(r,o);c&&(i=c.state)}}return this.si.Fs(r),this.Ys(),i}removeLocalQueryTarget(r){this.si.Ms(r),this.Ys()}isLocalQueryTarget(r){return this.si.activeTargetIds.has(r)}clearQueryState(r){this.removeItem(xk(this.persistenceKey,r))}updateQueryState(r,i,o){this.ii(r,i,o)}handleUserChange(r,i,o){i.forEach(c=>{this.ni(c)}),this.currentUser=r,o.forEach(c=>{this.addPendingMutation(c)})}setOnlineState(r){this.ri(r)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(r){const i=this.storage.getItem(r);return He("SharedClientState","READ",r,i),i}setItem(r,i){He("SharedClientState","SET",r,i),this.storage.setItem(r,i)}removeItem(r){He("SharedClientState","REMOVE",r),this.storage.removeItem(r)}Us(r){var i=this;const o=r;if(o.storageArea===this.storage){if(He("SharedClientState","EVENT",o.key,o.newValue),o.key===this.js)return void Xn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,ke.Z)(function*(){if(i.started){if(null!==o.key)if(i.Ws.test(o.key)){if(null==o.newValue){const c=i.ai(o.key);return i.ci(c,null)}{const c=i.ui(o.key,o.newValue);if(c)return i.ci(c.clientId,c)}}else if(i.Gs.test(o.key)){if(null!==o.newValue){const c=i.hi(o.key,o.newValue);if(c)return i.li(c)}}else if(i.zs.test(o.key)){if(null!==o.newValue){const c=i.fi(o.key,o.newValue);if(c)return i.di(c)}}else if(o.key===i.Hs){if(null!==o.newValue){const c=i.Xs(o.newValue);if(c)return i.Zs(c)}}else if(o.key===i.Qs){const c=function(d){let m=cs.T;if(null!=d)try{const v=JSON.parse(d);At("number"==typeof v),m=v}catch(v){Xn("SharedClientState","Failed to read sequence number from WebStorage",v)}return m}(o.newValue);c!==cs.T&&i.sequenceNumberHandler(c)}else if(o.key===i.Js)return i.syncEngine.wi()}else i.Ks.push(o)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(r,i,o){const c=new jD(this.currentUser,r,i,o),d=VL(this.persistenceKey,this.currentUser,r);this.setItem(d,c.Os())}ni(r){const i=VL(this.persistenceKey,this.currentUser,r);this.removeItem(i)}ri(r){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:r}))}ii(r,i,o){const c=xk(this.persistenceKey,r),d=new Bw(r,i,o);this.setItem(c,d.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(r){const i=this.Ws.exec(r);return i?i[1]:null}ui(r,i){const o=this.ai(r);return HD.$s(o,i)}hi(r,i){const o=this.Gs.exec(r),c=Number(o[1]);return jD.$s(new ar(void 0!==o[2]?o[2]:null),c,i)}fi(r,i){const o=this.zs.exec(r),c=Number(o[1]);return Bw.$s(c,i)}Xs(r){return Rk.$s(r)}li(r){var i=this;return(0,ke.Z)(function*(){if(r.user.uid===i.currentUser.uid)return i.syncEngine._i(r.batchId,r.state,r.error);He("SharedClientState",`Ignoring mutation for non-active user ${r.user.uid}`)})()}di(r){return this.syncEngine.mi(r.targetId,r.state,r.error)}ci(r,i){const o=i?this.qs.insert(r,i):this.qs.remove(r),c=this.ti(this.qs),d=this.ti(o),m=[],v=[];return d.forEach(S=>{c.has(S)||m.push(S)}),c.forEach(S=>{d.has(S)||v.push(S)}),this.syncEngine.gi(m,v).then(()=>{this.qs=o})}Zs(r){this.qs.get(r.clientId)&&this.onlineStateHandler(r.onlineState)}ti(r){let i=OD();return r.forEach((o,c)=>{i=i.unionWith(c.activeTargetIds)}),i}}class BL{constructor(){this.yi=new Ok,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(r){}updateMutationState(r,i,o){}addLocalQueryTarget(r){return this.yi.Fs(r),this.pi[r]||"not-current"}updateQueryState(r,i,o){this.pi[r]=i}removeLocalQueryTarget(r){this.yi.Ms(r)}isLocalQueryTarget(r){return this.yi.activeTargetIds.has(r)}clearQueryState(r){delete this.pi[r]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(r){return this.yi.activeTargetIds.has(r)}start(){return this.yi=new Ok,Promise.resolve()}handleUserChange(r,i,o){}setOnlineState(r){}shutdown(){}writeSequenceNumber(r){}notifyBundleLoaded(){}}class sj{Ei(r){}shutdown(){}}class UL{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.Pi=[],this.bi()}Ei(r){this.Pi.push(r)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}bi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){He("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const r of this.Pi)r(0)}Ri(){He("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const r of this.Pi)r(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const oj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class aj{constructor(r){this.vi=r.vi,this.Vi=r.Vi}Si(r){this.Di=r}Ci(r){this.Ni=r}onMessage(r){this.xi=r}close(){this.Vi()}send(r){this.vi(r)}ki(){this.Di()}$i(r){this.Ni(r)}Oi(r){this.xi(r)}}class lj extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId,this.Fi=(r.ssl?"https":"http")+"://"+r.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(r,i,o,c){const d=this.Bi(r,i);He("RestConnection","Sending: ",d,o);const m={};return this.Ui(m,c),this.qi(r,d,m,o).then(v=>(He("RestConnection","Received: ",v),v),v=>{throw jd("RestConnection",`${r} failed with error: `,v,"url: ",d,"request:",o),v})}Ki(r,i,o,c){return this.Li(r,i,o,c)}Ui(r,i){if(r["X-Goog-Api-Client"]="gl-js/ fire/"+po,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),i)for(const o in i.authHeaders)i.authHeaders.hasOwnProperty(o)&&(r[o]=i.authHeaders[o])}Bi(r,i){return`${this.Fi}/v1/${i}:${oj[r]}`}}{constructor(r){super(r),this.forceLongPolling=r.forceLongPolling,this.autoDetectLongPolling=r.autoDetectLongPolling,this.useFetchStreams=r.useFetchStreams}qi(r,i,o,c){return new Promise((d,m)=>{const v=new Po;v.listenOnce(bw.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case L_.NO_ERROR:const D=v.getResponseJson();He("Connection","XHR received:",JSON.stringify(D)),d(D);break;case L_.TIMEOUT:He("Connection",'RPC "'+r+'" timed out'),m(new Pe(Se.DEADLINE_EXCEEDED,"Request time out"));break;case L_.HTTP_ERROR:const x=v.getStatus();if(He("Connection",'RPC "'+r+'" failed with status:',x,"response text:",v.getResponseText()),x>0){const k=v.getResponseJson().error;if(k&&k.status&&k.message){const j=function(H){const X=H.toLowerCase().replace(/_/g,"-");return Object.values(Se).indexOf(X)>=0?X:Se.UNKNOWN}(k.status);m(new Pe(j,k.message))}else m(new Pe(Se.UNKNOWN,"Server responded with status "+v.getStatus()))}else m(new Pe(Se.UNAVAILABLE,"Connection failed."));break;default:lt()}}finally{He("Connection",'RPC "'+r+'" completed.')}});const S=JSON.stringify(c);v.send(i,"POST",S,o,15)})}ji(r,i){const o=[this.Fi,"/","google.firestore.v1.Firestore","/",r,"/channel"],c=new fo,d=Rd(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new bD({})),this.Ui(m.initMessageHeaders,i),(0,un.uI)()||(0,un.b$)()||(0,un.d)()||(0,un.w1)()||(0,un.Mn)()||(0,un.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const v=o.join("");He("Connection","Creating WebChannel: "+v,m);const S=c.createWebChannel(v,m);let D=!1,x=!1;const k=new aj({vi:H=>{x?He("Connection","Not sending because WebChannel is closed:",H):(D||(He("Connection","Opening WebChannel transport."),S.open(),D=!0),He("Connection","WebChannel sending:",H),S.send(H))},Vi:()=>S.close()}),j=(H,X,ye)=>{H.listen(X,Re=>{try{ye(Re)}catch(Ge){setTimeout(()=>{throw Ge},0)}})};return j(S,Ip.EventType.OPEN,()=>{x||He("Connection","WebChannel transport opened.")}),j(S,Ip.EventType.CLOSE,()=>{x||(x=!0,He("Connection","WebChannel transport closed"),k.$i())}),j(S,Ip.EventType.ERROR,H=>{x||(x=!0,jd("Connection","WebChannel transport errored:",H),k.$i(new Pe(Se.UNAVAILABLE,"The operation could not be completed")))}),j(S,Ip.EventType.MESSAGE,H=>{var X;if(!x){const ye=H.data[0];At(!!ye);const Re=ye,Ge=Re.error||(null===(X=Re[0])||void 0===X?void 0:X.error);if(Ge){He("Connection","WebChannel received error:",Ge);const Ye=Ge.status;let Qe=function(pn){const Ii=xr[pn];if(void 0!==Ii)return UF(Ii)}(Ye),mt=Ge.message;void 0===Qe&&(Qe=Se.INTERNAL,mt="Unknown error status: "+Ye+" with message "+Ge.message),x=!0,k.$i(new Pe(Qe,mt)),S.close()}else He("Connection","WebChannel received:",ye),k.Oi(ye)}}),j(d,Ew.STAT_EVENT,H=>{H.stat===ww_PROXY?He("Connection","Detected buffering proxy"):H.stat===ww_NOPROXY&&He("Connection","Detected no buffering proxy")}),setTimeout(()=>{k.ki()},0),k}}function jL(){return"undefined"!=typeof window?window:null}function GD(){return"undefined"!=typeof document?document:null}function Uw(s){return new gU(s,!0)}class Nk{constructor(r,i,o=1e3,c=1.5,d=6e4){this.Oe=r,this.timerId=i,this.Qi=o,this.Wi=c,this.Gi=d,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(r){this.cancel();const i=Math.floor(this.zi+this.Zi()),o=Math.max(0,Date.now()-this.Ji),c=Math.max(0,i-o);c>0&&He("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.zi} ms, delay with jitter: ${i} ms, last attempt: ${o} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,c,()=>(this.Ji=Date.now(),r())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class HL{constructor(r,i,o,c,d,m){this.Oe=r,this.er=o,this.nr=c,this.credentialsProvider=d,this.listener=m,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new Nk(r,i)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var r=this;return(0,ke.Z)(function*(){r.ar()&&(yield r.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(r){this._r(),this.stream.send(r)}dr(){var r=this;return(0,ke.Z)(function*(){if(r.cr())return r.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(r,i){var o=this;return(0,ke.Z)(function*(){o._r(),o.rr.cancel(),o.sr++,3!==r?o.rr.reset():i&&i.code===Se.RESOURCE_EXHAUSTED?(Xn(i.toString()),Xn("Using maximum backoff delay to prevent overloading the backend."),o.rr.Yi()):i&&i.code===Se.UNAUTHENTICATED&&o.credentialsProvider.invalidateToken(),null!==o.stream&&(o.mr(),o.stream.close(),o.stream=null),o.state=r,yield o.listener.Ci(i)})()}mr(){}auth(){this.state=1;const r=this.gr(this.sr),i=this.sr;this.credentialsProvider.getToken().then(o=>{this.sr===i&&this.yr(o)},o=>{r(()=>{const c=new Pe(Se.UNKNOWN,"Fetching auth token failed: "+o.message);return this.pr(c)})})}yr(r){const i=this.gr(this.sr);this.stream=this.Er(r),this.stream.Si(()=>{i(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(o=>{i(()=>this.pr(o))}),this.stream.onMessage(o=>{i(()=>this.onMessage(o))})}ur(){var r=this;this.state=4,this.rr.Xi((0,ke.Z)(function*(){r.state=0,r.start()}))}pr(r){return He("PersistentStream",`close with error: ${r}`),this.stream=null,this.close(3,r)}gr(r){return i=>{this.Oe.enqueueAndForget(()=>this.sr===r?i():(He("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class cj extends HL{constructor(r,i,o,c,d){super(r,"listen_stream_connection_backoff","listen_stream_idle",i,o,d),this.N=c}Er(r){return this.nr.ji("Listen",r)}onMessage(r){this.rr.reset();const i=function(s,r){let i;if("targetChange"in r){const o="NO_CHANGE"===(S=r.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===S?1:"REMOVE"===S?2:"CURRENT"===S?3:"RESET"===S?4:lt(),c=r.targetChange.targetIds||[],d=function(S,D){return S.D?(At(void 0===D||"string"==typeof D),w.fromBase64String(D||"")):(At(void 0===D||D instanceof Uint8Array),w.fromUint8Array(D||new Uint8Array))}(s,r.targetChange.resumeToken),m=r.targetChange.cause,v=m&&function(S){const D=void 0===S.code?Se.UNKNOWN:UF(S.code);return new Pe(D,S.message||"")}(m);i=new $F(o,c,d,v||null)}else if("documentChange"in r){const o=r.documentChange,c=xl(s,o.document.name),d=ci(o.document.updateTime),m=new $i({mapValue:{fields:o.document.fields}}),v=Zn.newFoundDocument(c,d,m);i=new kD(o.targetIds||[],o.removedTargetIds||[],v.key,v)}else if("documentDelete"in r){const o=r.documentDelete,c=xl(s,o.document),d=o.readTime?ci(o.readTime):Ut.min(),m=Zn.newNoDocument(c,d);i=new kD([],o.removedTargetIds||[],m.key,m)}else if("documentRemove"in r){const o=r.documentRemove,c=xl(s,o.document);i=new kD([],o.removedTargetIds||[],c,null)}else{if(!("filter"in r))return lt();{const o=r.filter,d=new oU(o.count||0);i=new GF(o.targetId,d)}}var S;return i}(this.N,r),o=function(c){if(!("targetChange"in c))return Ut.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ut.min():d.readTime?ci(d.readTime):Ut.min()}(r);return this.listener.Tr(i,o)}Ir(r){const i={};i.database=Pw(this.N),i.addTarget=function(c,d){let m;const v=d.target;return m=SD(v)?{documents:tL(c,v)}:{query:nL(c,v)},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0?m.resumeToken=ZF(c,d.resumeToken):d.snapshotVersion.compareTo(Ut.min())>0&&(m.readTime=kw(c,d.snapshotVersion.toTimestamp())),m}(this.N,r);const o=function(s,r){const i=function(o,c){switch(c){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return lt()}}(0,r.purpose);return null==i?null:{"goog-listen-tags":i}}(0,r);o&&(i.labels=o),this.wr(i)}Ar(r){const i={};i.database=Pw(this.N),i.removeTarget=r,this.wr(i)}}class uj extends HL{constructor(r,i,o,c,d){super(r,"write_stream_connection_backoff","write_stream_idle",i,o,d),this.N=c,this.Rr=!1}get Pr(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.br([])}Er(r){return this.nr.ji("Write",r)}onMessage(r){if(At(!!r.streamToken),this.lastStreamToken=r.streamToken,this.Rr){this.rr.reset();const i=function(s,r){return s&&s.length>0?(At(void 0!==r),s.map(i=>function(o,c){let d=ci(o.updateTime?o.updateTime:c);return d.isEqual(Ut.min())&&(d=ci(c)),new rU(d,o.transformResults||[])}(i,r))):[]}(r.writeResults,r.commitTime),o=ci(r.commitTime);return this.listener.vr(o,i)}return At(!r.writeResults||0===r.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const r={};r.database=Pw(this.N),this.wr(r)}br(r){const i={streamToken:this.lastStreamToken,writes:r.map(o=>ND(this.N,o))};this.wr(i)}}class dj extends class{}{constructor(r,i,o){super(),this.credentials=r,this.nr=i,this.N=o,this.Dr=!1}Cr(){if(this.Dr)throw new Pe(Se.FAILED_PRECONDITION,"The client has already been terminated.")}Li(r,i,o){return this.Cr(),this.credentials.getToken().then(c=>this.nr.Li(r,i,o,c)).catch(c=>{throw"FirebaseError"===c.name?(c.code===Se.UNAUTHENTICATED&&this.credentials.invalidateToken(),c):new Pe(Se.UNKNOWN,c.toString())})}Ki(r,i,o){return this.Cr(),this.credentials.getToken().then(c=>this.nr.Ki(r,i,o,c)).catch(c=>{throw"FirebaseError"===c.name?(c.code===Se.UNAUTHENTICATED&&this.credentials.invalidateToken(),c):new Pe(Se.UNKNOWN,c.toString())})}terminate(){this.Dr=!0}}class hj{constructor(r,i){this.asyncQueue=r,this.onlineStateHandler=i,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(r){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${r.toString()}`),this.Fr("Offline")))}set(r){this.Br(),this.Nr=0,"Online"===r&&(this.$r=!1),this.Fr(r)}Fr(r){r!==this.state&&(this.state=r,this.onlineStateHandler(r))}Mr(r){const i=`Could not reach Cloud Firestore backend. ${r}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(Xn(i),this.$r=!1):He("OnlineStateTracker",i)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class fj{constructor(r,i,o,c,d){var m=this;this.localStore=r,this.datastore=i,this.asyncQueue=o,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=d,this.Qr.Ei(v=>{o.enqueueAndForget((0,ke.Z)(function*(){var S;Kd(m)&&(He("RemoteStore","Restarting streams for network reachability change."),yield(S=(0,ke.Z)(function*(D){const x=Ze(D);x.Kr.add(4),yield sy(x),x.Wr.set("Unknown"),x.Kr.delete(4),yield jw(x)}),function(D){return S.apply(this,arguments)})(m))}))}),this.Wr=new hj(o,c)}}function jw(s){return Pk.apply(this,arguments)}function Pk(){return(Pk=(0,ke.Z)(function*(s){if(Kd(s))for(const r of s.jr)yield r(!0)})).apply(this,arguments)}function sy(s){return Fk.apply(this,arguments)}function Fk(){return(Fk=(0,ke.Z)(function*(s){for(const r of s.jr)yield r(!1)})).apply(this,arguments)}function $D(s,r){const i=Ze(s);i.qr.has(r.targetId)||(i.qr.set(r.targetId,r),Bk(i)?Vk(i):ay(i).cr()&&Lk(i,r))}function Hw(s,r){const i=Ze(s),o=ay(i);i.qr.delete(r),o.cr()&&GL(i,r),0===i.qr.size&&(o.cr()?o.lr():Kd(i)&&i.Wr.set("Unknown"))}function Lk(s,r){s.Gr.Y(r.targetId),ay(s).Ir(r)}function GL(s,r){s.Gr.Y(r),ay(s).Ar(r)}function Vk(s){s.Gr=new hU({getRemoteKeysForTarget:r=>s.remoteSyncer.getRemoteKeysForTarget(r),Et:r=>s.qr.get(r)||null}),ay(s).start(),s.Wr.Or()}function Bk(s){return Kd(s)&&!ay(s).ar()&&s.qr.size>0}function Kd(s){return 0===Ze(s).Kr.size}function $L(s){s.Gr=void 0}function pj(s){return Uk.apply(this,arguments)}function Uk(){return(Uk=(0,ke.Z)(function*(s){s.qr.forEach((r,i)=>{Lk(s,r)})})).apply(this,arguments)}function gj(s,r){return jk.apply(this,arguments)}function jk(){return(jk=(0,ke.Z)(function*(s,r){$L(s),Bk(s)?(s.Wr.Lr(r),Vk(s)):s.Wr.set("Unknown")})).apply(this,arguments)}function mj(s,r,i){return Hk.apply(this,arguments)}function Hk(){return(Hk=(0,ke.Z)(function*(s,r,i){if(s.Wr.set("Online"),r instanceof $F&&2===r.state&&r.cause)try{yield(o=(0,ke.Z)(function*(c,d){const m=d.cause;for(const v of d.targetIds)c.qr.has(v)&&(yield c.remoteSyncer.rejectListen(v,m),c.qr.delete(v),c.Gr.removeTarget(v))}),function(c,d){return o.apply(this,arguments)})(s,r)}catch(o){He("RemoteStore","Failed to remove targets %s: %s ",r.targetIds.join(","),o),yield zD(s,o)}else if(r instanceof kD?s.Gr.rt(r):r instanceof GF?s.Gr.ft(r):s.Gr.ct(r),!i.isEqual(Ut.min()))try{const o=yield kL(s.localStore);i.compareTo(o)>=0&&(yield function(c,d){const m=c.Gr._t(d);return m.targetChanges.forEach((v,S)=>{if(v.resumeToken.approximateByteSize()>0){const D=c.qr.get(S);D&&c.qr.set(S,D.withResumeToken(v.resumeToken,d))}}),m.targetMismatches.forEach(v=>{const S=c.qr.get(v);if(!S)return;c.qr.set(v,S.withResumeToken(w.EMPTY_BYTE_STRING,S.snapshotVersion)),GL(c,v);const D=new qd(S.target,v,1,S.sequenceNumber);Lk(c,D)}),c.remoteSyncer.applyRemoteEvent(m)}(s,i))}catch(o){He("RemoteStore","Failed to raise snapshot:",o),yield zD(s,o)}var o})).apply(this,arguments)}function zD(s,r,i){return Gk.apply(this,arguments)}function Gk(){return(Gk=(0,ke.Z)(function*(s,r,i){if(!Op(r))throw r;s.Kr.add(1),yield sy(s),s.Wr.set("Offline"),i||(i=()=>kL(s.localStore)),s.asyncQueue.enqueueRetryable((0,ke.Z)(function*(){He("RemoteStore","Retrying IndexedDB access"),yield i(),s.Kr.delete(1),yield jw(s)}))})).apply(this,arguments)}function zL(s,r){return r().catch(i=>zD(s,i,r))}function oy(s){return $k.apply(this,arguments)}function $k(){return($k=(0,ke.Z)(function*(s){const r=Ze(s),i=Qd(r);let o=r.Ur.length>0?r.Ur[r.Ur.length-1].batchId:-1;for(;_j(r);)try{const c=yield ZU(r.localStore,o);if(null===c){0===r.Ur.length&&i.lr();break}o=c.batchId,yj(r,c)}catch(c){yield zD(r,c)}qL(r)&&WL(r)})).apply(this,arguments)}function _j(s){return Kd(s)&&s.Ur.length<10}function yj(s,r){s.Ur.push(r);const i=Qd(s);i.cr()&&i.Pr&&i.br(r.mutations)}function qL(s){return Kd(s)&&!Qd(s).ar()&&s.Ur.length>0}function WL(s){Qd(s).start()}function vj(s){return zk.apply(this,arguments)}function zk(){return(zk=(0,ke.Z)(function*(s){Qd(s).Sr()})).apply(this,arguments)}function bj(s){return qk.apply(this,arguments)}function qk(){return(qk=(0,ke.Z)(function*(s){const r=Qd(s);for(const i of s.Ur)r.br(i.mutations)})).apply(this,arguments)}function Ej(s,r,i){return Wk.apply(this,arguments)}function Wk(){return(Wk=(0,ke.Z)(function*(s,r,i){const o=s.Ur.shift(),c=hk.from(o,r,i);yield zL(s,()=>s.remoteSyncer.applySuccessfulWrite(c)),yield oy(s)})).apply(this,arguments)}function wj(s,r){return Zk.apply(this,arguments)}function Zk(){return(Zk=(0,ke.Z)(function*(s,r){var i;r&&Qd(s).Pr&&(yield(i=(0,ke.Z)(function*(o,c){if(BF(d=c.code)&&d!==Se.ABORTED){const m=o.Ur.shift();Qd(o).hr(),yield zL(o,()=>o.remoteSyncer.rejectFailedWrite(m.batchId,c)),yield oy(o)}var d}),function(o,c){return i.apply(this,arguments)})(s,r)),qL(s)&&WL(s)})).apply(this,arguments)}function Yk(s,r){return Kk.apply(this,arguments)}function Kk(){return(Kk=(0,ke.Z)(function*(s,r){const i=Ze(s);r?(i.Kr.delete(2),yield jw(i)):r||(i.Kr.add(2),yield sy(i),i.Wr.set("Unknown"))})).apply(this,arguments)}function ay(s){return s.zr||(s.zr=function(r,i,o){const c=Ze(r);return c.Cr(),new cj(i,c.nr,c.credentials,c.N,o)}(s.datastore,s.asyncQueue,{Si:pj.bind(null,s),Ci:gj.bind(null,s),Tr:mj.bind(null,s)}),s.jr.push(function(){var r=(0,ke.Z)(function*(i){i?(s.zr.hr(),Bk(s)?Vk(s):s.Wr.set("Unknown")):(yield s.zr.stop(),$L(s))});return function(i){return r.apply(this,arguments)}}())),s.zr}function Qd(s){return s.Hr||(s.Hr=function(r,i,o){const c=Ze(r);return c.Cr(),new uj(i,c.nr,c.credentials,c.N,o)}(s.datastore,s.asyncQueue,{Si:vj.bind(null,s),Ci:wj.bind(null,s),Vr:bj.bind(null,s),vr:Ej.bind(null,s)}),s.jr.push(function(){var r=(0,ke.Z)(function*(i){i?(s.Hr.hr(),yield oy(s)):(yield s.Hr.stop(),s.Ur.length>0&&(He("RemoteStore",`Stopping write stream with ${s.Ur.length} pending writes`),s.Ur=[]))});return function(i){return r.apply(this,arguments)}}())),s.Hr}class Qk{constructor(r,i,o,c,d){this.asyncQueue=r,this.timerId=i,this.targetTimeMs=o,this.op=c,this.removalCallback=d,this.deferred=new Ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}static createAndSchedule(r,i,o,c,d){const m=Date.now()+o,v=new Qk(r,i,m,c,d);return v.start(o),v}start(r){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),r)}skipDelay(){return this.handleDelayElapsed()}cancel(r){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Pe(Se.CANCELLED,"Operation cancelled"+(r?": "+r:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(r=>this.deferred.resolve(r))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ly(s,r){if(Xn("AsyncQueue",`${r}: ${s}`),Op(s))return new Pe(Se.UNAVAILABLE,`${r}: ${s}`);throw s}class cy{constructor(r){this.comparator=r?(i,o)=>r(i,o)||se.comparator(i.key,o.key):(i,o)=>se.comparator(i.key,o.key),this.keyedMap=ak(),this.sortedSet=new Wr(this.comparator)}static emptySet(r){return new cy(r.comparator)}has(r){return null!=this.keyedMap.get(r)}get(r){return this.keyedMap.get(r)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(r){const i=this.keyedMap.get(r);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(r){this.sortedSet.inorderTraversal((i,o)=>(r(i),!1))}add(r){const i=this.delete(r.key);return i.copy(i.keyedMap.insert(r.key,r),i.sortedSet.insert(r,null))}delete(r){const i=this.get(r);return i?this.copy(this.keyedMap.remove(r),this.sortedSet.remove(i)):this}isEqual(r){if(!(r instanceof cy)||this.size!==r.size)return!1;const i=this.sortedSet.getIterator(),o=r.sortedSet.getIterator();for(;i.hasNext();){const c=i.getNext().key,d=o.getNext().key;if(!c.isEqual(d))return!1}return!0}toString(){const r=[];return this.forEach(i=>{r.push(i.toString())}),0===r.length?"DocumentSet ()":"DocumentSet (\n  "+r.join("  \n")+"\n)"}copy(r,i){const o=new cy;return o.comparator=this.comparator,o.keyedMap=r,o.sortedSet=i,o}}class ZL{constructor(){this.Jr=new Wr(se.comparator)}track(r){const i=r.doc.key,o=this.Jr.get(i);o?0!==r.type&&3===o.type?this.Jr=this.Jr.insert(i,r):3===r.type&&1!==o.type?this.Jr=this.Jr.insert(i,{type:o.type,doc:r.doc}):2===r.type&&2===o.type?this.Jr=this.Jr.insert(i,{type:2,doc:r.doc}):2===r.type&&0===o.type?this.Jr=this.Jr.insert(i,{type:0,doc:r.doc}):1===r.type&&0===o.type?this.Jr=this.Jr.remove(i):1===r.type&&2===o.type?this.Jr=this.Jr.insert(i,{type:1,doc:o.doc}):0===r.type&&1===o.type?this.Jr=this.Jr.insert(i,{type:2,doc:r.doc}):lt():this.Jr=this.Jr.insert(i,r)}Yr(){const r=[];return this.Jr.inorderTraversal((i,o)=>{r.push(o)}),r}}class uy{constructor(r,i,o,c,d,m,v,S){this.query=r,this.docs=i,this.oldDocs=o,this.docChanges=c,this.mutatedKeys=d,this.fromCache=m,this.syncStateChanged=v,this.excludesMetadataChanges=S}static fromInitialDocuments(r,i,o,c){const d=[];return i.forEach(m=>{d.push({type:0,doc:m})}),new uy(r,i,cy.emptySet(i),d,o,c,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(r){if(!(this.fromCache===r.fromCache&&this.syncStateChanged===r.syncStateChanged&&this.mutatedKeys.isEqual(r.mutatedKeys)&&Tw(this.query,r.query)&&this.docs.isEqual(r.docs)&&this.oldDocs.isEqual(r.oldDocs)))return!1;const i=this.docChanges,o=r.docChanges;if(i.length!==o.length)return!1;for(let c=0;c<i.length;c++)if(i[c].type!==o[c].type||!i[c].doc.isEqual(o[c].doc))return!1;return!0}}class Cj{constructor(){this.Xr=void 0,this.listeners=[]}}class Sj{constructor(){this.queries=new ny(r=>SF(r),Tw),this.onlineState="Unknown",this.Zr=new Set}}function Jk(s,r){return Xk.apply(this,arguments)}function Xk(){return(Xk=(0,ke.Z)(function*(s,r){const i=Ze(s),o=r.query;let c=!1,d=i.queries.get(o);if(d||(c=!0,d=new Cj),c)try{d.Xr=yield i.onListen(o)}catch(m){const v=ly(m,`Initialization of query '${ik(r.query)}' failed`);return void r.onError(v)}i.queries.set(o,d),d.listeners.push(r),r.eo(i.onlineState),d.Xr&&r.no(d.Xr)&&nN(i)})).apply(this,arguments)}function eN(s,r){return tN.apply(this,arguments)}function tN(){return(tN=(0,ke.Z)(function*(s,r){const i=Ze(s),o=r.query;let c=!1;const d=i.queries.get(o);if(d){const m=d.listeners.indexOf(r);m>=0&&(d.listeners.splice(m,1),c=0===d.listeners.length)}if(c)return i.queries.delete(o),i.onUnlisten(o)})).apply(this,arguments)}function Ij(s,r){const i=Ze(s);let o=!1;for(const c of r){const m=i.queries.get(c.query);if(m){for(const v of m.listeners)v.no(c)&&(o=!0);m.Xr=c}}o&&nN(i)}function Tj(s,r,i){const o=Ze(s),c=o.queries.get(r);if(c)for(const d of c.listeners)d.onError(i);o.queries.delete(r)}function nN(s){s.Zr.forEach(r=>{r.next()})}class rN{constructor(r,i,o){this.query=r,this.so=i,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=o||{}}no(r){if(!this.options.includeMetadataChanges){const o=[];for(const c of r.docChanges)3!==c.type&&o.push(c);r=new uy(r.query,r.docs,r.oldDocs,o,r.mutatedKeys,r.fromCache,r.syncStateChanged,!0)}let i=!1;return this.io?this.oo(r)&&(this.so.next(r),i=!0):this.ao(r,this.onlineState)&&(this.co(r),i=!0),this.ro=r,i}onError(r){this.so.error(r)}eo(r){this.onlineState=r;let i=!1;return this.ro&&!this.io&&this.ao(this.ro,r)&&(this.co(this.ro),i=!0),i}ao(r,i){return!r.fromCache||!(this.options.uo&&"Offline"!==i||r.docs.isEmpty()&&"Offline"!==i)}oo(r){return r.docChanges.length>0||!!(r.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==r.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(r){r=uy.fromInitialDocuments(r.query,r.docs,r.mutatedKeys,r.fromCache),this.io=!0,this.so.next(r)}}class Dj{constructor(r,i){this.payload=r,this.byteLength=i}ho(){return"metadata"in this.payload}}class YL{constructor(r){this.N=r}zn(r){return xl(this.N,r)}Hn(r){return r.metadata.exists?XF(this.N,r.document,!1):Zn.newNoDocument(this.zn(r.metadata.name),this.Jn(r.metadata.readTime))}Jn(r){return ci(r)}}class Aj{constructor(r,i,o){this.lo=r,this.localStore=i,this.N=o,this.queries=[],this.documents=[],this.progress=KL(r)}fo(r){this.progress.bytesLoaded+=r.byteLength;let i=this.progress.documentsLoaded;return r.payload.namedQuery?this.queries.push(r.payload.namedQuery):r.payload.documentMetadata?(this.documents.push({metadata:r.payload.documentMetadata}),r.payload.documentMetadata.exists||++i):r.payload.document&&(this.documents[this.documents.length-1].document=r.payload.document,++i),i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null}wo(r){const i=new Map,o=new YL(this.N);for(const c of r)if(c.metadata.queries){const d=o.zn(c.metadata.name);for(const m of c.metadata.queries){const v=(i.get(m)||_n()).add(d);i.set(m,v)}}return i}complete(){var r=this;return(0,ke.Z)(function*(){const i=yield function(s,r,i,o){return Tk.apply(this,arguments)}(r.localStore,new YL(r.N),r.documents,r.lo.id),o=r.wo(r.documents);for(const c of r.queries)yield QU(r.localStore,c,o.get(c.name));return r.progress.taskState="Success",new $U(Object.assign({},r.progress),i)})()}}function KL(s){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:s.totalDocuments,totalBytes:s.totalBytes}}class QL{constructor(r){this.key=r}}class JL{constructor(r){this.key=r}}class XL{constructor(r,i){this.query=r,this._o=i,this.mo=null,this.current=!1,this.yo=_n(),this.mutatedKeys=_n(),this.po=IF(r),this.Eo=new cy(this.po)}get To(){return this._o}Io(r,i){const o=i?i.Ao:new ZL,c=i?i.Eo:this.Eo;let d=i?i.mutatedKeys:this.mutatedKeys,m=c,v=!1;const S=TD(this.query)&&c.size===this.query.limit?c.last():null,D=DD(this.query)&&c.size===this.query.limit?c.first():null;if(r.inorderTraversal((x,k)=>{const j=c.get(x),H=Dw(this.query,k)?k:null,X=!!j&&this.mutatedKeys.has(j.key),ye=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let Re=!1;j&&H?j.data.isEqual(H.data)?X!==ye&&(o.track({type:3,doc:H}),Re=!0):this.Ro(j,H)||(o.track({type:2,doc:H}),Re=!0,(S&&this.po(H,S)>0||D&&this.po(H,D)<0)&&(v=!0)):!j&&H?(o.track({type:0,doc:H}),Re=!0):j&&!H&&(o.track({type:1,doc:j}),Re=!0,(S||D)&&(v=!0)),Re&&(H?(m=m.add(H),d=ye?d.add(x):d.delete(x)):(m=m.delete(x),d=d.delete(x)))}),TD(this.query)||DD(this.query))for(;m.size>this.query.limit;){const x=TD(this.query)?m.last():m.first();m=m.delete(x.key),d=d.delete(x.key),o.track({type:1,doc:x})}return{Eo:m,Ao:o,Ln:v,mutatedKeys:d}}Ro(r,i){return r.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(r,i,o){const c=this.Eo;this.Eo=r.Eo,this.mutatedKeys=r.mutatedKeys;const d=r.Ao.Yr();d.sort((D,x)=>function(k,j){const H=X=>{switch(X){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return lt()}};return H(k)-H(j)}(D.type,x.type)||this.po(D.doc,x.doc)),this.Po(o);const m=i?this.bo():[],v=0===this.yo.size&&this.current?1:0,S=v!==this.mo;return this.mo=v,0!==d.length||S?{snapshot:new uy(this.query,r.Eo,c,d,r.mutatedKeys,0===v,S,!1),vo:m}:{vo:m}}eo(r){return this.current&&"Offline"===r?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new ZL,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(r){return!this._o.has(r)&&!!this.Eo.has(r)&&!this.Eo.get(r).hasLocalMutations}Po(r){r&&(r.addedDocuments.forEach(i=>this._o=this._o.add(i)),r.modifiedDocuments.forEach(i=>{}),r.removedDocuments.forEach(i=>this._o=this._o.delete(i)),this.current=r.current)}bo(){if(!this.current)return[];const r=this.yo;this.yo=_n(),this.Eo.forEach(o=>{this.Vo(o.key)&&(this.yo=this.yo.add(o.key))});const i=[];return r.forEach(o=>{this.yo.has(o)||i.push(new JL(o))}),this.yo.forEach(o=>{r.has(o)||i.push(new QL(o))}),i}So(r){this._o=r.Gn,this.yo=_n();const i=this.Io(r.documents);return this.applyChanges(i,!0)}Do(){return uy.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class Mj{constructor(r,i,o){this.query=r,this.targetId=i,this.view=o}}class xj{constructor(r){this.key=r,this.Co=!1}}class Rj{constructor(r,i,o,c,d,m){this.localStore=r,this.remoteStore=i,this.eventManager=o,this.sharedClientState=c,this.currentUser=d,this.maxConcurrentLimboResolutions=m,this.No={},this.xo=new ny(v=>SF(v),Tw),this.ko=new Map,this.$o=new Set,this.Oo=new Wr(se.comparator),this.Fo=new Map,this.Mo=new Ak,this.Lo={},this.Bo=new Map,this.Uo=Np.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function Oj(s,r){return iN.apply(this,arguments)}function iN(){return(iN=(0,ke.Z)(function*(s,r){const i=DN(s);let o,c;const d=i.xo.get(r);if(d)o=d.targetId,i.sharedClientState.addLocalQueryTarget(o),c=d.view.Do();else{const m=yield ry(i.localStore,Fo(r)),v=i.sharedClientState.addLocalQueryTarget(m.targetId);o=m.targetId,c=yield sN(i,r,o,"current"===v),i.isPrimaryClient&&$D(i.remoteStore,m)}return c})).apply(this,arguments)}function sN(s,r,i,o){return oN.apply(this,arguments)}function oN(){return(oN=(0,ke.Z)(function*(s,r,i,o){s.Ko=(x,k,j)=>{return(H=(0,ke.Z)(function*(X,ye,Re,Ge){let Ye=ye.view.Io(Re);Ye.Ln&&(Ye=yield UD(X.localStore,ye.query,!1).then(({documents:pn})=>ye.view.Io(pn,Ye)));const Qe=Ge&&Ge.targetChanges.get(ye.targetId),mt=ye.view.applyChanges(Ye,X.isPrimaryClient,Qe);return mN(X,ye.targetId,mt.vo),mt.snapshot}),function(X,ye,Re,Ge){return H.apply(this,arguments)})(s,x,k,j);var H};const c=yield UD(s.localStore,r,!0),d=new XL(r,c.Gn),m=d.Io(c.documents),v=Ow.createSynthesizedTargetChangeForCurrentChange(i,o&&"Offline"!==s.onlineState),S=d.applyChanges(m,s.isPrimaryClient,v);mN(s,i,S.vo);const D=new Mj(r,i,d);return s.xo.set(r,D),s.ko.has(i)?s.ko.get(i).push(r):s.ko.set(i,[r]),S.snapshot})).apply(this,arguments)}function kj(s,r){return aN.apply(this,arguments)}function aN(){return(aN=(0,ke.Z)(function*(s,r){const i=Ze(s),o=i.xo.get(r),c=i.ko.get(o.targetId);if(c.length>1)return i.ko.set(o.targetId,c.filter(d=>!Tw(d,r))),void i.xo.delete(r);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||(yield iy(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),Hw(i.remoteStore,o.targetId),dy(i,o.targetId)}).catch(Pp))):(dy(i,o.targetId),yield iy(i.localStore,o.targetId,!0))})).apply(this,arguments)}function lN(){return(lN=(0,ke.Z)(function*(s,r,i){const o=AN(s);try{const c=yield function(d,m){const v=Ze(d),S=qr.now(),D=m.reduce((k,j)=>k.add(j.key),_n());let x;return v.persistence.runTransaction("Locally write mutations","readwrite",k=>v.Qn.bn(k,D).next(j=>{x=j;const H=[];for(const X of m){const ye=sU(X,x.get(X.key));null!=ye&&H.push(new $d(X.key,ye,_F(ye.value.mapValue),Mr.exists(!0)))}return v.In.addMutationBatch(k,S,H,m)})).then(k=>(k.applyToLocalDocumentSet(x),{batchId:k.batchId,changes:x}))}(o.localStore,r);o.sharedClientState.addPendingMutation(c.batchId),function(d,m,v){let S=d.Lo[d.currentUser.toKey()];S||(S=new Wr(Xt)),S=S.insert(m,v),d.Lo[d.currentUser.toKey()]=S}(o,c.batchId,i),yield cu(o,c.changes),yield oy(o.remoteStore)}catch(c){const d=ly(c,"Failed to persist write");i.reject(d)}})).apply(this,arguments)}function eV(s,r){return cN.apply(this,arguments)}function cN(){return(cN=(0,ke.Z)(function*(s,r){const i=Ze(s);try{const o=yield WU(i.localStore,r);r.targetChanges.forEach((c,d)=>{const m=i.Fo.get(d);m&&(At(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?m.Co=!0:c.modifiedDocuments.size>0?At(m.Co):c.removedDocuments.size>0&&(At(m.Co),m.Co=!1))}),yield cu(i,o,r)}catch(o){yield Pp(o)}})).apply(this,arguments)}function tV(s,r,i){const o=Ze(s);if(o.isPrimaryClient&&0===i||!o.isPrimaryClient&&1===i){const c=[];o.xo.forEach((d,m)=>{const v=m.view.eo(r);v.snapshot&&c.push(v.snapshot)}),function(d,m){const v=Ze(d);v.onlineState=m;let S=!1;v.queries.forEach((D,x)=>{for(const k of x.listeners)k.eo(m)&&(S=!0)}),S&&nN(v)}(o.eventManager,r),c.length&&o.No.Tr(c),o.onlineState=r,o.isPrimaryClient&&o.sharedClientState.setOnlineState(r)}}function Pj(s,r,i){return uN.apply(this,arguments)}function uN(){return(uN=(0,ke.Z)(function*(s,r,i){const o=Ze(s);o.sharedClientState.updateQueryState(r,"rejected",i);const c=o.Fo.get(r),d=c&&c.key;if(d){let m=new Wr(se.comparator);m=m.insert(d,Zn.newNoDocument(d,Ut.min()));const v=_n().add(d),S=new Rw(Ut.min(),new Map,new lr(Xt),m,v);yield eV(o,S),o.Oo=o.Oo.remove(d),o.Fo.delete(r),_N(o)}else yield iy(o.localStore,r,!1).then(()=>dy(o,r,i)).catch(Pp)})).apply(this,arguments)}function Fj(s,r){return dN.apply(this,arguments)}function dN(){return(dN=(0,ke.Z)(function*(s,r){const i=Ze(s),o=r.batch.batchId;try{const c=yield qU(i.localStore,r);gN(i,o,null),pN(i,o),i.sharedClientState.updateMutationState(o,"acknowledged"),yield cu(i,c)}catch(c){yield Pp(c)}})).apply(this,arguments)}function Lj(s,r,i){return hN.apply(this,arguments)}function hN(){return(hN=(0,ke.Z)(function*(s,r,i){const o=Ze(s);try{const c=yield function(d,m){const v=Ze(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",S=>{let D;return v.In.lookupMutationBatch(S,m).next(x=>(At(null!==x),D=x.keys(),v.In.removeMutationBatch(S,x))).next(()=>v.In.performConsistencyCheck(S)).next(()=>v.Qn.bn(S,D))})}(o.localStore,r);gN(o,r,i),pN(o,r),o.sharedClientState.updateMutationState(r,"rejected",i),yield cu(o,c)}catch(c){yield Pp(c)}})).apply(this,arguments)}function fN(){return(fN=(0,ke.Z)(function*(s,r){const i=Ze(s);Kd(i.remoteStore)||He("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(d){const m=Ze(d);return m.persistence.runTransaction("Get highest unacknowledged batch id","readonly",v=>m.In.getHighestUnacknowledgedBatchId(v))}(i.localStore);if(-1===o)return void r.resolve();const c=i.Bo.get(o)||[];c.push(r),i.Bo.set(o,c)}catch(o){const c=ly(o,"Initialization of waitForPendingWrites() operation failed");r.reject(c)}})).apply(this,arguments)}function pN(s,r){(s.Bo.get(r)||[]).forEach(i=>{i.resolve()}),s.Bo.delete(r)}function gN(s,r,i){const o=Ze(s);let c=o.Lo[o.currentUser.toKey()];if(c){const d=c.get(r);d&&(i?d.reject(i):d.resolve(),c=c.remove(r)),o.Lo[o.currentUser.toKey()]=c}}function dy(s,r,i=null){s.sharedClientState.removeLocalQueryTarget(r);for(const o of s.ko.get(r))s.xo.delete(o),i&&s.No.jo(o,i);s.ko.delete(r),s.isPrimaryClient&&s.Mo.cs(r).forEach(o=>{s.Mo.containsKey(o)||nV(s,o)})}function nV(s,r){s.$o.delete(r.path.canonicalString());const i=s.Oo.get(r);null!==i&&(Hw(s.remoteStore,i),s.Oo=s.Oo.remove(r),s.Fo.delete(i),_N(s))}function mN(s,r,i){for(const o of i)o instanceof QL?(s.Mo.addReference(o.key,r),Bj(s,o)):o instanceof JL?(He("SyncEngine","Document no longer in limbo: "+o.key),s.Mo.removeReference(o.key,r),s.Mo.containsKey(o.key)||nV(s,o.key)):lt()}function Bj(s,r){const i=r.key,o=i.path.canonicalString();s.Oo.get(i)||s.$o.has(o)||(He("SyncEngine","New document in limbo: "+i),s.$o.add(o),_N(s))}function _N(s){for(;s.$o.size>0&&s.Oo.size<s.maxConcurrentLimboResolutions;){const r=s.$o.values().next().value;s.$o.delete(r);const i=new se(u.fromString(r)),o=s.Uo.next();s.Fo.set(o,new xj(i)),s.Oo=s.Oo.insert(i,o),$D(s.remoteStore,new qd(Fo(G_(i.path)),o,2,cs.T))}}function cu(s,r,i){return yN.apply(this,arguments)}function yN(){return(yN=(0,ke.Z)(function*(s,r,i){const o=Ze(s),c=[],d=[],m=[];var v;o.xo.isEmpty()||(o.xo.forEach((v,S)=>{m.push(o.Ko(S,r,i).then(D=>{if(D){o.isPrimaryClient&&o.sharedClientState.updateQueryState(S.targetId,D.fromCache?"not-current":"current"),c.push(D);const x=wk.kn(S.targetId,D);d.push(x)}}))}),yield Promise.all(m),o.No.Tr(c),yield(v=(0,ke.Z)(function*(S,D){const x=Ze(S);try{yield x.persistence.runTransaction("notifyLocalViewChanges","readwrite",k=>Fe.forEach(D,j=>Fe.forEach(j.Nn,H=>x.persistence.referenceDelegate.addReference(k,j.targetId,H)).next(()=>Fe.forEach(j.xn,H=>x.persistence.referenceDelegate.removeReference(k,j.targetId,H)))))}catch(k){if(!Op(k))throw k;He("LocalStore","Failed to update sequence numbers: "+k)}for(const k of D){const j=k.targetId;if(!k.fromCache){const H=x.Un.get(j),ye=H.withLastLimboFreeSnapshotVersion(H.snapshotVersion);x.Un=x.Un.insert(j,ye)}}}),function(S,D){return v.apply(this,arguments)})(o.localStore,d))})).apply(this,arguments)}function Uj(s,r){return vN.apply(this,arguments)}function vN(){return(vN=(0,ke.Z)(function*(s,r){const i=Ze(s);if(!i.currentUser.isEqual(r)){He("SyncEngine","User change. New user:",r.toKey());const o=yield OL(i.localStore,r);i.currentUser=r,(c=i).Bo.forEach(m=>{m.forEach(v=>{v.reject(new Pe(Se.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.Bo.clear(),i.sharedClientState.handleUserChange(r,o.removedBatchIds,o.addedBatchIds),yield cu(i,o.Wn)}var c})).apply(this,arguments)}function jj(s,r){const i=Ze(s),o=i.Fo.get(r);if(o&&o.Co)return _n().add(o.key);{let c=_n();const d=i.ko.get(r);if(!d)return c;for(const m of d){const v=i.xo.get(m);c=c.unionWith(v.view.To)}return c}}function Hj(s,r){return bN.apply(this,arguments)}function bN(){return(bN=(0,ke.Z)(function*(s,r){const i=Ze(s),o=yield UD(i.localStore,r.query,!0),c=r.view.So(o);return i.isPrimaryClient&&mN(i,r.targetId,c.vo),c})).apply(this,arguments)}function Gj(s){return EN.apply(this,arguments)}function EN(){return(EN=(0,ke.Z)(function*(s){const r=Ze(s);return FL(r.localStore).then(i=>cu(r,i))})).apply(this,arguments)}function $j(s,r,i,o){return wN.apply(this,arguments)}function wN(){return(wN=(0,ke.Z)(function*(s,r,i,o){const c=Ze(s),d=yield function(m,v){const S=Ze(m),D=Ze(S.In);return S.persistence.runTransaction("Lookup mutation documents","readonly",x=>D.Xt(x,v).next(k=>k?S.Qn.bn(x,k):Fe.resolve(null)))}(c.localStore,r);var v;null!==d?("pending"===i?yield oy(c.remoteStore):"acknowledged"===i||"rejected"===i?(gN(c,r,o||null),pN(c,r),v=r,Ze(Ze(c.localStore).In).te(v)):lt(),yield cu(c,d)):He("SyncEngine","Cannot apply mutation batch with id: "+r)})).apply(this,arguments)}function CN(){return(CN=(0,ke.Z)(function*(s,r){const i=Ze(s);if(DN(i),AN(i),!0===r&&!0!==i.qo){const o=i.sharedClientState.getAllActiveQueryTargets(),c=yield rV(i,o.toArray());i.qo=!0,yield Yk(i.remoteStore,!0);for(const d of c)$D(i.remoteStore,d)}else if(!1===r&&!1!==i.qo){const o=[];let c=Promise.resolve();i.ko.forEach((d,m)=>{i.sharedClientState.isLocalQueryTarget(m)?o.push(m):c=c.then(()=>(dy(i,m),iy(i.localStore,m,!0))),Hw(i.remoteStore,m)}),yield c,yield rV(i,o),function(d){const m=Ze(d);m.Fo.forEach((v,S)=>{Hw(m.remoteStore,S)}),m.Mo.us(),m.Fo=new Map,m.Oo=new Wr(se.comparator)}(i),i.qo=!1,yield Yk(i.remoteStore,!1)}})).apply(this,arguments)}function rV(s,r,i){return SN.apply(this,arguments)}function SN(){return(SN=(0,ke.Z)(function*(s,r,i){const o=Ze(s),c=[],d=[];for(const m of r){let v;const S=o.ko.get(m);if(S&&0!==S.length){v=yield ry(o.localStore,Fo(S[0]));for(const D of S){const x=o.xo.get(D),k=yield Hj(o,x);k.snapshot&&d.push(k.snapshot)}}else{const D=yield PL(o.localStore,m);v=yield ry(o.localStore,D),yield sN(o,iV(D),m,!1)}c.push(v)}return o.No.Tr(d),c})).apply(this,arguments)}function iV(s){return wF(s.path,s.collectionGroup,s.orderBy,s.filters,s.limit,"F",s.startAt,s.endAt)}function qj(s){const r=Ze(s);return Ze(Ze(r.localStore).persistence).pn()}function Wj(s,r,i,o){return IN.apply(this,arguments)}function IN(){return(IN=(0,ke.Z)(function*(s,r,i,o){const c=Ze(s);if(c.qo)He("SyncEngine","Ignoring unexpected query state notification.");else if(c.ko.has(r))switch(i){case"current":case"not-current":{const d=yield FL(c.localStore),m=Rw.createSynthesizedRemoteEventForCurrentChange(r,"current"===i);yield cu(c,d,m);break}case"rejected":yield iy(c.localStore,r,!0),dy(c,r,o);break;default:lt()}})).apply(this,arguments)}function Zj(s,r,i){return TN.apply(this,arguments)}function TN(){return(TN=(0,ke.Z)(function*(s,r,i){const o=DN(s);if(o.qo){for(const c of r){if(o.ko.has(c)){He("SyncEngine","Adding an already active target "+c);continue}const d=yield PL(o.localStore,c),m=yield ry(o.localStore,d);yield sN(o,iV(d),m.targetId,!1),$D(o.remoteStore,m)}for(const c of i)o.ko.has(c)&&(yield iy(o.localStore,c,!1).then(()=>{Hw(o.remoteStore,c),dy(o,c)}).catch(Pp))}})).apply(this,arguments)}function DN(s){const r=Ze(s);return r.remoteStore.remoteSyncer.applyRemoteEvent=eV.bind(null,r),r.remoteStore.remoteSyncer.getRemoteKeysForTarget=jj.bind(null,r),r.remoteStore.remoteSyncer.rejectListen=Pj.bind(null,r),r.No.Tr=Ij.bind(null,r.eventManager),r.No.jo=Tj.bind(null,r.eventManager),r}function AN(s){const r=Ze(s);return r.remoteStore.remoteSyncer.applySuccessfulWrite=Fj.bind(null,r),r.remoteStore.remoteSyncer.rejectFailedWrite=Lj.bind(null,r),r}class sV{constructor(){this.synchronizeTabs=!1}initialize(r){var i=this;return(0,ke.Z)(function*(){i.N=Uw(r.databaseInfo.databaseId),i.sharedClientState=i.Wo(r),i.persistence=i.Go(r),yield i.persistence.start(),i.gcScheduler=i.zo(r),i.localStore=i.Ho(r)})()}zo(r){return null}Ho(r){return RL(this.persistence,new xL,r.initialUser,this.N)}Go(r){return new rj(Mk.Ns,this.N)}Wo(r){return new BL}terminate(){var r=this;return(0,ke.Z)(function*(){r.gcScheduler&&r.gcScheduler.stop(),yield r.sharedClientState.shutdown(),yield r.persistence.shutdown()})()}}class oV extends sV{constructor(r,i,o){super(),this.Jo=r,this.cacheSizeBytes=i,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(r){var i=()=>super.initialize,o=this;return(0,ke.Z)(function*(){yield i().call(o,r),yield function(s){return Ik.apply(this,arguments)}(o.localStore),yield o.Jo.initialize(o,r),yield AN(o.Jo.syncEngine),yield oy(o.Jo.remoteStore),yield o.persistence.nn(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(o.localStore),Promise.resolve()))})()}Ho(r){return RL(this.persistence,new xL,r.initialUser,this.N)}zo(r){return new VU(this.persistence.referenceDelegate.garbageCollector,r.asyncQueue)}Go(r){const i=Ek(r.databaseInfo.databaseId,r.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?js.withCacheSize(this.cacheSizeBytes):js.DEFAULT;return new bk(this.synchronizeTabs,i,r.clientId,o,r.asyncQueue,jL(),GD(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(r){return new BL}}class Kj extends oV{constructor(r,i){super(r,i,!1),this.Jo=r,this.cacheSizeBytes=i,this.synchronizeTabs=!0}initialize(r){var i=()=>super.initialize,o=this;return(0,ke.Z)(function*(){yield i().call(o,r);const c=o.Jo.syncEngine;o.sharedClientState instanceof kk&&(o.sharedClientState.syncEngine={_i:$j.bind(null,c),mi:Wj.bind(null,c),gi:Zj.bind(null,c),pn:qj.bind(null,c),wi:Gj.bind(null,c)},yield o.sharedClientState.start()),yield o.persistence.nn(function(){var d=(0,ke.Z)(function*(m){yield function(s,r){return CN.apply(this,arguments)}(o.Jo.syncEngine,m),o.gcScheduler&&(m&&!o.gcScheduler.started?o.gcScheduler.start(o.localStore):m||o.gcScheduler.stop())});return function(m){return d.apply(this,arguments)}}())})()}Wo(r){const i=jL();if(!kk.Pt(i))throw new Pe(Se.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Ek(r.databaseInfo.databaseId,r.databaseInfo.persistenceKey);return new kk(i,r.asyncQueue,o,r.clientId,r.initialUser)}}class MN{initialize(r,i){var o=this;return(0,ke.Z)(function*(){o.localStore||(o.localStore=r.localStore,o.sharedClientState=r.sharedClientState,o.datastore=o.createDatastore(i),o.remoteStore=o.createRemoteStore(i),o.eventManager=o.createEventManager(i),o.syncEngine=o.createSyncEngine(i,!r.synchronizeTabs),o.sharedClientState.onlineStateHandler=c=>tV(o.syncEngine,c,1),o.remoteStore.remoteSyncer.handleCredentialChange=Uj.bind(null,o.syncEngine),yield Yk(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(r){return new Sj}createDatastore(r){const i=Uw(r.databaseInfo.databaseId),o=new lj(r.databaseInfo);return new dj(r.credentials,o,i)}createRemoteStore(r){return i=this.localStore,o=this.datastore,c=r.asyncQueue,d=v=>tV(this.syncEngine,v,0),m=UL.Pt()?new UL:new sj,new fj(i,o,c,d,m);var i,o,c,d,m}createSyncEngine(r,i){return function(o,c,d,m,v,S,D){const x=new Rj(o,c,d,m,v,S);return D&&(x.qo=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,r.initialUser,r.maxConcurrentLimboResolutions,i)}terminate(){return(r=(0,ke.Z)(function*(i){const o=Ze(i);He("RemoteStore","RemoteStore shutting down."),o.Kr.add(5),yield sy(o),o.Qr.shutdown(),o.Wr.set("Unknown")}),function(i){return r.apply(this,arguments)})(this.remoteStore);var r}}function aV(s,r=10240){let i=0;return{read:()=>(0,ke.Z)(function*(){if(i<s.byteLength){const o={value:s.slice(i,i+r),done:!1};return i+=r,o}return{done:!0}})(),cancel:()=>(0,ke.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class qD{constructor(r){this.observer=r,this.muted=!1}next(r){this.observer.next&&this.Yo(this.observer.next,r)}error(r){this.observer.error?this.Yo(this.observer.error,r):console.error("Uncaught Error in snapshot listener:",r)}Xo(){this.muted=!0}Yo(r,i){this.muted||setTimeout(()=>{this.muted||r(i)},0)}}class Qj{constructor(r,i){this.Zo=r,this.N=i,this.metadata=new Ar,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(o=>{o&&o.ho()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Zo.cancel()}getMetadata(){var r=this;return(0,ke.Z)(function*(){return r.metadata.promise})()}Qo(){var r=this;return(0,ke.Z)(function*(){return yield r.getMetadata(),r.ea()})()}ea(){var r=this;return(0,ke.Z)(function*(){const i=yield r.na();if(null===i)return null;const o=r.ta.decode(i),c=Number(o);isNaN(c)&&r.sa(`length string (${o}) is not valid number`);const d=yield r.ia(c);return new Dj(JSON.parse(d),i.length+c)})()}ra(){return this.buffer.findIndex(r=>r==="{".charCodeAt(0))}na(){var r=this;return(0,ke.Z)(function*(){for(;r.ra()<0&&!(yield r.oa()););if(0===r.buffer.length)return null;const i=r.ra();i<0&&r.sa("Reached the end of bundle when a length string is expected.");const o=r.buffer.slice(0,i);return r.buffer=r.buffer.slice(i),o})()}ia(r){var i=this;return(0,ke.Z)(function*(){for(;i.buffer.length<r;)(yield i.oa())&&i.sa("Reached the end of bundle when more is expected.");const o=i.ta.decode(i.buffer.slice(0,r));return i.buffer=i.buffer.slice(r),o})()}sa(r){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${r}`)}oa(){var r=this;return(0,ke.Z)(function*(){const i=yield r.Zo.read();if(!i.done){const o=new Uint8Array(r.buffer.length+i.value.length);o.set(r.buffer),o.set(i.value,r.buffer.length),r.buffer=o}return i.done})()}}class Jj{constructor(r){this.datastore=r,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(r){var i=this;return(0,ke.Z)(function*(){if(i.ensureCommitNotCalled(),i.mutations.length>0)throw new Pe(Se.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(c=(0,ke.Z)(function*(d,m){const v=Ze(d),S=Pw(v.N)+"/documents",D={documents:m.map(H=>Nw(v.N,H))},x=yield v.Ki("BatchGetDocuments",S,D),k=new Map;x.forEach(H=>{const X=function(s,r){return"found"in r?function(i,o){At(!!o.found);const c=xl(i,o.found.name),d=ci(o.found.updateTime),m=new $i({mapValue:{fields:o.found.fields}});return Zn.newFoundDocument(c,d,m)}(s,r):"missing"in r?function(i,o){At(!!o.missing),At(!!o.readTime);const c=xl(i,o.missing),d=ci(o.readTime);return Zn.newNoDocument(c,d)}(s,r):lt()}(v.N,H);k.set(X.key.toString(),X)});const j=[];return m.forEach(H=>{const X=k.get(H.toString());At(!!X),j.push(X)}),j}),function(d,m){return c.apply(this,arguments)})(i.datastore,r);var c;return o.forEach(c=>i.recordVersion(c)),o})()}set(r,i){this.write(i.toMutation(r,this.precondition(r))),this.writtenDocs.add(r.toString())}update(r,i){try{this.write(i.toMutation(r,this.preconditionForUpdate(r)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(r.toString())}delete(r){this.write(new xw(r,this.precondition(r))),this.writtenDocs.add(r.toString())}commit(){var r=this;return(0,ke.Z)(function*(){if(r.ensureCommitNotCalled(),r.lastWriteError)throw r.lastWriteError;const i=r.readVersions;var o;r.mutations.forEach(o=>{i.delete(o.key.toString())}),i.forEach((o,c)=>{const d=se.fromPath(c);r.mutations.push(new ok(d,r.precondition(d)))}),yield(o=(0,ke.Z)(function*(c,d){const m=Ze(c),v=Pw(m.N)+"/documents",S={writes:d.map(D=>ND(m.N,D))};yield m.Li("Commit",v,S)}),function(c,d){return o.apply(this,arguments)})(r.datastore,r.mutations),r.committed=!0})()}recordVersion(r){let i;if(r.isFoundDocument())i=r.version;else{if(!r.isNoDocument())throw lt();i=Ut.min()}const o=this.readVersions.get(r.key.toString());if(o){if(!i.isEqual(o))throw new Pe(Se.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(r.key.toString(),i)}precondition(r){const i=this.readVersions.get(r.toString());return!this.writtenDocs.has(r.toString())&&i?Mr.updateTime(i):Mr.none()}preconditionForUpdate(r){const i=this.readVersions.get(r.toString());if(!this.writtenDocs.has(r.toString())&&i){if(i.isEqual(Ut.min()))throw new Pe(Se.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Mr.updateTime(i)}return Mr.exists(!0)}write(r){this.ensureCommitNotCalled(),this.mutations.push(r)}ensureCommitNotCalled(){}}class Xj{constructor(r,i,o,c){this.asyncQueue=r,this.datastore=i,this.updateFunction=o,this.deferred=c,this.aa=5,this.rr=new Nk(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var r=this;this.rr.Xi((0,ke.Z)(function*(){const i=new Jj(r.datastore),o=r.ua(i);o&&o.then(c=>{r.asyncQueue.enqueueAndForget(()=>i.commit().then(()=>{r.deferred.resolve(c)}).catch(d=>{r.ha(d)}))}).catch(c=>{r.ha(c)})}))}ua(r){try{const i=this.updateFunction(r);return!me(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}ha(r){this.aa>0&&this.la(r)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(r)}la(r){if("FirebaseError"===r.name){const i=r.code;return"aborted"===i||"failed-precondition"===i||!BF(i)}return!1}}class eH{constructor(r,i,o){var c=this;this.credentials=r,this.asyncQueue=i,this.databaseInfo=o,this.user=ar.UNAUTHENTICATED,this.clientId=XO.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(i,function(){var d=(0,ke.Z)(function*(m){He("FirestoreClient","Received user=",m.uid),yield c.credentialListener(m),c.user=m});return function(m){return d.apply(this,arguments)}}())}getConfiguration(){var r=this;return(0,ke.Z)(function*(){return{asyncQueue:r.asyncQueue,databaseInfo:r.databaseInfo,clientId:r.clientId,credentials:r.credentials,initialUser:r.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(r){this.credentialListener=r}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Pe(Se.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var r=this;this.asyncQueue.enterRestrictedMode();const i=new Ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ke.Z)(function*(){try{r.onlineComponents&&(yield r.onlineComponents.terminate()),r.offlineComponents&&(yield r.offlineComponents.terminate()),r.credentials.shutdown(),i.resolve()}catch(o){const c=ly(o,"Failed to shutdown persistence");i.reject(c)}})),i.promise}}function lV(s,r){return xN.apply(this,arguments)}function xN(){return(xN=(0,ke.Z)(function*(s,r){s.asyncQueue.verifyOperationInProgress(),He("FirestoreClient","Initializing OfflineComponentProvider");const i=yield s.getConfiguration();yield r.initialize(i);let o=i.initialUser;s.setCredentialChangeListener(function(){var c=(0,ke.Z)(function*(d){o.isEqual(d)||(yield OL(r.localStore,d),o=d)});return function(d){return c.apply(this,arguments)}}()),r.persistence.setDatabaseDeletedListener(()=>s.terminate()),s.offlineComponents=r})).apply(this,arguments)}function cV(s,r){return RN.apply(this,arguments)}function RN(){return(RN=(0,ke.Z)(function*(s,r){s.asyncQueue.verifyOperationInProgress();const i=yield ON(s);He("FirestoreClient","Initializing OnlineComponentProvider");const o=yield s.getConfiguration();yield r.initialize(i,o),s.setCredentialChangeListener(c=>{return(d=(0,ke.Z)(function*(m,v){const S=Ze(m);S.asyncQueue.verifyOperationInProgress(),He("RemoteStore","RemoteStore received new credentials");const D=Kd(S);S.Kr.add(3),yield sy(S),D&&S.Wr.set("Unknown"),yield S.remoteSyncer.handleCredentialChange(v),S.Kr.delete(3),yield jw(S)}),function(m,v){return d.apply(this,arguments)})(r.remoteStore,c);var d}),s.onlineComponents=r})).apply(this,arguments)}function ON(s){return kN.apply(this,arguments)}function kN(){return(kN=(0,ke.Z)(function*(s){return s.offlineComponents||(He("FirestoreClient","Using default OfflineComponentProvider"),yield lV(s,new sV)),s.offlineComponents})).apply(this,arguments)}function WD(s){return NN.apply(this,arguments)}function NN(){return(NN=(0,ke.Z)(function*(s){return s.onlineComponents||(He("FirestoreClient","Using default OnlineComponentProvider"),yield cV(s,new MN)),s.onlineComponents})).apply(this,arguments)}function uV(s){return ON(s).then(r=>r.persistence)}function PN(s){return ON(s).then(r=>r.localStore)}function dV(s){return WD(s).then(r=>r.remoteStore)}function FN(s){return WD(s).then(r=>r.syncEngine)}function hy(s){return LN.apply(this,arguments)}function LN(){return(LN=(0,ke.Z)(function*(s){const r=yield WD(s),i=r.eventManager;return i.onListen=Oj.bind(null,r.syncEngine),i.onUnlisten=kj.bind(null,r.syncEngine),i})).apply(this,arguments)}function hV(s,r,i={}){const o=new Ar;return s.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return function(c,d,m,v,S){const D=new qD({next:k=>{d.enqueueAndForget(()=>eN(c,x));const j=k.docs.has(m);!j&&k.fromCache?S.reject(new Pe(Se.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&k.fromCache&&v&&"server"===v.source?S.reject(new Pe(Se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):S.resolve(k)},error:k=>S.reject(k)}),x=new rN(G_(m.path),D,{includeMetadataChanges:!0,uo:!0});return Jk(c,x)}(yield hy(s),s.asyncQueue,r,i,o)})),o.promise}function fV(s,r,i={}){const o=new Ar;return s.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return function(c,d,m,v,S){const D=new qD({next:k=>{d.enqueueAndForget(()=>eN(c,x)),k.fromCache&&"server"===v.source?S.reject(new Pe(Se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):S.resolve(k)},error:k=>S.reject(k)}),x=new rN(m,D,{includeMetadataChanges:!0,uo:!0});return Jk(c,x)}(yield hy(s),s.asyncQueue,r,i,o)})),o.promise}class cH{constructor(r,i,o,c,d,m,v,S){this.databaseId=r,this.appId=i,this.persistenceKey=o,this.host=c,this.ssl=d,this.forceLongPolling=m,this.autoDetectLongPolling=v,this.useFetchStreams=S}}class fy{constructor(r,i){this.projectId=r,this.database=i||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(r){return r instanceof fy&&r.projectId===this.projectId&&r.database===this.database}}const pV=new Map;function VN(s,r,i){if(!i)throw new Pe(Se.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${r}.`)}function gV(s,r,i,o){if(!0===r&&!0===o)throw new Pe(Se.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function mV(s){if(!se.isDocumentKey(s))throw new Pe(Se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function _V(s){if(se.isDocumentKey(s))throw new Pe(Se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function ZD(s){if(void 0===s)return"undefined";if(null===s)return"null";if("string"==typeof s)return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if("number"==typeof s||"boolean"==typeof s)return""+s;if("object"==typeof s){if(s instanceof Array)return"an array";{const r=function(i){if(i.constructor){const o=/function\s+([^\s(]+)\s*\(/.exec(i.constructor.toString());if(o&&o.length>1)return o[1]}return null}(s);return r?`a custom ${r} object`:"an object"}}return"function"==typeof s?"a function":lt()}function on(s,r){if("_delegate"in s&&(s=s._delegate),!(s instanceof r)){if(r.name===s.constructor.name)throw new Pe(Se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=ZD(s);throw new Pe(Se.INVALID_ARGUMENT,`Expected type '${r.name}', but it was: ${i}`)}}return s}function yV(s,r){if(r<=0)throw new Pe(Se.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${r}.`)}class vV{constructor(r){var i;if(void 0===r.host){if(void 0!==r.ssl)throw new Pe(Se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=r.host,this.ssl=null===(i=r.ssl)||void 0===i||i;if(this.credentials=r.credentials,this.ignoreUndefinedProperties=!!r.ignoreUndefinedProperties,void 0===r.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==r.cacheSizeBytes&&r.cacheSizeBytes<1048576)throw new Pe(Se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=r.cacheSizeBytes}this.experimentalForceLongPolling=!!r.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!r.experimentalAutoDetectLongPolling,this.useFetchStreams=!!r.useFetchStreams,gV("experimentalForceLongPolling",r.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",r.experimentalAutoDetectLongPolling)}isEqual(r){return this.host===r.host&&this.ssl===r.ssl&&this.credentials===r.credentials&&this.cacheSizeBytes===r.cacheSizeBytes&&this.experimentalForceLongPolling===r.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===r.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===r.ignoreUndefinedProperties&&this.useFetchStreams===r.useFetchStreams}}class Gw{constructor(r,i){this._credentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vV({}),this._settingsFrozen=!1,r instanceof fy?this._databaseId=r:(this._app=r,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new Pe(Se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fy(o.options.projectId)}(r))}get app(){if(!this._app)throw new Pe(Se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(r){if(this._settingsFrozen)throw new Pe(Se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vV(r),void 0!==r.credentials&&(this._credentials=function(i){if(!i)return new hF;switch(i.type){case"gapi":const o=i.client;return At(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new JO(o,i.sessionIndex||"0",i.iamToken||null);case"provider":return i.client;default:throw new Pe(Se.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(r.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const i=pV.get(r);i&&(He("ComponentProvider","Removing Datastore"),pV.delete(r),i.terminate())}(this),Promise.resolve()}}class Un{constructor(r,i,o){this.converter=i,this._key=o,this.type="document",this.firestore=r}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ol(this.firestore,this.converter,this._key.path.popLast())}withConverter(r){return new Un(this.firestore,r,this._key)}}class qi{constructor(r,i,o){this.converter=i,this._query=o,this.type="query",this.firestore=r}withConverter(r){return new qi(this.firestore,r,this._query)}}class Ol extends qi{constructor(r,i,o){super(r,i,G_(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const r=this._path.popLast();return r.isEmpty()?null:new Un(this.firestore,null,new se(r))}withConverter(r){return new Ol(this.firestore,r,this._path)}}function bV(s,r,...i){if(s=(0,un.m9)(s),VN("collection","path",r),s instanceof Gw){const o=u.fromString(r,...i);return _V(o),new Ol(s,null,o)}{if(!(s instanceof Un||s instanceof Ol))throw new Pe(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=u.fromString(s.path,...i).child(u.fromString(r));return _V(o),new Ol(s.firestore,null,o)}}function YD(s,r,...i){if(s=(0,un.m9)(s),1===arguments.length&&(r=XO.I()),VN("doc","path",r),s instanceof Gw){const o=u.fromString(r,...i);return mV(o),new Un(s,null,new se(o))}{if(!(s instanceof Un||s instanceof Ol))throw new Pe(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=s._path.child(u.fromString(r,...i));return mV(o),new Un(s.firestore,s instanceof Ol?s.converter:null,new se(o))}}function EV(s,r){return s=(0,un.m9)(s),r=(0,un.m9)(r),(s instanceof Un||s instanceof Ol)&&(r instanceof Un||r instanceof Ol)&&s.firestore===r.firestore&&s.path===r.path&&s.converter===r.converter}function wV(s,r){return s=(0,un.m9)(s),r=(0,un.m9)(r),s instanceof qi&&r instanceof qi&&s.firestore===r.firestore&&Tw(s._query,r._query)&&s.converter===r.converter}class hH{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new Nk(this,"async_queue_retry"),this.Ea=()=>{const i=GD();i&&He("AsyncQueue","Visibility state changed to "+i.visibilityState),this.rr.tr()};const r=GD();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(r){this.enqueue(r)}enqueueAndForgetEvenWhileRestricted(r){this.Ta(),this.Ia(r)}enterRestrictedMode(r){if(!this.wa){this.wa=!0,this.ya=r||!1;const i=GD();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Ea)}}enqueue(r){if(this.Ta(),this.wa)return new Promise(()=>{});const i=new Ar;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(r().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(r){this.enqueueAndForget(()=>(this.da.push(r),this.Aa()))}Aa(){var r=this;return(0,ke.Z)(function*(){if(0!==r.da.length){try{yield r.da[0](),r.da.shift(),r.rr.reset()}catch(i){if(!Op(i))throw i;He("AsyncQueue","Operation failed with retryable error: "+i)}r.da.length>0&&r.rr.Xi(()=>r.Aa())}})()}Ia(r){const i=this.fa.then(()=>(this.ga=!0,r().catch(o=>{throw this.ma=o,this.ga=!1,Xn("INTERNAL UNHANDLED ERROR: ",function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),d}(o)),o}).then(o=>(this.ga=!1,o))));return this.fa=i,i}enqueueAfterDelay(r,i,o){this.Ta(),this.pa.indexOf(r)>-1&&(i=0);const c=Qk.createAndSchedule(this,r,i,o,d=>this.Ra(d));return this._a.push(c),c}Ta(){this.ma&&lt()}verifyOperationInProgress(){}Pa(){var r=this;return(0,ke.Z)(function*(){let i;do{i=r.fa,yield i}while(i!==r.fa)})()}ba(r){for(const i of this._a)if(i.timerId===r)return!0;return!1}va(r){return this.Pa().then(()=>{this._a.sort((i,o)=>i.targetTimeMs-o.targetTimeMs);for(const i of this._a)if(i.skipDelay(),"all"!==r&&i.timerId===r)break;return this.Pa()})}Va(r){this.pa.push(r)}Ra(r){const i=this._a.indexOf(r);this._a.splice(i,1)}}function BN(s){return function(r,i){if("object"!=typeof r||null===r)return!1;const o=r;for(const c of["next","error","complete"])if(c in o&&"function"==typeof o[c])return!0;return!1}(s)}class fH{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ar,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(r,i,o){this._progressObserver={next:r,error:i,complete:o}}catch(r){return this._taskCompletionResolver.promise.catch(r)}then(r,i){return this._taskCompletionResolver.promise.then(r,i)}_completeWith(r){this._updateProgress(r),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(r)}_failWith(r){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(r),this._taskCompletionResolver.reject(r)}_updateProgress(r){this._lastProgress=r,this._progressObserver.next&&this._progressObserver.next(r)}}class ur extends Gw{constructor(r,i){super(r,i),this.type="firestore",this._queue=new hH,this._persistenceKey="name"in r?r.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||CV(this),this._firestoreClient.terminate()}}function Zr(s){return s._firestoreClient||CV(s),s._firestoreClient.verifyNotTerminated(),s._firestoreClient}function CV(s){var r;const i=s._freezeSettings(),o=(d=(null===(r=s._app)||void 0===r?void 0:r.options.appId)||"",new cH(s._databaseId,d,s._persistenceKey,(v=i).host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,v.useFetchStreams));var d,v;s._firestoreClient=new eH(s._credentials,s._queue,o)}function SV(s,r,i){const o=new Ar;return s.asyncQueue.enqueue((0,ke.Z)(function*(){try{yield lV(s,i),yield cV(s,r),o.resolve()}catch(c){if(!("FirebaseError"===(d=c).name?d.code===Se.FAILED_PRECONDITION||d.code===Se.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw c;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+c),o.reject(c)}var d})).then(()=>o.promise)}function IV(s){if(s._initialized||s._terminated)throw new Pe(Se.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class uu{constructor(...r){for(let i=0;i<r.length;++i)if(0===r[i].length)throw new Pe(Se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new g(r)}isEqual(r){return this._internalPath.isEqual(r._internalPath)}}class kl{constructor(r){this._byteString=r}static fromBase64String(r){try{return new kl(w.fromBase64String(r))}catch(i){throw new Pe(Se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(r){return new kl(w.fromUint8Array(r))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(r){return this._byteString.isEqual(r._byteString)}}class Fp{constructor(r){this._methodName=r}}class KD{constructor(r,i){if(!isFinite(r)||r<-90||r>90)throw new Pe(Se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+r);if(!isFinite(i)||i<-180||i>180)throw new Pe(Se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=r,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(r){return this._lat===r._lat&&this._long===r._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(r){return Xt(this._lat,r._lat)||Xt(this._long,r._long)}}const CH=/^__.*__$/;class SH{constructor(r,i,o){this.data=r,this.fieldMask=i,this.fieldTransforms=o}toMutation(r,i){return null!==this.fieldMask?new $d(r,this.data,this.fieldMask,i,this.fieldTransforms):new Mw(r,this.data,i,this.fieldTransforms)}}class TV{constructor(r,i,o){this.data=r,this.fieldMask=i,this.fieldTransforms=o}toMutation(r,i){return new $d(r,this.data,this.fieldMask,i,this.fieldTransforms)}}function DV(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw lt()}}class QD{constructor(r,i,o,c,d,m){this.settings=r,this.databaseId=i,this.N=o,this.ignoreUndefinedProperties=c,void 0===d&&this.Sa(),this.fieldTransforms=d||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(r){return new QD(Object.assign(Object.assign({},this.settings),r),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(r){var i;const o=null===(i=this.path)||void 0===i?void 0:i.child(r),c=this.Ca({path:o,xa:!1});return c.ka(r),c}$a(r){var i;const o=null===(i=this.path)||void 0===i?void 0:i.child(r),c=this.Ca({path:o,xa:!1});return c.Sa(),c}Oa(r){return this.Ca({path:void 0,xa:!0})}Fa(r){return XD(r,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(r){return void 0!==this.fieldMask.find(i=>r.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>r.isPrefixOf(i.field))}Sa(){if(this.path)for(let r=0;r<this.path.length;r++)this.ka(this.path.get(r))}ka(r){if(0===r.length)throw this.Fa("Document fields must not be empty");if(DV(this.Da)&&CH.test(r))throw this.Fa('Document fields cannot begin and end with "__"')}}class IH{constructor(r,i,o){this.databaseId=r,this.ignoreUndefinedProperties=i,this.N=o||Uw(r)}Ba(r,i,o,c=!1){return new QD({Da:r,methodName:i,La:o,path:g.emptyPath(),xa:!1,Ma:c},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Lp(s){const r=s._freezeSettings(),i=Uw(s._databaseId);return new IH(s._databaseId,!!r.ignoreUndefinedProperties,i)}function JD(s,r,i,o,c,d={}){const m=s.Ba(d.merge||d.mergeFields?2:0,r,i,c);GN("Data must be an object, but it was:",m,o);const v=xV(o,m);let S,D;if(d.merge)S=new _(m.fieldMask),D=m.fieldTransforms;else if(d.mergeFields){const x=[];for(const k of d.mergeFields){const j=$N(r,k,i);if(!m.contains(j))throw new Pe(Se.INVALID_ARGUMENT,`Field '${j}' is specified in your field mask but missing from your input data.`);OV(x,j)||x.push(j)}S=new _(x),D=m.fieldTransforms.filter(k=>S.covers(k.field))}else S=null,D=m.fieldTransforms;return new SH(new $i(v),S,D)}class $w extends Fp{_toFieldTransform(r){if(2!==r.Da)throw r.Fa(1===r.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return r.fieldMask.push(r.path),null}isEqual(r){return r instanceof $w}}function AV(s,r,i){return new QD({Da:3,La:r.settings.La,methodName:s._methodName,xa:i},r.databaseId,r.N,r.ignoreUndefinedProperties)}class UN extends Fp{_toFieldTransform(r){return new Aw(r.path,new z_)}isEqual(r){return r instanceof UN}}class TH extends Fp{constructor(r,i){super(r),this.Ua=i}_toFieldTransform(r){const i=AV(this,r,!0),o=this.Ua.map(d=>Vp(d,i)),c=new Mp(o);return new Aw(r.path,c)}isEqual(r){return this===r}}class DH extends Fp{constructor(r,i){super(r),this.Ua=i}_toFieldTransform(r){const i=AV(this,r,!0),o=this.Ua.map(d=>Vp(d,i)),c=new xp(o);return new Aw(r.path,c)}isEqual(r){return this===r}}class AH extends Fp{constructor(r,i){super(r),this.qa=i}_toFieldTransform(r){const i=new q_(r.N,AF(r.N,this.qa));return new Aw(r.path,i)}isEqual(r){return this===r}}function jN(s,r,i,o){const c=s.Ba(1,r,i);GN("Data must be an object, but it was:",c,o);const d=[],m=$i.empty();Hd(o,(S,D)=>{const x=zN(r,S,i);D=(0,un.m9)(D);const k=c.$a(x);if(D instanceof $w)d.push(x);else{const j=Vp(D,k);null!=j&&(d.push(x),m.set(x,j))}});const v=new _(d);return new TV(m,v,c.fieldTransforms)}function HN(s,r,i,o,c,d){const m=s.Ba(1,r,i),v=[$N(r,o,i)],S=[c];if(d.length%2!=0)throw new Pe(Se.INVALID_ARGUMENT,`Function ${r}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let j=0;j<d.length;j+=2)v.push($N(r,d[j])),S.push(d[j+1]);const D=[],x=$i.empty();for(let j=v.length-1;j>=0;--j)if(!OV(D,v[j])){const H=v[j];let X=S[j];X=(0,un.m9)(X);const ye=m.$a(H);if(X instanceof $w)D.push(H);else{const Re=Vp(X,ye);null!=Re&&(D.push(H),x.set(H,Re))}}const k=new _(D);return new TV(x,k,m.fieldTransforms)}function MV(s,r,i,o=!1){return Vp(i,s.Ba(o?4:3,r))}function Vp(s,r){if(RV(s=(0,un.m9)(s)))return GN("Unsupported field value:",r,s),xV(s,r);if(s instanceof Fp)return function(i,o){if(!DV(o.Da))throw o.Fa(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Fa(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(s,r),null;if(void 0===s&&r.ignoreUndefinedProperties)return null;if(r.path&&r.fieldMask.push(r.path),s instanceof Array){if(r.settings.xa&&4!==r.Da)throw r.Fa("Nested arrays are not supported");return function(i,o){const c=[];let d=0;for(const m of i){let v=Vp(m,o.Oa(d));null==v&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}}(s,r)}return function(i,o){if(null===(i=(0,un.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return AF(o.N,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const c=qr.fromDate(i);return{timestampValue:kw(o.N,c)}}if(i instanceof qr){const c=new qr(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:kw(o.N,c)}}if(i instanceof KD)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof kl)return{bytesValue:ZF(o.N,i._byteString)};if(i instanceof Un){const c=o.databaseId,d=i.firestore._databaseId;if(!d.isEqual(c))throw o.Fa(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:lk(i.firestore._databaseId||o.databaseId,i._key.path)}}throw o.Fa(`Unsupported field value: ${ZD(i)}`)}(s,r)}function xV(s,r){const i={};return a(s)?r.path&&r.path.length>0&&r.fieldMask.push(r.path):Hd(s,(o,c)=>{const d=Vp(c,r.Na(o));null!=d&&(i[o]=d)}),{mapValue:{fields:i}}}function RV(s){return!("object"!=typeof s||null===s||s instanceof Array||s instanceof Date||s instanceof qr||s instanceof KD||s instanceof kl||s instanceof Un||s instanceof Fp)}function GN(s,r,i){if(!RV(i)||"object"!=typeof(o=i)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=ZD(i);throw r.Fa("an object"===o?s+" a custom object":s+" "+o)}var o}function $N(s,r,i){if((r=(0,un.m9)(r))instanceof uu)return r._internalPath;if("string"==typeof r)return zN(s,r);throw XD("Field path arguments must be of type string or FieldPath.",s,!1,void 0,i)}const MH=new RegExp("[~\\*/\\[\\]]");function zN(s,r,i){if(r.search(MH)>=0)throw XD(`Invalid field path (${r}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new uu(...r.split("."))._internalPath}catch(o){throw XD(`Invalid field path (${r}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function XD(s,r,i,o,c){const d=o&&!o.isEmpty(),m=void 0!==c;let v=`Function ${r}() called with invalid data`;i&&(v+=" (via `toFirestore()`)"),v+=". ";let S="";return(d||m)&&(S+=" (found",d&&(S+=` in field ${o}`),m&&(S+=` in document ${c}`),S+=")"),new Pe(Se.INVALID_ARGUMENT,v+s+S)}function OV(s,r){return s.some(i=>i.isEqual(r))}class zw{constructor(r,i,o,c,d){this._firestore=r,this._userDataWriter=i,this._key=o,this._document=c,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new Un(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const r=new xH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(r)}return this._userDataWriter.convertValue(this._document.data.value)}}get(r){if(this._document){const i=this._document.data.field(eA("DocumentSnapshot.get",r));if(null!==i)return this._userDataWriter.convertValue(i)}}}class xH extends zw{data(){return super.data()}}function eA(s,r){return"string"==typeof r?zN(s,r):r instanceof uu?r._internalPath:r._delegate._internalPath}class Bp{constructor(r,i){this.hasPendingWrites=r,this.fromCache=i}isEqual(r){return this.hasPendingWrites===r.hasPendingWrites&&this.fromCache===r.fromCache}}class du extends zw{constructor(r,i,o,c,d,m){super(r,i,o,c,m),this._firestore=r,this._firestoreImpl=r,this.metadata=d}exists(){return super.exists()}data(r={}){if(this._document){if(this._converter){const i=new qw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,r)}return this._userDataWriter.convertValue(this._document.data.value,r.serverTimestamps)}}get(r,i={}){if(this._document){const o=this._document.data.field(eA("DocumentSnapshot.get",r));if(null!==o)return this._userDataWriter.convertValue(o,i.serverTimestamps)}}}class qw extends du{data(r={}){return super.data(r)}}class Jd{constructor(r,i,o,c){this._firestore=r,this._userDataWriter=i,this._snapshot=c,this.metadata=new Bp(c.hasPendingWrites,c.fromCache),this.query=o}get docs(){const r=[];return this.forEach(i=>r.push(i)),r}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(r,i){this._snapshot.docs.forEach(o=>{r.call(i,new qw(this._firestore,this._userDataWriter,o.key,o,new Bp(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(r={}){const i=!!r.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new Pe(Se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(m=>({type:"added",doc:new qw(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Bp(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:d++}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>c||3!==m.type).map(m=>{const v=new qw(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Bp(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let S=-1,D=-1;return 0!==m.type&&(S=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),1!==m.type&&(d=d.add(m.doc),D=d.indexOf(m.doc.key)),{type:RH(m.type),doc:v,oldIndex:S,newIndex:D}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function RH(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return lt()}}function kV(s,r){return s instanceof du&&r instanceof du?s._firestore===r._firestore&&s._key.isEqual(r._key)&&(null===s._document?null===r._document:s._document.isEqual(r._document))&&s._converter===r._converter:s instanceof Jd&&r instanceof Jd&&s._firestore===r._firestore&&wV(s.query,r.query)&&s.metadata.isEqual(r.metadata)&&s._snapshot.isEqual(r._snapshot)}function NV(s){if(DD(s)&&0===s.explicitOrderBy.length)throw new Pe(Se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ww{}function Xd(s,...r){for(const i of r)s=i._apply(s);return s}class OH extends Ww{constructor(r,i,o){super(),this.Ka=r,this.ja=i,this.Qa=o,this.type="where"}_apply(r){const i=Lp(r.firestore),o=function(c,d,m,v,S,D,x){let k;if(S.isKeyField()){if("array-contains"===D||"array-contains-any"===D)throw new Pe(Se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${D}' queries on FieldPath.documentId().`);if("in"===D||"not-in"===D){UV(x,D);const H=[];for(const X of x)H.push(BV(v,c,X));k={arrayValue:{values:H}}}else k=BV(v,c,x)}else"in"!==D&&"not-in"!==D&&"array-contains-any"!==D||UV(x,D),k=MV(m,"where",x,"in"===D||"not-in"===D);const j=ds.create(S,D,k);return function(H,X){if(X.v()){const Re=nk(H);if(null!==Re&&!Re.isEqual(X.field))throw new Pe(Se.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Re.toString()}' and '${X.field.toString()}'`);const Ge=tk(H);null!==Ge&&jV(0,X.field,Ge)}const ye=function(Re,Ge){for(const Ye of Re.filters)if(Ge.indexOf(Ye.op)>=0)return Ye.op;return null}(H,function(Re){switch(Re){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(X.op));if(null!==ye)throw new Pe(Se.INVALID_ARGUMENT,ye===X.op?`Invalid query. You cannot use more than one '${X.op.toString()}' filter.`:`Invalid query. You cannot use '${X.op.toString()}' filters with '${ye.toString()}' filters.`)}(c,j),j}(r._query,0,i,r.firestore._databaseId,this.Ka,this.ja,this.Qa);return new qi(r.firestore,r.converter,function(c,d){const m=c.filters.concat([d]);return new ou(c.path,c.collectionGroup,c.explicitOrderBy.slice(),m,c.limit,c.limitType,c.startAt,c.endAt)}(r._query,o))}}class NH extends Ww{constructor(r,i){super(),this.Ka=r,this.Wa=i,this.type="orderBy"}_apply(r){const i=function(o,c,d){if(null!==o.startAt)throw new Pe(Se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new Pe(Se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const m=new H_(c,d);return function(v,S){if(null===tk(v)){const D=nk(v);null!==D&&jV(0,D,S.field)}}(o,m),m}(r._query,this.Ka,this.Wa);return new qi(r.firestore,r.converter,function(o,c){const d=o.explicitOrderBy.concat([c]);return new ou(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(r._query,i))}}class PV extends Ww{constructor(r,i,o){super(),this.type=r,this.Ga=i,this.za=o}_apply(r){return new qi(r.firestore,r.converter,CF(r._query,this.Ga,this.za))}}class FV extends Ww{constructor(r,i,o){super(),this.type=r,this.Ha=i,this.Ja=o}_apply(r){const i=VV(r,this.type,this.Ha,this.Ja);return new qi(r.firestore,r.converter,(c=i,new ou((o=r._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,c,o.endAt)));var o,c}}class LV extends Ww{constructor(r,i,o){super(),this.type=r,this.Ha=i,this.Ja=o}_apply(r){const i=VV(r,this.type,this.Ha,this.Ja);return new qi(r.firestore,r.converter,(c=i,new ou((o=r._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,c)));var o,c}}function VV(s,r,i,o){if(i[0]=(0,un.m9)(i[0]),i[0]instanceof zw)return function(c,d,m,v,S){if(!v)throw new Pe(Se.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${m}().`);const D=[];for(const x of $_(c))if(x.field.isKeyField())D.push(Ea(d,v.key));else{const k=v.data.field(x.field);if(L(k))throw new Pe(Se.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===k){const j=x.field.canonicalString();throw new Pe(Se.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${j}' (used as the orderBy) does not exist.`)}D.push(k)}return new Iw(D,S)}(s._query,s.firestore._databaseId,r,i[0]._document,o);{const c=Lp(s.firestore);return function(d,m,v,S,D,x){const k=d.explicitOrderBy;if(D.length>k.length)throw new Pe(Se.INVALID_ARGUMENT,`Too many arguments provided to ${S}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const j=[];for(let H=0;H<D.length;H++){const X=D[H];if(k[H].field.isKeyField()){if("string"!=typeof X)throw new Pe(Se.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${S}(), but got a ${typeof X}`);if(!rk(d)&&-1!==X.indexOf("/"))throw new Pe(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${S}() must be a plain document ID, but '${X}' contains a slash.`);const ye=d.path.child(u.fromString(X));if(!se.isDocumentKey(ye))throw new Pe(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${S}() must result in a valid document path, but '${ye}' is not because it contains an odd number of segments.`);const Re=new se(ye);j.push(Ea(m,Re))}else{const ye=MV(v,S,X);j.push(ye)}}return new Iw(j,x)}(s._query,s.firestore._databaseId,c,r,i,o)}}function BV(s,r,i){if("string"==typeof(i=(0,un.m9)(i))){if(""===i)throw new Pe(Se.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!rk(r)&&-1!==i.indexOf("/"))throw new Pe(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const o=r.path.child(u.fromString(i));if(!se.isDocumentKey(o))throw new Pe(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Ea(s,new se(o))}if(i instanceof Un)return Ea(s,i._key);throw new Pe(Se.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${ZD(i)}.`)}function UV(s,r){if(!Array.isArray(s)||0===s.length)throw new Pe(Se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${r.toString()}' filters.`);if(s.length>10)throw new Pe(Se.INVALID_ARGUMENT,`Invalid Query. '${r.toString()}' filters support a maximum of 10 elements in the value array.`)}function jV(s,r,i){if(!i.isEqual(r))throw new Pe(Se.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${r.toString()}' and so you must also use '${r.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${i.toString()}' instead.`)}class qN{convertValue(r,i="none"){switch(it(r)){case 0:return null;case 1:return r.booleanValue;case 2:return R(r.integerValue||r.doubleValue);case 3:return this.convertTimestamp(r.timestampValue);case 4:return this.convertServerTimestamp(r,i);case 5:return r.stringValue;case 6:return this.convertBytes(N(r.bytesValue));case 7:return this.convertReference(r.referenceValue);case 8:return this.convertGeoPoint(r.geoPointValue);case 9:return this.convertArray(r.arrayValue,i);case 10:return this.convertObject(r.mapValue,i);default:throw lt()}}convertObject(r,i){const o={};return Hd(r.fields,(c,d)=>{o[c]=this.convertValue(d,i)}),o}convertGeoPoint(r){return new KD(R(r.latitude),R(r.longitude))}convertArray(r,i){return(r.values||[]).map(o=>this.convertValue(o,i))}convertServerTimestamp(r,i){switch(i){case"previous":const o=$(r);return null==o?null:this.convertValue(o,i);case"estimate":return this.convertTimestamp(J(r));default:return null}}convertTimestamp(r){const i=M(r);return new qr(i.seconds,i.nanos)}convertDocumentKey(r,i){const o=u.fromString(r);At(aL(o));const c=new fy(o.get(1),o.get(3)),d=new se(o.popFirst(5));return c.isEqual(i)||Xn(`Document ${d} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),d}}function tA(s,r,i){let o;return o=s?i&&(i.merge||i.mergeFields)?s.toFirestore(r,i):s.toFirestore(r):r,o}class HH extends qN{constructor(r){super(),this.firestore=r}convertBytes(r){return new kl(r)}convertReference(r){const i=this.convertDocumentKey(r,this.firestore._databaseId);return new Un(this.firestore,null,i)}}class HV{constructor(r,i){this._firestore=r,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=Lp(r)}set(r,i,o){this._verifyNotCommitted();const c=eh(r,this._firestore),d=tA(c.converter,i,o),m=JD(this._dataReader,"WriteBatch.set",c._key,d,null!==c.converter,o);return this._mutations.push(m.toMutation(c._key,Mr.none())),this}update(r,i,o,...c){this._verifyNotCommitted();const d=eh(r,this._firestore);let m;return m="string"==typeof(i=(0,un.m9)(i))||i instanceof uu?HN(this._dataReader,"WriteBatch.update",d._key,i,o,c):jN(this._dataReader,"WriteBatch.update",d._key,i),this._mutations.push(m.toMutation(d._key,Mr.exists(!0))),this}delete(r){this._verifyNotCommitted();const i=eh(r,this._firestore);return this._mutations=this._mutations.concat(new xw(i._key,Mr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Pe(Se.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function eh(s,r){if((s=(0,un.m9)(s)).firestore!==r)throw new Pe(Se.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}class Up extends qN{constructor(r){super(),this.firestore=r}convertBytes(r){return new kl(r)}convertReference(r){const i=this.convertDocumentKey(r,this.firestore._databaseId);return new Un(this.firestore,null,i)}}function GV(s,r,i){s=on(s,Un);const o=on(s.firestore,ur),c=tA(s.converter,r,i);return py(o,[JD(Lp(o),"setDoc",s._key,c,null!==s.converter,i).toMutation(s._key,Mr.none())])}function $V(s,r,i,...o){s=on(s,Un);const c=on(s.firestore,ur),d=Lp(c);let m;return m="string"==typeof(r=(0,un.m9)(r))||r instanceof uu?HN(d,"updateDoc",s._key,r,i,o):jN(d,"updateDoc",s._key,r),py(c,[m.toMutation(s._key,Mr.exists(!0))])}function zV(s,...r){var i,o,c;s=(0,un.m9)(s);let d={includeMetadataChanges:!1},m=0;"object"!=typeof r[m]||BN(r[m])||(d=r[m],m++);const v={includeMetadataChanges:d.includeMetadataChanges};if(BN(r[m])){const k=r[m];r[m]=null===(i=k.next)||void 0===i?void 0:i.bind(k),r[m+1]=null===(o=k.error)||void 0===o?void 0:o.bind(k),r[m+2]=null===(c=k.complete)||void 0===c?void 0:c.bind(k)}let S,D,x;if(s instanceof Un)D=on(s.firestore,ur),x=G_(s._key.path),S={next:k=>{r[m]&&r[m](WN(D,s,k))},error:r[m+1],complete:r[m+2]};else{const k=on(s,qi);D=on(k.firestore,ur),x=k._query;const j=new Up(D);S={next:H=>{r[m]&&r[m](new Jd(D,j,k,H))},error:r[m+1],complete:r[m+2]},NV(s._query)}return function(k,j,H,X){const ye=new qD(X),Re=new rN(j,ye,H);return k.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return Jk(yield hy(k),Re)})),()=>{ye.Xo(),k.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return eN(yield hy(k),Re)}))}}(Zr(D),x,v,S)}function py(s,r){return function(i,o){const c=new Ar;return i.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return function(s,r,i){return lN.apply(this,arguments)}(yield FN(i),o,c)})),c.promise}(Zr(s),r)}function WN(s,r,i){const o=i.docs.get(r._key),c=new Up(s);return new du(s,c,r._key,o,new Bp(i.hasPendingWrites,i.fromCache),r.converter)}class JH extends class{constructor(r,i){this._firestore=r,this._transaction=i,this._dataReader=Lp(r)}get(r){const i=eh(r,this._firestore),o=new HH(this._firestore);return this._transaction.lookup([i._key]).then(c=>{if(!c||1!==c.length)return lt();const d=c[0];if(d.isFoundDocument())return new zw(this._firestore,o,d.key,d,i.converter);if(d.isNoDocument())return new zw(this._firestore,o,i._key,null,i.converter);throw lt()})}set(r,i,o){const c=eh(r,this._firestore),d=tA(c.converter,i,o),m=JD(this._dataReader,"Transaction.set",c._key,d,null!==c.converter,o);return this._transaction.set(c._key,m),this}update(r,i,o,...c){const d=eh(r,this._firestore);let m;return m="string"==typeof(i=(0,un.m9)(i))||i instanceof uu?HN(this._dataReader,"Transaction.update",d._key,i,o,c):jN(this._dataReader,"Transaction.update",d._key,i),this._transaction.update(d._key,m),this}delete(r){const i=eh(r,this._firestore);return this._transaction.delete(i._key),this}}{constructor(r,i){super(r,i),this._firestore=r}get(r){const i=eh(r,this._firestore),o=new Up(this._firestore);return super.get(r).then(c=>new du(this._firestore,o,i._key,c._document,new Bp(!1,!1),i.converter))}}function ZN(s,r){if(void 0===r)return{merge:!1};if(void 0!==r.mergeFields&&void 0!==r.merge)throw new Pe("invalid-argument",`Invalid options passed to function ${s}(): You cannot specify both "merge" and "mergeFields".`);return r}function qV(){if("undefined"==typeof Uint8Array)throw new Pe("unimplemented","Uint8Arrays are not available in this environment.")}function WV(){if("undefined"==typeof atob)throw new Pe("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(s){po=s})(PE.SDK_VERSION),(0,PE._registerComponent)(new bT.wA("firestore",(s,{options:r})=>{const i=s.getProvider("app").getImmediate(),o=new ur(i,new pF(s.getProvider("auth-internal")));return r=Object.assign({useFetchStreams:!0},r),o._setSettings(r),o},"PUBLIC")),(0,PE.registerVersion)("@firebase/firestore","3.0.0",void 0);class Zw{constructor(r){this._delegate=r}static fromBase64String(r){return WV(),new Zw(kl.fromBase64String(r))}static fromUint8Array(r){return qV(),new Zw(kl.fromUint8Array(r))}toBase64(){return WV(),this._delegate.toBase64()}toUint8Array(){return qV(),this._delegate.toUint8Array()}isEqual(r){return this._delegate.isEqual(r._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function YN(s){return function(s,r){if("object"!=typeof s||null===s)return!1;const i=s;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(s)}class u3{enableIndexedDbPersistence(r,i){return function(s,r){IV(s=on(s,ur));const i=Zr(s),o=s._freezeSettings(),c=new MN;return SV(i,c,new oV(c,o.cacheSizeBytes,null==r?void 0:r.forceOwnership))}(r._delegate,{forceOwnership:i})}enableMultiTabIndexedDbPersistence(r){return function(s){IV(s=on(s,ur));const r=Zr(s),i=s._freezeSettings(),o=new MN;return SV(r,o,new Kj(o,i.cacheSizeBytes))}(r._delegate)}clearIndexedDbPersistence(r){return function(s){if(s._initialized&&!s._terminated)throw new Pe(Se.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const r=new Ar;return s._queue.enqueueAndForgetEvenWhileRestricted((0,ke.Z)(function*(){try{yield(i=(0,ke.Z)(function*(o){if(!Ca.Pt())return Promise.resolve();const c=o+"main";yield Ca.delete(c)}),function(o){return i.apply(this,arguments)})(Ek(s._databaseId,s._persistenceKey)),r.resolve()}catch(i){r.reject(i)}var i})),r.promise}(r._delegate)}}class ZV{constructor(r,i,o){this._delegate=i,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},r instanceof fy||(this._appCompat=r)}get _databaseId(){return this._delegate._databaseId}settings(r){const i=this._delegate._getSettings();!r.merge&&i.host!==r.host&&jd("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),r.merge&&delete(r=Object.assign(Object.assign({},i),r)).merge,this._delegate._setSettings(r)}useEmulator(r,i,o={}){!function(s,r,i,o={}){var c;const d=(s=on(s,Gw))._getSettings();if("firestore.googleapis.com"!==d.host&&d.host!==r&&jd("Host has been set in both settings() and useEmulator(), emulator host will be used"),s._setSettings(Object.assign(Object.assign({},d),{host:`${r}:${i}`,ssl:!1})),o.mockUserToken){let m,v;if("string"==typeof o.mockUserToken)m=o.mockUserToken,v=ar.MOCK_USER;else{m=(0,un.Sg)(o.mockUserToken,null===(c=s._app)||void 0===c?void 0:c.options.projectId);const S=o.mockUserToken.sub||o.mockUserToken.user_id;if(!S)throw new Pe(Se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new ar(S)}s._credentials=new fF(new ED(m,v))}}(this._delegate,r,i,o)}enableNetwork(){return function(s){return function(s){return s.asyncQueue.enqueue((0,ke.Z)(function*(){const r=yield uV(s),i=yield dV(s);return r.setNetworkEnabled(!0),function(o){const c=Ze(o);return c.Kr.delete(0),jw(c)}(i)}))}(Zr(s=on(s,ur)))}(this._delegate)}disableNetwork(){return function(s){return function(s){return s.asyncQueue.enqueue((0,ke.Z)(function*(){const r=yield uV(s),i=yield dV(s);return r.setNetworkEnabled(!1),(o=(0,ke.Z)(function*(c){const d=Ze(c);d.Kr.add(0),yield sy(d),d.Wr.set("Offline")}),function(c){return o.apply(this,arguments)})(i);var o}))}(Zr(s=on(s,ur)))}(this._delegate)}enablePersistence(r){let i=!1,o=!1;return r&&(i=!!r.synchronizeTabs,o=!!r.experimentalForceOwningTab,gV("synchronizeTabs",i,"experimentalForceOwningTab",o)),i?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(s){return function(r){const i=new Ar;return r.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return function(s,r){return fN.apply(this,arguments)}(yield FN(r),i)})),i.promise}(Zr(s=on(s,ur)))}(this._delegate)}onSnapshotsInSync(r){return function(s,r){return function(s,r){const i=new qD(r);return s.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return o=yield hy(s),c=i,Ze(o).Zr.add(c),void c.next();var o,c})),()=>{i.Xo(),s.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return o=yield hy(s),c=i,void Ze(o).Zr.delete(c);var o,c}))}}(Zr(s=on(s,ur)),BN(r)?r:{next:r})}(this._delegate,r)}get app(){if(!this._appCompat)throw new Pe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(r){try{return new gy(this,bV(this._delegate,r))}catch(i){throw hs(i,"collection()","Firestore.collection()")}}doc(r){try{return new Vo(this,YD(this._delegate,r))}catch(i){throw hs(i,"doc()","Firestore.doc()")}}collectionGroup(r){try{return new fs(this,function(s,r){if(s=on(s,Gw),VN("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new Pe(Se.INVALID_ARGUMENT,`Invalid collection ID '${r}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new qi(s,null,(i=r,new ou(u.emptyPath(),i)));var i}(this._delegate,r))}catch(i){throw hs(i,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(r){return function(s,r){return function(s,r){const i=new Ar;return s.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){const o=yield(c=s,WD(c).then(d=>d.datastore));var c;new Xj(s.asyncQueue,o,r,i).run()})),i.promise}(Zr(s),i=>r(new JH(s,i)))}(this._delegate,i=>r(new YV(this,i)))}batch(){return Zr(this._delegate),new KV(new HV(this._delegate,r=>py(this._delegate,r)))}loadBundle(r){return function(s,r){const i=Zr(s=on(s,ur)),o=new fH;return function(s,r,i,o){const c=function(d,m){let v;return v="string"==typeof d?(new TextEncoder).encode(d):d,S=function(S,D){if(S instanceof Uint8Array)return aV(S,D);if(S instanceof ArrayBuffer)return aV(new Uint8Array(S),D);if(S instanceof ReadableStream)return S.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(v),new Qj(S,m);var S}(i,Uw(r));s.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){!function(s,r,i){const o=Ze(s);var c;(c=(0,ke.Z)(function*(d,m,v){try{const S=yield m.getMetadata();if(yield function(j,H){const X=Ze(j),ye=ci(H.createTime);return X.persistence.runTransaction("hasNewerBundle","readonly",Re=>X.Je.getBundleMetadata(Re,H.id)).then(Re=>!!Re&&Re.createTime.compareTo(ye)>=0)}(d.localStore,S))return yield m.close(),void v._completeWith((j=S,{taskState:"Success",documentsLoaded:j.totalDocuments,bytesLoaded:j.totalBytes,totalDocuments:j.totalDocuments,totalBytes:j.totalBytes}));v._updateProgress(KL(S));const D=new Aj(S,d.localStore,m.N);let x=yield m.Qo();for(;x;){const j=yield D.fo(x);j&&v._updateProgress(j),x=yield m.Qo()}const k=yield D.complete();yield cu(d,k.Tn,void 0),yield function(j,H){const X=Ze(j);return X.persistence.runTransaction("Save bundle","readwrite",ye=>X.Je.saveBundleMetadata(ye,H))}(d.localStore,S),v._completeWith(k.progress)}catch(S){jd("SyncEngine",`Loading bundle failed with ${S}`),v._failWith(S)}var j}),function(d,m,v){return c.apply(this,arguments)})(o,r,i).then(()=>{o.sharedClientState.notifyBundleLoaded()})}(yield FN(s),c,o)}))}(i,s._databaseId,r,o),o}(this._delegate,r)}namedQuery(r){return function(s,r){return function(s,r){return s.asyncQueue.enqueue((0,ke.Z)(function*(){return function(i,o){const c=Ze(i);return c.persistence.runTransaction("Get named query","readonly",d=>c.Je.getNamedQuery(d,o))}(yield PN(s),r)}))}(Zr(s=on(s,ur)),r).then(i=>i?new qi(s,null,i.query):null)}(this._delegate,r).then(i=>i?new fs(this,i):null)}}class nA extends qN{constructor(r){super(),this.firestore=r}convertBytes(r){return new Zw(new kl(r))}convertReference(r){const i=this.convertDocumentKey(r,this.firestore._databaseId);return Vo.forKey(i,this.firestore,null)}}class YV{constructor(r,i){this._firestore=r,this._delegate=i,this._userDataWriter=new nA(r)}get(r){const i=Hp(r);return this._delegate.get(i).then(o=>new Yw(this._firestore,new du(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,i.converter)))}set(r,i,o){const c=Hp(r);return o?(ZN("Transaction.set",o),this._delegate.set(c,i,o)):this._delegate.set(c,i),this}update(r,i,o,...c){const d=Hp(r);return 2===arguments.length?this._delegate.update(d,i):this._delegate.update(d,i,o,...c),this}delete(r){const i=Hp(r);return this._delegate.delete(i),this}}class KV{constructor(r){this._delegate=r}set(r,i,o){const c=Hp(r);return o?(ZN("WriteBatch.set",o),this._delegate.set(c,i,o)):this._delegate.set(c,i),this}update(r,i,o,...c){const d=Hp(r);return 2===arguments.length?this._delegate.update(d,i):this._delegate.update(d,i,o,...c),this}delete(r){const i=Hp(r);return this._delegate.delete(i),this}commit(){return this._delegate.commit()}}class jp{constructor(r,i,o){this._firestore=r,this._userDataWriter=i,this._delegate=o}fromFirestore(r,i){const o=new qw(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,null);return this._delegate.fromFirestore(new Kw(this._firestore,o),null!=i?i:{})}toFirestore(r,i){return i?this._delegate.toFirestore(r,i):this._delegate.toFirestore(r)}static getInstance(r,i){const o=jp.INSTANCES;let c=o.get(r);c||(c=new WeakMap,o.set(r,c));let d=c.get(i);return d||(d=new jp(r,new nA(r),i),c.set(i,d)),d}}jp.INSTANCES=new WeakMap;class Vo{constructor(r,i){this.firestore=r,this._delegate=i,this._userDataWriter=new nA(r)}static forPath(r,i,o){if(r.length%2!=0)throw new Pe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${r.canonicalString()} has ${r.length}`);return new Vo(i,new Un(i._delegate,o,new se(r)))}static forKey(r,i,o){return new Vo(i,new Un(i._delegate,o,r))}get id(){return this._delegate.id}get parent(){return new gy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(r){try{return new gy(this.firestore,bV(this._delegate,r))}catch(i){throw hs(i,"collection()","DocumentReference.collection()")}}isEqual(r){return(r=(0,un.m9)(r))instanceof Un&&EV(this._delegate,r)}set(r,i){i=ZN("DocumentReference.set",i);try{return i?GV(this._delegate,r,i):GV(this._delegate,r)}catch(o){throw hs(o,"setDoc()","DocumentReference.set()")}}update(r,i,...o){try{return 1===arguments.length?$V(this._delegate,r):$V(this._delegate,r,i,...o)}catch(c){throw hs(c,"updateDoc()","DocumentReference.update()")}}delete(){return function(s){return py(on(s.firestore,ur),[new xw(s._key,Mr.none())])}(this._delegate)}onSnapshot(...r){const i=QV(r),o=JV(r,c=>new Yw(this.firestore,new du(this.firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,this._delegate.converter)));return zV(this._delegate,i,o)}get(r){let i;return i="cache"===(null==r?void 0:r.source)?function(s){s=on(s,Un);const r=on(s.firestore,ur),i=Zr(r),o=new Up(r);return function(s,r){const i=new Ar;return s.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return(o=(0,ke.Z)(function*(c,d,m){try{const v=yield function(S,D){const x=Ze(S);return x.persistence.runTransaction("read document","readonly",k=>x.Qn.An(k,D))}(c,d);v.isFoundDocument()?m.resolve(v):v.isNoDocument()?m.resolve(null):m.reject(new Pe(Se.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(v){const S=ly(v,`Failed to get document '${d} from cache`);m.reject(S)}}),function(c,d,m){return o.apply(this,arguments)})(yield PN(s),r,i);var o})),i.promise}(i,s._key).then(c=>new du(r,o,s._key,c,new Bp(null!==c&&c.hasLocalMutations,!0),s.converter))}(this._delegate):"server"===(null==r?void 0:r.source)?function(s){s=on(s,Un);const r=on(s.firestore,ur);return hV(Zr(r),s._key,{source:"server"}).then(i=>WN(r,s,i))}(this._delegate):function(s){s=on(s,Un);const r=on(s.firestore,ur);return hV(Zr(r),s._key).then(i=>WN(r,s,i))}(this._delegate),i.then(o=>new Yw(this.firestore,new du(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(r){return new Vo(this.firestore,this._delegate.withConverter(r?jp.getInstance(this.firestore,r):null))}}function hs(s,r,i){return s.message=s.message.replace(r,i),s}function QV(s){for(const r of s)if("object"==typeof r&&!YN(r))return r;return{}}function JV(s,r){var i,o;let c;return c=YN(s[0])?s[0]:YN(s[1])?s[1]:"function"==typeof s[0]?{next:s[0],error:s[1],complete:s[2]}:{next:s[1],error:s[2],complete:s[3]},{next:d=>{c.next&&c.next(r(d))},error:null===(i=c.error)||void 0===i?void 0:i.bind(c),complete:null===(o=c.complete)||void 0===o?void 0:o.bind(c)}}class Yw{constructor(r,i){this._firestore=r,this._delegate=i}get ref(){return new Vo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(r){return this._delegate.data(r)}get(r,i){return this._delegate.get(r,i)}isEqual(r){return kV(this._delegate,r._delegate)}}class Kw extends Yw{data(r){const i=this._delegate.data(r);return function(s,r){s||lt()}(void 0!==i),i}}class fs{constructor(r,i){this.firestore=r,this._delegate=i,this._userDataWriter=new nA(r)}where(r,i,o){try{return new fs(this.firestore,Xd(this._delegate,function(s,r,i){const o=r,c=eA("where",s);return new OH(c,o,i)}(r,i,o)))}catch(c){throw hs(c,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(r,i){try{return new fs(this.firestore,Xd(this._delegate,function(s,r="asc"){const i=r,o=eA("orderBy",s);return new NH(o,i)}(r,i)))}catch(o){throw hs(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(r){try{return new fs(this.firestore,Xd(this._delegate,function(s){return yV("limit",s),new PV("limit",s,"F")}(r)))}catch(i){throw hs(i,"limit()","Query.limit()")}}limitToLast(r){try{return new fs(this.firestore,Xd(this._delegate,function(s){return yV("limitToLast",s),new PV("limitToLast",s,"L")}(r)))}catch(i){throw hs(i,"limitToLast()","Query.limitToLast()")}}startAt(...r){try{return new fs(this.firestore,Xd(this._delegate,function(...s){return new FV("startAt",s,!0)}(...r)))}catch(i){throw hs(i,"startAt()","Query.startAt()")}}startAfter(...r){try{return new fs(this.firestore,Xd(this._delegate,function(...s){return new FV("startAfter",s,!1)}(...r)))}catch(i){throw hs(i,"startAfter()","Query.startAfter()")}}endBefore(...r){try{return new fs(this.firestore,Xd(this._delegate,function(...s){return new LV("endBefore",s,!0)}(...r)))}catch(i){throw hs(i,"endBefore()","Query.endBefore()")}}endAt(...r){try{return new fs(this.firestore,Xd(this._delegate,function(...s){return new LV("endAt",s,!1)}(...r)))}catch(i){throw hs(i,"endAt()","Query.endAt()")}}isEqual(r){return wV(this._delegate,r._delegate)}get(r){let i;return i="cache"===(null==r?void 0:r.source)?function(s){s=on(s,qi);const r=on(s.firestore,ur),i=Zr(r),o=new Up(r);return function(s,r){const i=new Ar;return s.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return(o=(0,ke.Z)(function*(c,d,m){try{const v=yield UD(c,d,!0),S=new XL(d,v.Gn),D=S.Io(v.documents),x=S.applyChanges(D,!1);m.resolve(x.snapshot)}catch(v){const S=ly(v,`Failed to execute query '${d} against cache`);m.reject(S)}}),function(c,d,m){return o.apply(this,arguments)})(yield PN(s),r,i);var o})),i.promise}(i,s._query).then(c=>new Jd(r,o,s,c))}(this._delegate):"server"===(null==r?void 0:r.source)?function(s){s=on(s,qi);const r=on(s.firestore,ur),i=Zr(r),o=new Up(r);return fV(i,s._query,{source:"server"}).then(c=>new Jd(r,o,s,c))}(this._delegate):function(s){s=on(s,qi);const r=on(s.firestore,ur),i=Zr(r),o=new Up(r);return NV(s._query),fV(i,s._query).then(c=>new Jd(r,o,s,c))}(this._delegate),i.then(o=>new KN(this.firestore,new Jd(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...r){const i=QV(r),o=JV(r,c=>new KN(this.firestore,new Jd(this.firestore._delegate,this._userDataWriter,this._delegate,c._snapshot)));return zV(this._delegate,i,o)}withConverter(r){return new fs(this.firestore,this._delegate.withConverter(r?jp.getInstance(this.firestore,r):null))}}class h3{constructor(r,i){this._firestore=r,this._delegate=i}get type(){return this._delegate.type}get doc(){return new Kw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class KN{constructor(r,i){this._firestore=r,this._delegate=i}get query(){return new fs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(r=>new Kw(this._firestore,r))}docChanges(r){return this._delegate.docChanges(r).map(i=>new h3(this._firestore,i))}forEach(r,i){this._delegate.forEach(o=>{r.call(i,new Kw(this._firestore,o))})}isEqual(r){return kV(this._delegate,r._delegate)}}class gy extends fs{constructor(r,i){super(r,i),this.firestore=r,this._delegate=i}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const r=this._delegate.parent;return r?new Vo(this.firestore,r):null}doc(r){try{return new Vo(this.firestore,void 0===r?YD(this._delegate):YD(this._delegate,r))}catch(i){throw hs(i,"doc()","CollectionReference.doc()")}}add(r){return function(s,r){const i=on(s.firestore,ur),o=YD(s),c=tA(s.converter,r);return py(i,[JD(Lp(s.firestore),"addDoc",o._key,c,null!==s.converter,{}).toMutation(o._key,Mr.exists(!1))]).then(()=>o)}(this._delegate,r).then(i=>new Vo(this.firestore,i))}isEqual(r){return EV(this._delegate,r._delegate)}withConverter(r){return new gy(this.firestore,this._delegate.withConverter(r?jp.getInstance(this.firestore,r):null))}}function Hp(s){return on(s,Un)}class QN{constructor(...r){this._delegate=new uu(...r)}static documentId(){return new QN(g.keyField().canonicalString())}isEqual(r){return(r=(0,un.m9)(r))instanceof uu&&this._delegate._internalPath.isEqual(r._internalPath)}}class Gp{constructor(r){this._delegate=r}static serverTimestamp(){const r=new UN("serverTimestamp");return r._methodName="FieldValue.serverTimestamp",new Gp(r)}static delete(){const r=new $w("deleteField");return r._methodName="FieldValue.delete",new Gp(r)}static arrayUnion(...r){const i=function(...s){return new TH("arrayUnion",s)}(...r);return i._methodName="FieldValue.arrayUnion",new Gp(i)}static arrayRemove(...r){const i=function(...s){return new DH("arrayRemove",s)}(...r);return i._methodName="FieldValue.arrayRemove",new Gp(i)}static increment(r){const i=function(s){return new AH("increment",s)}(r);return i._methodName="FieldValue.increment",new Gp(i)}isEqual(r){return this._delegate.isEqual(r._delegate)}}const f3={Firestore:ZV,GeoPoint:KD,Timestamp:qr,Blob:Zw,Transaction:YV,WriteBatch:KV,DocumentReference:Vo,DocumentSnapshot:Yw,Query:fs,QueryDocumentSnapshot:Kw,QuerySnapshot:KN,CollectionReference:gy,FieldPath:QN,FieldValue:Gp,setLogLevel:function(s){!function(s){Dl.setLogLevel(s)}(s)},CACHE_SIZE_UNLIMITED:-1};function XV(s,r){return r?bn(()=>s,r):bn(()=>s)}!function(s){(function(s,r){s.INTERNAL.registerComponent(new bT.wA("firestore-compat",i=>((r,i)=>new ZV(r,i,new u3))(i.getProvider("app-compat").getImmediate(),i.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},f3)))})(s),s.registerVersion("@firebase/firestore-compat","0.1.0")}(vT.Z);var JN=V(9673);const eB=new f.OlP("angularfire2.auth.use-emulator"),tB=new f.OlP("angularfire2.auth.settings"),nB=new f.OlP("angularfire2.auth.tenant-id"),rB=new f.OlP("angularfire2.auth.langugage-code"),iB=new f.OlP("angularfire2.auth.use-device-language"),sB=new f.OlP("angularfire.auth.persistence");let XN=(()=>{class s{constructor(i,o,c,d,m,v,S,D,x,k,j){const H=new Ot.xQ,X=(0,Xe.of)(void 0).pipe((0,uo.QV)(m.outsideAngular),bn(()=>d.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,6300)))),(0,bt.U)(()=>(0,as.on)(i,d,o)),(0,bt.U)(ye=>d.runOutsideAngular(()=>{const Re=v,Ge=S;return(0,gr.cc)(`${ye.name}.auth`,"AngularFireAuth",ye.name,()=>{const Ye=d.runOutsideAngular(()=>ye.auth());if(Re&&Ye.useEmulator(...Re),D&&(Ye.tenantId=D),Ye.languageCode=x,k&&Ye.useDeviceLanguage(),Ge)for(const[Qe,mt]of Object.entries(Ge))Ye.settings[Qe]=mt;return j&&Ye.setPersistence(j),Ye},[Re,D,x,k,Ge,j])})),Zf({bufferSize:1,refCount:!1}));if(Ra(c))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Xe.of)(null);else{X.pipe(Fc()).subscribe();const Re=X.pipe(bn(Qe=>Qe.getRedirectResult().then(mt=>mt,()=>null)),gr.iC,Zf({bufferSize:1,refCount:!1})),Ge=X.pipe(bn(Qe=>new qn.y(mt=>({unsubscribe:d.runOutsideAngular(()=>Qe.onAuthStateChanged(pn=>mt.next(pn),pn=>mt.error(pn),()=>mt.complete()))})))),Ye=X.pipe(bn(Qe=>new qn.y(mt=>({unsubscribe:d.runOutsideAngular(()=>Qe.onIdTokenChanged(pn=>mt.next(pn),pn=>mt.error(pn),()=>mt.complete()))}))));this.authState=Re.pipe(XV(Ge),(0,JN.R)(m.outsideAngular),(0,uo.QV)(m.insideAngular)),this.user=Re.pipe(XV(Ye),(0,JN.R)(m.outsideAngular),(0,uo.QV)(m.insideAngular)),this.idToken=this.user.pipe(bn(Qe=>Qe?(0,Fn.D)(Qe.getIdToken()):(0,Xe.of)(null))),this.idTokenResult=this.user.pipe(bn(Qe=>Qe?(0,Fn.D)(Qe.getIdTokenResult()):(0,Xe.of)(null))),this.credential=(0,Jf.T)(Re,H,this.authState.pipe(Ir(Qe=>!Qe))).pipe((0,bt.U)(Qe=>(null==Qe?void 0:Qe.user)?Qe:null),(0,JN.R)(m.outsideAngular),(0,uo.QV)(m.insideAngular))}return(0,as.pX)(this,X,d,{spy:{apply:(ye,Re,Ge)=>{(ye.startsWith("signIn")||ye.startsWith("createUser"))&&Ge.then(Ye=>H.next(Ye))}}})}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(as.Dh),f.LFG(as.xv,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(gr.HU),f.LFG(eB,8),f.LFG(tB,8),f.LFG(nB,8),f.LFG(rB,8),f.LFG(iB,8),f.LFG(sB,8))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac,providedIn:"any"}),s})();function oB(s,r){return function(s,r=la.z){return new qn.y(i=>{let o;return null!=r?r.schedule(()=>{o=s.onSnapshot({includeMetadataChanges:!0},i)}):o=s.onSnapshot({includeMetadataChanges:!0},i),()=>{null!=o&&o()}})}(s,r)}function e1(s,r){return oB(s,r).pipe((0,bt.U)(i=>({payload:i,type:"query"})))}function rA(s,r){return e1(s,r).pipe(Js(void 0),Wf(),(0,bt.U)(([i,o])=>{const c=o.payload.docChanges(),d=c.map(m=>({type:m.type,payload:m}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((m,v)=>{const S=c.find(x=>x.doc.ref.isEqual(m.ref)),D=null==i?void 0:i.payload.docs.find(x=>x.ref.isEqual(m.ref));S&&JSON.stringify(S.doc.metadata)===JSON.stringify(m.metadata)||!S&&D&&JSON.stringify(D.metadata)===JSON.stringify(m.metadata)||d.push({type:"modified",payload:{oldIndex:v,newIndex:v,type:"modified",doc:m}})}),d}))}function aB(s,r,i){return rA(s,i).pipe(dd((o,c)=>function(s,r,i){return r.forEach(o=>{i.indexOf(o.type)>-1&&(s=function(s,r){switch(r.type){case"added":if(!s[r.newIndex]||!s[r.newIndex].doc.ref.isEqual(r.doc.ref))return t1(s,r.newIndex,0,r);break;case"modified":if(null==s[r.oldIndex]||s[r.oldIndex].doc.ref.isEqual(r.doc.ref)){if(r.oldIndex!==r.newIndex){const i=s.slice();return i.splice(r.oldIndex,1),i.splice(r.newIndex,0,r),i}return t1(s,r.newIndex,1,r)}break;case"removed":if(s[r.oldIndex]&&s[r.oldIndex].doc.ref.isEqual(r.doc.ref))return t1(s,r.oldIndex,1)}return s}(s,o))}),s}(o,c.map(d=>d.payload),r),[]),Is(),(0,bt.U)(o=>o.map(c=>({type:c.type,payload:c}))))}function t1(s,r,i,...o){const c=s.slice();return c.splice(r,i,...o),c}function lB(s){return(!s||0===s.length)&&(s=["added","removed","modified"]),s}class cB{constructor(r,i,o){this.ref=r,this.query=i,this.afs=o}stateChanges(r){let i=rA(this.query,this.afs.schedulers.outsideAngular);return r&&r.length>0&&(i=i.pipe((0,bt.U)(o=>o.filter(c=>r.indexOf(c.type)>-1)))),i.pipe(Js(void 0),Wf(),Ir(([o,c])=>c.length>0||!o),(0,bt.U)(([o,c])=>c),gr.iC)}auditTrail(r){return this.stateChanges(r).pipe(dd((i,o)=>[...i,...o],[]))}snapshotChanges(r){const i=lB(r);return aB(this.query,i,this.afs.schedulers.outsideAngular).pipe(gr.iC)}valueChanges(r={}){return e1(this.query,this.afs.schedulers.outsideAngular).pipe((0,bt.U)(i=>i.payload.docs.map(o=>r.idField?Object.assign(Object.assign({},o.data()),{[r.idField]:o.id}):o.data())),gr.iC)}get(r){return(0,Fn.D)(this.query.get(r)).pipe(gr.f6)}add(r){return this.ref.add(r)}doc(r){return new uB(this.ref.doc(r),this.afs)}}class uB{constructor(r,i){this.ref=r,this.afs=i}set(r,i){return this.ref.set(r,i)}update(r){return this.ref.update(r)}delete(){return this.ref.delete()}collection(r,i){const o=this.ref.collection(r),{ref:c,query:d}=fB(o,i);return new cB(c,d,this.afs)}snapshotChanges(){return function(s,r){return oB(s,r).pipe(Js(void 0),Wf(),(0,bt.U)(([i,o])=>o.exists?(null==i?void 0:i.exists)?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(gr.iC)}valueChanges(r={}){return this.snapshotChanges().pipe((0,bt.U)(({payload:i})=>r.idField?Object.assign(Object.assign({},i.data()),{[r.idField]:i.id}):i.data()))}get(r){return(0,Fn.D)(this.ref.get(r)).pipe((0,uo.QV)(this.afs.schedulers.insideAngular))}}class E3{constructor(r,i){this.query=r,this.afs=i}stateChanges(r){return r&&0!==r.length?rA(this.query,this.afs.schedulers.outsideAngular).pipe((0,bt.U)(i=>i.filter(o=>r.indexOf(o.type)>-1)),Ir(i=>i.length>0),gr.iC):rA(this.query,this.afs.schedulers.outsideAngular).pipe(gr.iC)}auditTrail(r){return this.stateChanges(r).pipe(dd((i,o)=>[...i,...o],[]))}snapshotChanges(r){const i=lB(r);return aB(this.query,i,this.afs.schedulers.outsideAngular).pipe(gr.iC)}valueChanges(r={}){return e1(this.query,this.afs.schedulers.outsideAngular).pipe((0,bt.U)(o=>o.payload.docs.map(c=>r.idField?Object.assign({[r.idField]:c.id},c.data()):c.data())),gr.iC)}get(r){return(0,Fn.D)(this.query.get(r)).pipe(gr.f6)}}const dB=new f.OlP("angularfire2.enableFirestorePersistence"),hB=new f.OlP("angularfire2.firestore.persistenceSettings"),w3=new f.OlP("angularfire2.firestore.settings"),C3=new f.OlP("angularfire2.firestore.use-emulator");function fB(s,r=(i=>i)){return{query:r(s),ref:s}}let pB=(()=>{class s{constructor(i,o,c,d,m,v,S,D,x,k,j,H,X,ye,Re,Ge){this.schedulers=S;const Ye=(0,as.on)(i,v,o),Qe=x;if(k){const mt=H;(0,gr.cc)(`${Ye.name}.auth`,"AngularFireAuth",Ye.name,()=>{const pn=v.runOutsideAngular(()=>Ye.auth());if(j&&pn.useEmulator(...j),X&&(pn.tenantId=X),pn.languageCode=ye,Re&&pn.useDeviceLanguage(),mt)for(const[Ii,Ti]of Object.entries(mt))pn.settings[Ii]=Ti;return Ge&&pn.setPersistence(Ge),pn},[j,X,ye,Re,mt,Ge])}[this.firestore,this.persistenceEnabled$]=(0,gr.cc)(`${Ye.name}.firestore`,"AngularFirestore",Ye.name,()=>{const mt=v.runOutsideAngular(()=>Ye.firestore());if(d&&mt.settings(d),Qe&&mt.useEmulator(...Qe),c&&!Ra(m)){const pn=()=>{try{return(0,Fn.D)(mt.enablePersistence(D||void 0).then(()=>!0,()=>!1))}catch(Ii){return"undefined"!=typeof console&&console.warn(Ii),(0,Xe.of)(!1)}};return[mt,v.runOutsideAngular(pn)]}return[mt,(0,Xe.of)(!1)]},[d,Qe,c])}collection(i,o){let c;c="string"==typeof i?this.firestore.collection(i):i;const{ref:d,query:m}=fB(c,o),v=this.schedulers.ngZone.run(()=>d);return new cB(v,m,this)}collectionGroup(i,o){const c=o||(m=>m),d=this.firestore.collectionGroup(i);return new E3(c(d),this)}doc(i){let o;o="string"==typeof i?this.firestore.doc(i):i;const c=this.schedulers.ngZone.run(()=>o);return new uB(c,this)}createId(){return this.firestore.collection("_").doc().id}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(as.Dh),f.LFG(as.xv,8),f.LFG(dB,8),f.LFG(w3,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(gr.HU),f.LFG(hB,8),f.LFG(C3,8),f.LFG(XN,8),f.LFG(eB,8),f.LFG(tB,8),f.LFG(nB,8),f.LFG(rB,8),f.LFG(iB,8),f.LFG(sB,8))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac,providedIn:"any"}),s})(),S3=(()=>{class s{static enablePersistence(i){return{ngModule:s,providers:[{provide:dB,useValue:!0},{provide:hB,useValue:i}]}}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({providers:[pB]}),s})(),gB=(()=>{class s{constructor(i){this.firestore=i,this.dataOb=this.firestore.collection("productos").valueChanges({idField:"id"})}getProductData(){return this.dataOb}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(pB))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),mB=(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=f.Xpm({type:s,selectors:[["app-loading"]],decls:1,vars:0,consts:[["diameter","70","strokeWidth","5",1,"spinner"]],template:function(i,o){1&i&&f._UZ(0,"mat-spinner",0)},directives:[YI],styles:[".spinner[_ngcontent-%COMP%]{position:absolute;top:50%;right:50%;transform:translate(50%,-50%);z-index:10000;padding:0;margin:0}"]}),s})();function I3(s,r){1&s&&(f.ynx(0),f._UZ(1,"app-loading"),f.BQk())}function T3(s,r){if(1&s&&(f.ynx(0),f.TgZ(1,"h3",17),f._uU(2),f.qZA(),f.BQk()),2&s){const i=f.oxw(2);f.xp6(2),f.AsE(" ",i.producto.tarjetaPromo," ",i.producto.cuotas," sin inter\xe9s ")}}function D3(s,r){1&s&&(f.TgZ(0,"h3",17),f._uU(1," No hay promociones vigentes para este producto "),f.qZA())}function A3(s,r){1&s&&f.GkF(0)}function M3(s,r){if(1&s&&(f.TgZ(0,"div"),f.TgZ(1,"div",5),f.TgZ(2,"div",6),f._UZ(3,"img",7),f.qZA(),f.TgZ(4,"mat-card",8),f.TgZ(5,"div"),f.TgZ(6,"mat-card-title",9),f._uU(7),f.qZA(),f.TgZ(8,"mat-card-subtitle",10),f._uU(9),f.ALo(10,"currency"),f.qZA(),f.qZA(),f.YNc(11,T3,3,2,"ng-container",1),f.YNc(12,D3,2,0,"ng-template",null,11,f.W1O),f.TgZ(14,"div",12),f.TgZ(15,"p",13),f._uU(16),f.qZA(),f.qZA(),f.YNc(17,A3,1,0,"ng-container",14),f.qZA(),f.TgZ(18,"div",15),f.TgZ(19,"button",16),f._uU(20," Comprar "),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&s){const i=f.MAs(13),o=f.oxw(),c=f.MAs(3),d=f.MAs(5);f.xp6(3),f.Q6J("src","./assets/"+o.producto.image+".jpg",f.LSH),f.xp6(4),f.Oqu(o.producto.item),f.xp6(2),f.Oqu(f.gM2(10,8,o.producto.price,"ARS","symbol-narrow","1.2-2")),f.xp6(2),f.Q6J("ngIf",o.producto.tarjetaPromo)("ngIfElse",i),f.xp6(5),f.hij(" ",o.producto.description," "),f.xp6(1),f.Q6J("ngTemplateOutlet",o.producto.stock?c:d),f.xp6(2),f.Q6J("disabled",!o.producto.stock)}}function x3(s,r){1&s&&(f.TgZ(0,"div",18),f.TgZ(1,"span",19),f._uU(2,"Stock Disponible"),f.qZA(),f.TgZ(3,"mat-icon",20),f._uU(4,"alarm_on"),f.qZA(),f.qZA())}function R3(s,r){1&s&&(f.TgZ(0,"div",21),f.TgZ(1,"span",19),f._uU(2,"Lo sentimos, no contamos con stock en este momento"),f.qZA(),f.TgZ(3,"mat-icon",20),f._uU(4,"error_outline"),f.qZA(),f.qZA())}function O3(s,r){1&s&&(f.ynx(0),f._UZ(1,"app-not-found"),f.BQk())}function k3(s,r){if(1&s&&f.YNc(0,O3,2,0,"ng-container",0),2&s){const i=f.oxw();f.Q6J("ngIf",!i.loading)}}let N3=(()=>{class s{constructor(i,o){this.prodService=i,this.route=o,this.loading=!0}ngOnInit(){this.route.params.subscribe(i=>this.getProductDataById(i.id))}getProductDataById(i){this.prodService.getProductData().subscribe(o=>{this.producto=o.find(c=>c.id===i),this.loading=!1})}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(gB),f.Y36(_l))},s.\u0275cmp=f.Xpm({type:s,selectors:[["app-detalle"]],decls:8,vars:3,consts:[[4,"ngIf"],[4,"ngIf","ngIfElse"],["stockDisponible",""],["stockNoDisponible",""],["notFound",""],[1,"detalle-container"],[1,"detalle-imgContainer"],[1,"detalle-producto__img",3,"src"],[1,"detalle__card"],[1,"detalle__card-title"],[1,"detalle__card-price"],["promoNoDisp",""],[1,"detalle-descripcion"],[1,"detalle-descripcion__p"],[4,"ngTemplateOutlet"],[1,"detalle__comprar-cont"],["mat-flat-button","",1,"detalle__comprar",3,"disabled"],[1,"detalle__payment"],[1,"detalle__stock","detalle__stock--disp"],[1,"detalle__stock_p"],[1,"icon-payment"],[1,"detalle__stock","detalle__stock--noDisp"]],template:function(i,o){if(1&i&&(f.YNc(0,I3,2,0,"ng-container",0),f.YNc(1,M3,21,13,"div",1),f.YNc(2,x3,5,0,"ng-template",null,2,f.W1O),f.YNc(4,R3,5,0,"ng-template",null,3,f.W1O),f.YNc(6,k3,1,1,"ng-template",null,4,f.W1O)),2&i){const c=f.MAs(7);f.Q6J("ngIf",o.loading),f.xp6(1),f.Q6J("ngIf",o.producto)("ngIfElse",c)}},directives:[Jr,mB,HR,zI,vE,pr,Pc,Am,yT],pipes:[Gl],styles:[".detalle-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-direction:row;flex-wrap:wrap;padding:0 3rem}@media (max-width: 60em){.detalle-container[_ngcontent-%COMP%]{flex-direction:column;justify-content:stretch;flex-wrap:unset;padding:0 1rem}}.detalle__card[_ngcontent-%COMP%]{flex:1;background-color:#171010;padding:3rem 2.5rem;box-sizing:border-box;display:flex;flex-direction:column;justify-content:space-between}.detalle-imgContainer[_ngcontent-%COMP%]{flex:0 0 35%;margin-right:1.5rem}@media (max-width: 60em){.detalle-imgContainer[_ngcontent-%COMP%]{margin-right:0;margin-bottom:1rem}}.detalle-producto__img[_ngcontent-%COMP%]{width:100%;object-fit:cover;margin:auto;display:block;height:100%;max-height:27rem}.detalle__card-header[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-bottom:2rem}.detalle__card-title[_ngcontent-%COMP%]{font-size:1.8rem;line-height:1.3}.detalle-descripcion__p[_ngcontent-%COMP%]{font-size:1rem;font-weight:300;line-height:2;margin-bottom:1rem}.detalle__card-price[_ngcontent-%COMP%]{font-size:1.5rem;padding:1rem 0}.detalle__stock[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;justify-content:flex-end;align-items:center}.detalle__stock--disp[_ngcontent-%COMP%]{color:#5e9140}.detalle__stock--noDisp[_ngcontent-%COMP%]{color:#af7802}.detalle__stock_p[_ngcontent-%COMP%]{line-height:1.3;font-size:1.3rem;font-weight:300;margin-left:1rem}.detalle__comprar-cont[_ngcontent-%COMP%]{flex:0 0 100%}.detalle__comprar[_ngcontent-%COMP%]{display:block;margin:2rem auto;width:15rem;padding:.5rem 3.5rem;font-size:1.4rem;color:#000;transition:all .5s}.detalle__comprar[_ngcontent-%COMP%]:enabled{background-color:#362727}.detalle__comprar[_ngcontent-%COMP%]:enabled:hover{background-color:#362727;color:#666;transform:translateY(-3px);box-shadow:0 0 3rem #1f011b,0 0 3rem #1f011b;background-color:#5e0251}.detalle__comprar[_ngcontent-%COMP%]:disabled{transform:translateY(0);background-color:#080708;box-shadow:unset}"]}),s})();const P3=function(s){return["/detalle",s]};function F3(s,r){if(1&s&&(f.ynx(0),f.TgZ(1,"mat-card",1),f._UZ(2,"img",2),f.TgZ(3,"mat-card-title"),f._uU(4),f.ALo(5,"currency"),f.qZA(),f.TgZ(6,"mat-card-subtitle"),f._uU(7),f.qZA(),f.TgZ(8,"mat-card-content"),f.TgZ(9,"p",3),f._uU(10),f.qZA(),f.TgZ(11,"p",4),f._uU(12),f.qZA(),f.qZA(),f.TgZ(13,"mat-card-actions",5),f.TgZ(14,"a",6),f._uU(15,"Lo quiero!"),f.qZA(),f.qZA(),f.qZA(),f.BQk()),2&s){const i=f.oxw();f.xp6(2),f.Q6J("src","./assets/"+i.producto.image+".jpg",f.LSH),f.xp6(2),f.Oqu(f.gM2(5,6,i.producto.price,"ARS","symbol-narrow","1.2-2")),f.xp6(3),f.Oqu(i.producto.item),f.xp6(3),f.hij(" ",i.producto.summary," "),f.xp6(2),f.Oqu(i.producto.location),f.xp6(2),f.Q6J("routerLink",f.VKq(11,P3,i.producto.id))}}let L3=(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=f.Xpm({type:s,selectors:[["app-product-card"]],inputs:{producto:"producto"},decls:1,vars:1,consts:[[4,"ngIf"],["tabindex","0",1,"product-card",2,"margin","0"],["mat-card-image","",1,"product-card__img",3,"src"],[1,"product-card__description"],[1,"product-card__location"],[1,"product-card__cont"],["mat-raised-button","",1,"product-card__button",3,"routerLink"]],template:function(i,o){1&i&&f.YNc(0,F3,16,13,"ng-container",0),2&i&&f.Q6J("ngIf",o.producto)},directives:[Jr,HR,UR,zI,vE,VR,BR,Qv,ma],pipes:[Gl],styles:[".product-card[_ngcontent-%COMP%]{width:100%;background-color:#171010;color:#fff;height:100%;min-width:17rem}@media (max-width: 27em){.product-card[_ngcontent-%COMP%]{width:85%}}.product-card__description[_ngcontent-%COMP%]{line-height:1.8;font-weight:300;margin:2rem 0;letter-spacing:.5px;height:4.68rem}.product-card__location[_ngcontent-%COMP%]{font-weight:400;letter-spacing:.5px}.product-card__button[_ngcontent-%COMP%]{width:100%;background-color:#362222}.product-card__img[_ngcontent-%COMP%]{height:12rem;object-fit:cover}"]}),s})();function V3(s,r){1&s&&f._UZ(0,"app-loading")}function B3(s,r){if(1&s&&(f.ynx(0,null,3),f._UZ(2,"app-product-card",4),f.BQk()),2&s){const i=r.$implicit;f.xp6(2),f.Q6J("producto",i)}}let U3=(()=>{class s{constructor(i){this.productService=i,this.loading=!0}ngOnInit(){this.getProductDataFromService()}getProductDataFromService(){this.productService.getProductData().subscribe(i=>{this.productos=i,this.loading=!1})}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(gB))},s.\u0275cmp=f.Xpm({type:s,selectors:[["app-home"]],decls:3,vars:2,consts:[[1,"home"],[4,"ngIf"],[4,"ngFor","ngForOf"],["elseBlock",""],[3,"producto"]],template:function(i,o){1&i&&(f.TgZ(0,"div",0),f.YNc(1,V3,1,0,"app-loading",1),f.YNc(2,B3,3,1,"ng-container",2),f.qZA()),2&i&&(f.xp6(1),f.Q6J("ngIf",o.loading),f.xp6(1),f.Q6J("ngForOf",o.productos))},directives:[Jr,Yt,mB,L3],styles:[".home[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:repeat(auto-fill,minmax(18.5rem,.2fr));grid-auto-rows:minmax(20rem,27rem);justify-content:center;grid-column-gap:8rem;column-gap:8rem;grid-row-gap:6rem;row-gap:6rem;position:relative;margin:0 auto}"]}),s})();function j3(s){const r=s.get("password"),i=s.get("passwordConfirm");return r&&i&&r.value===i.value?null:{passwordNoCoincide:!0}}let _B=(()=>{class s{constructor(i,o){this._renderer=i,this._elementRef=o,this.onChange=c=>{},this.onTouched=()=>{}}setProperty(i,o){this._renderer.setProperty(this._elementRef.nativeElement,i,o)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(f.Qsj),f.Y36(f.SBq))},s.\u0275dir=f.lG2({type:s}),s})(),$p=(()=>{class s extends _B{}return s.\u0275fac=function(){let r;return function(o){return(r||(r=f.n5z(s)))(o||s)}}(),s.\u0275dir=f.lG2({type:s,features:[f.qOj]}),s})();const Nl=new f.OlP("NgValueAccessor"),G3={provide:Nl,useExisting:(0,f.Gpc)(()=>iA),multi:!0},z3=new f.OlP("CompositionEventMode");let iA=(()=>{class s extends _B{constructor(i,o,c){super(i,o),this._compositionMode=c,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const s=G()?G().getUserAgent():"";return/android (\d+)/.test(s.toLowerCase())}())}writeValue(i){this.setProperty("value",null==i?"":i)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(z3,8))},s.\u0275dir=f.lG2({type:s,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){1&i&&f.NdJ("input",function(d){return o._handleInput(d.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(d){return o._compositionEnd(d.target.value)})},features:[f._Bn([G3]),f.qOj]}),s})();function th(s){return null==s||0===s.length}function vB(s){return null!=s&&"number"==typeof s.length}const Wi=new f.OlP("NgValidators"),nh=new f.OlP("NgAsyncValidators"),q3=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Sa{static min(r){return function(s){return r=>{if(th(r.value)||th(s))return null;const i=parseFloat(r.value);return!isNaN(i)&&i<s?{min:{min:s,actual:r.value}}:null}}(r)}static max(r){return function(s){return r=>{if(th(r.value)||th(s))return null;const i=parseFloat(r.value);return!isNaN(i)&&i>s?{max:{max:s,actual:r.value}}:null}}(r)}static required(r){return function(s){return th(s.value)?{required:!0}:null}(r)}static requiredTrue(r){return function(s){return!0===s.value?null:{required:!0}}(r)}static email(r){return function(s){return th(s.value)||q3.test(s.value)?null:{email:!0}}(r)}static minLength(r){return function(s){return r=>th(r.value)||!vB(r.value)?null:r.value.length<s?{minlength:{requiredLength:s,actualLength:r.value.length}}:null}(r)}static maxLength(r){return function(s){return r=>vB(r.value)&&r.value.length>s?{maxlength:{requiredLength:s,actualLength:r.value.length}}:null}(r)}static pattern(r){return function(s){if(!s)return rh;let r,i;return"string"==typeof s?(i="","^"!==s.charAt(0)&&(i+="^"),i+=s,"$"!==s.charAt(s.length-1)&&(i+="$"),r=new RegExp(i)):(i=s.toString(),r=s),o=>{if(th(o.value))return null;const c=o.value;return r.test(c)?null:{pattern:{requiredPattern:i,actualValue:c}}}}(r)}static nullValidator(r){return null}static compose(r){return kB(r)}static composeAsync(r){return NB(r)}}function rh(s){return null}function AB(s){return null!=s}function MB(s){const r=(0,f.QGY)(s)?(0,Fn.D)(s):s;return(0,f.CqO)(r),r}function xB(s){let r={};return s.forEach(i=>{r=null!=i?Object.assign(Object.assign({},r),i):r}),0===Object.keys(r).length?null:r}function RB(s,r){return r.map(i=>i(s))}function OB(s){return s.map(r=>function(s){return!s.validate}(r)?r:i=>r.validate(i))}function kB(s){if(!s)return null;const r=s.filter(AB);return 0==r.length?null:function(i){return xB(RB(i,r))}}function n1(s){return null!=s?kB(OB(s)):null}function NB(s){if(!s)return null;const r=s.filter(AB);return 0==r.length?null:function(i){return HC(RB(i,r).map(MB)).pipe((0,bt.U)(xB))}}function r1(s){return null!=s?NB(OB(s)):null}function PB(s,r){return null===s?[r]:Array.isArray(s)?[...s,r]:[s,r]}function FB(s){return s._rawValidators}function LB(s){return s._rawAsyncValidators}function s1(s){return s?Array.isArray(s)?s:[s]:[]}function sA(s,r){return Array.isArray(s)?s.includes(r):s===r}function VB(s,r){const i=s1(r);return s1(s).forEach(c=>{sA(i,c)||i.push(c)}),i}function BB(s,r){return s1(r).filter(i=>!sA(s,i))}let UB=(()=>{class s{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(i){this._rawValidators=i||[],this._composedValidatorFn=n1(this._rawValidators)}_setAsyncValidators(i){this._rawAsyncValidators=i||[],this._composedAsyncValidatorFn=r1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(i){this._onDestroyCallbacks.push(i)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(i=>i()),this._onDestroyCallbacks=[]}reset(i){this.control&&this.control.reset(i)}hasError(i,o){return!!this.control&&this.control.hasError(i,o)}getError(i,o){return this.control?this.control.getError(i,o):null}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275dir=f.lG2({type:s}),s})(),ps=(()=>{class s extends UB{get formDirective(){return null}get path(){return null}}return s.\u0275fac=function(){let r;return function(o){return(r||(r=f.n5z(s)))(o||s)}}(),s.\u0275dir=f.lG2({type:s,features:[f.qOj]}),s})();class ih extends UB{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class jB{constructor(r){this._cd=r}is(r){var i,o,c;return"submitted"===r?!!(null===(i=this._cd)||void 0===i?void 0:i.submitted):!!(null===(c=null===(o=this._cd)||void 0===o?void 0:o.control)||void 0===c?void 0:c[r])}}let HB=(()=>{class s extends jB{constructor(i){super(i)}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(ih,2))},s.\u0275dir=f.lG2({type:s,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){2&i&&f.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))},features:[f.qOj]}),s})(),oA=(()=>{class s extends jB{constructor(i){super(i)}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(ps,10))},s.\u0275dir=f.lG2({type:s,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){2&i&&f.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))("ng-submitted",o.is("submitted"))},features:[f.qOj]}),s})();function Qw(s,r){o1(s,r),r.valueAccessor.writeValue(s.value),function(s,r){r.valueAccessor.registerOnChange(i=>{s._pendingValue=i,s._pendingChange=!0,s._pendingDirty=!0,"change"===s.updateOn&&GB(s,r)})}(s,r),function(s,r){const i=(o,c)=>{r.valueAccessor.writeValue(o),c&&r.viewToModelUpdate(o)};s.registerOnChange(i),r._registerOnDestroy(()=>{s._unregisterOnChange(i)})}(s,r),function(s,r){r.valueAccessor.registerOnTouched(()=>{s._pendingTouched=!0,"blur"===s.updateOn&&s._pendingChange&&GB(s,r),"submit"!==s.updateOn&&s.markAsTouched()})}(s,r),function(s,r){if(r.valueAccessor.setDisabledState){const i=o=>{r.valueAccessor.setDisabledState(o)};s.registerOnDisabledChange(i),r._registerOnDestroy(()=>{s._unregisterOnDisabledChange(i)})}}(s,r)}function lA(s,r,i=!0){const o=()=>{};r.valueAccessor&&(r.valueAccessor.registerOnChange(o),r.valueAccessor.registerOnTouched(o)),uA(s,r),s&&(r._invokeOnDestroyCallbacks(),s._registerOnCollectionChange(()=>{}))}function cA(s,r){s.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(r)})}function o1(s,r){const i=FB(s);null!==r.validator?s.setValidators(PB(i,r.validator)):"function"==typeof i&&s.setValidators([i]);const o=LB(s);null!==r.asyncValidator?s.setAsyncValidators(PB(o,r.asyncValidator)):"function"==typeof o&&s.setAsyncValidators([o]);const c=()=>s.updateValueAndValidity();cA(r._rawValidators,c),cA(r._rawAsyncValidators,c)}function uA(s,r){let i=!1;if(null!==s){if(null!==r.validator){const c=FB(s);if(Array.isArray(c)&&c.length>0){const d=c.filter(m=>m!==r.validator);d.length!==c.length&&(i=!0,s.setValidators(d))}}if(null!==r.asyncValidator){const c=LB(s);if(Array.isArray(c)&&c.length>0){const d=c.filter(m=>m!==r.asyncValidator);d.length!==c.length&&(i=!0,s.setAsyncValidators(d))}}}const o=()=>{};return cA(r._rawValidators,o),cA(r._rawAsyncValidators,o),i}function GB(s,r){s._pendingDirty&&s.markAsDirty(),s.setValue(s._pendingValue,{emitModelToViewChange:!1}),r.viewToModelUpdate(s._pendingValue),s._pendingChange=!1}function dA(s,r){const i=s.indexOf(r);i>-1&&s.splice(i,1)}const Jw="VALID",hA="INVALID",my="PENDING",Xw="DISABLED";function c1(s){return(d1(s)?s.validators:s)||null}function qB(s){return Array.isArray(s)?n1(s):s||null}function u1(s,r){return(d1(r)?r.asyncValidators:s)||null}function WB(s){return Array.isArray(s)?r1(s):s||null}function d1(s){return null!=s&&!Array.isArray(s)&&"object"==typeof s}class h1{constructor(r,i){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=r,this._rawAsyncValidators=i,this._composedValidatorFn=qB(this._rawValidators),this._composedAsyncValidatorFn=WB(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(r){this._rawValidators=this._composedValidatorFn=r}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(r){this._rawAsyncValidators=this._composedAsyncValidatorFn=r}get parent(){return this._parent}get valid(){return this.status===Jw}get invalid(){return this.status===hA}get pending(){return this.status==my}get disabled(){return this.status===Xw}get enabled(){return this.status!==Xw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(r){this._rawValidators=r,this._composedValidatorFn=qB(r)}setAsyncValidators(r){this._rawAsyncValidators=r,this._composedAsyncValidatorFn=WB(r)}addValidators(r){this.setValidators(VB(r,this._rawValidators))}addAsyncValidators(r){this.setAsyncValidators(VB(r,this._rawAsyncValidators))}removeValidators(r){this.setValidators(BB(r,this._rawValidators))}removeAsyncValidators(r){this.setAsyncValidators(BB(r,this._rawAsyncValidators))}hasValidator(r){return sA(this._rawValidators,r)}hasAsyncValidator(r){return sA(this._rawAsyncValidators,r)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(r={}){this.touched=!0,this._parent&&!r.onlySelf&&this._parent.markAsTouched(r)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(r=>r.markAllAsTouched())}markAsUntouched(r={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}markAsDirty(r={}){this.pristine=!1,this._parent&&!r.onlySelf&&this._parent.markAsDirty(r)}markAsPristine(r={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(i=>{i.markAsPristine({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}markAsPending(r={}){this.status=my,!1!==r.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!r.onlySelf&&this._parent.markAsPending(r)}disable(r={}){const i=this._parentMarkedDirty(r.onlySelf);this.status=Xw,this.errors=null,this._forEachChild(o=>{o.disable(Object.assign(Object.assign({},r),{onlySelf:!0}))}),this._updateValue(),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},r),{skipPristineCheck:i})),this._onDisabledChange.forEach(o=>o(!0))}enable(r={}){const i=this._parentMarkedDirty(r.onlySelf);this.status=Jw,this._forEachChild(o=>{o.enable(Object.assign(Object.assign({},r),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},r),{skipPristineCheck:i})),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(r){this._parent&&!r.onlySelf&&(this._parent.updateValueAndValidity(r),r.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(r){this._parent=r}updateValueAndValidity(r={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Jw||this.status===my)&&this._runAsyncValidator(r.emitEvent)),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!r.onlySelf&&this._parent.updateValueAndValidity(r)}_updateTreeValidity(r={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(r)),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Xw:Jw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(r){if(this.asyncValidator){this.status=my,this._hasOwnPendingAsyncValidator=!0;const i=MB(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:r})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(r,i={}){this.errors=r,this._updateControlsErrors(!1!==i.emitEvent)}get(r){return function(s,r,i){if(null==r||(Array.isArray(r)||(r=r.split(".")),Array.isArray(r)&&0===r.length))return null;let o=s;return r.forEach(c=>{o=o instanceof yy?o.controls.hasOwnProperty(c)?o.controls[c]:null:o instanceof f1&&o.at(c)||null}),o}(this,r)}getError(r,i){const o=i?this.get(i):this;return o&&o.errors?o.errors[r]:null}hasError(r,i){return!!this.getError(r,i)}get root(){let r=this;for(;r._parent;)r=r._parent;return r}_updateControlsErrors(r){this.status=this._calculateStatus(),r&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(r)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?Xw:this.errors?hA:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(my)?my:this._anyControlsHaveStatus(hA)?hA:Jw}_anyControlsHaveStatus(r){return this._anyControls(i=>i.status===r)}_anyControlsDirty(){return this._anyControls(r=>r.dirty)}_anyControlsTouched(){return this._anyControls(r=>r.touched)}_updatePristine(r={}){this.pristine=!this._anyControlsDirty(),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}_updateTouched(r={}){this.touched=this._anyControlsTouched(),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}_isBoxedValue(r){return"object"==typeof r&&null!==r&&2===Object.keys(r).length&&"value"in r&&"disabled"in r}_registerOnCollectionChange(r){this._onCollectionChange=r}_setUpdateStrategy(r){d1(r)&&null!=r.updateOn&&(this._updateOn=r.updateOn)}_parentMarkedDirty(r){return!r&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class _y extends h1{constructor(r=null,i,o){super(c1(i),u1(o,i)),this._onChange=[],this._applyFormState(r),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(r,i={}){this.value=this._pendingValue=r,this._onChange.length&&!1!==i.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==i.emitViewToModelChange)),this.updateValueAndValidity(i)}patchValue(r,i={}){this.setValue(r,i)}reset(r=null,i={}){this._applyFormState(r),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(r){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(r){this._onChange.push(r)}_unregisterOnChange(r){dA(this._onChange,r)}registerOnDisabledChange(r){this._onDisabledChange.push(r)}_unregisterOnDisabledChange(r){dA(this._onDisabledChange,r)}_forEachChild(r){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(r){this._isBoxedValue(r)?(this.value=this._pendingValue=r.value,r.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=r}}class yy extends h1{constructor(r,i,o){super(c1(i),u1(o,i)),this.controls=r,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(r,i){return this.controls[r]?this.controls[r]:(this.controls[r]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(r,i,o={}){this.registerControl(r,i),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(r,i={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(r,i,o={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],i&&this.registerControl(r,i),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(r){return this.controls.hasOwnProperty(r)&&this.controls[r].enabled}setValue(r,i={}){this._checkAllValuesPresent(r),Object.keys(r).forEach(o=>{this._throwIfControlMissing(o),this.controls[o].setValue(r[o],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(r,i={}){null!=r&&(Object.keys(r).forEach(o=>{this.controls[o]&&this.controls[o].patchValue(r[o],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(r={},i={}){this._forEachChild((o,c)=>{o.reset(r[c],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(r,i,o)=>(r[o]=i instanceof _y?i.value:i.getRawValue(),r))}_syncPendingControls(){let r=this._reduceChildren(!1,(i,o)=>!!o._syncPendingControls()||i);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_throwIfControlMissing(r){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[r])throw new Error(`Cannot find form control with name: ${r}.`)}_forEachChild(r){Object.keys(this.controls).forEach(i=>{const o=this.controls[i];o&&r(o,i)})}_setUpControls(){this._forEachChild(r=>{r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(r){for(const i of Object.keys(this.controls)){const o=this.controls[i];if(this.contains(i)&&r(o))return!0}return!1}_reduceValue(){return this._reduceChildren({},(r,i,o)=>((i.enabled||this.disabled)&&(r[o]=i.value),r))}_reduceChildren(r,i){let o=r;return this._forEachChild((c,d)=>{o=i(o,c,d)}),o}_allControlsDisabled(){for(const r of Object.keys(this.controls))if(this.controls[r].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(r){this._forEachChild((i,o)=>{if(void 0===r[o])throw new Error(`Must supply a value for form control with name: '${o}'.`)})}}class f1 extends h1{constructor(r,i,o){super(c1(i),u1(o,i)),this.controls=r,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(r){return this.controls[r]}push(r,i={}){this.controls.push(r),this._registerControl(r),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}insert(r,i,o={}){this.controls.splice(r,0,i),this._registerControl(i),this.updateValueAndValidity({emitEvent:o.emitEvent})}removeAt(r,i={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:i.emitEvent})}setControl(r,i,o={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),i&&(this.controls.splice(r,0,i),this._registerControl(i)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(r,i={}){this._checkAllValuesPresent(r),r.forEach((o,c)=>{this._throwIfControlMissing(c),this.at(c).setValue(o,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(r,i={}){null!=r&&(r.forEach((o,c)=>{this.at(c)&&this.at(c).patchValue(o,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(r=[],i={}){this._forEachChild((o,c)=>{o.reset(r[c],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this.controls.map(r=>r instanceof _y?r.value:r.getRawValue())}clear(r={}){this.controls.length<1||(this._forEachChild(i=>i._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:r.emitEvent}))}_syncPendingControls(){let r=this.controls.reduce((i,o)=>!!o._syncPendingControls()||i,!1);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_throwIfControlMissing(r){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(r))throw new Error(`Cannot find form control at index ${r}`)}_forEachChild(r){this.controls.forEach((i,o)=>{r(i,o)})}_updateValue(){this.value=this.controls.filter(r=>r.enabled||this.disabled).map(r=>r.value)}_anyControls(r){return this.controls.some(i=>i.enabled&&r(i))}_setUpControls(){this._forEachChild(r=>this._registerControl(r))}_checkAllValuesPresent(r){this._forEachChild((i,o)=>{if(void 0===r[o])throw new Error(`Must supply a value for form control at index: ${o}.`)})}_allControlsDisabled(){for(const r of this.controls)if(r.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(r){r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)}}let g1=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275dir=f.lG2({type:s,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),s})(),XB=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({}),s})();const m1=new f.OlP("NgModelWithFormControlWarning"),dG={provide:ps,useExisting:(0,f.Gpc)(()=>vy)};let vy=(()=>{class s extends ps{constructor(i,o){super(),this.validators=i,this.asyncValidators=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.vpe,this._setValidators(i),this._setAsyncValidators(o)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(uA(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){const o=this.form.get(i.path);return Qw(o,i),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),o}getControl(i){return this.form.get(i.path)}removeControl(i){lA(i.control||null,i,!1),dA(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,o){this.form.get(i.path).setValue(o)}onSubmit(i){return this.submitted=!0,function(s,r){s._syncPendingControls(),r.forEach(i=>{const o=i.control;"submit"===o.updateOn&&o._pendingChange&&(i.viewToModelUpdate(o._pendingValue),o._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(i),!1}onReset(){this.resetForm()}resetForm(i){this.form.reset(i),this.submitted=!1}_updateDomValue(){this.directives.forEach(i=>{const o=i.control,c=this.form.get(i.path);o!==c&&(lA(o||null,i),c instanceof _y&&(Qw(c,i),i.control=c))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){const o=this.form.get(i.path);(function(s,r){o1(s,r)})(o,i),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){const o=this.form.get(i.path);o&&function(s,r){return uA(s,r)}(o,i)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){o1(this.form,this),this._oldForm&&uA(this._oldForm,this)}_checkFormPresent(){}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(Wi,10),f.Y36(nh,10))},s.\u0275dir=f.lG2({type:s,selectors:[["","formGroup",""]],hostBindings:function(i,o){1&i&&f.NdJ("submit",function(d){return o.onSubmit(d)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([dG]),f.qOj,f.TTD]}),s})();const pG={provide:ih,useExisting:(0,f.Gpc)(()=>v1)};let v1=(()=>{class s extends ih{constructor(i,o,c,d,m){super(),this._ngModelWarningConfig=m,this._added=!1,this.update=new f.vpe,this._ngModelWarningSent=!1,this._parent=i,this._setValidators(o),this._setAsyncValidators(c),this.valueAccessor=function(s,r){if(!r)return null;let i,o,c;return Array.isArray(r),r.forEach(d=>{d.constructor===iA?i=d:function(s){return Object.getPrototypeOf(s.constructor)===$p}(d)?o=d:c=d}),c||o||i||null}(0,d)}set isDisabled(i){}ngOnChanges(i){this._added||this._setUpControl(),function(s,r){if(!s.hasOwnProperty("model"))return!1;const i=s.model;return!!i.isFirstChange()||!Object.is(r,i.currentValue)}(i,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}get path(){return function(s,r){return[...r.path,s]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(ps,13),f.Y36(Wi,10),f.Y36(nh,10),f.Y36(Nl,10),f.Y36(m1,8))},s.\u0275dir=f.lG2({type:s,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[f._Bn([pG]),f.qOj,f.TTD]}),s._ngModelWarningSentOnce=!1,s})(),m2=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({imports:[[XB]]}),s})(),_2=(()=>{class s{static withConfig(i){return{ngModule:s,providers:[{provide:m1,useValue:i.warnOnNgModelWithFormControl}]}}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({imports:[m2]}),s})(),y2=(()=>{class s{group(i,o=null){const c=this._reduceControls(i);let v,d=null,m=null;return null!=o&&(function(s){return void 0!==s.asyncValidators||void 0!==s.validators||void 0!==s.updateOn}(o)?(d=null!=o.validators?o.validators:null,m=null!=o.asyncValidators?o.asyncValidators:null,v=null!=o.updateOn?o.updateOn:void 0):(d=null!=o.validator?o.validator:null,m=null!=o.asyncValidator?o.asyncValidator:null)),new yy(c,{asyncValidators:m,updateOn:v,validators:d})}control(i,o,c){return new _y(i,o,c)}array(i,o,c){const d=i.map(m=>this._createControl(m));return new f1(d,o,c)}_reduceControls(i){const o={};return Object.keys(i).forEach(c=>{o[c]=this._createControl(i[c])}),o}_createControl(i){return i instanceof _y||i instanceof yy||i instanceof f1?i:Array.isArray(i)?this.control(i[0],i.length>1?i[1]:null,i.length>2?i[2]:null):this.control(i)}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=(0,f.Yz7)({factory:function(){return new s},token:s,providedIn:_2}),s})();const xG=[{name:"usuario",type:"text",placeholder:"Ingrese un usuario",initialValue:"",validations:Sa.required,plcSpace:"normal"},{name:"domicilio",type:"text",placeholder:"Ingrese su domicilio",initialValue:"",validations:Sa.required,plcSpace:"normal"},{name:"email",type:"email",placeholder:"Ingrese su email",initialValue:"",validations:[Sa.required,Sa.email],plcSpace:"small"},{name:"password",type:"password",placeholder:"Ingrese su contrase\xf1a",initialValue:"",validations:[Sa.required,Sa.minLength(6),Sa.pattern(/[A-Z]/),Sa.pattern(/[a-z]/)],plcSpace:"extra"},{name:"passwordConfirm",type:"password",placeholder:"Confirme su contrase\xf1a",initialValue:"",validations:Sa.required,plcSpace:"extra"}];let v2=(()=>{class s{constructor(){this.placeholder="",this.name="",this.initialValue="",this.placeholderSpace="small",this.type="text",this.bottomMargin="0",this.fGroup=new yy({})}get controlAtr(){return this.fGroup.get(this.name)}ngOnInit(){}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=f.Xpm({type:s,selectors:[["app-input"]],inputs:{placeholder:"placeholder",name:"name",initialValue:"initialValue",placeholderSpace:"placeholderSpace",type:"type",bottomMargin:"bottomMargin",fGroup:"fGroup"},decls:5,vars:14,consts:[[3,"formGroup"],[3,"type","placeholder","formControlName","value"],[1,"registroForm__input_span"]],template:function(i,o){1&i&&(f.TgZ(0,"div",0),f._UZ(1,"input",1),f.TgZ(2,"span",2),f._uU(3),f.qZA(),f._UZ(4,"span"),f.qZA()),2&i&&(f.Akn("margin-bottom: "+o.bottomMargin+"rem"),f.Tol(o.controlAtr.invalid?"registroForm__input_cont isInvalid":"registroForm__input_cont isValid"),f.Q6J("formGroup",o.fGroup),f.xp6(1),f.Tol(o.controlAtr.invalid?"registro__input registroForm__input isInvalid":"registro__input registroForm__input isValid"),f.Q6J("type",o.type)("placeholder",o.placeholder)("formControlName",o.name)("value",o.initialValue),f.xp6(2),f.Oqu(o.placeholder),f.xp6(1),f.Tol("registroForm__input_space "+o.placeholderSpace+"-space"))},directives:[oA,vy,iA,HB,v1],styles:['.registroForm__input[_ngcontent-%COMP%]{font-family:"Nunito",sans-serif;font-weight:400;font-size:1.4rem;padding:.7rem 2rem;color:#7a7a7a;border-radius:2rem;-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;border:2px solid rgb(43,43,43);background-color:#000;transition:all .2s;z-index:500}.registro__input[_ngcontent-%COMP%]{width:20rem;height:2rem}@media (max-width: 37em){.registro__input[_ngcontent-%COMP%]{box-sizing:border-box;height:3.5rem}}.registroForm__input[_ngcontent-%COMP%]:focus{outline:none;box-shadow:-.05rem 0 .45rem .1rem #000}.registroForm__input[_ngcontent-%COMP%]:focus + .registroForm__input_span[_ngcontent-%COMP%]{visibility:visible;opacity:1;transform:scale(1) translate(0)}.registroForm__input[_ngcontent-%COMP%]:focus ~ .registroForm__input_space[_ngcontent-%COMP%]{opacity:1}.registroForm__input[_ngcontent-%COMP%]::placeholder{color:#383838}.registroForm__input[_ngcontent-%COMP%]:focus::placeholder{opacity:0}.registroForm__input_span[_ngcontent-%COMP%]{font-family:"Nunito",sans-serif;font-weight:400;position:absolute;font-size:1.2rem;top:-10%;left:7.4%;opacity:0;visibility:hidden;padding:0 1rem;z-index:1;line-height:.56;transform:scale(1.5) translate(1.2rem,1.5rem);transition:transform .4s .1s ease-out,opacity .1s ease-out;color:#3f3f3f}.registroForm__input_space[_ngcontent-%COMP%]{background-color:#000;position:absolute;top:-1%;left:8%;height:1rem;opacity:0;z-index:0;display:block;transition:opacity .3s ease-out}.normal-space[_ngcontent-%COMP%]{width:49%}.small-space[_ngcontent-%COMP%]{width:43%}.extra-space[_ngcontent-%COMP%]{width:60%}.registroForm__input_cont[_ngcontent-%COMP%]{display:inline-block;position:relative}.isInvalid[_ngcontent-%COMP%]{transition:all .2s;border-left:5px solid #a94442}.isValid[_ngcontent-%COMP%]{transition:all .4s;border-left:5px solid #3f7e27}']}),s})();function RG(s,r){if(1&s&&(f.ynx(0),f._UZ(1,"app-input",5),f.BQk()),2&s){const i=r.$implicit,o=r.index,c=r.count,d=f.oxw();f.xp6(1),f.Q6J("name",i.name.toString())("type",i.type)("initialValue",i.initialValue)("placeholder",i.placeholder)("placeholderSpace",i.plcSpace)("bottomMargin",o===c-1?"0":"1.6")("fGroup",d.formRegistro)}}function OG(s,r){1&s&&(f.ynx(0),f.TgZ(1,"button",6),f.TgZ(2,"mat-icon",7),f._uU(3,"send"),f.qZA(),f.qZA(),f.BQk())}function kG(s,r){1&s&&(f.TgZ(0,"div",10),f.TgZ(1,"p"),f._uU(2,"Es requerido un nombre de usuario"),f.qZA(),f.qZA())}function NG(s,r){if(1&s&&(f.TgZ(0,"div"),f.YNc(1,kG,3,0,"div",9),f.qZA()),2&s){const i=f.oxw(2);f.xp6(1),f.Q6J("ngIf",null==i.usuarioCtrl.errors?null:i.usuarioCtrl.errors.required)}}function PG(s,r){1&s&&(f.TgZ(0,"div",12),f.TgZ(1,"p"),f._uU(2,"Es requerido un domicilio de usuario"),f.qZA(),f.qZA())}function FG(s,r){if(1&s&&(f.TgZ(0,"div"),f.YNc(1,PG,3,0,"div",11),f.qZA()),2&s){const i=f.oxw(2);f.xp6(1),f.Q6J("ngIf",null==i.domicilioCtrl.errors?null:i.domicilioCtrl.errors.required)}}function LG(s,r){1&s&&(f.TgZ(0,"div",14),f.TgZ(1,"p"),f._uU(2,"Es requerido un email de usuario"),f.qZA(),f.qZA())}function VG(s,r){if(1&s&&(f.TgZ(0,"div"),f.YNc(1,LG,3,0,"div",13),f.qZA()),2&s){const i=f.oxw(2);f.xp6(1),f.Q6J("ngIf",null==i.emailCtrl.errors?null:i.emailCtrl.errors.required)}}function BG(s,r){1&s&&(f.TgZ(0,"div",16),f.TgZ(1,"p"),f._uU(2,"Por favor ingrese un mail valido"),f.qZA(),f.qZA())}function UG(s,r){if(1&s&&(f.TgZ(0,"div"),f.YNc(1,BG,3,0,"div",15),f.qZA()),2&s){const i=f.oxw(2);f.xp6(1),f.Q6J("ngIf",null==i.emailCtrl.errors?null:i.emailCtrl.errors.email)}}function jG(s,r){1&s&&(f.TgZ(0,"p"),f._uU(1," Es requerido una contrase\xf1a de usuario "),f.qZA())}function HG(s,r){1&s&&(f.TgZ(0,"p"),f._uU(1," La contrase\xf1a debe tener al menos una mayuscula y una minuscula "),f.qZA())}function GG(s,r){1&s&&(f.TgZ(0,"p"),f._uU(1," La contrase\xf1a debe tener al menos 6 caracteres "),f.qZA())}function $G(s,r){if(1&s&&(f.TgZ(0,"div"),f.TgZ(1,"div",17),f.ynx(2,18),f.YNc(3,jG,2,0,"p",19),f.YNc(4,HG,2,0,"p",19),f.YNc(5,GG,2,0,"p",19),f.BQk(),f.qZA(),f.qZA()),2&s){const i=f.oxw(2);f.xp6(2),f.Q6J("ngSwitch",!0),f.xp6(1),f.Q6J("ngSwitchCase",i.contraseniaCtrl.hasError("required")),f.xp6(1),f.Q6J("ngSwitchCase",i.contraseniaCtrl.hasError("pattern")),f.xp6(1),f.Q6J("ngSwitchCase",i.contraseniaCtrl.hasError("minlength"))}}function zG(s,r){1&s&&(f.TgZ(0,"div"),f.TgZ(1,"div",20),f.TgZ(2,"p"),f._uU(3,"Las contrase\xf1as deben coincidir"),f.qZA(),f.qZA(),f.qZA())}function qG(s,r){if(1&s&&(f.YNc(0,NG,2,1,"div",8),f.YNc(1,FG,2,1,"div",8),f.YNc(2,VG,2,1,"div",8),f.YNc(3,UG,2,1,"div",8),f.YNc(4,$G,6,4,"div",8),f.YNc(5,zG,4,0,"div",8)),2&s){const i=f.oxw();f.Q6J("ngIf",i.usuarioCtrl.invalid&&i.usuarioCtrl.dirty),f.xp6(1),f.Q6J("ngIf",i.domicilioCtrl.invalid&&i.domicilioCtrl.dirty),f.xp6(1),f.Q6J("ngIf",i.emailCtrl.invalid&&i.emailCtrl.dirty),f.xp6(1),f.Q6J("ngIf",i.emailCtrl.invalid&&i.emailCtrl.touched),f.xp6(1),f.Q6J("ngIf",i.contraseniaCtrl.invalid&&i.contraseniaCtrl.dirty),f.xp6(1),f.Q6J("ngIf",i.confirmaContraseniaCtrl.touched&&(null==i.formRegistro.errors?null:i.formRegistro.errors.passwordNoCoincide))}}const ZG=[{name:"user",type:"text",placeholder:"Usuario o email",initialValue:"",validations:Sa.required,plcSpace:"normal"},{name:"password",type:"password",placeholder:"Contrase\xf1a",initialValue:"",validations:Sa.required,plcSpace:"extra"}];function YG(s,r){if(1&s&&(f.ynx(0),f._UZ(1,"app-input",4),f.BQk()),2&s){const i=r.$implicit,o=r.index,c=r.count,d=f.oxw();f.xp6(1),f.Q6J("name",i.name.toString())("type",i.type)("initialValue",i.initialValue)("placeholder",i.placeholder)("placeholderSpace",i.plcSpace)("bottomMargin",o===c-1?"0":"3")("fGroup",d.formLogin)}}const KG=[{path:"",component:U3},{path:"registro",component:(()=>{class s{constructor(i){this.fb=i,this.formDefinition={},this.fieldsDefinition=xG,this.fieldsDefinition.forEach(o=>this.formDefinition[o.name]=[o.initialValue,o.validations]),this.formRegistro=this.fb.group(this.formDefinition,{validators:j3})}ngOnInit(){}submit(){console.log(this.formRegistro.value)}get usuarioCtrl(){return this.formRegistro.get("usuario")}get domicilioCtrl(){return this.formRegistro.get("domicilio")}get emailCtrl(){return this.formRegistro.get("email")}get contraseniaCtrl(){return this.formRegistro.get("password")}get confirmaContraseniaCtrl(){return this.formRegistro.get("passwordConfirm")}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(y2))},s.\u0275cmp=f.Xpm({type:s,selectors:[["app-registro"]],decls:7,vars:4,consts:[["autocomplete","off",1,"registro",3,"formGroup","ngSubmit"],[1,"registro__title"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["elseBlock",""],[3,"name","type","initialValue","placeholder","placeholderSpace","bottomMargin","fGroup"],["type","submit","mat-fab","",1,"registro__button"],[1,"registro__button-icon"],[4,"ngIf"],["class","registro-error","style","top: 28%",4,"ngIf"],[1,"registro-error",2,"top","28%"],["style","top: 41%","class","registro-error",4,"ngIf"],[1,"registro-error",2,"top","41%"],["style","top: 54%","class","registro-error",4,"ngIf"],[1,"registro-error",2,"top","54%"],["style","top: 67%","class","registro-error",4,"ngIf"],[1,"registro-error",2,"top","67%"],[1,"registro-error",2,"top","66%"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"registro-error",2,"top","78%"]],template:function(i,o){if(1&i&&(f.TgZ(0,"form",0),f.NdJ("ngSubmit",function(){return o.submit()}),f.TgZ(1,"h2",1),f._uU(2,"Registro"),f.qZA(),f.YNc(3,RG,2,7,"ng-container",2),f.YNc(4,OG,4,0,"ng-container",3),f.YNc(5,qG,6,6,"ng-template",null,4,f.W1O),f.qZA()),2&i){const c=f.MAs(6);f.Q6J("formGroup",o.formRegistro),f.xp6(3),f.Q6J("ngForOf",o.fieldsDefinition),f.xp6(1),f.Q6J("ngIf","INVALID"!==o.formRegistro.status)("ngIfElse",c)}},directives:[g1,oA,vy,Yt,Jr,v2,Pc,Am,Xr,Sn],styles:['.registro[_ngcontent-%COMP%]{padding:1rem 0;display:flex;flex-direction:column;align-items:center}.registro__title[_ngcontent-%COMP%]{font-family:"PoiretOne",Arial,Helvetica,sans-serif;color:#7b4545;font-size:4.5rem;text-align:center;margin-bottom:5rem}.registro__button[_ngcontent-%COMP%]{background-color:transparent;color:#cfcfcf;border:2px solid rgb(207,207,207);box-sizing:content-box;padding:.5rem;position:absolute;top:50%;right:15%;animation:appearBtn 1.5s cubic-bezier(.075,.82,.165,1)}.registro__button[_ngcontent-%COMP%]:active{border:2px solid black;background-color:#fff;transition:all .2s}.registro__button-icon[_ngcontent-%COMP%]{font-size:2rem;margin-right:.2rem;margin-top:-.2rem}.registro__button[_ngcontent-%COMP%]:active   .registro__button-icon[_ngcontent-%COMP%]{color:#0c0c0c}.registro-error[_ngcontent-%COMP%]{color:red;font-size:1.2rem;margin-bottom:1rem;position:absolute;left:7%;width:14rem}@media (max-width: 60em){.registro-error[_ngcontent-%COMP%]{position:relative;margin:.7rem auto 0}}@keyframes appearBtn{0%{transform:scale(1.9);opacity:0}90%{transform:scale(1)}to{opacity:1}}']}),s})()},{path:"login",component:(()=>{class s{constructor(i){this.fb=i,this.fieldsDefinition=ZG,this.formDefinition={},this.fieldsDefinition.forEach(o=>this.formDefinition[o.name]=[o.initialValue,o.validations]),this.formLogin=this.fb.group(this.formDefinition)}ngOnInit(){}submit(){console.log(this.formLogin.value)}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(y2))},s.\u0275cmp=f.Xpm({type:s,selectors:[["app-login"]],decls:6,vars:3,consts:[[1,"login",3,"formGroup","ngSubmit"],[1,"login__title"],[4,"ngFor","ngForOf"],["mat-flat-button","",1,"boton__login",3,"disabled"],[3,"name","type","initialValue","placeholder","placeholderSpace","bottomMargin","fGroup"]],template:function(i,o){1&i&&(f.TgZ(0,"form",0),f.NdJ("ngSubmit",function(){return o.submit()}),f.TgZ(1,"h2",1),f._uU(2,"Login"),f.qZA(),f.YNc(3,YG,2,7,"ng-container",2),f.TgZ(4,"button",3),f._uU(5," Loguearme "),f.qZA(),f.qZA()),2&i&&(f.Q6J("formGroup",o.formLogin),f.xp6(3),f.Q6J("ngForOf",o.fieldsDefinition),f.xp6(1),f.Q6J("disabled","INVALID"===o.formLogin.status))},directives:[g1,oA,vy,Yt,Pc,v2],styles:['.login[_ngcontent-%COMP%]{padding:1rem 0;display:flex;height:80%;flex-direction:column;align-items:center;justify-content:center;margin:0 auto}.login__title[_ngcontent-%COMP%]{font-family:"PoiretOne",Arial,Helvetica,sans-serif;color:#7b4545;font-size:4.5rem;text-align:center;margin-bottom:5rem}.boton__login[_ngcontent-%COMP%]{display:block;margin:3rem auto 0;background-color:#2c1228;box-shadow:0 0 1rem #25051a;padding:.5rem 3.5rem;font-size:1.4rem;color:#000;transform:translateY(-2px);transition:all .5s}.boton__login[_ngcontent-%COMP%]:enabled:hover{background-color:#362727;transform:translateY(-3px);color:#bfa7a7;box-shadow:0 0 3rem #1f011b,0 0 3rem #1f011b;background-color:#840271}.boton__login[_ngcontent-%COMP%]:disabled{transform:translateY(0);background-color:#080708;box-shadow:unset}']}),s})()},{path:"detalle/:id",component:N3},{path:"**",component:yT}];let QG=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({imports:[[Ed.forRoot(KG)],Ed]}),s})();var b2=V(4762);class XG{constructor(r,i,o,c){this.keySelector=r,this.elementSelector=i,this.durationSelector=o,this.subjectSelector=c}call(r,i){return i.subscribe(new e$(r,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class e$ extends rr.L{constructor(r,i,o,c,d){super(r),this.keySelector=i,this.elementSelector=o,this.durationSelector=c,this.subjectSelector=d,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(r){let i;try{i=this.keySelector(r)}catch(o){return void this.error(o)}this._group(r,i)}_group(r,i){let o=this.groups;o||(o=this.groups=new Map);let d,c=o.get(i);if(this.elementSelector)try{d=this.elementSelector(r)}catch(m){this.error(m)}else d=r;if(!c){c=this.subjectSelector?this.subjectSelector():new Ot.xQ,o.set(i,c);const m=new E2(i,c,this);if(this.destination.next(m),this.durationSelector){let v;try{v=this.durationSelector(new E2(i,c))}catch(S){return void this.error(S)}this.add(v.subscribe(new t$(i,c,this)))}}c.closed||c.next(d)}_error(r){const i=this.groups;i&&(i.forEach((o,c)=>{o.error(r)}),i.clear()),this.destination.error(r)}_complete(){const r=this.groups;r&&(r.forEach((i,o)=>{i.complete()}),r.clear()),this.destination.complete()}removeGroup(r){this.groups.delete(r)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class t$ extends rr.L{constructor(r,i,o){super(i),this.key=r,this.group=i,this.parent=o}_next(r){this.complete()}_unsubscribe(){const{parent:r,key:i}=this;this.key=this.parent=null,r&&r.removeGroup(i)}}class E2 extends qn.y{constructor(r,i,o){super(),this.key=r,this.groupSubject=i,this.refCountSubscription=o}_subscribe(r){const i=new Os.w,{refCountSubscription:o,groupSubject:c}=this;return o&&!o.closed&&i.add(new n$(o)),i.add(c.subscribe(r)),i}}class n$ extends Os.w{constructor(r){super(),this.parent=r,r.count++}unsubscribe(){const r=this.parent;!r.closed&&!this.closed&&(super.unsubscribe(),r.count-=1,0===r.count&&r.attemptedToUnsubscribe&&r.unsubscribe())}}var r$=V(9534);const s$=new f.OlP("angularfire2.analytics.analyticsCollectionEnabled"),o$=new f.OlP("angularfire2.analytics.appVersion"),a$=new f.OlP("angularfire2.analytics.appName"),l$=new f.OlP("angularfire2.analytics.debugMode"),c$=new f.OlP("angularfire2.analytics.config"),fA="dataLayer";let t0=(()=>{class s{constructor(i,o,c,d,m,v,S,D,x){if(this.analyticsInitialized=new Promise(()=>{}),br(S)){window[fA]=window[fA]||[];const j=(...ye)=>"config"===ye[0]&&"firebase"===ye[2].origin&&(this.measurementId=ye[1],!0),H=ye=>{window.gtag=(...Re)=>{ye&&ye(...Re),"event"===Re[0]&&Re[2].send_to===this.measurementId&&(d&&(Re[2].app_name=d),c&&(Re[2].app_version=c)),m&&"undefined"!=typeof console&&console.info(...Re),function(...Ge){window[fA].push(arguments)}(...Re)}};window[fA].some(j)?(this.analyticsInitialized=Promise.resolve(),H()):this.analyticsInitialized=new Promise(ye=>{H((...Re)=>{j(...Re)&&ye()})}),v&&this.updateConfig(v),m&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const k=(0,Xe.of)(void 0).pipe((0,uo.QV)(x.outsideAngular),bn(r$.Gb),bn(j=>j?D.runOutsideAngular(()=>V.e(399).then(V.bind(V,399))):Vr.E),(0,bt.U)(()=>(0,gr.cc)("analytics","AngularFireAnalytics",i.name,()=>{const j=i.analytics();return!1===o&&j.setAnalyticsCollectionEnabled(!1),j},[i,o,v,m])),Zf({bufferSize:1,refCount:!1}));return(0,as.pX)(this,k,D)}updateConfig(i){return(0,b2.mG)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},i),{update:!0}))})}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(as.Ot),f.LFG(s$,8),f.LFG(o$,8),f.LFG(a$,8),f.LFG(l$,8),f.LFG(c$,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(gr.HU))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac,providedIn:"any"}),s})(),C2=(()=>{class s{constructor(i,o,c,d){if(this.disposables=[],Ra(o))this.initialized=Promise.resolve();else{let m;this.initialized=d.runOutsideAngular(()=>new Promise(v=>m=v)),this.disposables=[c.authState.subscribe(v=>{i.setUserId(null==v?void 0:v.uid),m()}),c.credential.subscribe(v=>{if(v){const S=v.user.isAnonymous?"anonymous":v.additionalUserInfo.providerId;v.additionalUserInfo.isNewUser&&i.logEvent("sign_up",{method:S}),i.logEvent("login",{method:S})}})]}}ngOnDestroy(){this.disposables.forEach(i=>i.unsubscribe())}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(t0),f.LFG(f.Lbi),f.LFG(XN),f.LFG(f.R0b))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();const S2="firebase_screen_id",C1="outlet",n0="screen_class",I2="screen_name";let T$=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const S1={},D$=s=>{const r=[s[n0],s[C1]].join("#");if(S1.hasOwnProperty(r))return S1[r];{const i=T$++;return S1[r]=i,i}};let A$=(()=>{class s{constructor(i,o,c,d,m,v,S){if(!o||!br(m))return this;v.runOutsideAngular(()=>{const D=o.events.pipe(Ir(x=>x instanceof Eb));this.disposable=D.pipe(bn(x=>{var k;const H=(null===(k=o.parseUrl(o.url.replace(/(?:\().+(?:\))/g,Qe=>Qe.replace("://",":///"))).root.children[x.snapshot.outlet])||void 0===k?void 0:k.toString())||"",X=o.routerState.root.children.map(Qe=>Qe).find(Qe=>Qe.outlet===x.snapshot.outlet);if(!X)return(0,Xe.of)(null);let ye=X;for(;ye.firstChild;)ye=ye.firstChild;const Re=ye.pathFromRoot.map(Qe=>{var mt;return null===(mt=Qe.routeConfig)||void 0===mt?void 0:mt.path}).filter(Qe=>Qe).join("/")||"/",Ge={[I2]:Re,page_path:`/${H}`,firebase_event_origin:"auto",firebase_screen:Re,[C1]:x.snapshot.outlet};c&&(Ge.page_title=c.getTitle());let Ye=X.component;if(Ye){if(Ye===Ub){let Qe=x.snapshot;for(;Qe.firstChild;)Qe=Qe.firstChild;Ye=Qe.component}}else Ye=x.snapshot.component;if("string"==typeof Ye)return(0,Xe.of)(Object.assign(Object.assign({},Ge),{[n0]:Ye}));if(Ye){const Qe=d.resolveComponentFactory(Ye);return(0,Xe.of)(Object.assign(Object.assign({},Ge),{[n0]:Qe.selector}))}return(0,Xe.of)(null)}),Ir(x=>x),(0,bt.U)(x=>Object.assign({firebase_screen_class:x[n0],[S2]:D$(x)},x)),function(s,r,i,o){return c=>c.lift(new XG(s,undefined,undefined,undefined))}(x=>x[C1]),(0,yi.zg)(x=>x.pipe(Is((k,j)=>JSON.stringify(k)===JSON.stringify(j)),Js(void 0),Wf(),(0,bt.U)(([k,j])=>k?Object.assign({firebase_previous_class:k[n0],firebase_previous_screen:k[I2],firebase_previous_id:k[S2]},j):j),bn(k=>(0,b2.mG)(this,void 0,void 0,function*(){return S&&(yield S.initialized),yield i.logEvent("screen_view",k)}))))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(t0),f.LFG(ai,8),f.LFG(ea,8),f.LFG(f._Vd),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(C2,8))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})(),M$=(()=>{class s{constructor(i,o,c){i.app.then(()=>{})}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(t0),f.LFG(A$,8),f.LFG(C2,8))},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({providers:[t0]}),s})();const T2_firebaseConfig={apiKey:"AIzaSyCFwVkAXtJ7SxvZSOeSlEM4kHR02kMXBRo",authDomain:"angularutn-ed18b.firebaseapp.com",projectId:"angularutn-ed18b",storageBucket:"angularutn-ed18b.appspot.com",messagingSenderId:"182835672731",appId:"1:182835672731:web:1731f670a3aecf89ce783e",measurementId:"G-PKKF9H5VEC"};let x$=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=f.oAB({type:s,bootstrap:[DR]}),s.\u0275inj=f.cJS({providers:[],imports:[[Ga,QG,$v,ld,Jv,_S,jI,xP,bE,_T,KI,as.hO.initializeApp(T2_firebaseConfig),S3,M$,_2]]}),s})();(0,f.G48)(),Ql().bootstrapModule(x$).catch(s=>console.error(s))},4762:(et,Oe,V)=>{"use strict";V.d(Oe,{ZT:()=>fe,pi:()=>G,_T:()=>ie,mG:()=>re,Jh:()=>Y,XA:()=>F,CR:()=>Q,ev:()=>ve});var f=function(we,ge){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ae,De){Ae.__proto__=De}||function(Ae,De){for(var Ce in De)Object.prototype.hasOwnProperty.call(De,Ce)&&(Ae[Ce]=De[Ce])})(we,ge)};function fe(we,ge){if("function"!=typeof ge&&null!==ge)throw new TypeError("Class extends value "+String(ge)+" is not a constructor or null");function Ae(){this.constructor=we}f(we,ge),we.prototype=null===ge?Object.create(ge):(Ae.prototype=ge.prototype,new Ae)}var G=function(){return(G=Object.assign||function(ge){for(var Ae,De=1,Ce=arguments.length;De<Ce;De++)for(var ce in Ae=arguments[De])Object.prototype.hasOwnProperty.call(Ae,ce)&&(ge[ce]=Ae[ce]);return ge}).apply(this,arguments)};function ie(we,ge){var Ae={};for(var De in we)Object.prototype.hasOwnProperty.call(we,De)&&ge.indexOf(De)<0&&(Ae[De]=we[De]);if(null!=we&&"function"==typeof Object.getOwnPropertySymbols){var Ce=0;for(De=Object.getOwnPropertySymbols(we);Ce<De.length;Ce++)ge.indexOf(De[Ce])<0&&Object.prototype.propertyIsEnumerable.call(we,De[Ce])&&(Ae[De[Ce]]=we[De[Ce]])}return Ae}function re(we,ge,Ae,De){return new(Ae||(Ae=Promise))(function(ce,$e){function dt(_t){try{ut(De.next(_t))}catch(ht){$e(ht)}}function en(_t){try{ut(De.throw(_t))}catch(ht){$e(ht)}}function ut(_t){_t.done?ce(_t.value):function(ce){return ce instanceof Ae?ce:new Ae(function($e){$e(ce)})}(_t.value).then(dt,en)}ut((De=De.apply(we,ge||[])).next())})}function Y(we,ge){var De,Ce,ce,$e,Ae={label:0,sent:function(){if(1&ce[0])throw ce[1];return ce[1]},trys:[],ops:[]};return $e={next:dt(0),throw:dt(1),return:dt(2)},"function"==typeof Symbol&&($e[Symbol.iterator]=function(){return this}),$e;function dt(ut){return function(_t){return function(ut){if(De)throw new TypeError("Generator is already executing.");for(;Ae;)try{if(De=1,Ce&&(ce=2&ut[0]?Ce.return:ut[0]?Ce.throw||((ce=Ce.return)&&ce.call(Ce),0):Ce.next)&&!(ce=ce.call(Ce,ut[1])).done)return ce;switch(Ce=0,ce&&(ut=[2&ut[0],ce.value]),ut[0]){case 0:case 1:ce=ut;break;case 4:return Ae.label++,{value:ut[1],done:!1};case 5:Ae.label++,Ce=ut[1],ut=[0];continue;case 7:ut=Ae.ops.pop(),Ae.trys.pop();continue;default:if(!(ce=(ce=Ae.trys).length>0&&ce[ce.length-1])&&(6===ut[0]||2===ut[0])){Ae=0;continue}if(3===ut[0]&&(!ce||ut[1]>ce[0]&&ut[1]<ce[3])){Ae.label=ut[1];break}if(6===ut[0]&&Ae.label<ce[1]){Ae.label=ce[1],ce=ut;break}if(ce&&Ae.label<ce[2]){Ae.label=ce[2],Ae.ops.push(ut);break}ce[2]&&Ae.ops.pop(),Ae.trys.pop();continue}ut=ge.call(we,Ae)}catch(_t){ut=[6,_t],Ce=0}finally{De=ce=0}if(5&ut[0])throw ut[1];return{value:ut[0]?ut[1]:void 0,done:!0}}([ut,_t])}}}function F(we){var ge="function"==typeof Symbol&&Symbol.iterator,Ae=ge&&we[ge],De=0;if(Ae)return Ae.call(we);if(we&&"number"==typeof we.length)return{next:function(){return we&&De>=we.length&&(we=void 0),{value:we&&we[De++],done:!we}}};throw new TypeError(ge?"Object is not iterable.":"Symbol.iterator is not defined.")}function Q(we,ge){var Ae="function"==typeof Symbol&&we[Symbol.iterator];if(!Ae)return we;var Ce,$e,De=Ae.call(we),ce=[];try{for(;(void 0===ge||ge-- >0)&&!(Ce=De.next()).done;)ce.push(Ce.value)}catch(dt){$e={error:dt}}finally{try{Ce&&!Ce.done&&(Ae=De.return)&&Ae.call(De)}finally{if($e)throw $e.error}}return ce}function ve(we,ge,Ae){if(Ae||2===arguments.length)for(var ce,De=0,Ce=ge.length;De<Ce;De++)(ce||!(De in ge))&&(ce||(ce=Array.prototype.slice.call(ge,0,De)),ce[De]=ge[De]);return we.concat(ce||Array.prototype.slice.call(ge))}},8239:(et,Oe,V)=>{"use strict";function f(G,ie,_e,ee,oe,re,Y){try{var U=G[re](Y),K=U.value}catch(F){return void _e(F)}U.done?ie(K):Promise.resolve(K).then(ee,oe)}function fe(G){return function(){var ie=this,_e=arguments;return new Promise(function(ee,oe){var re=G.apply(ie,_e);function Y(K){f(re,ee,oe,Y,U,"next",K)}function U(K){f(re,ee,oe,Y,U,"throw",K)}Y(void 0)})}}V.d(Oe,{Z:()=>fe})}},et=>{et(et.s=17)}]);